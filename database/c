"Frees" a bc_num NUM.
'New_Tai_Lue': Script
'Old_Persian': Script
(Can't trust DBL_MAX)
(c) 2009 Jerome Loyet
*********** Helpers *
0 for no malloc usage
1 for STAT3 or STAT4.
1-byte signed integer
11xxxxxx begins UTF-8
2-byte signed integer
3*nCol*nPhrase values
3-byte signed integer
32 bits of new offset
32-bit is the default
4 if pPage is a leaf.
4-byte signed integer
6-byte signed integer
8-byte signed integer
@return zval* Number.
A record being sorted
AND (...)" expression
ARRAY_INFO(0, arg, 0)
ARRAY_INFO(0, arg, 1)
ARRAY_INFO(0, env, 1)
ARRAY_INFO(1, arg, 0)
Abandon the tree walk
Acquire a shared lock
Add registry location
Add the "eNNN" suffix
Address size override
Advance past the item
All CHECK constraints
All keys are integers
All set, let's do it.
Allocate a new cache.
Allocate a new rowid.
Allocate k new pages.
Allocate memory block
Allocate the buffers.
Allocate the iterator
Allocated stack size.
Alpha/Numeric Quoting
Also lowercases them.
Always zero histogram
An FTS5_CONTENT value
An empty option name.
And the array itself.
Append to this buffer
Argument is forbidden
Argument is mandatory
Array for subpatterns
Array of column names
Array of parsed cells
Array of phrase freq.
Array of size nPhrase
Assert captures then.
Assert is successful.
Assign a cost of 1.0.
Associated FTS5 index
At least for glibc6.1
Authorization context
Available by default.
BEL BS HT LF VT FF CR
Basic ripemd function
Begin file btreeInt.h
Begin file callback.c
Begin file complete.c
Begin file fts3_aux.c
Begin file fts3_icu.c
Begin file os_setup.h
Begin file tokenize.c
Begin file treeview.c
Begin file vdbeblob.c
Begin file vdbesort.c
Begin file whereInt.h
Begin rotate function
Bitmap representation
Both formats are cool
Break out of for loop
Bytes of data to read
CLASS, NCLASS, XCLASS
Change a page number.
Check all the tables.
Check for class alias
Check threshold value
Close the RBU handle.
Commented out for now
Compute mean elements
Condition (1) is true
Configured cache size
Content of this chunk
Content to be written
Convenient short-hand
Convert to upper case
Convert to utf8 then.
Cookie value to store
Cool, but some flaws.
Count leading zeroes.
Create imm by 1 inst.
Create imm by 2 inst.
Current 'rowid' value
Current 'start' value
Current 'token' value
Current parse context
Current position list
Currently in a VACUUM
Cursor to scan b-tree
Custom merge operator
D800-DFFF Surrogates.
DEFINE - always false
Data actually written
Database idx for pTab
Database name or NULL
Database of the table
Decrement error limit
Delete the last value
Desired text encoding
Destination page size
Destroy all op arrays
Destroy stream hashes
Destroy super-globals
Different sort orders
Digest authentication
Directory sync needed
Disable mutex on core
Do a quick self-test.
Do constraint checks.
Do not do auto-vacuum
Do the binary search.
Does not check begin.
Double to fixed point
Drop the stack frame.
Dump contents of Node
Duplicate names exist
Either "tbl" or "idx"
Empty output segment.
Enable load_extension
Encoding for the data
End mark for a varint
End non-truncate path
End of class handling
End of fts3_snippet.c
End of fts3_unicode.c
End of pcre_compile.c
End of pcre_globals.c
End of pcre_newline.c
End of pcre_version.c
End of processing '('
End temporary aliases
FIXME: numeric string
FROM t2) ORDER BY ...
FTS5_TOKENIZE_* flags
FTS5_VOCAB_COL or ROW
False for a read lock
False for json_each()
False to omit journal
Figure this out later
Find SCC entry points
Find our first letter
Finite column numbers
First, compare signs.
Fixed point to double
For chaining headers.
For connection option
For pcretest program.
For pg_connect_poll()
For shared-cache mode
Format string for SQL
Found verb, exit loop
Free a dynamic mutex.
Free allocated memory
Free any memory held.
Free last row's zvals
Free the connection p
Function call context
Function return value
GIF Specific routines
Get nautical twilight
Get number of septets
Get our own host name
Grab the cookie value
Guard word for sanity
Halt if out of errors
Halt the sub-program.
Handle it better way.
Handle request method
Here comes the reason
How to write to Queue
IN/OUT: Docid pointer
IN/OUT: Integer value
IN/OUT: Position list
If not,  return NULL.
If not, return FALSE.
If search is an array
Index into aSub array
Index into input list
Initial cost estimate
Initial working space
Initialize the buffer
Input character index
Input string argument
Insert the new sample
JIS X 0212 hojo-kanji
JavaScript/CSS/etc...
KeySize() cannot fail
Language-id to search
Last one doesn't nest
Last walked character
Left hand serial type
Left-hand Fts5SegIter
Length of the keyword
Let's check for this.
Levels of indentation
List of frames to log
Lists of free blocks.
Locate a VFS by name.
Loop over all indices
Loop termination flag
MYSQLND specific code
Make compilers happy.
Mask of affinity bits
Mask of trigger times
Maximum string length
Merge equal constants
MySQL Native Password
N File already exists
NN, End of codestream
NO NEED, for valgrind
NOTPLUSI, NOTMINPLUSI
NOTQUERY, NOTMINQUERY
NOTSTARI, NOTMINSTARI
NOTUPTOI, NOTMINUPTOI
NULL if there is none
NULL-terminate values
Name of content table
Name of database file
Name of file to check
Name of rank function
Name of the database.
Name of the function.
Name of the open file
Name of this database
Named POSIX semaphore
Never has other case.
New slots are zeroed.
Next available cursor
Next in the link-list
Next unread data byte
Non-capturing bracket
None of them matched.
Normalize the address
Not a compound SELECT
Not a duplicated name
Not previously opened
Note negative special
Now get the read-lock
Number of child nodes
Number of coordinates
Number of errors seen
Number of key columns
Number of labels used
Number of nested loop
Number of sign chars.
OCaml: Fsnotify.fsenv
OUT: End-of-file flag
OUT: Malloc'd doclist
OUT: New merge-engine
OUT: Results of parse
OUT: SQLite db handle
OUT: Set for new term
OUT: Statement handle
Offset to stack base.
Offset within poslist
Olympus specific tags
On to the metaphoning
One-time test address
Open a database file.
Open destination file
Open the output file.
Operand size override
Optimal text encoding
Or no rows otherwise.
Otherwise, SQLITE_OK.
P1 is a boolean flag.
PCRE specific options
PROT_AUTH_RESP_PACKET
Pad block to 56 bytes
Pad state to finalize
Page number to obtain
PmaReader to populate
Pointer map page data
Pointer to allocation
Pointer to child node
Pointer to hash table
Pointer to next docid
Pointer to vfs object
Prepare variable name
RESULT char* or NULL.
Really a cast to BLOB
Record where we ended
Refine the salt first
Register destination.
Register to copy from
Rename an fts3 table.
Rename an fts5 table.
Report the old value.
Required mapping size
Reseting/initializing
Result of replacement
Result of strlen(zDb)
Results are not equal
Return TRUE to retry.
Return an error code.
Return global server.
Return merged result.
Return true or false.
Return value - unused
Return value in TMP1.
Root page of PK index
Run the actual search
SETUP-INVARIANT above
SLJIT_ARGUMENT_CHECKS
SLJIT_SINGLE_THREADED
SQLITE_ENABLE_MEMSYS3
SQLITE_ENABLE_MEMSYS5
SQLITE_MUTEX_PTHREADS
SQLITE_OMIT_GET_TABLE
SQLITE_OMIT_LOCALTIME
SQLITE_OMIT_LOOKASIDE
SQLITE_OS_WIN_THREADS
SQLITE_PRINTF_* flags
SQLITE_WIN32_HAS_ANSI
SYSTEM RAND FUNCTIONS
Same input and output
Save the S registers.
Score of best snippet
Score of this snippet
See also: CreateIndex
See getput_arg below.
Seg-reader is at EOF.
Segment reader object
Set callback function
Set default precision
Set some CLI defaults
Set up line thickness
Set up the iteration.
Setup default context
Since I'm too lazy to
Single back reference
Size of term in bytes
Size of the free slot
Size of zDoc in bytes
So copy it in one go.
So we're safe enough.
Sort specified array.
Sorting index number.
Start offset in pFile
Start offset of token
Stop if out of errors
Store file date/time.
Store it if requested
Store state in digest
Struct for parameters
Struct for properties
Struct for type hints
Subtract the numbers.
Sum of the nEq values
Sun's Right Ascension
Sun's apparent radius
System (OS) functions
TODO: not ts on linux
TYPEPLUS, TYPEMINPLUS
TYPESTAR, TYPEMINSTAR
TYPEUPTO, TYPEMINUPTO
Tediously free stuff.
Terminate the string.
Test for divide by 1.
The  x  subexpression
The Hangul syllables.
The LIMIT expression.
The PRIMARY KEY index
The Private Use area.
The WhereLoop builder
The WhereLoop factory
The associated pager.
The auto-commit flag.
The cache to truncate
The checksum is wrong
The comparison opcode
The database encoding
The database of pDest
The hashing function.
The i-th cell pointer
The initial code size
The last token parsed
The lookahead symbol.
The main static mutex
The multiply routine.
The new virtual table
The pH to be searched
The progress callback
The term being tested
The thread identifier
The triggered program
The two journal files
The xShmUnmap method.
Then our magic string
This is not suported.
This is often faster.
This is usually safe.
This should not occur
Thumb immediate form.
To get stack address.
To reset column cache
Top of the co-routine
Top of the input loop
True for ORDER BY ASC
True for a write lock
True for json_tree().
True if ORDER BY rank
True to count changes
True to trace changes
Unconditional branch.
Unknown encode/decode
Unlock a file region.
Unrecognized argument
Unsigned loop counter
Unsigned right shift.
Update number of bits
Usable bytes per page
Use at your own risk.
Use native byte order
Use the entire master
Value for "idx" field
Variable to be pushed
Various PAGER_* flags
Vdbe being configured
Virtual-table object.
WAL savepoint context
WHERE analyse context
Where to jump back to
Which is undesirable.
Won't be implemented.
Write new cursor here
Write the byte count.
Write the result here
XXX: Crash avoidance.
Zero extended number.
add final zero blocks
add the event to port
advance a whole UTF-8
allocate server data.
allow room for a NUL.
already an empty val.
append to linked list
assume tar-based phar
assume zip-based phar
autoseek for resuming
average string length
avoided by normal-POP
back to blocking mode
bind hdl (will alloc)
break possible cycles
btreeParseCell method
call the mkdir method
call the rmdir method
canonicalize lang_tag
chartable partial dup
check size limitation
class type hinting...
clip if out of bounds
clone internal object
close data connection
close the transaction
comment, do not parse
compare element names
convert to unix epoch
create convert filter
creating segment here
cross your fingers...
dbcs/qbcs second byte
defined in browscap.c
delay signal handling
deserialize functions
do nothing to keep BC
doesn't match pattern
don't free the string
double byte character
effectively, no limit
element doesn't exist
end must not be NULL.
end of if isCanonical
end of virtual stack.
endif aggregate query
execute the statement
expat specific errors
expect a single value
expecting a delimiter
feed it to the parser
file error after info
fill buffer if needed
fill the param buffer
find antialised color
fire triggered events
first look for argnum
flag ASCII delimiters
floating point string
floor it just in case
for OCIFetchStatement
for all oci_fetch_*()
for each modification
free cached manifests
free formatted prompt
fts5YYNOERRORRECOVERY
functions from file.c
functions from ftok.c
functions from mail.c
functions from pack.c
functions from type.c
get number of columns
get rid of old values
getenv("USERPROFILE")
got 0x8e,  first char
got 0x8e,  third char
grow buffer if needed
h points to the first
handle for the server
handled by normal-POP
iStart is zero based.
iconv supports errno.
if non-existent field
ignore RECV_* opcodes
increment entry count
index entries counter
init kqueue and stuff
init to max poss dist
init value containers
initialize the stack.
interned empty string
invalidate phar cache
isn't NULL terminated
keep it somewhat sane
key1 must be present.
last_id not supported
length excluding ipv4
link in the mh driver
list of unused chunks
logical database name
look for byref params
mark run as allocated
meot (hundreads) case
miserable CBW or CWDE
multi-line assignment
need a brand new pdbh
need to work in utf16
needed for PG_VERSION
new-style file upload
no controls right now
no digits, fcvt style
no more buffered data
no more data to fetch
no need to add source
no search prefetching
not a real definition
not defined elsewhere
not in event loop yet
now call the function
now we are good to go
null terminate buffer
old non-POSIX version
only free up to i - 1
open the data channel
pPage is a leaf node.
part before the match
per-script activation
perform sanity check.
pg_attribute.attndims
php.ini path override
pointers to fragments
possible request loss
pre-fetch the element
prepare the statement
process run of digits
put parsing code here
raise default handler
re-register the event
reasonable circa 2006
reduce size if needed
register the constant
release the statement
relink to top of list
remove the client bit
resolve relative path
restore after zeroing
restricted ASYNC_SAFE
return code (ignored)
return to NORMAL mode
runtime failure is OK
save away the results
search start position
see getput_arg below.
send the site command
sequence is too large
server info arguments
set execution context
set to largest number
silly namespace stuff
single byte character
size of data in bytes
size of each fragment
skip allocated blocks
skip empty live range
skip internal handler
skip leading newlines
skip rest of preamble
something went wrong.
stack type check mask
start Zend extensions
start the transaction
stores the lock state
strip the inside NOPs
suppose binary format
switch to global conf
synopsis: Start at P2
tack on extra headers
term sans prefix-byte
test multiple returns
text of name of TABLE
the "Domincal number"
the function pointers
then nEq is set to 0.
these are not needed.
this a jis kanji char
to the following byte
transfar text charset
transform glyph image
trigger POLLIN events
triple byte character
unblock interruptions
unmatched parentheses
unsupported encoding"
update branch targets
update brk/cont array
use to specify stdin.
user time of children
uses mmap if possible
we allocate from here
we processed messages
when PCRE_UCP is set.
where new box will go
write the signed data
xOpen - open a cursor
zNum must be decimal.
zip or tar-based phar
", " separated matches
'Cc': General Category
'Cf': General Category
'Cn': General Category
'Co': General Category
'Cs': General Category
'Ll': General Category
'Lm': General Category
'Lo': General Category
'Lt': General Category
'Lu': General Category
'Mc': General Category
'Me': General Category
'Mn': General Category
'Nd': General Category
'Nl': General Category
'No': General Category
'Pc': General Category
'Pd': General Category
'Pe': General Category
'Pf': General Category
'Pi': General Category
'Po': General Category
'Ps': General Category
'Sc': General Category
'Sk': General Category
'Sm': General Category
'So': General Category
'Syloti_Nagri': Script
'Zl': General Category
'Zp': General Category
'Zs': General Category
(**)  Not implemented.
(*VERB) not recognized
(OOM errors excepted.)
+ 1 is for the command
-- Parameter checks --
-ve means no antialias
0 for trigger or view.
0 means falls through.
2 byte code first char
A "special" INSERT op.
A list of expressions.
A table interior node.
AFTER ALL ABOVE FAILED
ARRAY_INFO(0, arg1, 0)
ARRAY_INFO(0, arg2, 0)
ARRAY_INFO(0, args, 1)
ARRAY_INFO(0, keys, 0)
ARRAY_INFO(0, opts, 1)
ARRAY_INFO(1, info, 1)
Absolute level to open
Academic Press, 1991).
Accelerator statistics
Acquire a PENDING lock
Acquire a reader lock.
Add MARK, if available
Add a FD to the fd set
Add any overflow cells
Add cwd (not with CLI)
Add the fraction part.
Address of "next_row:"
Address of OP_FkIfZero
Address of this block.
Address of top of loop
Adjust for zero repeat
Adjust sum and return.
Advance to next branch
Aliases for StringPrep
All are quite obscure.
All jumps have target.
All lists are dynamic.
Allocate memory for it
Allocate shared memory
Allocate space for key
Allocated index object
Allow for transparency
Always the first entry
An SQL parser context.
An SQLITE_NOMEM error.
An error has occurred.
And so on up the tree.
Anything else counts 1
Argument to the thread
Arguments are swapped.
Arguments of yyformat.
Array of page numbers.
ArrayIterator specific
Astronomical functions
Authorize the subquery
Auxiliary data storage
Available since 7.10.6
Available since 7.10.7
Available since 7.10.8
Available since 7.11.0
Available since 7.11.2
Available since 7.12.0
Available since 7.12.2
Available since 7.12.3
Available since 7.13.0
Available since 7.14.1
Available since 7.15.0
Available since 7.15.1
Available since 7.15.2
Available since 7.15.3
Available since 7.15.4
Available since 7.15.5
Available since 7.16.0
Available since 7.16.1
Available since 7.16.2
Available since 7.16.3
Available since 7.16.4
Available since 7.17.0
Available since 7.17.1
Available since 7.18.0
Available since 7.18.2
Available since 7.19.0
Available since 7.19.1
Available since 7.19.3
Available since 7.19.4
Available since 7.19.6
Available since 7.20.0
Available since 7.21.0
Available since 7.21.2
Available since 7.21.3
Available since 7.21.4
Available since 7.21.6
Available since 7.22.0
Available since 7.24.0
Available since 7.25.0
Available since 7.25.1
Available since 7.28.0
Available since 7.30.0
Available since 7.31.0
Available since 7.32.1
Available since 7.33.0
Available since 7.34.0
Available since 7.36.0
Available since 7.37.0
Available since 7.38.0
Available since 7.39.0
Available since 7.40.0
Available since 7.41.0
Available since 7.42.0
Available since 7.43.0
Available since 7.44.0
Available since 7.45.0
Available since 7.46.0
Available since 7.47.0
Available since 7.48.0
Available since 7.49.0
Avoid compiler warning
BZip2 Resource Pointer
Begin file fts3_expr.c
Begin file fts3_hash.c
Begin file fts3_hash.h
Begin file mutex_w32.c
Begin file os_common.h
Begin file sqliteInt.h
Begin file sqliteicu.h
Begin file vdbetrace.c
Begin file wherecode.c
Begin file whereexpr.c
Begin filters function
Begin generating code.
Big-endian salt values
Block id for new block
Bounding box for pNode
Buffer containing term
Buffer overflow attack
Buffer remaining input
Builds on Solaris x86.
But that could change.
Byte available in aRow
Bytes of data in aData
Bytes of local payload
CONVERSIONS for msghdr
CR_Canadian_Aboriginal
Calculate final scale.
Calling thread context
Carry from low to high
Carry on at this level
Cells of the Hashtable
Check destination file
Coding style component
Collect bit depth info
Column affinity types.
Column names to return
Column term appears in
Column-list terminator
Component registration
Condition (a) is true.
Constraining operation
Container of this cell
Contents of table pTab
Copy Btree meta values
Copy over the row data
Copy the source image.
Create a new tokenizer
Create a process group
Create the custom VFS.
Curl version constants
Current OR clause term
Current index in aLeft
DISTINCT using indexes
Data yet to be written
DataSize() cannot fail
Database to be rekeyed
Datetime encode/decode
Default is still text.
Delete an entire VDBE.
Delete the first value
Delete the named file.
Description of segment
Desired snippet length
Destroy the input bind
Device characteristics
Disaster would follow.
Dithering, 256 colors.
Docid for current row.
Docid for entry to add
Drop the shadow tables
Eat leading whitespace
Enable server-side SNI
End of fts3_unicode2.c
End of othercase range
End of pcre_fullinfo.c
End of pcre_ord2utf8.c
End of pcre_refcount.c
Error msg written here
Errors accumulate here
Everything else after.
Existing colset object
Expr.op is the opcode.
Expression to consider
Expression to resolve.
Extend the last range.
FIX ME ADD CLONE STUFF
FK constraints this VM
FTS5 mask for idxFlags
FTS5_STMT_XXX constant
FULLWIDTH HYPHEN-MINUS
Fast loads and stores.
Faster than pcre_uchar
Fetch collator object.
File descriptor object
File upload successful
File-system block size
Fill in this structure
Final block of segment
Final leaf to traverse
First byte of the Cell
First leaf to traverse
First term on new page
First token of snippet
First token to include
First try gdRealloc().
Fixed point to integer
Flood with light blue.
For looping over pList
For looping over pages
For possible last char
For use by application
Force config.h in z/OS
Foreign key constraint
Found a non empty slot
Freetype 2.1 or better
Full-text index search
Full-text table handle
GD2 image format types
Get the argument count
Get value of parameter
Global error handling.
Handle negative offset
Handle type for pages.
Has no GROUP BY clause
Hint blob to append to
How to allocate space.
How to compare records
I) The global storage.
IN/OUT An error handle
IN/OUT: Checksum value
IN/OUT: Current offset
IN/OUT: Output pointer
Identify Bison output.
If 1, the new.* table.
If no match, return 0.
If offset before start
Ignore size specifier.
Ignore trailer headers
In case it's sensitive
In this case, proceed.
In-memory journal file
Incr-merge parameter A
Index key to query for
Indicates caselessness
Initialization context
Initialize time struct
Input and output files
Integer overflow check
Integer to fixed point
Integer value of limit
Is the function static
It may as well be now.
It's a block algorithm
Iterate through tables
Iterator for this term
Jump here on any error
Jump here to exit loop
Just before substitute
Known at compile-time.
LIBC_SCCS and not lint
LOAD DATA LOCAL INFILE
LSAPI protocol version
Labels and jump lists.
Lane's stdio versions.
Language being queried
Last position from pp1
Last position from pp2
Linked List Management
Linked list of records
List of decomposition.
Load the whole number.
Local copy of the flag
Location of last match
Locks are within range
Look two letters down.
Main sorter structure.
Maximum value of yyidx
May change dynamically
Memory to memory move.
Merge engine to return
Methods for the module
Might add new entries.
Minimum cell size is 4
More-or-less vertical.
Move on to the options
Multiply and subtract.
Must be ZEND_FAST_CALL
Mutex to protect pMain
NO_RECURSE not defined
NULL if queue IsEmpty.
Name of column in zTo.
Name of file to delete
Name of index or table
Name of indexed column
Name of table or index
Name of that semaphore
Name of the VFS to use
Name of the conch file
Name of the identifier
Never called on page 1
New level-0 PMA merger
New name of FTS5 table
New virtual expression
No more rows obviously
No prefix as loc_range
No way this can happen
Non-capturing brackets
None are allocated yet
Not always meaningful.
Not impossible though.
Number of PMAs to read
Number of bytes in key
Number of open cursors
ON CONFLICT algorithm.
OO, Region of interest
ORDER BY terms to skip
OUT params result set.
OUT: Created tokenizer
OUT: New cursor object
OUT: New virtual table
OUT: Size of blob data
Object reference count
Offset of page in file
Only dom uses _private
Open a temporary file.
Open the num.dat file.
Operand decoding codes
Other compilers don't.
Other initializations.
Otherwise PHP-compare.
Otherwise it is false.
Otherwise return NULL.
Otherwise,  SQLITE_OK.
Otherwise, do nothing.
Otherwise, keep going.
Output character index
Output success/failure
P1 is a cursor number.
P5 value for OP_Column
PHP_OCI_MAX_DATA_SIZE,
PRIMARY KEY is the key
Page cache allocations
Partial matching mode.
Path to page from root
Performance statistics
Phase 1: hash password
Phrase expression node
Pluggable cache module
Pointer map page index
Pointer to current key
Pointer to hash bucket
Pointer to term buffer
Populate key if passed
Position of next token
Possible Content-Type:
Prepare socket address
Prepare the arguments.
Prerequesites of pExpr
Print a single opcode.
Properties of opcodes.
Quantization component
Ran out of polynomials
Re-open the databases.
Read-only system table
Recently parsed phrase
Recurse captures then.
Recursion group number
Reference or recursion
Register SoapVar class
Register holding rowid
Regs for sorter record
Remove page from cache
Reset all of our flags
Resolve function names
Resolve the servers IP
Results of stat() call
Return 0 if not found.
Return N random bytes.
Return NULL if unable.
Return a success code.
Return the header size
Return the tree depth.
Returns a new session.
Richard Stevens p 298.
Right hand serial type
Right-hand Fts5SegIter
Rollback a transaction
Root node of the tree.
Root of the input tree
SELECT max(x) FROM ...
SET clause for UPDATE.
SHM was reinitialized.
SLJIT_UTIL_GLOBAL_LOCK
SQLITE_OMIT_BTREECOUNT
SQLITE_USE_FCNTL_TRACE
Same position as prev.
Save the left position
Saved LIMIT and OFFSET
Scan query (fts5vocab)
Scan the JPEG headers.
Schema of database iDb
Search for the parent.
See BTS_* macros below
See _php_curl_close_ex
See also: EndCoroutine
See the comment below.
Send RETR/STOR command
Set global error code.
Set transparent color.
Set up known arguments
Set up method pointers
Shared memory instance
Shift the error token.
Size of aNode in bytes
Size of apPhrase array
Size of argument array
Size of array apRegion
Size of array apWiData
Size of array at aElem
Size of each free slot
Size of pList in bytes
Size of token in bytes
Size of zBlob in bytes
Size of zName in bytes
Size of zTerm in bytes
Something bad happened
Source database handle
SrcList to be returned
Stack high-water mark.
Start some goroutines.
Start the view context
Starting optimizations
Store type information
String to be tokenized
Strip trailing slashes
Sub-program to execute
Subroutine return code
Substitute expressions
Subtype for this value
Sun always above altit
Sun always below altit
TMP2 may be destroyed.
Temporary buffer space
Temporary space to use
Temporary use register
Test gdImagePngToSink'
Text of the new string
Thanks to Geert Jansen
That is not permitted.
The BETWEEN expression
The OFFSET expression.
The SQL to be executed
The WherePath to check
The bottom of the loop
The caller will do so.
The constraint to test
The cursor to be moved
The database structure
The diurnal arc, hours
The hash for this key.
The major token value.
The opcode being coded
The open database file
The padding type value
The prepared statement
The table to be opened
The xRelease() method.
Then acquire our lock.
There is a quirk here.
This call cannot fail.
This computes N1 / N2.
This indicates success
This is default so NOP
This is not universal.
Token at end of string
Top of the delete loop
Top of the update loop
Transitive constraints
Traverses linked list.
Trigger being finished
True for a lookup only
True for a prefix term
True for without rowid
True if a write cursor
True if iPrev is valid
True if table b-trees.
True if this is a VIEW
True to enable tracing
Try convert to number.
Try object's handlers.
Try to match one more.
Try to recycle a page.
UNumberFormatAttribute
USE_BACKREF_WITH_LEVEL
USE_UNICODE_PROPERTIES
Undefine sljit macros.
Underlying file handle
Unlikely, but possible
Unlimited UTF-8 repeat
Unlock an rbuVfs-file.
Unlock notify callback
Unused (padding) field
Update our pos pointer
Update stats for boxes
Use this text encoding
Usually it is 16-bits.
VDBE under constrution
Value is a real number
Value might be numeric
Value of 'name' column
Value of 'path' column
Value of each argument
Verify this guarantee.
WHERE analysis context
Wal handle to write to
Was just an apostrohpe
Where to send the data
Where to write results
Which column to return
Which metric to return
White space is ignored
Write the Image header
Write the Magic header
Write the node-id here
X is not a subset of Y
Zero width assertions.
a chunk of whitespaces
a pointer to a SrcList
activate the converter
add 1 to the number b.
add_data writes dirent
allocate enough memory
allocate output buffer
allocate the parameter
allocate the statement
allocate the structure
amalgamator: dontcache
async message function
avoid division by zero
body transfar encoding
brackets nesting level
but not needed for now
call the rename method
call the unlink method
can't copy a meta file
canonicalize loc_range
charset convert filter
check for bundled IPv4
check in provided path
clean path without cwd
clear event in pollfds
clear the ready status
clone formatter object
compound constant name
compressed images only
connect the neightbors
copy escaped character
create the full path..
decode Modified Base64
decode input character
disabled functionality
else IS_POSIX_REGION()
encode Modified Base64
encode input character
encoding name resolver
end loop over pSrcList
end parse extra config
entry exists as a file
error set by comp_impl
f is numeric, s is not
field name is too long
fill in the basic info
find a user-set define
flush and reset filter
for ancillary registry
for getpid(), unlink()
for mysqli_fetch_assoc
form feed U+0C allowed
forward declarations *
free all cached chunks
free the bvalue struct
ftp proxy is read-only
function names with ::
function to free pUser
functions from array.c
functions from crypt.c
functions from fsock.c
get character set form
get name of the column
get perdir ini entries
get size of the column
get system ini entries
grab an exclusive lock
gradual line + ellipse
handle an mmaped file.
i is the position of .
if exponent is present
if subject is an array
if we read any data...
ifndef SQLITE_OMIT_WAL
im1 must be True Color
includes vector types.
increment pen position
initial resource fetch
invalid ujis character
invalid utf8 character
invoke the constructor
iterator handler table
just ignore this shit.
just make it available
key value of the loop.
keylen not needed here
large object functions
last error information
last parent, last node
length includes itself
length of state vector
let's crypt buffer now
link in the mbx driver
link in the mtx driver
load directory or file
lock the RESERVED byte
magic already verified
mark this name as used
marking buffer as used
more methods live here
names for regular year
no break for short-cut
no more than 15 events
not increasing anymore
now convert to seconds
now fetch that element
now write the manifest
null is converted to 0
number of cdir-entries
of the TK_xx values...
offset (starts with 1)
only free local errors
only these are allowed
opens up a data stream
options with int value
out2:  P2 is an output
out3:  P3 is an output
output trailing cookie
overjump leading space
pBuf is normally NULL.
pIdxKey  must be NULL.
pParent is its parent.
pass 10: - remove NOPs
perform seek operation
persist bucket and key
persistent connections
pg_attribute.atthasdef
pg_attribute.attnonull
phase 1: look for args
pointer to array entry
prereq always non-zero
quoted length of value
reached end-of-string.
read only FS/ lockless
read past HTTP headers
read the conch content
replace HashTable data
reset errno and errstr
restore error messages
run event loop forever
s is numeric, f is not
same as TK_FLOAT, out2
scan through modifiers
search for breakpoints
segment of far address
set rotation transform
should be a power of 2
should never be happen
should not be possible
should raise exception
skip "new Exception()"
skip debug_backtrace()
skip special constants
skip unimportant stuff
special colours for gd
sqlite3_mutex_methods*
sqlite3_pcache Methods
sqlstate is following.
start after the header
start of FAST CGI loop
start of search region
successful termination
support for fault spec
switch array_desc_type
tab2 may not be a view
take care of head/tail
target database handle
the cursor may advance
the prepared statement
they even allow mixed.
this is host:port pair
this looks nasty to me
this must never happen
transfer encode filter
transitive constraints
type of the next token
typedefs for the array
update try/catch array
use fg color directly.
use our proxy position
workaround for ICU bug
xDeviceCharacteristics
xOpen - Open a cursor.
"schema"."table" format
(Number of root pages.)
(pKey1/nKey1) is a blob
(re)bind the parameters
+build cgo +build linux
- days after 21st March
0xxxxxxx is plain ASCII
1 byte past end of aAll
1 for DESC or 0 for ASC
1-byte unsigned integer
10xxxxxx never 1st byte
2-byte encoding for max
2-byte unsigned integer
2x number of WHEN terms
4-byte unsigned integer
5.0 doesn't support it.
8-byte unsigned integer
A count of rows changed
A rowid/docid conflict.
A small processing code
A table in the database
A-vs-B comparision jump
ARRAY_INFO(1, pipes, 1)
ARRAY_INFO(1, stack, 0)
Accumulate each channel
Accumulate results here
Acquire a RESERVED lock
Actual allocated length
Add key or last result.
Added by the optimizer.
Additional HTTP headers
Address of loop counter
Adjust to the B.C./A.D.
After this routine runs
All collating sequences
All key sizes are valid
Amount to pop the stack
An exponent is allowed.
An integer primary key.
An rtree cursor object.
And carry flag as well.
Another branch follows.
Append to this SrcList.
Assembled sorter record
Assume largest possible
Backup executor globals
Begin file fts3_write.c
Begin file memjournal.c
Begin file mutex_noop.c
Begin file mutex_unix.c
Begin file sqlite3ext.h
Begin file sqlite3rbu.c
Begin file sqlite3rbu.h
Begin the database scan
Best index found so far
Best match found so far
Buffer containing token
Build the whole number.
Building a VDBE program
Busy handler for eMode2
But that is impossible.
By Authors:  Spencer W.
Bytes consumed per cell
Bytes of space required
Bytes remaining to copy
Bytes to read from disk
COM_STMT_SEND_LONG_DATA
CONVERSIONS for cmsghdr
CPU description section
Cannot have C without B
Change the type of test
Check for condition (a)
Checksum does not match
Checksum for wal-header
Class object properties
Clean up before exiting
Close a statvfs cursor.
Close all tables opened
Collating sequence name
Collation sequence name
Column filter (or NULL)
Column for entry to add
Column names for INSERT
Compare function to use
Compare two bc numbers.
Compare using memcmp().
Compute Dominators Tree
Connection is read only
Content of the new cell
Context of the fixation
Control never gets here
Convert string to utf8.
Convert to milliseconds
Copy into shared memory
Copy the home directory
Copy the original array
Create a new tokenizer.
Create byte sequence P.
Create byte sequence S.
Current index in aRight
Current index is unique
Current offset in pgidx
Cursor of the RHS table
Database header content
Deallocate page if true
Decode 'B' encoded data
Decode 'q' encoded data
Default column to query
Derived from zFile if 0
Destination b-tree file
Destructor for the data
Different WHERE clauses
Do actual optimizations
Do not save this cursor
Do not use prefix index
Does not check STR_END.
Doesn't require sorting
Don't try this at home.
Drop all shadow tables.
END OF REGISTRATION API
Eat trailing semicolons
Eat trailing whitespace
Encoding did not change
End JavaScript handling
End of dropping frames.
End of fts3_tokenizer.c
End of fts3_tokenizer.h
End of the input string
Ennumeration and lookup
Error in retriving data
Exponentional notation.
Expression node to test
Extend string if needed
Extension versionnumber
Extra data for callback
FROM clause of subquery
Fail to open empty path
False for index b-trees
Fast, but limited size.
Fields in sorter record
File handle to write to
Filename in OS encoding
Filename map destructor
Find a reasonable color
Find next finally block
Find starting text node
Find the balanced brace
Find the iHash'th table
Find token for encoding
First Mem of result set
First arg to xCompare()
First byte to be locked
Flags to pass to mmap()
Flags to pass to open()
For MySQL compatibility
For debugging use only:
For insert, update etc.
For possible first char
For use by built-in VFS
Free a prior allocation
Free shutdown functions
From "Hacker's Delight"
Get serializer handlers
Get temporary file name
Go round the loop again
HAVE_OPCACHE_FILE_CACHE
HAVE_SQL_EXTENDED_FETCH
Head item on backtrack.
Header in shared memory
Here comes the error no
Highwater mark for nOut
Hint number of segments
I really hate select().
IN/OUT: Left input list
INSERT STACK UNION HERE
If NO_EMPTY flag is set
If NULL use PRIMARY KEY
If replace is an array.
Ignores `locale' stuff.
In case an error occurs
Index identifier string
Index of cell to delete
Index of column in pTab
Initialize divide loop.
Initialize execute_data
Initialize return array
Initialize return value
Initialize this module.
Input and output images
Input pointer (updated)
Intead, open the *-oal.
Integer key for tables.
Integrity check context
Is a label of an object
Isolated 10xx xxxx byte
It could be used later.
It is a warning message
Just in case it is not.
Just set the zero flag.
Key value (page number)
Leaf page (iLeafPgno+1)
Left side of comparison
Left table being joined
Length of position list
Let's try with no cache
List of VTable objects.
List of indexed columns
Location of new mapping
Log2 Size of this block
Logarithm of table size
Low accuracy coordinate
Low byte is accessible.
MD5(pw,salt,pw), valid.
MEM_END or MEM_END_MARK
Main database page size
Main database structure
Make opaque types, etc.
Make sure YYID is used.
Make sure we hold them.
Malloc must have failed
Malloc'd output buffers
Mark the page as clean.
Matched an empty string
Matchinfo format string
Max seg id number 65535
Maximum Sorter PMA size
Maximum docid to return
May or may not be root.
Mean anomaly of the Sun
Memory usage statistics
Minimum docid to return
Must be divisible by 2.
Must be less than 65536
NEAR is treated as AND.
NEW_DLL_ENVIRONMENT_VAR
NN, Start of codestream
NOTQUERYI, NOTMINQUERYI
NULL-terminate the list
Name of target db table
Name of the other table
Name of the system call
Names of result columns
Needed for gmp_random()
Next offset to write to
Next unread header byte
Next with the same zTo.
No allocation required.
No room for more colors
No rows or no more rows
No sort order specified
Node pPhrase belongs to
Not UTF-mode, or no UCP
Not conditional branch.
Not currently enforced.
Note that OP_DIGIT etc.
Now do the pre-compile.
Now fire up the session
Now make the extraction
Number from first found
Number of bytes in nKey
Number of bytes to copy
Number of bytes to lock
Number of bytes to read
Number of bytes written
Number of cells on page
Number of locks to hold
Number of rows in index
Number of rows in table
Number of table columns
OK to spill pager cache
ONEPASS defaults to OFF
OUT: Best snippet found
OUT: Compiled statement
OUT: Data for root node
OUT: Imposter PK clause
OUT: Pointer to mapping
OUT: Rank function name
OUT: Selected leaf page
OUT: Set to true if EOF
OUT: pointer to doclist
OUT: score for the cell
OUT: stats written here
Offset of header on pPg
Open the case.dat file.
Open the comp.dat file.
Open the database file.
Operator(s) to scan for
Original list of tables
Original value of iSize
Other drivers will bork
Otherwise fall through.
Otherwise return false.
Otherwise, return zero.
Otherwise, set it NULL.
Output dimensions, etc.
Output of a bcd number.
Override SAPI callbacks
Override them with ours
P3 Value for OP_VFilter
P3 is an integer rowid.
PROT_RSET_HEADER_PACKET
Padding value obviously
Parent context (if any)
Parent tokenizer module
Parse of the input JSON
Perform a shift action.
Perl compatible options
Pointer to current term
Pointer to data for pPg
Pointer to write buffer
PostgreSQL 7.4 or later
Preferred text encoding
Process the header info
Provides mmap function.
Put out the final code.
READ_LOCK or WRITE_LOCK
RN, Image and tile size
RSA Data Security, Inc.
Rank callback (or NULL)
Re-set to the beginning
Read an unsigned value.
Read in the WAL header.
Read position list size
Read the whole section.
Record the final value.
Recursion or subroutine
Register SQLite 3 Class
Remove the trailing ","
Remove thumb mode flag.
Request alpha blending.
Reserved for future use
Restore saved collator.
Result code stored here
Result of special query
Result of strlen(zFts3)
Result set of the query
Result to set *pbRes to
Return -1 if not found.
Return SQLITE_NOTFOUND.
Return a pointer to it.
Return open Btree* here
Return the result code.
Return true if they do.
Return true on a match.
Return zero on success.
Root of NEAR expression
Rowid for current entry
Run time client version
SELECT rowid FROM x ...
SOAP 1.2 enc:id enc:ref
SQLITE_AFF_BLOB: No-op.
SQLITE_OMIT_HEX_INTEGER
Search TEMP before MAIN
See RFC 1010 for values
See also section 8.1.3.
See also: InitCoroutine
Segment id to load from
Send mail to all rcpt's
Send ourselves a SIGIO.
SessionHandlerInterface
Set Method Name to call
Set to " AND " later on
Set values to pass back
Setup calling arguments
Size of apSegment array
Size of array apSegment
Size of buffer at zNode
Size of phrase in terms
Size of record in bytes
Size of the input array
Size of this allocation
Size of zToken in bytes
Skip leading delimiters
Skip over position list
Skip this term for now.
Skip unknown arguments.
So create a substitute.
Sort in ascending order
Source data to compress
Split the master block.
Start MD5 accumulation.
Start the view context.
Stmt under construction
String to match against
Stub for calling setenv
Subfunction return code
System call return code
TODO check for overflow
TODO: fix  _zip_replace
TYPEQUERY, TYPEMINQUERY
Table has a primary key
Table to be substituted
Tail item on backtrack.
Tail of unprocessed SQL
Temporary buffer to use
Term to scan doclist of
Test the query function
Thanks to John Buckman.
Thanks to Steven Brown.
That is no longer true.
The ON clause of a join
The Y is also optional.
The actual computation.
The associated database
The btree to be checked
The bytes to be written
The caller will fix it.
The cell to be inserted
The complete hash table
The conflict algorithm.
The content of the page
The database connection
The docid to be deleted
The expression mask set
The handle to our heap.
The index to be created
The list of expressions
The memsys static mutex
The name of the trigger
The original expression
The page being analyzed
The pager that owns pPg
The parsed WHERE clause
The replace() function.
The rowid searching for
The set might be empty.
The stack is unchanged.
The table being indexed
The table to be updated
The term to be analyzed
The unicode() function.
The unqualified db name
The value for the token
These make C and G soft
They cannot be DROP-ed.
This is an in-memory DB
This is the best bit...
This is the non-NL case
This is what SWIG does.
This should never occur
This value is advisory.
This value may be zero.
This was the root node.
This works for i.e. AIX
Too lazy to use getconf
Total cost of this path
True (1) if tz is valid
True if WAL file exists
True if iDocid is valid
True if not checked out
True if sPoint is valid
True in "cleanup" state
True to count the table
True to enable triggers
Try to use OP_ReopenIdx
U+FF00-FFFF HW/FW Forms
UColAttribute constants
USE_SHARED_CCLASS_TABLE
USE_VARIABLE_META_CHARS
Uncommon, but possible.
Unpacked version of key
Unsigned integer types.
Update all nested paths
Usable size of the page
Use STAT3 or STAT4 data
Use a full-text search.
Use write-ahead logging
Used in mysqlnd_debug.c
Uses an ephemeral index
VDBE under construction
Valid for 1st elem only
Value at start of group
Value being transferred
Value for integer types
Value of 'ncell' column
Value of the next token
Value to append to data
Variable initialization
Version 3.8.7 and later
Version 3.9.0 and later
We won't handle XLBoxes
When reg can be unused.
Where to start scanning
Write back is not used.
Write data to the file.
__function_stubs_here__
add character and check
add user-supplied index
alafim (thousands) case
alloc and clear pollfds
alloc the ftp structure
allocate an environment
allocated with pestrdup
allow enclosed elements
allow self-signed certs
and then skip on to the
any old docroot will do
attempt to get the lock
authentication-required
auto-convert to phar://
bind to a local address
blank - a GNU extension
build the output buffer
but, unknown error code
check for copy on write
check for copy-on-write
check for invalid dates
check if declare failed
check possible overflow
chunk has to be aligned
clean up persistent sdl
clone formatter object.
close /dev/poll if open
convert to microseconds
copy digits to exponent
copy indices from proxy
copy the argument array
counting static methods
create foreground color
decalre the class entry
default to cached value
deprecated, for BC only
destroy everything else
determine blocking mode
directly set the option
do regular substitution
do some sanity checking
do some transliteration
don't catch our signals
don't log that function
don't merge other types
don't parse directories
emulate flex constructs
end collector dll part.
end of temporary locals
error message functions
error or pipe is closed
exclude CP936 extension
expand repeated string.
expat char data handler
expecting any character
extension function list
fetch the relevant data
find first accessed one
find method breaks here
find nearest watchpoint
find the full real path
find type of descriptor
find type of named file
for FD_CLOSEXEC to work
for exponent conversion
for heb_number_to_chars
for safety - avoid loop
free virtual CWD memory
function implementation
functions from assert.c
functions from output.c
functions from syslog.c
get rid of the context.
get scale of the column
get sign of significand
get type handle by name
getenv("SQLITE_TMPDIR")
give it a chance to die
global pattern matching
got the key - return it
got the lock, unlock it
handle a compiled file.
handler for array apply
have already seen the -
ifdef ZIP_OPSYS_DEFAULT
ifndef _SQLITE3RTREE_H_
initial distance values
initialize the defaults
input we are tokenizing
internal xml-rpc error"
invalid euckr character
it was stored perfectly
just no more data ready
keep the compiler happy
less than 1 is an error
link in the imap driver
link in the mmdf driver
link in the news driver
link in the nntp driver
link in the pop3 driver
link in the unix driver
look for LF in the data
look up for a delimiter
match with empty at end
missing ) after comment
mode for proc_open code
multiply by m and add a
n1 has the longer scale
n2 has the longer scale
next UID to be assigned
nothing to do currently
null line, garbage, etc
number of cached chunks
number of rows to fetch
one substitution string
options for json_decode
options for json_encode
output readable address
parse out the timestamp
pass all data in one go
per-script deactivation
persist the data itself
pointer to string array
ppStmt may not be NULL.
pre-conversion encoding
register our php method
register system methods
register with C engine.
remember control stream
renegociate connections
request_slowlog_timeout
reserved for extensions
reset rfc1867 callbacks
restore error reporting
return driver prototype
returns handlers buffer
round to next pixel row
s is the default suffix
sa_family_t is unsigned
same as TK_STRING, out2
sanity check the cipher
segdir.leaves_end_block
serch MIME charset name
set the __exposed flag.
shouldn't happen either
single pattern matching
skip all leading spaces
skip continuation bytes
skip over leading zeros
source is palette based
special ascii to symbol
special symbol to ascii
src, dst are registers.
standard include files.
static member functions
store request init time
stores our calculations
str is array of strings
switch stepping back on
system time of children
the caller has set this
the length of utf16_buf
the modifications array
the rest are parameters
there was no change ...
these three are allowed
they passed in a string
too few parameter bound
too long charset string
total space to allocate
true global environment
ts management functions
update zval string data
use the buffer directly
used only in main chunk
user cannot instantiate
validate the parameters
variant is not a string
view the wbmp on stdout
we want the private key
where to put the answer
will point to argv area
word - a Perl extension
work out remaining time
xClose - close a cursor
xDestroy - Drop a table
zTo is in normal order.
"int" is used otherwise.
"old"-style, valid salts
(32-bits for each page).
(for special treatment).
(setted in setup_tree())
1 means branch is taken.
16 bits should be enough
1st argument to callback
4-byte or 8-byte integer
A foreign key constraint
A single constraint term
A successful match means
ARRAY_INFO(0, fields, 1)
ARRAY_INFO(0, params, 1)
ARRAY_INFO(0, points, 0)
ARRAY_INFO(0, styles, 0)
ARRAY_INFO(0, values, 0)
ARRAY_INFO(1, output, 1)
ARRAY_INFO(1, weight, 1)
Above requires no mutex.
Absolute level to repack
Access permission denied
Actually set the symbol.
Add a FD from the fd set
Add environment location
Add it in this case too.
Add the zero terminator.
Add to "recursing stack"
Address of the i-th cell
All cells begin balanced
Allocate the pool handle
Allow infinity precision
Already detected repeat.
An FTS3_EVAL_XX constant
An rtree structure node.
And the masses rejoiced.
Append JSON content here
Argument to the function
Array of cells and sizes
Array of phrase pointers
Array to sort entries of
AssertNot is successful.
Attempt to reallocate p.
Automatically generated.
BUGS there must be some.
Backup to previous group
Begin file fts3_porter.c
Begin file keywordhash.h
Begin file sqliteLimit.h
Begin the database scan.
Beginning of the header.
Both or neither are NULL
Bounding box coordinates
Buffer to fold text into
Buffer to read data from
Build the Trigger object
Byte and multibyte cases
Bytes of memory required
Bytes of space at aAlloc
Bytes of zTitle to save.
C flag must be restored.
COLLATE, AS, or UNLIKELY
CONVERSIONS for if_index
CONVERSIONS for integers
CONVERSIONS for sockaddr
CP932 vendor ext1 (13ku)
CR or LF or HTAB or null
Cached next search point
Call is expected to fail
Callback for expressions
Can't cd to empty string
Change the journal mode.
Character comes in TMP1.
Check for back reference
Check for denormal case.
Check for stream wrapper
Checkpoint database zDb.
Checksum value to return
Clean up old array entry
Clear out the hash table
Clear the expired config
Close a file descriptor.
Close an open wal-index.
Collapse multiple stars.
Column of index to match
Compiled version of zSql
Compute both YMD and HMS
Conditional instructions
Connection shared memory
Connection/Login Timeout
Copy of SubProgram.token
Copy only the drive name
Copy only the share name
Coroutine supplying data
Correct offset for error
Cost of running iterator
Create the content table
Curl file handle options
Curl linked list options
Current leaf page number
Custom compaction filter
Data dependencies macros
Db containing fts5 table
Deal with the remainder.
Debug EXPLAIN QUERY PLAN
Decoded structure object
Deep, not shallow copies
Default tokenizer module
Defer all FK constraints
Delete the index records
Depth of the tree so far
Dequoted copy of token p
Destination journal mode
Destroy a bitmap object.
Destructor for pUserData
Destructor for the codec
Determine what to return
Disable database changes
Divider cells in pParent
Do FK constraint checks.
Document term appears in
Dummy PS module function
Duplicates are scattered
END OF CUSTOM TOKENIZERS
Either DELETE or UPDATE.
Enable PCRE JIT compiler
Enable automatic indexes
End a write transaction.
End of a chunked request
End of back ref handling
End of fts3_tokenizer1.c
End of pcre_chartables.c
End of pcre_maketables.c
End of pcre_printint.src
End of pcre_valid_utf8.c
End of the PRAGMA switch
Ended on non-(space/NUL)
Error and awaiting close
Error on negative offset
Everything was consumed.
Exception throwing macro
Existing index ASCENDING
Exit early in this case.
Extract charset encoding
FIXME: convert to string
FIXME: move declarations
FTS virtual table handle
FTS5_AND node to advance
FULLWIDTH QUOTATION MARK
Failure is not possible.
Fetch the ctx hash value
File descriptor to close
File handle for WAL file
File handle from winOpen
File is a reparse point.
Fill in the payload size
Find T definition points
First argument to xCmp()
First argument to xLog()
First, find the function
Fix items to this schema
Flags for Fts5IndexQuery
Flags passed to OsOpen()
Floating point operators
Flush all output buffers
For looping over indices
For newline before label
For stack depth measure.
For str_getcsv() support
For use by extension VFS
For use with loading xml
Free allocated structure
Free the processed event
Freetype 2.1.3 or better
Function arguments array
Function local variables
Further modified for PHP
GROUPBY cover of ORDERBY
General heap allocations
Generate the ctype data.
Get best match possible.
Get rid of C:, if exists
Global data dependencies
Goes one character back.
Guess should start at 1.
Handle capturing bracket
Handle data type of LONG
Handle the other opcodes
Has no INDEXED BY clause
Hash table for functions
Hash table of all pages.
Hash table of tokenizers
High accuracy coordinate
Host database connection
How many elements to get
How many pads do we need
IN/OUT bytes toread/read
IN/OUT chars toread/read
IN/OUT: Iterator pointer
IN/OUT: Right input list
IN: Left hand input list
If NULL, use the default
If it has, return early.
If not at start, find it
If so, set the EOF flag.
If so, this is an error.
If something has matched
If successful, return 0.
If zero, it is disabled.
In this case exit early.
Includes the ALL keyword
Index level just updated
Index of column in pFrom
Index of column in table
Index of last frame read
Index of next free chunk
Index to match column of
Init auto-global strings
Initialize all iterators
Initialize return object
Initialize target object
Initialize the pointers.
Initialize the subtract.
Insert a fake EOI marker
Instr Prefix or media op
Integers of known sizes.
Internal error constants
Interned strings support
Invoked at every commit.
Iterator for WHERE terms
Jump here for next cycle
Kill the filter (safely)
Largest defined DBSTATUS
Last field of the record
Last possible cell index
Leave error message here
Length in bytes of zFrom
Length of a token prefix
Length of needed storage
Length of string zMaster
Length of zSql in bytes.
Length of zTerm in bytes
Let be portable instead.
Level to read input from
Library used incorrectly
List to which to append.
Load and parse one file.
Load the TypeLib by GUID
Locale identifier - (eg.
Log2 of iFullSz/POW2_MIN
Loop through the chunks.
MD5 password encryption.
MSVC doesn't have mode_t
MUST BE LAST (see below)
MUTEX_STATIC_LRU or NULL
Macro that does padding.
Magic characters count 0
Make sure the ordering..
Malformed number or name
Match these columns only
Matchinfo context object
Max limit of recursions.
Maximum value for szMmap
Methods for an open file
Might be a hidden SCOND.
More-or-less horizontal.
Must be a multiple of 8.
N Entry has been changed
N Entry has been deleted
NO, End of packet header
NOTES Welcome to XMLRPC.
NULL or constants 0 or 1
NULL value means deleted
Name of a table or index
Name of new SQL function
Name of the common-table
Name of the file (UTF-8)
Name of the journal file
Name of the mmapped file
Need expansion, recurse.
Needed for schema access
Neither operand is NULL.
New virtual table object
Next in hash table chain
Next outer name context.
No 'else' here please :)
No LIMIT means no OFFSET
No overflow is required.
No shared-memory support
NodeWriter for root node
Not WITHOUT ROWID table.
Not sure I can fix this.
Note: _not_ MATCH_ACCEPT
Now encode the result...
Now save the offset data
Nul-terminated entry key
Number of bytes in input
Number of bytes in pList
Number of bytes in token
Number of bytes in zFunc
Number of bytes in zTerm
Number of bytes to write
Number of fields in pRec
Number of input segments
Number of pages in pList
Number of prefix indexes
Number of result columns
Numbered group used test
OR in the Bits per Pixel
OUT: Deserialized object
OUT: Head of merged list
OUT: List length pointer
OUT: New iterator object
OUT: Selected child node
OUT: Tokenization cursor
Ok for sqlite3_open_v2()
Only valid in paren mode
Only works with FreeTDS.
Open ICU Transliterator.
Open an rbu file handle.
Open the cmbcl.dat file.
Open the ctype.dat file.
Open the master journal.
Open the target database
Overflows are sequential
PHP_HASH_MD5_NOT_IN_CORE
PROT_PREPARE_RESP_PACKET
Page containing pPayload
Page containing the cell
Page number of the frame
Page to delete cell from
Parent table of FK pFKey
Part of a compound query
Partial Index Expression
Pointer to bytes counter
Pointer to filter object
Pointer to right-sibling
Pointer to vtab instance
Populate new node buffer
Position term appears in
Position-list terminator
Poslist of this iterator
Process old session data
Progression order change
RO, Quantization default
Read all fields metadata
Read data from the file.
Reclaim all memory used.
Recursive representation
Refs more than one table
Register SoapFault class
Register SoapParam class
Register holding results
Releasing a pending lock
Request is out of range.
Reset active ini section
Reset max_execution_time
ResourceBundle functions
Restore clip if required
Restore executor globals
Restore the S registers.
Result code form fcntl()
Result of query pNextIdx
Return a random integer.
Return address register.
Return an error message.
Return exact match color
Return flag - no operand
Return the current term.
Return the new character
Return true immediately.
Right side of comparison
Right table being joined
Root of NEAR/AND cluster
Rowid in sqlite_sequence
Run the integrity-check.
SELECT rowid, * FROM ...
SLJIT_CONFIG_UNSUPPORTED
SQLITE_OMIT_BUILTIN_TEST
SQLITE_OMIT_FLAG_PRAGMAS
SQLITE_OMIT_QUICKBALANCE
SQLITE_OMIT_SHARED_CACHE
SQLITE_OMIT_VIRTUALTABLE
SQLSpecialColumns values
Save the return address.
Schema of the expression
Send to GD File then Ptr
Serial type of the rowid
Set TMP_REG1 to the bit.
Set a new process title.
Set bit for this starter
Set its value only once.
Set of table index masks
Set up for cell analysis
Show short columns names
Shutdown the page cache.
Sign-extend the operand.
Since return is in  sec.
Size of allocated buffer
Size of db file in bytes
Size of doclist in bytes
Size of initial segment.
Size of pKey for indices
Size of pSorter in bytes
Size of temporary buffer
Size of the column cache
Skip over bracket number
Skip past any leading X.
Skip past any whitespace
So that is what is done.
Soft limit for node size
Some internal functions.
Sorter file to read from
Sorter task to read from
Space to hold the labels
Space to unpack a record
Special cases: +0 and -0
Special command to parse
Square output for digest
Start of match assertion
Statement for DELETE ops
Store result in an queue
Switch to xxxPOS opcodes
TK_COLUMN: column index.
TMP2 will be used below.
TODO :avoid reallocation
TODO: check for overflow
Term iterator to advance
Test for divide by zero.
Text of the error report
The SHM file is readonly
The VDBE we are building
The WAL file is readonly
The basic MD5 functions.
The complete IN operator
The computed column name
The fields of the result
The key MUST be present.
The main btree structure
The main parser program.
The match must be exact.
The memory manager table
The minimum answer is 1.
The offset for ReadFile.
The original page number
The other two will be 0.
The pH containing "elem"
The page must be corrupt
The parser to be deleted
The parser to be shifted
The relative text table.
The replacement string C
The resource sizes table
The score for this node.
The whole chunk is free.
The xSavepoint() method.
This is a compound name.
This is also acceptable.
This is an EOF condition
This is an optimization.
This is for MacOSX only.
This is the normal case.
This page is never used.
This should never happen
This table is not a VIEW
Thus, we do these hacks.
To force sizeof(header).
To the end of n1 and n2.
Tokenizer for this table
Tokenizer implementation
Total number of segments
Total size of allocation
Transliterator functions
True (1) if iJD is valid
True for a prefix search
True if at end of search
True if cursor is at EOF
True if last 0x00 counts
True if offset overflows
True if rowid is UPDATEd
True if this is a commit
True to disable triggers
Truncate an rbuVfs-file.
UNumberFormatPadPosition
Unmap the database file.
Use up some stack space.
Used by this thread only
Used to be a conditional
Useful to add assertions
Uses C-style conventions
VDBE is ready to execute
VM this frame belongs to
Value is a RowSet object
Value of 'pageno' column
Value of 'pgSize' column
Value of 'unused' column
Values between 0 and 127
Values for xColumnSize()
Various register numbers
Version 3.7.16 and later
Version 3.8.11 and later
Virtual table structure.
WHERE clause information
Walk an expression tree.
We always double in size
We got already an error.
We need to use TMP_REG3.
We'll follow strategy 2.
What to do with the lock
Where to write the frame
Where we start to search
Win XP specific, Unicode
Word boundary assertions
Write an Image separator
Write current value here
Write error message here
Write out the page data.
Write the integer values
Write the new value here
Y if followed by a vowel
ZEND_OVERLOADED_FUNCTION
Zero is the common case.
above funcs modify queue
add 1 for trailing slash
add header to collection
after match is SEPARATOR
alloc the data structure
allocate describe handle
allocate memory and copy
allocate the data struct
allocate/fill the buffer
amd64 rex extension byte
array for GETALL, SETALL
array_uintersect_assoc()
base register must be R0
base register must be R1
beginning-of-error-codes
black magic lies herein.
calculate elements count
can pass to optimization
cast of constant operand
check if entity is valid
check if result is null.
check invalid code point
check unicode characters
clean up notice messages
cleanup after ourselves.
close control connection
conch file header length
connection has timed out
convd has encoding info.
convert angle to radians
convert args into zvals.
convert escape sequences
copy over any stragglers
copy the decimal places.
count number of elements
create a service context
create shutdown function
current reading position
currently not supported.
cut off on NULL byte ...
decision variable (line)
decode the strings first
detect if this is a pipe
didn't find the boundary
didn't get, must be busy
done already - skip here
encoded text rotation...
end FormatEmailAddress()
end of the phoned phrase
erroffset passed as NULL
error for below/prev col
error in file descriptor
exactly half-way between
exception already thrown
expecting a charset name
explicit resource number
exponent of real numbers
first code of JIS-8 pair
for OCIWriteTemporaryLob
for mysqli_stmt_set_attr
for php_raw_url_decode()
for the args parentheses
force values-only output
fts3 query parse context
function arguments array
function table hash keys
header transfar encoding
histogram cell c0/c1/c2.
histogram is garbage now
import inherited sockets
in-memory cache overflow
incompatible nullability
increment the cell count
input / output options *
inside the message body.
intentional fall-through
invalid multibyte header
is it already missing...
it's copied from xpath.c
it's not private anymore
iterate over all rounds:
keep the allow-NULL flag
link in the dummy driver
link in the phile driver
link in the tenex driver
list compiled in modules
longest sane line length
look for more extensions
maximum length of string
maximum size of colormap
mem(P3) holds an integer
min/max aggregates seen.
mix of names and numbers
multiple values allowed.
mysql_change_user() call
nByte must be a positive
nMaxpage + 10 - nMinPage
needed for context stuff
next block is only NOP's
next relevant character.
no break - intentionally
no effective name change
no space allocated, yet.
not conforming to spec."
not officially supported
not part of this subtree
not used for array binds
nuke trailing whitespace
only for ocifetchinto BC
only scheme is available
ooo, a real large object
open default transaction
or 1.33 seconds of time)
pass back a key resource
pnBlob must be non-NULL.
pointer to the histogram
prevent circular getting
prevent circular setting
prevent unnecessary test
previous does not change
reached end of iteration
read and parse this file
realpath("") returns CWD
remove shutdown function
remove the fd if it's in
replace numeric entities
resolve class references
restrictions (1) and (2)
root directory requested
round up to prime number
same width, just copy it
scope argument was given
search str-position only
second immediate operand
secondary hash (after G.
see if this is a closure
server related methods *
set bits from 0 to "bit"
set hi 16 bit if needed.
set up hash values table
setup the function table
shift by negative number
short (elt-only) caching
should be 8 byte aligned
simple stores are atomic
skip current call region
skip next byte (newline)
something to hold errors
split up input parameter
sqlite3_pcache_methods2*
stack of filled segments
stepping through eval on
strict comparison or not
subpattern name expected
temporary manifest entry
tests for file existence
the data is not the same
there is no 'right' char
there was no 'left' char
type of output (xml/php)
unknown POSIX class name
update the buffer length
usual case: not a fault.
verify local file header
version of xml to output
walk through the ACLLIST
we have unprocessed OIDs
web server need set this
whether to preserve keys
write the encrypted data
xClose - Close a cursor.
xCreate - create a table
xNext - advance a cursor
xSync - sync transaction
(the "child" constraints)
-1 means not transparent.
0 if pPage is not a leaf.
1 for WITHOUT ROWID table
1 to honor DESC in index.
1st argument to snippet()
2.3 Store the actual data
4 byte range: Unicode BMP
4E00-9FA5 CJK Ideographs.
4th argument to snippet()
5th argument to snippet()
A malloc must have failed
A region of shared-memory
A single column of result
AND old.colN IS new.colN)
ARRAY_INFO(0, options, 1)
ARRAY_INFO(1, mxhosts, 1)
AS SELECT ..." statement.
According to POSIX.1-2001
Acquire an EXCLUSIVE lock
Add an array of protocols
Add the code if it not 0.
Add the opcode to this VM
Address of jump operation
Address of regReturn init
Affects STR_PTR and TMP1.
Affinity string to return
Align to 64-byte boundary
Alignment + 2 * 16 bytes.
Allocate and zero memory.
Allocated size of aVTrans
An unused file descriptor
And an in-memory journal.
And we apply the position
Anything else is an error
Append a single character
Append the current string
Append the position lists
Args are in reverse order
Argument to xUnlockNotify
Arguments to agg function
Array element to populate
Array index starts from 0
Array of tables to search
Array of values to insert
Auth callback return code
Available backtrace slots
Background thread, if any
Backup process error code
Begin file fts3_snippet.c
Begin file fts3_unicode.c
Buffer containing poslist
Buffer for matchinfo data
Buffer to load terms into
Bytes of content in pCell
CJK Ideograph Extension A
CJK Ideograph Extension B
Cache that owns this page
Calculate sub results ...
Call this SETUP-INVARIANT
Call unserialize callback
Carry on with next branch
Cause a token to be read.
Cell to insert into rtree
Check module dependencies
Cleanup before returning.
Column ref to child table
Compare this many columns
Compatibility definitions
Complete text of the cell
Compute Variable Liveness
Compute data dependencies
Confirm the cur_opt range
Content to be checksummed
Continue with next branch
Convert to final encoding
Cost of running each loop
Courtesy of F J Franklin.
Create a new BTree table.
Create a new pager cache.
Create new empty database
Current leaf block (or 0)
Current number of samples
Current offset into pData
Current ordered scan item
Current side of the stack
Current total stack size.
Current write is a delete
Currently always set to 1
Currently always set to 2
Cursor object to populate
Custom rank function args
DISTINCT keyword not used
Data from the btree layer
Data type for this column
Database currently in use
Database filename (UTF-8)
Decimal point is allowed.
Declare our image pointer
Default callback handlers
Default mmap_size setting
Default number of rounds.
Default variable settings
Defaults to (none) utf-8.
Deinitialize this module.
Delete a WhereLoop object
Delete a row from an aux.
Delete the file at zPath.
Description of the record
Desired maximum mmap size
Destination database name
Destroy translation table
Destructor for the string
Different columns indexed
Divide a fixed by a fixed
Do not modify it by hand.
Doclist is assembled here
EOS after separators only
EQP id of left-hand query
ERROR: unterminated delta
Enable recursive triggers
End of backslash handling
End of cell-pointer array
End of pcre_jit_compile.c
End of replacement string
Enter STATIC_MASTER mutex
Enter offset lookup state
Error is less than an ulp
Error message stored here
Escaped anything counts 1
Existing index DESCENDING
Existing nearset, or NULL
Expected pointer map type
Expected size of the BLOB
Expression list to search
Extend an existing range.
Extract remaining digits.
FROM clause is not a view
FROM t1 EXCEPT SELECT ...
FTS5 Configuration object
FTS5INDEX_QUERY_XXX flags
FULLWIDTH REVERSE SOLIDUS
Factor out constant terms
Fall through into OP_Halt
False_ if error occurred.
Find the end of the year.
Find the named savepoint.
First char keep uppercase
First deal with comments.
First in list of all aux.
First part of index name.
First we pad on the left.
Flags for OsSync() (or 0)
For net-snmp prior to 5.4
Free a hash table object.
Generate the number data.
Get astronomical twilight
Get constant option value
Get of new value in array
Get the first element now
Get/create the semaphore.
GetVersionEx() is current
Graphic Control Extension
Handle POSIX class names.
Handle exact repetitions.
Handle literal characters
Has no NOT INDEXED clause
Hash table representation
Hence the ROUND8() below.
High water mark of stack.
Holds list of subpatterns
Holds results of studying
How to dispose of results
Human readable error text
I consider this is a bug.
ICU break-iterator object
II) The dependency table.
IN/OUT: Stucture of index
If overflow, return zero.
In ARM instruction words.
In-memory list of records
Increment the row counter
Index in the parent table
Index of a host parameter
Index of the table column
Initiailize our structure
Initialize module globals
Initialize returned array
Initialize the next page.
Initialize the structure.
Initialize the variables.
Inlining simple patterns.
Insert the code in order.
Instruction bit sections.
Integer primary key index
Invoke the token callback
Invoke the xBegin method.
Invoke the xFilter method
It needs to be revisited.
Iterator for input string
Jump here if malloc fails
Jump over the subroutines
Junk the truecolor pixels
Keyinfo for scanned index
LCS value for this column
LHS is entirely deferred.
LHS of LIKE/GLOB operator
Language id for tokenizer
Last chance verification.
Latest MIPS architecture.
Leave STATIC_MASTER mutex
Leave any error code here
Leave error messages here
Lee, all rights reserved.
Length of UTF-8 character
Length of longest segment
Length of the source data
Length of the source file
Length of zInput in bytes
Let caller sort them out.
Level of segments to scan
List of active savepoints
List of available buffers
List of in-memory records
Local reference to page 1
Look up an index by name.
Loop for each alternative
Low-level mutex interface
Lower bound on the range.
Main part of the matching
Main pcre_jit_exec entry.
Malloc and Free functions
Mask of shared locks held
Maximum allowed page size
Maximum number of rounds.
MergeEngine to initialize
Might be an empty repeat.
Minimum number of rounds.
Most recent error message
MoveFileEx has to be used
Multiply utility routines
Must be free'd by caller.
Mutex to serialize access
NEVER(x) is a constant 0.
NULL if there is no limit
Name context for sub-vdbe
Name of VFS module to use
Name of attached database
Name of new table or NULL
Name of the database file
Name of the result column
Name of the table or view
Name of the virtual table
Name we are searching for
Named capturing brackets.
New value for iStartBlock
Next SHM lock might block
Next chunk in the journal
Next free argvIndex value
Nice interface, but slow.
No character is accepted.
No need to check further.
No recursion at top level
No, so try to allocate it
Non persistent connection
Non-possessive quantifier
Not a correlated subquery
Not needed for the moment
Now we can get on with it
Now, do the IO operation.
Number of Journal Records
Number of args (always 2)
Number of bytes in a page
Number of bytes in header
Number of columns of data
Number of elements summed
Number of entries in aMem
Number of errors reported
Number of hash collisions
Number of nested brackets
Number of scratch buffers
Number of the page to get
Number of tokens in query
Number of tokens in table
Numbers for RMATCH calls.
OP_MaxPgcnt enforces this
OP_Rowid becomes OP_Null.
OR using multiple indices
OUT: Acquired page object
OUT: Allocated Wal handle
OUT: Bytes stored locally
OUT: End of parsed string
OUT: New tokenizer handle
OUT: Result of comparison
OUT: Write the score here
Offset to the page header
Old fashioned tar archive
Old value for iStartBlock
One of the SQLITE_AFF_...
Only these flags are set.
Open the decomp.dat file.
Open the index sub-system
Optimize using call-graph
Options and Configuration
Others have strcasecmp().
Otherwise use extra data.
Otherwise, 0 is returned.
Output each row of result
Output should be DISTINCT
Overflows in sorted order
Override chdir() function
P4_STATIC or P4_TRANSIENT
PGHDR flags defined below
PHP Sendmail for Windows.
PHP_CAN_SUPPORT_PROC_OPEN
PHP_HASH_SHA1_NOT_IN_CORE
PROT_CHG_USER_RESP_PACKET
Page number for this page
Pager associated with pBt
Parent savepoint (if any)
Parent tokenizer instance
Parse a MATCH expression.
Parsed MATCH query string
Pcache object page handle
Pick up where we left off
Pointer to allocated vtab
Pointer to cell to delete
Pointer to doclist buffer
Pointer to entire doclist
Pointer to padding string
Pointer to phrase counter
Pointer to sampled record
Pointer to the cell text.
Position at the first row
Possibly new term to test
Preserve the user version
Previous result register.
Process HTTP status codes
Proxy HTTP Authentication
Pull data from this table
Query status information.
Quote character (if any )
RHS is entirely deferred.
RHS of LIKE/GLOB operator
ROWID already in regIdx+i
Raw hash value of the key
Read the database schema.
Readr data from the file.
Rebalance the expression.
Reference:  Meeus page 61
Register SoapClient class
Register SoapServer class
Register Zend ini entries
Register a new tokenizer.
Register holding operands
Register mangled variable
Release a page reference.
Releasing a reserved lock
Remember where we started
Repeated character flags.
Report malloc errors here
Requires two instruction.
Reset an StrAccum string.
Result from sqlite3Step()
Result of custom function
Result of sqlite3_reset()
Return NULL if not found.
Return a transient error.
Return false if it is ok.
Return the current rowid.
Return the unicode value.
Reuse one of those pages.
Reverse unordered SELECTs
Run-cost of the new entry
SCC with a single element
SQL function call context
SQL function return value
SQL name of the function.
SQLITE_CHECKPOINT_* value
SQLITE_ENABLE_DBSTAT_VTAB
SQLITE_OMIT_AUTHORIZATION
SQLITE_OMIT_AUTOINCREMENT
SQLITE_OMIT_PAGER_PRAGMAS
SQLITE_STATUS_MALLOC_SIZE
SQLITE_STATUS_MEMORY_USED
STACK_DIRECTION undefined
STACK_TOP is set by THEN.
Same as aData for leaves.
Save for later completion
Save value before bracket
Scan visits at most 1 row
Schema validation options
Search for such an entry.
See also setSectorSize().
Select from a "CREATE ...
Send data to a co-routine
Send to GD2 File then Ptr
Send to PNG File then Ptr
Set of characters to trim
Set the output variables.
Similar to fts3SqlStmt().
Size of aDoclist in bytes
Size of buffer p in bytes
Size of buffer z in bytes
Size of database in pages
Size of the binary record
Size of the database file
Size of the offsets array
Size of the output buffer
Skip to the number field.
Sleep for a little while.
So bHasStat may not be 2.
So reset the colUsed mask
So we reinvent the wheel.
Some compilers don't like
Source database page data
Special setup for VxWorks
Specific token to advance
Standard message handlers
Start the validating loop
Store the output in zOut.
Store the results in "r".
Store this number in "k".
Store this value in nNew.
Stub for calling unsetenv
TBFixed: may lose one hit
TO DO: H if source is XMM
TO DO: L if source is XMM
TODO: check for safearray
TRUE for a TEMPORARY view
TRUE only in greedy case.
Template WhereLoop object
Temporary expression node
Term to select leaves for
Terms that may be omitted
Test for negative result.
Test the storage function
Text of the SQL statement
Text to add to EQP output
The "old" rowid, or NULL.
The "real" underlying VFS
The VM under construction
The authorization context
The column that is wanted
The complete WHERE clause
The compression flags can
The current SQL statement
The data is *not* copied.
The database index number
The entry point is zProc.
The expression parse tree
The i-th index expression
The initial database size
The key of the new record
The name of the new table
The new state to shift in
The next page to be freed
The offset for WriteFile.
The return value is NULL.
The semantic value stack.
The table already exists.
The table does not exist.
The table that is indexed
The table to insert into.
The two angles are acute.
The underlying file iNode
The vm under construction
The xRollbackTo() method.
Then return SQLITE_ERROR.
There is no "best-index".
There is no caching here.
This does just ONE match.
This is a global handler.
This is stupid way to do.
This is the 2nd template.
This routine cannot fail.
This should never happen.
Thread holding this mutex
Time when Sun is at south
To include callout length
To iterate through levels
To please picky compilers
Token identifying trigger
Total number of arguments
Translate UTF-8 to UTF-8.
True for a "natural" join
True for a read-only page
True if a periodic sample
True if at End Of Results
True if errors are benign
True to dequote pCollName
Try and get headers again
Try it as a keyword type.
Type of node in this tree
Type of top-level element
Type2: ldrsb, ldrh, ldrsh
UNumberFormatRoundingMode
Unable to edit this page.
Unaligned space available
Unix Standard tar archive
Unknown growth direction.
Unless it is a skip-scan.
Unpacked record to return
Updata extra data pointer
Update the Fts5Structure.
Update the write-counter.
Upper bound on the range.
Use big enough power of 2
Use the columns affinity.
Used by DOCID_CMP() macro
Used by reverse iterators
VM to add scanstatus() to
VVVVVVVVVVVVVVVVVVVVVVVVV
Value of 'payload' column
Value of a host parameter
Verify that this is case.
Visibility of parent node
WHERE clause to scan with
WHERE rowid IN ( select )
We compile conditionally)
We got the info we needed
We got the key we wanted.
We should check properly.
We should never get here.
What operation to perform
WhereLoop.u.vtab is valid
Work out start/end chunks
Write error messages here
Write result boolean here
Write search results here
Write the averages record
Write the hash value here
Write the property lists.
Yes, there is a color map
__function_entries_here__
access.log, access.format
add a byte for minus sign
adjust early binding list
alloc'ed ai free'd below.
array_uintersect_uassoc()
assume ping is successful
between prefix and suffix
bits 3-5 of mod r/m field
bits 6-7 of mod r/m field
brig_out becomes brig_in.
buffer to store sort keys
build with dtrace support
by number tokens inserted
case PragTyp_BUSY_TIMEOUT
cast to avoid gcc-warning
check for NULL parameters
check for data descriptor
check if zval was removed
check number of arguments
close down the ini config
colorspace of input image
column number to retrieve
conch file host id length
connect to the neighbours
constant conditional JMPs
constants for jddayofweek
constants for jdmonthname
convert L: JMP L+1 to NOP
convert it to unsigned d.
copy part up to the brace
copy the old data into it
copy what we already have
could be a separate func.
create the argument array
data must be last element
data passed to C callback
default value for FF DBUG
detach from original tty.
directory already mounted
display info in phpinfo()
dropped if after C else K
due to implicit delete...
emulate above via a query
end Olympus specific tags
error for pixel below cur
exception or call failure
fallback to read_property
figure out the GMT offset
fill the child arg vector
first 2 bits are reserved
for PDO_HANDLE_STMT_ERR()
for ctype node hash table
for single byte encodings
found an open connection.
functions from browscap.c
functions from filestat.c
get raw directory listing
get rid of decimal places
get the TDO (only header)
give it a reference to me
go back to fetch "A" byte
gregorian or julian month
handle setting attr first
ifdef SQLITE_ENABLE_STAT4
immediate action required
initialize internal state
invalid character in salt
invalid eucjpms character
is easy to generalize ...
judge input/output filter
keep stmt when free query
keep track of last marker
lookup by "not-real" path
major HTTP version or dot
make a connection attempt
make our hash too "full".
make sure this sorts last
map the modification type
match single letter alias
matches anything penalize
might not work for EBCDIC
must have a valid element
mysqli_real_connect flags
name of file to read from
name of the database file
network socket operations
no need in atomicity here
normal string: do it fast
normalize and expand path
not while in conditionals
now execute the statement
number of alocated chunks
number of recent messages
number of unseen messages
obsoleted by ExtraSamples
obsoleted by SampleFormat
only the master can store
only when INTERSECT_ASSOC
open a directory resource
options with string value
pEList has been resolved.
pIdx is a covering index.
parameter was not defined
parse out the IP and port
path for the new unixFile
pointer and length of key
points to another variant
print buf to simplestring
ptrdiff_t is not portable
read all the app marks...
read in central directory
register rebind procedure
register server variables
remember first valid char
remove last CRLF from tmp
remove useless type check
reset descriptor's length
restore error information
return our new hash value
returns -1 if not present
rotate bounding rectangle
same as TK_NOT, in1, out2
security.limit_extensions
seed segment (popped 1st)
seek to central directory
send empty packet for eof
set hash code range bound
set some required options
shared memory is disabled
sharing globals is *evil*
shortcut for empty string
should be a multiple of 3
should include the header
size of constant database
skip possible breakpoints
space allocated at zToken
space if previous printed
space, open, close, NullS
start up winsock services
stop skipping 0 for M_COM
storage for current token
strip xml namespace crap.
subtraction must be done.
sysconf() - get CPU count
tentative returned length
terminate list using NULL
the assertion has failed.
the complete WHERE clause
the length of the subject
the list of changed files
the typeof() function, 2.
there is only a mime type
this is not an error here
this is the child process
this is the first execute
to try open the directory
try to reuse a connection
undefined public property
unknown option bit(s) set
unknown version specified
unsuported by Unicode 6.0
update early binding list
used in return_value then
validation was successful
verify the number of args
void*, int nByte, int min
warning, and returns NULL
we are going to the break
we botched the k estimate
we'll let it go this time
write the manifest header
x, y coordinates in orbit
xCheckReservedLock method
zBase: An initial buffer.
zero before decimal point
"Managed" code needs this.
(OE_Abort, OE_Ignore, etc)
- is synonymous with STDIN
0xf00 cc code for branches
0xff means setting unknown
1 for UPDATE, 0 for DELETE
32768: something big value
4: Table is WITHOUT ROWID.
A bit of tricky math here.
A list of all open cursors
A single POS_END (0) byte.
A tuple to store the filed
AFP locking (OSX only), 6.
ARRAY_INFO(0, haystack, 0)
Absolute value of pad_size
Accumulate the output here
Add byte for terminal null
Address of "loops" counter
Advance to the next piece.
Align limit and max_limit.
All branches are non-empty
All characters are stored.
All tables indexed by name
All's well that ends well.
Allocate 'Fsnotify.events'
Allocate a new hash table.
Allocate nBytes of memory.
Also mutex, for redundancy
Always a simple operation.
An SQL statement being run
An error code is returned.
An expression being tested
An index to being analyzed
An index we are evaluating
An unrecognized directive.
Append to this JSON string
Appropriate locking method
Arguments are not checked.
Arguments to rank function
Array for holding numbers.
Array of SegReader objects
Array of active savepoints
Array of nCol best samples
Array of segment iterators
Associated database handle
Attempt to delete the file
Available fault injectors.
Avoid realloc() most cases
Bad compressed data stream
Base class - must be first
Begin file fts3_unicode2.c
Beginning of shared memory
Beware of this difference.
Bind a text or BLOB value.
Bit values for PgHdr.flags
Borrowed from SYS/SOCKET.H
Both values must be blobs.
Braced expressions count 0
Btree cursor used for pTab
Buffer to deserialize from
Build the fractional part.
Building an imposter table
Built-in length() function
Built-in typeof() function
Bytes of space to allocate
Bytes of valid data so far
CONVERSIONS for SCM_RIGHTS
CUSTOM AUXILIARY FUNCTIONS
Call / return instructions
Call Graph initialization.
Call the userland function
Called only by OP_MaxPgcnt
Can be empty, or anything.
Cancel any pending results
Cannot be a escaped string
Canonicalize the loc_range
Captures may have happened
Cell index within the node
Character that has the set
Check for Infinity and NaN
Check for Nan and Infinity
Check for a decomposition.
Check for correct numbers.
Check for mutual recursion
Check that the page exists
Check that the sort worked
Check third byte for 0x80.
Checks if it is a newline.
Checksum of string zMaster
Clean up opened resources.
Clear any prior statistics
Close all open savepoints.
Code unit is being skipped
Collect the case mappings.
Column token must occur in
Columns for imposter table
Columns in the other table
Compare two search points.
Comparison affinity to use
Compile with main function
Completes the Copy command
Configuration cookie value
Constants used for locking
Context passed to xToken()
Control never reaches here
Copyright (c) 1998 Todd C.
Core conversion workhorses
Count the token characters
Counting column references
Covers 0, 1, and unlimited
Create a new entry if true
Create new user functions.
Create the automatic index
Create the new column data
Created using CREATE INDEX
Current FTS5 configuration
Current page of the b-tree
Cursor for the first index
DISTINCT operates on these
Data for the entry is nil.
Database Name   Table Name
Database filename (UTF-16)
Database handle doing sort
Decrement the usage count.
Default ON CONFLICT policy
Defragment the page given.
Deprecated for public use.
Descriptor for buffer area
Disabled functions support
Disallow automatic indexes
Discard the shifted token.
Do not copy the destructor
Do not load data from disk
Docid of row being written
Doclist (or NULL) to write
Doclist to iterate through
Doclist-index flag (1 bit)
Does not affect registers.
Does not modify registers.
Don't use stkp after PUSH.
Drop duplicates, except CC
EQP id of right-hand query
Either chngPk or chngRowid
Elements above are public.
Else returns 0 on success.
End of 1-char optimization
End the virtual table scan
Error message written here
Exif Attribute Information
Expand the current pattern
Expand the nassign buffer.
Expression to be appended.
FIXME: Should not be fatal
FTSQUERY_PHRASE expression
Fetch a page by key value.
Filename in UTF-8 encoding
Fill in the azColumn array
Finalize the journal file.
Find an existing tokenizer
Find the lowest cost path.
Finish unless -g was given
First PmaReader to compare
First WhereLoop to compare
First allowable cell index
First arg to busy callback
First page of the database
Flags for sub-WHERE clause
For byte_sequence_compare.
For pg_connection_status()
For scanning through pCell
For testing, remove later.
For use by application VFS
Free a WhereInfo structure
Free space for next result
Full path to database file
Full pathname of this file
Function to call when busy
GC must be done after read
Generate code into this VM
Generate code to this VDBE
Get a page from the pager.
Get the local shared locks
Go through the input array
Handle non-enclosure field
Handle that must hold lock
Hash the supplied password
Hash value for the element
Hence it has its own case.
Highlight-mask for snippet
IN operator used as a loop
IN/OUT pointer to a buffer
IN/OUT: Pointer to poslist
IN/OUT: SegmentNode handle
IP and port conversion box
If it is we must truncate.
If so, no action is taken.
In this case it returns 1.
Incrementally read one PMA
Index Name      Table Name
Index everything by number
Index of constraint to use
Index of first cell to add
Index of loop to report on
Initialize context as NULL
Input text being tokenized
Integrity checking context
Interfaces to extend FTS5.
Invalid 0xfe or 0xff bytes
It does not really matter.
It's not a block algorithm
Iterator for output string
Journal file must be open.
Jump here if the key is OK
Jump out of the pTerm loop
Just be sure not to block.
Keep picky compilers happy
LEFT DOUBLE QUOTATION MARK
LEFT SINGLE QUOTATION MARK
LINTED bug in header macro
Language being queried for
Last element in link-list.
Last token of best snippet
Leading separators, if any
Left hand child expression
Left-most SELECT statement
Less than 0 if not needed.
Linux getrandom(2) syscall
List of function arguments
List of tables in the join
List of triggers to return
Local cache of vfs pointer
Lookbehind or named define
Loop counter 0..nSnippet-1
Loop for multiple comments
Low-level file information
Lowercased unqualfied name
MUST BE DESTROYED MANUALLY
Mark message copied if any
Mask of FTS5_TOKEN_* flags
Mask of all ORDER BY terms
Max database page to write
Maximum page size is 64KiB
Maximum value of fts5yyidx
Memory allocation function
MessageFormatter functions
Minimum PMA size, in bytes
Minimum required file size
Module destructor function
Must be right after "base"
Mutex controlling the lock
N Zip archive inconsistent
NOTE we don't use _UNICODE
NULL creates a new SrcList
Name context for container
Name of collating sequence
Name of file to be deleted
New Pager.aSavepoint array
New segment within pStruct
New version of subfile tag
Newly allocated winShmNode
Next entry in sorted order
Next in a list of them all
Next object in linked list
Next phrase instance index
Next unused scratch buffer
No need to search  iChild.
No triggers will be fired.
Node number of parent node
Normal (non-error) return.
Normal case - r-tree scan.
Now compare the magnitude.
Now count remaining bytes.
Now make the output string
Number of 8-bit characters
Number of additional bytes
Number of bytes in the key
Number of bytes to return.
Number of columns in index
Number of columns in pIdx.
Number of columns in table
Number of constraint terms
Number of cursors required
Number of deferred imm fk.
Number of docs in database
Number of entries in apCsr
Number of entries in apSub
Number of entries in array
Number of phrase instances
Number of phrases in query
Number of sets used so far
Number of tables to check.
Number of tokens in phrase
OK to factor out constants
OK to return IN_INDEX_NOOP
OK to update SQLITE_MASTER
OO, Coding style component
OO, Quantization component
OS functions to use for IO
OUT: Bytes actually loaded
OUT: Error message, if any
OUT: Pointer to hash index
OUT: Size of array *pazCol
OUT: User data for *pxFunc
OUT: Write the answer here
OUT: term (nul-terminated)
OUTPUT: Declared data type
Object used to lock page 1
Obsoleted by DTrace probes
Offset in pointer map page
Old version of subfile tag
On the upwards pass, or...
One instruction is enough.
Only the first error is ok
Only to silence a warning.
Open a new statvfs cursor.
Open session handler first
Open the kdecomp.dat file.
Optional block size to use
Original name of the table
Otherwise use no affinity.
Otherwise we're in runtime
PG_VERSION - libpq version
PHP Authentication support
Packet length, main header
Page size of main database
Parse any width specifier.
Parse context for sub-vdbe
Pass back current position
Pause time in microseconds
Phrase to advance token of
Pointer to a static string
Pointer to current poslist
Pointer to save as auxdata
Pointers to phrase objects
Position of token in zText
Position read from poslist
Pre-allocated UnixUnusedFd
Prepare for the real work.
Preserve the text encoding
Prevents a race condition.
Previous index in the loop
Previous with the same zTo
Process a "special" query.
PseudoTable input register
RESULT fault code, else 0.
RIP-relative in amd64 mode
RO, Codeing style defaulte
ROWID value for this entry
Read the compressed header
Read the wal-index header.
Real value of left operand
Reduction in fragmentation
Register a trace function.
Register for RowSet object
Register holding max rowid
Register storing resulting
Register the derived class
Remove for recursive calls
Remove the xxx_node entry.
Rename the new to the old.
Replace with JsonNode.iVal
Reset label length counter
Restore fudged end_subject
Restoring previous options
Restrictions (22) and (24)
Retrieve matchinfo() data.
Return code from execution
Return early if not found.
Return last error message.
Return value must be freed
Returns from this function
Returns the current domain
Reverting stack is needed.
Root page of table to open
SELECT may not be DISTINCT
SELECT statement to encode
SLJIT_EXECUTABLE_ALLOCATOR
SQLITE_OMIT_FLOATING_POINT
SQLITE_OMIT_LOAD_EXTENSION
SQLITE_OMIT_SCHEMA_PRAGMAS
SQLITE_STATUS_MALLOC_COUNT
SQLITE_STATUS_PARSER_STACK
SQLITE_STATUS_SCRATCH_SIZE
SQLITE_STATUS_SCRATCH_USED
SQLITE_USER_AUTHENTICATION
Saved syscall error number
Saving the previous value.
Schema of the terms table.
Schema used for this query
Search an ephemeral b-tree
Second part of index name.
See COLFLAG_ defines below
See also: Prev, NextIfOpen
Segment to iterate through
Send mail to all Cc rcpt's
Serial type to deserialize
Set false for more content
Set initial value of temp.
Set up pointers and others
Setting the security name.
Shift the array up by one.
Shift the lookahead token.
Should never be executable
Shutdown the mutex system.
Single term in FROM clause
Size of buffer at aDoclist
Size of index key in bytes
Size of source db in pages
Sizes of deleted documents
Software written by Ian F.
Sort data from this cursor
Sorter cursor to read from
Source database connection
Space for azColumn strings
Start of subject assertion
Storage module to write to
Store match begin and end.
Store the page number here
Strip any trailing slashes
Structure object to return
TODO: Array index overflow
TODO: better error message
TODO: get rid of "bogus"..
TODO: write some code here
Table into which to insert
Table this step applies to
Take a copy of the sample.
Task that owns this merger
Temp area for cell content
Temp file for level-0 PMAs
Term/rowid iterator object
Test all CHECK constraints
Test calling panic from C.
Test for Python-style defn
Thanks to "Super Pikeman."
Thanks to Frank Warmerdam.
The ".FFF" may be omitted.
The LHS of the IN operator
The RHS of the IN operator
The SELECT has been coded.
The SrcList to be enlarged
The USING clause of a join
The affinity to be applied
The boolean index is empty
The compressed file stream
The data of the new record
The database file to check
The definition of this CTE
The different query plans.
The element to be inserted
The expression of the term
The expression to evaluate
The first node of the scan
The full division routine.
The index we will be using
The key must be a MEM_Int.
The last item *must* be 0.
The left-most column is 1.
The list must be in order.
The longest anonymous name
The matching pSrcList item
The number of pcache slots
The object to be destroyed
The opcode to be commented
The original LIKE operator
The root page of this tree
The schema has been loaded
The setting is persistent.
The size of a single frame
The source or pattern file
The specific ORDER BY term
The symbols being reduced.
The table being referenced
The text is reversed here.
The tree being checked out
The value is stored in *v.
The whole SELECT statement
The word is reversed here.
There are P2 tables total.
There's something to read.
These checks are done:  1.
These repeats aren't empty
This continuation matched.
This is compiling for real
This is the xRowid method.
This just seems unessacary
This leads to link errors.
This must be less than 32.
This term is already coded
Timezone offset in minutes
Tokenizer argument strings
Tokenizer for this cursor.
Top of the index fill loop
Total bytes of data (incl.
Total number of I/O Errors
Total sizes of each column
Transfer-Encoding: chunked
Trigger Name    Table Name
True for a prefix iterator
True for descending docids
True for highlighted terms
True for temp files (incl.
True for unindexed columns
True if I/O errors persist
True if RHS must be unique
True if aOverflow is valid
True if arguments are desc
True if cache is purgeable
True if info.nKey is valid
True if satisfies ORDER BY
True to ignore delete-keys
True to omit this if found
True to use prefix-indexes
Try to find class directly
Try to hit the cache first
UDateFormatStyle constants
UNumberFormatTextAttribute
Unlock-notify cb to invoke
Use of ONEPASS not allowed
Used to catch return codes
Used to loop through terms
Used when p4type is P4_MEM
User authentication failed
VFS to use for this b-tree
Value of 'pagetype' column
Value of 'pgOffset' column
Value to return via *ppIdx
WHERE clause on PK columns
WHERE clause term to check
We count parameters from 1
We give an explicit error.
We re-read metadata for PS
We will make a new file ID
When reg cannot be unused.
While doing so, set nWork.
While this sounds somewhat
Width of the current field
Work out number of chunks.
Write 'message' to syslog.
Write high-water mark here
Write the MergeEngine here
Write the page out to disk
Write the standard header.
Write-ahead log connection
X-scaled Sinc(x) function.
Yield from root references
active (normal) connection
allocate and prepare query
allocate buffer for double
and 6 stands for Saturday.
and can be safely ignored.
and the parameters, if any
argument is a UID sequence
attempt to reduce exponent
build the array of objects
cannot put the data - skip
cdb doesn't support delete
check if we have any param
check_liveness: not needed
clear overloaded function.
close files opened earlier
close the statement handle
copy non escaped character
copy underlying tcp fields
count does not include NUL
counting static properties
current position in pInput
current position in zInput
current status is unusable
declare the class handlers
defined(SQLITE_ENABLE_ICU)
defined(SQLITE_MUTEX_NOOP)
defined(SQLITE_MUTEX_OMIT)
determine soap array type.
directly encode characters
do we have a direct access
don't do server-based sort
don't initialize to 0 : 1.
else no access log are set
enable SSL transport layer
entry and update the cache
error during read occurred
events have been triggered
exception are IFD pointers
exclude UHC extension area
execute serverside command
expand to 1 byte per pixel
expected a stream resource
extended fcall end handler
extended statement handler
fetch default locales list
fill up the WBMP structure
for REGISTER_INI_ENTRIES()
for now fetch only one row
free lists for small sizes
free request-bound globals
free temporary bind buffer
from vdbeSortSubtaskMain()
functions from metaphone.c
get OCI_ATTR_SERVER_STATUS
get all status information
get first parameter handle
hack to clean up the stack
iPrevTrunk is initially 1.
if PHP_FILEINFO_UNCOMPRESS
if subject is not an array
ifndef SQLITE_AMALGAMATION
ifndef SQLITE_OMIT_TRIGGER
initialize local variables
initialize_result_set_rest
invalid character in count
invalid method parameters"
items are slightly special
jump:  P2 holds jmp target
length of converted string
let's quote all the values
locale specifies a codeset
malloc the extension array
map the buffer to a block:
maximum code, given n_bits
may need more than 16 bits
mmap() space per open file
mode flags for opening fds
motorola is easier to read
no -tokenlen+tokenlen here
no ctor no args is also ok
no decimal point was found
no entity on this position
no error set in the handle
now determine where we are
now extract the public key
now we have no pool memory
number of candidate colors
number of named substrings
numbers with leading zeros
only fastcgi will get here
only for oci_fetch_array()
only these two are allowed
options with boolean value
our types are not unsigned
pCrsr NULL on PseudoTables
pHighwater is set to zero.
pIdx is not a UNIQUE index
parse the data source name
pass 5: - CFG optimization
pass 6: - DFA optimization
pass the underlying object
passive connection handler
pg_description.description
preferred is buffered read
prevent circular unsetting
prevent infinite redirects
private subtag start found
proceed to remaining data:
rbu_control value ('x.x.')
read a chunk into a bucket
read-only across the board
remember this slot as free
remote client disconnected
remove the event from port
replace unicode code point
reset bits from 0 to "bit"
return the original string
returning data as a string
rt.c: bcmath library file.
run code from command line
search key and new file ID
search start-position only
see if it has an id (key).
set bits from "0" to "end"
set default timeout values
set up hash pointers table
sets the ftp transfer type
shrink the allocated block
skipping the padded spaces
so we know what to cleanup
space padding, the default
split and decode the query
split archives not handled
sqlite3_status() needs it.
src2 and src1 are swapped.
stat information passed in
statement returns a result
still zero iff exact match
strip of the target if any
strip trailing whitespaces
supposed next slot is free
switch the drain direction
temp for arithmetic coding
the LHS of the IN operator
the human readable status.
too many levels of nesting
triggered also if DIFF_KEY
truncate for error message
try to use it as a moniker
turn on proxy file locking
tweencolor cache functions
type for top-level pointer
type of the previous token
underlying file descriptor
unset user-defined handler
update xtra for next call.
use scope of passed object
use the global environment
using a prepared statement
value, key, retval, values
verbosity of generated xml
verify that it is suitable
wait for events or timeout
warnings sent, bailing out
we can not fit this string
we can return a real value
we don't support JIS X0213
we need to save the state.
where to store the events.
will be filled in on fetch
xBegin - begin transaction
xRename - rename the table
zend_compile() replacement
"BMS" means "BitMask Size".
("EOF" means "End Of File".
*pHighwater is set to zero.
...only first file examined
2: The operation is a read.
A +/- character is allowed.
A Cosine windowing function
A Sub-term within the pOrWc
A column in the result set.
A struct has key/val pairs.
A width value was supplied.
AC00-D7A3 Hangul Syllables.
AIX doesn't have LOG_PERROR
ARRAY_INFO(0, extrainfo, 0)
ARRAY_INFO(0, matrix3x3, 0)
Absolute level just updated
Add a FD to to kevent queue
Add a record to the sorter.
Add pPage to the dirty list
Address of OP_OpenEphemeral
Address of initial segment.
Address of jump instruction
All duplicates are adjacent
Allocate temporary storage.
Allocate the string memory.
Already setup for this key.
Also reset the TEMP schema.
Also, today's epoch, 1 A.D.
Always RTREE_GEOMETRY_MAGIC
Always set to avoid warning
An entry in the input array
And the BLOB type is first.
And to delete index entries
Argument checking features.
Argument to pass to xNotify
Array for named subpatterns
Array of replacement values
Array of subpattern offsets
Array of trailing arguments
At the moment, I am unsure.
Based on "Hacker's Delight"
Begin file fts3_tokenizer.c
Begin file fts3_tokenizer.h
Bias search to the high end
Bind to a local IP address.
Blob value for "root" field
Block id of first leaf node
Both cannot be switched on.
Both for OP_COND, OP_SCOND.
Break intentionally missing
Btree page of current entry
Buffer containing leaf data
Buffer containing next term
Buffer containing page data
Buffer containing root node
Buffer to merge doclists in
Build environment pair list
Built-in count(*) aggregate
Bump the current X position
But that is no longer true.
Byte order is little-endian
Byte-length of string zStop
Bytes content per ovfl page
Bytes of PMA space required
Bytes of data stored in pFd
CONST_PERSISTENT is ok here
Call sqlite3_declare_vtab()
Callback function to invoke
Canonicalize array elements
Check for key annihilation.
Check if we have a CDF file
Check if we have a tar file
Checking configure timezone
Clean up temporary storage.
Coalesced Instance Iterator
Code for the character type
Compile time client version
Compiled regular expression
Compute first digit of b/d.
Compute the limit registers
Condition that must be true
Conditional block does not.
Connect to a remote address
Constants for curl_setopt()
Constants with IN operators
Continue down into children
Control never reaches here.
Convert currency to UTF-16.
Convert path to unix format
Convert timezone to UTF-16.
Cost of path (pFrom+pWLoop)
Could match an empty string
Count the number of digits.
Create a new PCache object.
Create intermediate result.
Create/Update exif headers.
Create/open the named mutex
Current name is a substring
Current stack segment size.
Current term read from page
Cursor assigned to each bit
Cursor number for the table
Cursor pointing at blob row
DEBUG and TESTING functions
Database holding the object
Database name (e.g. "main")
Database only autoinc table
Database page-size in bytes
Deallocate a KeyInfo object
Decoding value of parameter
Decomposition into subterms
Default/Implicit properties
Deinitilaise module globals
Delete a "ascii" tokenizer.
Destination database handle
Destination for coroutine A
Destination for coroutine B
Destructor for the aux data
Different number of columns
Disabled if not using stat3
Do a double word increment.
Do both phases of a commit.
Do not use it for new code.
Do this zero or more times.
Docid to read size data for
Does the table have a rowid
Don't bother checking again
Done, break out of for loop
Double precision constants.
Drop a page from the cache.
E000-F8FF Private Use Area.
ENTRY POINT for conversions
EPSV failed, let's try PASV
Either or both may be NULL.
Enable mutex on connections
End of fts3_tokenize_vtab.c
End of interior node buffer
End the database scan loop.
Enforced by btreeInitPage()
Error if hit end of pattern
Error messages written here
Error on empty input string
Expression list to resolve.
Extra initialization needed
FTS5_STRING, AND, OR or NOT
Fall through into OP_Rewind
Fallback to "string" filter
Fetch the error information
File descriptor to write to
Filename as passed to xOpen
Finalize all SQL statements
Find pairs with same sense.
Find the name of the index.
Find the start of the year.
First argument to xCodec...
First time through the loop
First token of best snippet
Flags to sqlite3BtreeOpen()
For each aggregate function
For pg_transaction_status()
Foreign key index for pFKey
Form 1:  Analyze everything
Forward search if possible.
Found the named subpattern.
Frame to read from WAL file
Functions exported from Go.
Get sun up/down and transit
HALFWIDTH IDEOGRAPHIC COMMA
Handle a literal character.
Handle single-char matchers
Head of the last recursion.
Height of this node in tree
Here we set the check info.
Highwater mark for nCurrent
How many levels of subquery
IN/OUT: Pointer into buffer
INPUTS RESULT XMLRPC_VALUE.
INSERT or UPDATE operations
If not found, return FALSE.
If not,  it can be ignored.
If there is a doclist-index
Illegal value to initialize
Implementation of random().
Implemented as a co-routine
In both ASC and DESC order.
Incrementally write one PMA
Index of function argument.
Index of new output segment
Index of rbu_control column
Index of the new VdbeCursor
Index on key columns in pTo
Index to consider domain of
Indexed column is the rowid
Initialize the VDBE program
Initialize the name-context
Initialize the return array
IntlDateFormatter functions
It consists of three parts.
It is even worse than that.
It is in the public domain.
It needs to be rolled back.
Iterator to read input data
Just recording the address.
Language id for current row
Last step, update free_size
Length of aDoclist in bytes
Length of the current match
Length of the string so far
Length of z in bytes (excl.
Let Y be some other thread.
Let's double the table size
Limit register for select-A
List of columns to extract.
List of expressions to scan
Lite does not support C API
Locate the insertion point.
Lookup the name in the hash
Loop for comment characters
Loop over the format string
Low byte is not accessible.
MYSQLND_COMPRESSION_ENABLED
Macros for troubleshooting.
Make sEnd point to the end.
Mark a single page as clean
Marks the end of extra data
Mask for three values above
Mask of FTS5INDEX_XXX flags
Mask of configuration flags
Mask of src visited by (..)
Max dlidx tree height of 32
Max length of an SQL string
Maximum PMA size, in bytes.
Maximum allowed allocation.
Maximum salt string length.
Multi-segment-reader handle
Multiply a fixed by a fixed
Must prevent duplicates ...
Mutex to access this object
NULL is automatically added
NULL(default) for FAILUREs.
Name context of this SELECT
Name of the proxy lock file
NameContexts can be nested.
Needs to be a multiple of 3
New colset object to return
New element added to the pH
New hashtable for the stack
New row data is stored here
Next database page to write
Next in BtShared.pLock list
Next value in position list
Next() is noop if positive.
No directory only file name
No further checks necessary
No need to shift the value.
Non-suggogate BMP codepoint
Non-zero on any differences
Normal ldr/str instruction.
Not a valid start character
Not everything is nestable.
Notify of page size changes
Nul-terminated URI to parse
Number of SHARED locks held
Number of block extensions.
Number of bytes in a varint
Number of bytes in aPoslist
Number of bytes in buffer z
Number of bytes in the BLOB
Number of bytes to allocate
Number of cells on the page
Number of elements in aList
Number of elements in apVal
Number of iterators/phrases
Number of loaded extensions
Number of non-benign errors
Number of objects on pFresh
Number of rows in the table
Number of segments to merge
Number of terms in the join
Number of the page to fetch
OP_OpenRead or OP_OpenWrite
ORDER BY of joins via index
OUT: Ending offset of token
OUT: Error message (if any)
OUT: Frame number (or zero)
OUT: Malloced result buffer
OUT: Parsed query structure
OUT: gid to set on the file
OUT: uid to set on the file
OUT: visibility of the cell
Obtain the page at pgnoRoot
Offset to get elements from
Offset to the second branch
Omit unused tables in joins
One of the three will be 1.
Only one flag value allowed
Open a cursor on zDoc/nDoc.
Open a new database handle.
Open an already loaded phar
Open the storage sub-system
Optional work factor to use
Order of subpattern matches
Otherwise return SQLITE_OK.
Otherwise, return an error.
Otherwise, set *pbRes to 0.
Otherwise, use "rbu_rowid".
Otherwise, we have a match.
Out-of-Order hidden columns
P3 is always either 0 or 1.
PS has already allocated it
Page 1 of the database file
Page size for host database
Parent row data starts here
Path of the file to examine
Perl style string increment
Phrase object to initialize
Pointer to a new child page
Pointer to sub-list content
Pointer to the index object
Position of token in phrase
Positive forward assertions
Prepare for the next round.
Preserve the application id
Prev() is noop if negative.
Prevent by getAndInitPage()
Process a pragma statement.
Process string values only.
Pull the requested columns.
RIGHT DOUBLE QUOTATION MARK
RIGHT SINGLE QUOTATION MARK
Real value of right operand
Record to read varints from
Register 'Locale' PHP class
Register used with OP_Gosub
Release the page reference.
Remove a FD from the fd set
Replace all *_' with space.
Reserved for Cray Research.
Reset the inverse color map
Restart the backup process.
Restore Content-Type Header
Restore if not zero length.
Restore the return address.
Result code of a subroutine
Return SQLITE_CORRUPT_VTAB.
Return the length of YYSTR.
Return the new journal mode
Return the new name length.
Return without further ado.
Returns with the othercase.
Returns zero if successful.
Right hand child expression
Root page of current object
Root page of scanned b-tree
Row-major ever since gd 1.3
Rowid of last value written
Run through the tokenchars.
SKIPZERO skips the bracket.
SQL statement 1 (see above)
SQL statement 2 (see above)
SQLITE_ENABLE_LOCKING_STYLE
SQLITE_OMIT_AUTOMATIC_INDEX
SQLITE_OMIT_COMPOUND_SELECT
SQLITE_OMIT_INTEGRITY_CHECK
SQLITE_OMIT_OR_OPTIMIZATION
SSL config for this request
Save the transparent color.
Saving the previous values.
Schema containing the table
Search strategy (see below)
Second PmaReader to compare
Second callback for SELECTs
See also sqlite3PagerGet().
See also: allocateCursor().
See golang.org/issue/12210.
Set al to conditional flag.
Set the maximum error count
Set to 1 when TABLE matches
Set up our overridden path.
Set up the necessary values
Sets CPU and IO priorities.
Setting the security level.
Should be free'd by caller.
Show abbreviation if wanted
Simple register allocation.
Single precision constants.
Size of allocation at aData
Size of each scratch buffer
Size of input text in bytes
Size of master journal file
Size of open blob, in bytes
Size of sibling on the left
Size of term zTerm in bytes
Size of the record in bytes
Sizes of inserted documents
Skip consecutive whitespace
Skip to next top-level test
So do nothing in this case.
Some compilers never learn.
Sort order for each column.
Source of new entry objects
Start of option with offset
Start talking to ftp server
Store allocated handle here
Store the name and decltype
Structure of specific index
Successfully handled a verb
TODO1: Updating pgidx here.
Table Name      Column Name
Table Name      Module Name
Table p is a virtual table.
Take care with CRLF partial
Term searched for (or NULL)
Term to seek to (or NULL/0)
The "NEAR" node (FTS5_TERM)
The CJK compatibility area.
The LHS of the rule reduced
The ORDER BY clause or NULL
The SQL table being indexed
The VDBE under construction
The combined READER/HANDLER
The connection to be closed
The connection to be opened
The database being vacuumed
The database file is locked
The database schema changed
The expression is a column.
The field width is "width".
The fixer to be initialized
The id is always a node-id.
The json_each virtual table
The loop to adjust downward
The low 8 bit must be zero.
The main database structure
The major token code number
The major token to shift in
The page being overwritten.
The pager being played back
The pointer map page number
The result is always UTF-8.
The return address register
The row containing the glob
The rowid we are to seek to
The second is a table name.
The server signalled error.
The sljit ceneric compiler.
The string collected so far
The table being constructed
The table we are writing to
The underlying mmapped file
The virtual database engine
The wal-index is transient.
The where level to be coded
Then break out of the loop.
Then the co-routine yields.
This cell was just inserted
This is a code duplication.
This is an mmap page object
This is called in parallel.
This is compiling for real.
This is that dummy pointer.
This item can't be repeated
This means we have a match.
Thus we can not use strlen.
Thus, the name is size - 1.
Total number of allocations
Total number of blocks read
Total record (payload) size
True (1) if Y,M,D are valid
True (1) if h,m,s are valid
True for a root-only reader
True for an ephemeral table
True for first term on page
True if " " flag is present
True if "+" flag is present
True if "-" flag is present
True if "l" flag is present
True if cache must be reset
True if journal file exists
True if the doclist is desc
True if the terms are equal
True if this frame is valid
True if this op is a delete
USE_POSIX_API_REGION_OPTION
Underlying file is readonly
Unicode character database.
Unique file ID for vxworks.
Use at least one from xtra.
Use index only - omit table
Used by VdbeSorterCompare()
Used to iterate through FKs
Used to iterate through VMs
Used when p4type is P4_REAL
Used when p4type is P4_VTAB
VFS to use with this b-tree
Value extracted from pLower
Value extracted from pUpper
Value extracted from record
Value for "end_block" field
Value from parent table row
Value is a VdbeFrame object
Value of k is out of range.
Value to return in *pnEntry
Value to return via *paiCol
Value to return via *pnBind
Value to return via *pnPage
Values of cookies to verify
Values to bind to statement
Virtual machine being coded
Virtual table configuration
Virtual table cursor handle
WHEN clause for the trigger
WIN32 always set ISREG flag
Wagner All rights reserved.
Wait for sem 1 to be zero .
Warnings from sqlite3_log()
We support that for legacy.
Websites and infrastructure
When in doubt return FALSE.
Where the new search starts
Where to put code (updated)
Which coordinate to extract
Write the lower case table.
Write the page pointer here
Write the result table here
Write the title case table.
Write the upper case table.
Written 2004, Phil Knirsch.
Zero the contents of pRoot.
add custom envelope headers
add roots into list to free
add to the appropriate hash
add.c: bcmath library file.
after modifiers comes width
allocate the event resource
and a minus sign, if needed
anonymous open of newsgroup
backup things and jump back
bare string - nothing to do
become process group leader
bitmask (see defines above)
break intentionally missing
break intentionally omitted
break is left intentionally
break missing intentionally
break omitted intentionally
buffering is off by default
build properties hash table
by the Gregorian calendar).
call func with error notice
callee - removing ourselves
cdir spans past EOCD record
check that we have a string
command table to be scanned
compare element numerically
composite PRIMARY KEY value
consume the remainder first
convert HTML numeric entity
create all required sockets
create regex pattern buffer
create the background color
cut out bogus OID and retry
debug protocol negotiations
default compile-time values
didn't find boundary, abort
directly encoded characters
div.c: bcmath library file.
do some specialized cleanup
do utf16 part of the strpos
empty, but position changed
enable data conn encryption
enable extended info output
env exists, but it is empty
evaluate constant unary ops
even though it is the conch
f2/f3 could introduce media
failure in get_current_data
figure out what we're doing
fill level in output buffer
finally, delete the element
find the entry in the array
flags controlling this file
for __halt_compiler lexing.
for downwards compatibility
for import/export functions
frees uresult even on error
functions from versioning.c
get precision of the column
get_iterator implementation
handle modules / extensions
header_offset unused in tar
http authentication options
idle--, active++, request++
if decimal point is present
if the wp prefix is not set
im, points, num_points, col
initialize global variables
initialize vararg mechanism
let IB parse it as a string
matched it and printed type
mount the file just in time
move past hostname and port
nChar must be non-negative.
neg.c: bcmath library file.
no coercion for array types
no destination (i.e: store)
no non-delimiter characters
no user security identifier
now we have non-pool memory
number of rows in the table
optimized single assignment
out of range for timestamps
override original function.
password message is to long
porter rule condition: (*o)
preserve the next character
prevent null-byte poisoning
prevent overflow in openssl
process printable character
process the remaining bits:
put it back the way it was.
query matches native syntax
re-index like it did before
release all output handlers
requested method not found"
reset all fields to default
return a PHP control object
set charset for old servers
set flags from command line
set up HOME and USER anyway
setting string is too short
should be pattern encoding.
simulate output of libmysql
skip non-significant digits
skip version made by/needed
so can index -MAXJSAMPLE ..
so point to rightmost pixel
sqlite3OsRead() return code
sqlite3_reset() return code
sqlite3_user_data() context
store persistent connection
sub.c: bcmath library file.
tab1 must not have triggers
the buffer we actually used
the count using a callback.
the directory to be watched
the registry of PDO drivers
they both have to be long's
this is implicitly required
this should not happen ever
tm_year is years since 1900
too many forward references
try to avoid breaking words
undefine AIX-specific macro
unix (and dos) line endings
unload prev errs into array
unlock failed with an error
unregister rebind procedure
until here it is not a copy
up to six digit millisecond
use prepared stmts for that
use wid for vertical stroke
validate UTF-8 string first
we are completely hosed now
we can create an io context
we don't want resource id 0
we'll flush them at the end
we'll use a siginfo handler
xmlrpc_none if not a value.
zNum is a 19-digit numbers.
zSpan holds DB.TABLE.COLUMN
"SELECT *" statement on zTbl
"like" or "glob" or "regexp"
"stat" column of stat1 table
0 is  returned in this case.
1: The operation is a write.
1: file 2: memory 0: default
2) suffix must match 3) no .
2: Open cursor 0 for reading
5,6) headers of the message.
5: Table is a virtual table.
7, 6 and 5 are not possible.
8-byte alignment of pageSize
A single node of parsed JSON
A syntax error has occurred.
ARRAY_INFO(0, parameters, 1)
ASCII range token characters
ATTACH p AS pDbname KEY pKey
Actual size of mapped region
Address of OP_Explain (or 0)
Advance to the next document
All above except SYNCHRONOUS
All triggers indexed by name
Allocate memory for the ping
Allocate required registers.
Allocate the parsing context
Alternative data destination
Argument passed into xTask()
Argument to pass to function
Argument to profile function
Array of target column types
Assigned value is never used
Bail out early in this case.
Bail out if we can't recover
Be compatible with libmysql.
Begin file fts3_tokenizer1.c
Begin reading at this offset
Bitmap of additional columns
Btree cursor used for pIndex
Btree this cursor belongs to
Buffer containing page-index
Buffer to write page data to
Build up text to return here
Built-in unlikely() function
But no harm is done by this.
Bytes in string, or negative
Bytes to allocate for PCache
CAPI3REF: Online Backup API.
CONTINUE and BREAK addresses
CONVERSIONS for struct ucred
Calculate the initial guess.
Calls catch_exception_raise.
Change the value of a limit.
Check for dynamic properties
Check for explicit anchoring
Check for namespace constant
Check the second level cache
Clean  up and report errors.
Clear the WhereLoop.u union.
Clear the extra-lines buffer
Collect "def" and "use" sets
Column of last value written
Commit by truncating journal
Compare pReadr1 and pReadr2.
Conflict resolution strategy
Constants for Parser options
Construct the schema tables.
Contains aggregate functions
Contains the function entry.
Content is irrelevant for 1.
Context for the sanity check
Continue with current branch
Control does not reach here.
Conversion to number failed.
Copied from upstream's libgd
Copy over the sequence table
Copyright (C) 2000 Philip A.
Count named back references.
Count of matched subpatterns
Create a "porter" tokenizer.
Create an "ascii" tokenizer.
Create an empty hash object.
Curl nullable string options
Current WITH clause, or NULL
Current authentication level
Current number of savepoints
Current overflow page number
Current row as a Stat4Sample
Cursor for this UNIQUE index
Cursor number for the sorter
Cursor to create snippet for
DELETE, or UPDATE and return
Database in which to run SQL
Database lock protocol error
Database page size in bytes.
Database size before freeing
Decrement to avoid overflow.
Default single-char op codes
Default value of this column
Delete a "porter" tokenizer.
Delete after closing if true
Delete shared-memory if true
Depth of the SAVEPOINT stack
Desired number of arguments.
Destination is palette based
Did not find .mgc, restore q
Disable mutex on connections
Do initial permutation (IP).
Do not write content to disk
Do some initial calculations
Do this before any decoding.
Drop the AT_FIRST_YIELD flag
Drop this bracket_backtrack.
Else use the unmodified path
Encrypt the key with itself.
End of MatchinfoBuffer code.
End of POSIX syntax handling
End of bitmap class handling
Enlarge a memory allocation.
Execute zSql on database db.
Expression for MATCH queries
Extract encoding from string
F900-FA2D Han compatibility.
FROM clause term being coded
F_UNLCK, F_RDLCK, or F_WRLCK
Failed to write file to disk
Fall through into OP_AggStep
Fall thru into the next case
Fallback to the copy stemmer
False for overflow page list
Field containing pattern end
File descriptor for database
Filter used with cursor pCsr
Fixed by Mao Morimoto 2.0.16
For all other records, zero.
For detecting the page size.
For looping through segments
For pg_set_error_verbosity()
For rmin and rmax iterators.
For z/OS, config.h is forced
Free Willy (here be crashes)
Free an sqlite3_value object
Free previous message if any
Fsync the WAL header if true
Fts3MultiSegReader to modify
General case, use recursion.
Generate code into this VDBE
Get size of security buffer.
Get status of next character
GetVersionEx() is deprecated
Grow the buffer if required.
Handle open on database file
Head of in-memory chunk-list
I/O methods on journal files
ICU library collation object
IN/OUT: Elements in *paRight
IN/OUT: Mask of phrases seen
IN/OUT: Right/output doclist
IN/OUT: SegmentWriter handle
IN: Size of poslist in bytes
INFRINGES ON USER NAME SPACE
IPv6 catch-all + IPv4-mapped
Identify the output register
Idx of column in child table
If it is a NULL, return 0.0.
If there is data, jump to P2
If true, write dlidx to disk
If we have something like C:
Illegal use of this function
Implied first min-heap entry
Increases the stack pointer.
Incremented with each change
Index of changed index field
Index of database to analyze
Index of parent of each node
Index of previous free chunk
Index of the database to use
Info for single OR-term scan
Information about this WHERE
Initial bulk allocation size
Initial checksum value input
Initialize the master block.
Initialize the mutex system.
Initialize the result string
Input JSON text to be parsed
Instead delete and recreate.
Interface to code in fts5.c.
Internal function prototypes
Invoke the profile callback.
Invoke this callback routine
Invoked by sqlite3FaultSim()
It always returns SQLITE_OK.
It is never written to disk.
It is not always meaningful.
It is the first on the page.
It's too flawed to consider.
Jump here to skip this query
Jump to here if not distinct
Keep the original link size.
Key for WITHOUT ROWID tables
Last byte of buffer to write
Left hand side of comparison
Length of replacement string
Linked list of main db files
List of dirty pages to write
List of entries using pRight
List of user defined columns
Load the FTS index structure
Locate the table in question
Locking style specific state
Main loop to read CSV fields
Makes OP_Jump below testable
Map's the T to its new index
Mask of OLD.* columns in use
Mask of exclusive locks held
Maximum file pathname length
Mean longitude of perihelion
Memory mapped page to return
Minimum legal index key size
Miscellaneous initialization
Must disable after (*ACCEPT)
NEVER(x) asserts x is false.
NOT* safe for binary strings
NULL-terminate modifications
Name assigned to this module
Name of the new SQL function
Need some type of error here
Needs investigation, though.
New vdbe frame to execute in
Next function with same name
Next the case-flipping table
No alternative is available.
No digits have been scanned.
No need for a binary search.
No need for a separate index
Normal read/write connection
Normalization form constants
Note: src1 is NOT immediate.
Now build the character set.
Now hook it up to the source
Number instances seen so far
Number of attached databases
Number of bytes in text at z
Number of bytes in zPathname
Number of errors encountered
Number of function arguments
Number of leaf pages flushed
Number of leaf pages written
Number of pages left to copy
Number of rows in the result
Number of tokens seen so far
Number of users of this page
Number of valid bytes in zDb
Numeric type of left operand
OP_CCLASS can match mb-code.
OUT: Allocated Fts3SegReader
OUT: Bytes of string content
OUT: New sqlite3_vtab object
OUT: Number of frames in WAL
OUT: Rank function arguments
OUT: Trbul number of columns
OUT: UPDATE statement handle
Obtain the current thread id
Offset of first byte to lock
Offset of first term on leaf
Offset of record to playback
Omitted if leaf flag is set.
On destruct return 1 else 0.
On success return SQLITE_OK.
One column in the result set
One iterator for each phrase
One of the JSON_ type values
One of the WhereLoop objects
Only called if really needed
Only the row can be changed.
Only works on i486 hardware.
Opcode that opens the sorter
Open a new Fts5Index handle.
Open file descriptor on path
Otherwise look for the name.
Otherwise, break everywhere.
Otherwise, it may pass NULL.
Otherwise, return SQLITE_OK.
Otherwise, use strerror_r().
P1 must not be pseudo-table.
PGroup this cache belongs to
PROT_CHANGE_AUTH_RESP_PACKET
Parent key index for this FK
Patch up the ORDER BY clause
Phrase to return doclist for
Pointer to Fts5Global object
Pointer to cell-pointer area
Pointer to nul-term of zCopy
Pointer to page cache object
Pointer to phrase expression
Pointer to the "extra" space
Points to the marked string.
Pop the parser's stack once.
Populate the overflow cache.
Position list (no 0x00 term)
Possibly relative input path
Powers of two are not biased
Preference to built-in funcs
Prescan some rows of pixels.
Prevent overflow error/crash
Process an UPDATE statement.
Produce the multibyte output
Propagate these bits up tree
R/M field with register (/r)
RENAME TO or ALTER TABLE ...
RESULT fault string, else 0.
Rc flag (see ALT_SET_FLAGS).
Read the first integer value
Read-only page is acceptable
Reclaim all malloced memory.
Register SNMPException class
Register a profile function.
Register holding ROWID value
Register used by each index.
Release the provider handle.
Remove pPage from dirty list
Remove the xxx_parent entry.
Reset the checkpoint-header.
Resolve the GROUP BY clause.
Result of a successful parse
Results of parsing argc/argv
Results: FAILURE or SUCCESS.
Return NULL if malloc fails.
Return SQLITE_OK on success.
Return WRC_Prune on success.
Return code from subroutines
Return newly allocated color
Return the default_rc value.
Return the number of errors.
Return the system page size.
Return the value of a column
Returns from recursive calls
Rollback all database files.
Root node of rtree structure
Routine for en/decoding data
Rowset of rows to be updated
S Closing zip archive failed
SQL function implementations
SQL statement to delete rows
SQL statement, UTF-8 encoded
SQLITE_ENABLE_STAT3_OR_STAT4
SQLITE_STATUS_PAGECACHE_SIZE
SQLITE_STATUS_PAGECACHE_USED
SQLITE_WIN32_FILEMAPPING_API
SQLite function call context
SQLite will never do either.
Samples of the left-most key
Sanity checking on the page.
Scan a floating point number
Scan the table of verb names
Scanning the necessary info.
Schema containing this index
Second code generation pass.
Section Filters Declarations
See also: Rowid, MakeRecord.
See the manpage for details.
Selects no more than one row
Set if global data is loaded
Set the szLeaf header field.
Set to true if out of memory
Set up appropriate ctrlFlags
Shut up the compiler warning
Size of buffer pBuf in bytes
Size of buffer pOut in bytes
Size of buffer pRec in bytes
Size of buffer zDoc in bytes
Size of each buffer in bytes
Size of increments to stack.
Size of journal file on disk
Size of read buffer in bytes
Size of segment just written
Size of sibling on the right
Size of term prefix in bytes
Size of term suffix in bytes
Size of the rendering buffer
Size of the zAuthPW in bytes
Skip pages already processed
Skip the other alternatives.
So we are forced to probe it
So, we will not do anything.
Some systems have stricmp().
Sorter key to copy into pOut
Special case: No FROM clause
Spill is ok, but do not sync
Start writing at this offset
Startup extensions mechanism
Statement under construction
String rep is nul terminated
Sub-vdbe for trigger program
Successfully created session
TMP1 returns with begin - 1.
TODO: Translate known names.
TODO: do_alloca, free_alloca
TODO: handle 64 bit properly
TODO: namespace isn't stored
Table *p is a virtual table.
Term.pExpr is an IS operator
Test for access permissions.
The FTS table to delete from
The P4 operand as an integer
The P4 parameter is not used
The VFS used to create pDbFd
The WHERE processing context
The WhereOrSet to be updated
The character is lower case.
The character is title case.
The character is upper case.
The complete WAL information
The cost of DESTROY is O(N).
The current piece of subject
The definition of the module
The element that matches key
The file can be a directory.
The format field code letter
The function calling context
The key we are searching for
The latter hasn't been moved
The name of the VFS is NAME.
The negative sign if needed.
The newly created page cache
The open cursor on the table
The public SQLite interface.
The query under construction
The result set of the SELECT
The results in an exception.
The schema of the expression
The string being accumulated
The subexpression broken out
The table of operator names.
The three function arguments
The underlying database file
The work was all in the test
Then clear the array itself.
Then zero the original node.
There are two possibilities.
There was once an "if" here.
These are mutually exclusive
They serve two purposes:  1.
This function is deprecated.
This is a Perl 5.10 feature.
This is a hack to support it
This is always non-negative.
This is not a real checksum.
Thread that will run pMerger
Thus it's ok to return here.
Thus we have to follow it :(
Title: Affine transformation
Tokenizer creation arguments
Total internal fragmentation
Trigger definition to return
True for an UPDATE or DELETE
True if a header read failed
True if attempting to append
True if entry is not a match
True if this is a TEMP table
True if zBuf is static space
True to enable core mutexing
True to enable full mutexing
True to enable memory status
True to inhibit all file I/O
True to skip deleted entries
True to trace VDBE execution
True to use onepass strategy
UColAttributeValue constants
ULocDataLocaleType constants
UNumberFormatStyle constants
UTF-8 encoded SQL statement.
Unaligned read is supported.
Usable size of mapped region
Use ExprList.u.x.iOrderByCol
Use the standard inner loop.
Used reduced-size Expr nodes
Used to iterate through aAll
Used to iterate through zArg
Used when p4type is P4_INT64
Uses the skip-scan algorithm
VDBE has completed execution
Value for Fts3Phrase.iColumn
Value of 'mx_payload' column
Vector of values to consider
Virtual table of this cursor
Virtual-table cursor object.
WHERE clause of trigger step
When in doubt, return false.
Write any error message here
Write data to a blob handle.
Write this value to the list
XXX this doesn't look right.
YYERRORSYMBOL is not defined
YYNRULES -- Number of rules.
YYSTR is taken from yytname.
Zenkaku kana to hankaku kana
Zero or more SORTFLAG_* bits
Zero terminated and dequoted
actual extraction done later
add a reference for the hash
add the FD if not already in
add the last one to the list
add types for this signature
add variable to symbol table
after argnum comes modifiers
all charsets are compiled in
allocate an array for return
avoid libc5 readdir problems
backup globals when cleaning
buffer for IPC_STAT, IPC_SET
build up the reverse mapping
but it's a shadow of private
but we only want the offset.
cached details from statfs()
calculate length after match
cdb_make dosn't know replace
check for login and password
clean up all the descriptors
clean up anything allocated.
clean up from last execution
compress consecutive CONCATs
compress consecutive ECHO's.
compression flag already set
could not create description
current error or pixel value
database was opened readonly
declared in this class, done
define the base filter class
defined(LIBXML_HTML_ENABLED)
defined(SQLITE_USE_MALLOC_H)
determine the statement type
do not generate HTTP headers
do not inform about in debug
do not recompute length here
do nothing, mptr already set
drop the temporary formatter
eType: Expression node type.
else, check for single value
entry in directory not found
error is set by writeheaders
error or unsupported command
evaluate constant expression
executor is already inactive
expat end of element handler
expecting a non-encoded word
expecting an encoded portion
extended fcall begin handler
filter out the response code
find the corresponding event
fixed size pattern node only
for UNREGISTER_INI_ENTRIES()
for() loop iterator variable
force stderr even on non tty
hankaku kana to zenkaku kana
if there are different types
includes zlib.h and setjmp.h
inconsistent NEWLINE options
indicates pending connection
init.c: bcmath library file.
initialise MIME type to none
internetwork: UDP, TCP, etc.
isOrdered for (pFrom+pWLoop)
lastErrno set by seekAndRead
leave previous item in place
list of tokens used in vocab
mark the event as registered
matching region of POSIX API
move roots into list to free
nArg of -2 is a special case
no interpolation needed here
no result set - not a SELECT
non public cannot be dynamic
normal text without encoding
not allowed, so fall through
not found, use initial value
not sure, if we need this...
note new location within tar
now enable ssl if we need to
object is alreay initialized
of ORDER BY terms satisfied.
offset to first byte to lock
opline where T is first used
or if the multiplier is zero
overflow or past end of file
pPage and up to two siblings
peak size of allocated pages
per-request startup function
porter rule condition: (*v*)
preferred is unbuffered read
pretty much apache specific.
prevent recursive invocation
public/private key functions
pull out the LSB of the port
pull out the MSB of the port
read data for next iteration
read the existing conch file
recurse through sub-elements
regular expression too large
remember possible key length
remove some insecure options
reset bits from "0" to "end"
restore the original handler
returns out of this function
root user should not do that
routines to handle JPEG data
rows selected by each column
same as TK_BITNOT, in1, out2
same as TK_ISNULL, jump, in1
set bits from "bit" to "end"
set memory status bit flags.
setup standard CGI variables
shift the extra to the front
skip some predefined headers
sources for mcrypt_create_iv
space determined at run time
sqlite3_int64, sqlite3_int64
sqlite3_step() verifies this
sqrt.c: bcmath library file.
start offset of data to read
take a byte from the source:
text can be internal strings
the lock-less list of events
this is for sure not allowed
this means string, not array
this used to be "metachar.h"
to avoid potential workspace
to force garbage collection.
translate to LockFileEx() op
triggered also when DIFF_KEY
try memory handlers in order
trying to compute the length
use 'FIELD' if name is empty
use UTF-8 mapping from ASCII
use default character tables
use pclose instead of fclose
user specified redirect code
value of function parameters
we are in the global section
we checked that it will fit:
we don't need run-time check
we have a non-valid entry...
we have to keep the order :(
write empty packet to server
x is the INTEGER PRIMARY KEY
xCommit - commit transaction
xEof - check for end of scan
xpath query from xpath_array
zero.c: bcmath library file.
zmsg should be passed by ref
"view", "trigger", or "index"
'.pubkey' for public key file
'Canadian_Aboriginal': Script
(*MARK) must have an argument
*************** Serializers *
+2 the original and the last.
0 means GCC is not being used
2.0.9: fixed by Thomas Winzig
A "normal" conditional group.
A connection to shared-memory
A false negative is harmless.
A term of the ORDER BY clause
A thread safe initialization.
AIX doesn't have LOG_AUTHPRIV
Absolute level to delete from
Access authorization function
Add all the subpatterns to it
Add an OP_ParseSchema opcode.
Additional delimiter argument
Address of the OP_Jump opcode
Address of the next freeblock
Adjust ancestry of this node.
Adjust the start of the year.
Advance the current PmaReader
Affinity of the LHS of the IN
Aggregate column length array
All tables in the FROM clause
Allocate the index structure.
Allocate the result set array
Allocates in the shared heap.
An existing page in the cache
An implied index of the table
An index associated with pTab
An non-ascii-range character.
Any other return is an error.
Append data to the wal-index.
Argument to xCommitCallback()
Arm v7 specific instructions.
Array of mmap'd *-shm regions
Array of nLevel level objects
Array of remaining idx values
Automatically expire on reset
BELOW: Height enforcement off
BUGS - horribly slow lookups.
Back pointer of the same list
Backtrack path: match failed.
Backward/Forward bit is fixed
Based on ext/standard/image.c
Basic codeunit error handling
Begin the search at this node
Binary representation of iNew
Both arguments are registers.
Both parameters are optional.
Break out of alternation loop
Buffer of at least nBuf bytes
Buffer used to hold a poslist
Busy handler timeout, in msec
But it is useful for testing.
Byte offset at which to write
Bytes of leaf data in segment
Bytes of payload on this page
Bytes to append to the prefix
Calculate "in" and "out" sets
Call to try make a page clean
Capture match offsets: yes/no
Cell extends past end of page
Check 3rd-6th bytes for 0x80.
Check for grandfathered first
Check for locking consistency
Checkpoint and close the log.
Checksum of last frame in log
Clean up class name var entry
Cleanup expired session data.
Compare the results directly.
Compare the trailing  fields.
Compare two ExprList objects.
Comparing signed and unsigned
Configured "cache_size" value
Conflict resolution algorithm
Constants without IN operator
Context for fts3ExprIterate()
Continue for next alternative
Convert days to hours at once
Convert pMem to type integer.
Convert the string to UTF-16.
Copy remaining data to buffer
Copyright 2000 Epinions, Inc.
Copyright 2001 Epinions, Inc.
Cost of running this subquery
Count down to first I/O error
Count rows changed by INSERT,
Create new execution context.
Create the indirection array.
Create the session pool's env
Current byte index in zString
Current bytes of pending data
Current number of allocations
Current outermost WITH clause
Current position in the array
Current size of database file
Current size of node in bytes
Current value of 'col' column
Cursor number of pseudo-table
Cursor number of the subquery
Cursor of table holding data.
Cursor returned by porterOpen
Cursor returned by simpleOpen
Cursor to retrieve value from
Default lookaside buffer size
Delete the image from memory.
Delete this when closing file
Delta to apply to the pattern
Destination of SELECT results
Destructor for pPtr (or NULL)
Destructor for the extra data
Different collating sequences
Disables and re-enables match
Disabling is an optimization.
Ditto for the local variables
Do a node lookup using zPath.
Do not allow EXCLUSIVE locks.
Do not use a rollback journal
Doesn't look like text at all
Double quoted '"' string ends
Draw the styled, brushed line
EAM   - It's worse than that.
END OF THE SMALL OBJECTS PAGE
ERROR: unknown delta operator
Eccentricity of Earth's orbit
Edge forward in the string...
Either way, we have an error.
End of the 'extern "C"' block
Ensure adequate test coverage
Escape ' and enclose in '...'
Everything checks out, set it
Existing WITH clause, or NULL
Expression pPhrase belongs to
Extend the stack our own way.
Extract a leaf from the trunk
FE30h CJK Compatibility Forms
FTS3 table snippet comes from
FTS5_STRING or FTS5_TERM node
Fall through into OP_Function
Figure out which set we need.
File handle open on target db
File name for write-ahead log
Final number of cells on page
Finally, we pad on the right.
Find and open actual ini file
Find or create the best match
First argument to xCallback()
First byte encodes the length
First byte of buffer to write
First character of input text
First look for an exact match
First namecontext in the list
First register in OLD.* array
First rowid on leaf iLeafPgno
First varint to store in hint
Flags for sqlite3_vfs.xOpen()
Flags that describe this loop
For OP_BRA and OP_BRAMINZERO.
For iterating through indexes
For looping over all siblings
Force an SQLITE_TOOBIG error.
Foreign key to find index for
Foreign key to get action for
Fourth parameter is passed 0.
Fts3 cursor for current query
Function has WSDL description
Function to possibly overload
GNU Unix Standard tar archive
Generate or use a private key
Get ID (key) of value or NULL
Get locale by specified type.
Get the results of the thread
Get the time, if they want it
Global (connection wide) data
Global storage initialization
HALFWIDTH KATAKANA MIDDLE DOT
HALFWIDTH LEFT CORNER BRACKET
Handle for accessing the file
Handle one file or directory.
Handle start of quoted string
Handle the optional arguments
Hash table for in-memory data
How to dispose of the results
However, it is not identical.
IN/OUT: Allocate from *ppFrom
IN/OUT: PendingList structure
IN/OUT: Right hand input list
IN/OUT: SQLITE_OPEN_XXX flags
IN: Elements in array *paLeft
If C is defined then so is B.
If both 'x' and the SELECT...
If not, call this corruption.
If offsets should be captured
If so, set the database to 1.
If the ending matches this...
If the file exists, it fails.
If true, skip the first field
If we haven't read everything
Implement the main merge loop
In either case exit the loop.
Index (0..Fts3Table.nIndex-1)
Index interior and leaf nodes
Index of PmaReader to advance
Index of child node in parent
Index of column in parent tbl
Index of column matching zCol
Index of containing database.
Index of second table in pSrc
Index of top element in stack
Index that owns this iterator
Information about each column
Initialize the PCache object.
Initialize the local lockdata
Initialize vdbe cursor object
Insert on a main table b-tree
Integer value of left operand
It must have only one branch.
It simplifies code elsewhere.
Iterator object to initialize
Journaled and ready to modify
Jump here if we hit the LIMIT
LIKE range processing address
Last entry on the pEntry list
Last memory cell in new array
Leaf cursor in SKIPNEXT state
Leave if the match is failed.
Length of an instruction word
Length of the parameter token
Level to iterate (-1 for all)
Like this:  "database.table".
Linked list of coded triggers
List of all WhereLoop objects
List of all chunk allocations
List of dirty pages to revert
List of tables in FROM clause
List of tables to select from
Locate the PRIMARY KEY index.
Lookup for the lang_tag match
Loop for items in this branch
Mask of FTS5_TOKENIZE_* flags
Mask of bits to set or clear.
Mask of query phrases covered
Maximum exponent is LONG_MAX.
May be changed in the future.
Memory cell containing record
Merge of a non-existing value
Merge the two position lists.
Move the *-oal file to *-wal.
NO, Start of packeter default
NULL out the unbound function
Name context for resolving pE
Name means:  "Distinct Fifo".
Name of column in child table
Name of database file to open
Name of database holding pTab
Name of the file being opened
Name of the file used for SHM
Never gets this far otherwise
New SOAP SSL Method Constants
Next integer will be a docid.
No more remaining characters.
Non-zero if in an error state
Not too pretty, but it works.
Now, search for the parameter
Number of COLNAME_xxx symbols
Number of VM memory registers
Number of bytes in the record
Number of bytes of data space
Number of bytes still to come
Number of cells in page pPage
Number of cells to add to pPg
Number of characters in zName
Number of columns in the data
Number of columns in this key
Number of elements in aIndent
Number of freelist hash slots
Number of function parameters
Number of locks in aTableLock
Number of phrases seen so far
Number of registers allocated
Number of unused pcache slots
Number of users of pInitMutex
Numbered group recursion test
Numeric type of right operand
OK, we can now run the match.
ON, Packet length main header
OO, Progression order default
OP_Copy must be used instead.
ORA-00022: invalid session id
OUT: "Score" for this snippet
OUT: Created tokenizer cursor
OUT: Number of bytes consumed
OUT: Number of bytes in token
OUT: Pointer to position list
OUT: Returned database handle
OUT: Size of buffer at *ppOut
OUT: Size of doclist in bytes
OUT: Space to write result to
OUT: Starting offset of token
OUT: Store cursor handle here
OUT: Write encoded frame here
OUT: size of doclist in bytes
Object to allocate and return
Offset of first rowid on leaf
Offset on new first leaf page
On success, return SQLITE_OK.
One or both operands are NULL
Operators and special symbols
Original SQL parameter values
Other than true/false setting
Otherwise original str param.
Otherwise, return  SQLITE_OK.
Output string - not real JSON
Output vector starting point.
P4 is a 32-bit signed integer
P4 is a 64-bit signed integer
PARTLY_WITHIN or FULLY_WITHIN
PROT_SHA256_PK_REQUEST_PACKET
PS_GC_FUNC()    - Perform GC.
Parse a complete JSON string.
Parser state when parsing URI
Part of a multi-token phrase.
Password used to authenticate
Path by which to filter zJson
Pathname of file to be opened
Phase 3: hash scramble + sha2
Pointer to one byte after EOF
Pointer to one of the indices
Pointer to the rbu_vfs object
Position just read from pList
Prefer to null the destructor
Probe for stat4 (if required)
ROUND_BIASED_without_Round_Up
Raise NUM1 to the NUM2 power.
Raw text of the SQL statement
Read data from a blob handle.
Register 'Collator' PHP class
Register PHP core ini entries
Register holding an index key
Registration / unregistration
Reset high-water mark if true
Result code from subfunctions
Result codes from subroutines
Result of a Windows lock call
Result returned by the thread
Return -1 if an error occurs.
Return 1024 times this value.
Return MARK data if requested
Return NULL if  malloc fails.
Return SQLITE_BUSY if unable.
Return TRUE if zFrom matches.
Return a pointer to the term.
Return code for this function
Return code from subfunctions
Return without doing anything
Returns an SQLite error code.
Returns from set_start_bits()
Returns number of freed bytes
Returns number of freed zvals
Right hand side of comparison
Rowid for the inserted record
SQL error or missing database
SQL statement, UTF-16 encoded
SQL used to find output index
SQLITE_ENABLE_COLUMN_METADATA
SQLITE_ENABLE_STMT_SCANSTATUS
SQLITE_IGNORE_AFP_LOCK_ERRORS
SQLITE_OMIT_LIKE_OPTIMIZATION
Schema containing the trigger
Search for the required lock.
Search point for the the leaf
Search the rowid of the table
Searching for the first zero.
See sqlite3BtreeCursorZero().
Segment term filter condition
Segment-reader for this token
Set *pnOut to the value read.
Set semaphore 1 back to zero.
Set the abort flag and return
Set the error count to three.
Set user's error text message
Similar is true for Mac OS X.
Simplified mnemonics: clrldi.
Size of buffer pData in bytes
Size of buffer zNext in bytes
Size of buffer zPrev in bytes
Size of pList as PMA in bytes
Size of pOrig region in bytes
Size of shared-memory regions
Size of term on leaf in bytes
Size of write buffer in bytes
So it needs to be freed here.
Sorted index for this segment
Start of range is constrained
Start with the fraction part.
State vector for the DB fixer
Statement holding cursor open
Stop if this was the last box
Stop if tried at original pos
Store result in a memory cell
String to return via *pzWhere
Struct for reflection objects
Stub for calling free from Go
Suspicious pointer arithmetic
Sync the master journal file.
TMP_REG3 is used for caching.
TODO emulate if not available
TODO: Support for TCP sockets
TUNING: Minimum for skip-scan
Table has keys only - no data
Table we are trying to access
Temp space used by merge-sort
Temporary file object wrapper
Temporary release of STR_PTR.
The ":SS.FFF" may be omitted.
The "NEAR" node (FTS5_STRING)
The "Select-ID" for this loop
The P5 parameter should be 1.
The PDO Database Handle Class
The STR_PTR must be released.
The VDBE cursor for the index
The VDBE cursor for the table
The VDBE has been deallocated
The VM that owns this context
The Z in X.Y.Z cannot be NULL
The base for radix conversion
The char contains its length.
The child table to be scanned
The chunks are cache aligned.
The columns of the result set
The complete new option state
The content of the whole page
The cursor to compare against
The db parameter is optional.
The encoding is given by enc.
The estimate is conservative.
The expression to be analyzed
The file descriptor for pFile
The flags specified at open()
The hash table to insert into
The inner query or "subquery"
The module for this tokenizer
The name of the schema table.
The number is greater than 1.
The number of notReady tables
The score for a perfect match
The selected WhereLoop object
The single value is an array.
The statement to bind against
The strings compare the same.
The table containing the blob
The third is the minor token.
The top of the parser's stack
The topmost item should be 0.
The varint is written to *pp.
There can only be one writer.
These are handled separately.
These cases are never obeyed.
This call deletes the object.
This case should work for GCC
This commits the transaction.
This is a (really) rare case.
This is an optimization only.
This is slow and works badly.
This may be greater than 256.
This must be done in advance.
This was the last allocation.
Total length of file in bytes
Total number of pages to copy
Total number of tokens in row
Total size of one pcache line
Transient list of dirty pages
Translate to dst origin (0,0)
True after snippet is shifted
True for 'notindexed' columns
True for FTS4, false for FTS3
True for a read-only database
True for a savepoint rollback
True for statements that read
True if a temp table was used
True if docids are descending
True if for internal use only
True if integer overflow seen
True if this cursor is at EOF
True if this is an OUTER join
True if we use the index only
True to grab the global stats
True to ignore empty segments
True to truncate db on commit
Type of expression node pExpr
UTF-16 encoded SQL statement.
Unlock the system-level locks
Unused dest is possible here.
Use as many args as specified
Use full fsync for checkpoint
Use full fsync on the backend
Use the incremental approach.
Use xsi:type if it is defined
Used by the fts5vocab module.
Used for the shared hashtable
Used locally for exec options
Used to iterate name contexts
Used to iterate through cells
Uses the OpenEphemeral opcode
Usually used in a tight spot.
VFS flags returned by xOpen()
Value for "start_block" field
Value returned by system call
Variant/ Extlang/Private etc.
Wait to finish sending buffer
We calloc, because we free().
What to do with query results
Where to put an error message
Which cookie to read or write
Won't happen, but set to NULL
Write data to an rbuVfs-file.
Write it out to the database.
Write it to the segdir table.
Write new cell into this node
Write the GIF file terminator
Write the new IncrMerger here
Write the sorted results here
YYNRULES -- Number of states.
Zero values greater than this
add " E" for escaping slashes
add one for string terminator
additional filters to go here
allow for thousand separators
allow room for NUL terminator
apply values from the dn hash
array of possible signatures.
attach to the service manager
bits are left-justified on b.
byteswap a single magic entry
certainely useless but proper
check for mounted directories
check for uncaught exceptions
clean up the input descriptor
constraints when stmt started
convert input array if needed
convert ms to timespec struct
convert the string to UTF-16.
copy central directory header
copy old contents in entirety
copy replacement and backrefs
copy to image, mapping colors
could not resolve address(es)
create a new phar data holder
database was opened writeonly
deallocates structure as well
debug.c: bcmath library file.
do we have a direct free slot
element value is not a string
else fall through for endonly
enabling when it's already on
end of the 'extern "C"' block
entries changed by initialize
enum UConverterCallbackReason
evaluate constant expressions
execute arbitrary ftp command
execute query with parameters
expects a language specifier.
extract the number of entries
fall back on IDispatch direct
fds for pipes in parent/child
fetch blob contents into hash
filenames are empty for stdin
find out which event occurred
find the number of extensions
flush the shift-out sequences
for AFP simulated shared lock
for exceptional circumstances
frees an interpreter context.
function as defined by PS_MOD
get a byte of the instruction
get collection element handle
get offset, then skip over it
get the font (via font cache)
if we talk to an old ftpd-ssl
ifndef SQLITE_OMIT_AUTOVACUUM
ignore partial string matches
initial values for increments
internal error: code overflow
is re-populated each EXEC_PRE
jump here if parent key found
lastErrno set by seekAndWrite
limit text/image from network
link in the gss authenticator
link in the log authenticator
list of huge allocated blocks
loaded module, but not needed
make it zero-based internally
make sure everything is saved
make the stdio mode be binary
mark first pages as allocated
mark the beginning of varargs
mark the old one for deletion
max size of input/output data
may warning, and return FALSE
nCol rounded up for alignment
needed for ssize_t definition
next try to create a new file
no need to check ignore case.
no text, so print child elems
not a relative path after all
not lang or grandfathered tag
not the same when in for-loop
null blob, all values to zero
number of allocated fragments
of the default ASCII testing.
only workers reach this point
open file to resolve the path
otherwise we already did this
overlay becomes quite opaque.
pOrderBy is really a GROUP BY
pWriter has an exclusive lock
parentheses nested too deeply
parentheses too deeply nested
pass the variant by reference
per-request shutdown function
pointer into main cache array
prevent serious memory issues
provide correct default value
pull data buffer into tmpfile
raise.c: bcmath library file.
read UID, GID from specialEnv
read cert from the named file
read requested data from SAPI
register additional functions
remove double slashes and '.'
remove this from the new phar
return resource when executed
return string to free storage
returns 0 for ok, 1 for error
rollback any outstanding work
same as TK_EQ, jump, in1, in3
same as TK_GE, jump, in1, in3
same as TK_GT, jump, in1, in3
same as TK_LE, jump, in1, in3
same as TK_LT, jump, in1, in3
same as TK_NE, jump, in1, in3
same as TK_NOTNULL, jump, in1
save start of file within tar
save this method in the cache
scale, round and offset brect
set up the passive connection
shortcut for most common case
signal that we're cleaning up
signature algorithm constants
simply skipping this new line
size of entire array in bytes
sizeof(MemPage)+sizeof(PgHdr)
skip already copied 0xFF byte
sqlite3AssertMayAbort() logic
sqlite3_create_collation only
sqlite_stat2 is now obsolete.
stick the string into the LOB
summon memory to hold the row
system method returns a const
the input value is untouched.
the specified altitude altit:
this is read-only, so it's ok
this used to be "metaphone.h"
threshold was rounded to zero
use our fopencookie emulation
use wid for horizontal stroke
varint containing prefix size
varint containing suffix size
vdbePmaReadBlob() return code
we deny permission to open it
we don't care about the first
we don't want resource type 0
we need val to be emalloc()ed
we only take string arguments
we're not going to free these
write out manifest pre-header
xCurrentTimeInt64 (version 2)
xFetch()'d data for this page
xGeom and xQueryFunc argument
xUnlock() decreases the lock.
y is bound safe at this point
*********** check oplog syntax
+2 for opening, closing quotes
- 4 bytes: Database page size.
0:   Operating system unknown.
1 if this is an exclusion set.
3 integers per phrase instance
4: Push the rowid to the stack
4: the checkpoint is underway.
A duplicate rowid value, or 2.
A general purpose loop counter
A single character of affinity
A sub-task in the sort process
A write transaction is active.
ARRAY_INFO(1, read_streams, 1)
Able to support an IN operator
According to earlier standards
Acquire a lock on the handle h
Add a new subitem to the tree.
Additional headers for NetWare
Address of "OP_Rewind iIdxCur"
Address of test for empty pSrc
Address of the OP_IfNot opcode
Adjust memory usage statistics
Affinity to use for comparison
Align size to 64-byte boundary
All UTFs use the same flag bit
All other code has file scope.
All the allocations succeeded.
Allocate required output space
Allocate space for the output.
Allocated size of zTerm buffer
Always map the code to itself.
An rtree virtual-table object.
And add it to the output array
Append length (before padding)
Append the new position offset
Append the node to this object
Append the rest of the pattern
Append the rowid to the output
Argument parsing API -- andrei
Argument to the trace function
Arguments to the format string
Arguments to userland function
Array of "seen instance" flags
Array of Fts3SegReader objects
Array of overflow page numbers
Associated database connection
At least this one VM is active
Authenticated as a normal user
Authentication Switch Response
Authentication not yet checked
BTree containing table to open
Base class used by SQLite core
Because IPK never has AFF_TEXT
Best to avoid the whole thing.
Bitmask identifying table iTab
Bounds of source pixels window
Breakup of pTerm into subterms
Btree handle holding this lock
Buffer to load WAL header into
Byte of 0's (future expansion)
Bytes of header sector written
Bytes of leaf page data so far
CFG back references management
Call static reflection::export
Candidate unixInodeInfo object
Case 4: A scan using an index.
Cells on page (0 for overflow)
Change to WRITER_LOCKED state.
Check btree cell sizes on load
Check for overflow - bug 61065
Check for unserialize callback
Check if a width was specified
Check next Implicit Result Set
Checksum on the header content
Checksum over all prior fields
Clean what we copied last time
Close all database connections
Closures are immutable objects
Coalesce adjacent free chunks.
Column containing best snippet
Column to extract from poslist
Comment to improve readability
Commute a comparison operator.
Compare against this WhereLoop
Compare size with this KeyInfo
Compare the strings using ICU.
Compute number of bytes mod 64
Configuration object to update
Configured by FCNTL_CHUNK_SIZE
Connection to watch for unlock
Constant "b" from BM25 formula
Content size or sub-node count
Convert a numbers to a string.
Convert strings to bc numbers.
Cookie value for main db files
Copy as many bytes as will fit
Core code generator functions.
Could be name define, else bad
Create a new one if necessary.
Current byte index in zPattern
Current index in output buffer
Current size of wal-index file
Current stack segment address.
Current value of 'term' column
Cursor pointing to a table row
Cursor to iterate through node
Cursor used to read input data
Database holding shared memory
Database holding shared-memory
Database is always well-formed
Database page number for frame
Database schema being analyzed
Debug print SQL as it executes
Decide the max_value: the max.
Default lookaside buffer count
Default to global filters only
Deferred search tokens, if any
Deprecated external interface.
Depth of condition subpatterns
Depth of node containing pCell
Destroy an existing tokenizer.
Destroy old array, add new one
Detect fixed iterations first.
Determine the type of a table.
Do not allow memory allocation
Do not delete from this cursor
Do not do the INSERT or UPDATE
Do not edit pragma.h directly.
Do not remove the casts below.
Do the b-tree integrity checks
Docs in descending rowid order
Don't attempt to call function
Double quoted '"' string start
Dynamically allocated strings.
EQ seeks only - no range seeks
Either the parent node or NULL
Enable checks for parsed files
Enable debugging if requested.
Encoding T1 of 'B' instruction
Encoding T2 of 'B' instruction
Encoding T3 of 'B' instruction
Encoding T4 of 'B' instruction
End of code taken from fossil.
End pointer of the first line.
Ensure return value is a value
Entry points for the DB engine
Estimated output rows per loop
Estimated size of this column.
Exported by mysqlnd_ps_codec.c
Extra space on the end of pIdx
Extra verbose when with __TEST
FROM clause element to resolve
FROM clause of the outer query
FROM clause term being indexed
FROM is not a subquery or view
FTS5 backend to iterate within
Fallback to the default filter
False for pseudo-table or vtab
Fetching non-WSDL mode options
Field containing pattern start
File is in the right directory
Fill in the abNotindexed array
Finalize a prepared statement.
Find beginning of salt string.
First argument to the function
First sorted list to be merged
First token of current snippet
Flipped and lower case tables.
For MS SqlServer compatibility
For looping over tables in pDb
Fortunately, no need to shift.
Forward declaration of methods
Found a wp with the same name.
Fts3SegReader object to return
Fts5 Backend to iterate within
Function name (nul-terminated)
Function to reinitialize pages
GLOB is always case sensitive.
Generate auto-index WhereLoops
Generate code to drop a table.
Generate the composition data.
Generate the subroutine return
Generic Aggregated conversions
Get the PIPE_BUF from pathconf
HALFWIDTH RIGHT CORNER BRACKET
Handle a real character class.
Handle format arguments if any
Handle grandfathered languages
Handle possessive quantifiers.
Handle the error in user space
Hash table of in-memory nodes.
Hopefully the cast fixes that.
How to deal with SELECt result
How to dispose of the results.
IN/OUT: First token of snippet
Identifiers have been resolved
If YYTABLE_NINF, syntax error.
If no result bind, do nothing.
If positive, shift that token.
If so, jump to instruction P2.
If undefined, make it a no-op.
If unsuccessful,  return NULL.
If we have matched a delimiter
Ignore this option altogether.
Implementation of xRollback().
Implements a UNIQUE constraint
Includes definition for u_char
Index of "the page" in pParent
Index of column in child table
Index of column in first table
Index of database housing pTab
Index of iDelete cell in pLeaf
Index of left-hand Fts5SegIter
Index of next entry to replace
Index of next field to compare
Index of statement to evaluate
Index of the column to extract
Index of the parameter to bind
Index of zColumn in row-record
Info about locks on this inode
Information about the function
Information for virtual tables
Initial value of write-counter
Initialize the fts3 extension.
Inotify Ocaml binding - C glue
Inspired loosely by William D.
Integer value of right operand
Internal logic error in SQLite
Internal types used by SQLite.
Invalid chunk length, truncate
Invoke the __toString() method
Invoke the given busy handler.
It is the the same as a no-op.
It must exist before the call.
Jump here if the jump is taken
Jump or Call flag - no operand
Label "C" in templates 3 and 4
Largest permissible value of i
Last sector might be truncated
Leaf pages in a "unit" of work
Leave WhereLoop.pLTerm intact.
Left subtree (smaller entries)
Length of an instruction word.
Length of the resulting string
Length of zAbsoluteName string
Level for the new search point
Level of current node or entry
List of triggers on table pTab
List of values being extracted
List to which to add the span.
Load all automatic extensions.
Locking done in library if set
Log a I/O error retry episode.
Lookaside malloc configuration
Loop for all the alternatives.
Looping over other all cursors
Low-level page-cache interface
Make sure chunk size is valid.
Make sure page is marked dirty
Map cursor numbers to bitmasks
Mark a data page as writeable.
Mask of all well-ordered loops
Mask of locks held by siblings
Maximum bytes of data to store
Maximum cost of a set of paths
Maximum supported path-length.
Move the subject pointer back.
Name of column in parent table
Name of database (e.g. "main")
Name of database within pSrcDb
Name of rank and rowid columns
Name of rbu db table (or null)
Name of the collating sequence
Name of the table to be locked
Name passed to create_module()
Needed to make MS Access happy
Neither argument is immediate.
Never called with prior errors
Next available winShm.id value
Next byte to write in WAL file
Next chunk on list of them all
No expansion, do next segment.
No renegotiation rate-limiting
No user-visible "rowid" column
Non-NULL for UPDATE operations
Normally, no code is required.
Not part of an OR optimization
Now handle the original range.
Now pass our field back to php
Number of OP_Once instructions
Number of arguments to VUpdate
Number of bytes in term prefix
Number of bytes in term suffix
Number of captured subpatterns
Number of elements in pTabList
Number of entries in aOnceFlag
Number of equality constraints
Number of extra columns needed
Number of fields in the header
Number of fields in the record
Number of levels in this index
Number of matching table names
Number of pages per doc loaded
Number of segment-iters in use
Number of segments not deleted
Number of tokens in the phrase
Number of unused bytes on page
Number of zero-bytes to append
OCIPing available 10.2 onwards
OUT: Filename component of URI
OUT: Global maximum cache size
OUT: Next overflow page number
OUT: Normalized text for token
OUT: Number of tokens in query
OUT: Position integer of token
OUT: Prepared statement handle
OUT: Size of WAL log in frames
OUT: Tokenizer (if applicable)
OUT: Write new node image here
Offset in zDoc of end of token
Offset of entry in pointer map
Offset of first type in header
One for the zero integer part.
One of several kinds of errors
One of the COLNAME_* constants
Only concurrent reads allowed.
Only do this if SSL is active.
Only has meaning after compile
Only used in legacy parse mode
Operation       Savepoint Name
Operations on page references.
Optimize one-character ranges.
Original I/O methods for close
Other kinds of condition fail.
Otherwise useTempTable is true
Otherwise, artifacting occurs.
Otherwise, leave it unchanged.
Output the final row of result
PCRE added it at release 8.34.
Page into which we are copying
Page is pinned until released.
Page size according to the log
Page size must be a power of 2
Palette based to palette based
Perform 1st shear (horizontal)
Playback savepoint pSavepoint.
Pointer to MatchInfo structure
Pointer to an array of results
Pointer to block from malloc()
Pointer to hash table to clear
Pointer to next record in list
Pointer to node data (or NULL)
Pointer to the end of the file
Points to the starting opcode.
Position lists for current row
Position of last value written
Pre-fork or spawn, if required
Precision of the current field
Prerequisites of the new entry
Pretend we already have a lock
Previous id read from aDoclist
Previous value read from pgidx
Previously generated index key
Print the digits on the stack.
Printf format string to append
Process data in 64-byte chunks
Process the next pattern item.
Protect the quoted characters.
Push FAST_CALL on unwind stack
Push an authorization context.
Query the value of journalmode
RIGHT JOIN not (yet) supported
RTREE_LE and RTREE_LT end here
Read data from an rbuVfs-file.
Rebuild cookies, env vars etc.
Reg with value of this column.
Register 'BreakIterator' class
Register SNMP Class properties
Register SQLite 3 Result Class
Register containing index name
Register containing table name
Register for ephem table rowid
Register holding Current table
Register holding maximum rowid
Register to hold name of table
Register to hold packed record
Release a reference to a node.
Release what we had, if we had
Releases a lock for SHM access
Remember if locale was changed
Remember, it's a colour circle
Remove terms smaller than this
Remove the cell from the node.
Replace the last recently used
Report failure to filter_alloc
Reset the start of match point
Resize the array if necessary.
Restore the cursor if need be.
Result code from this function
Result from sqlite3Reprepare()
Result of comparison operation
Return an error if we get here
Return closest available color
Return code from subprocedures
Return the current pager state
Return the current rowid value
Return the index of this cell.
Return value for this function
Right-child page number (or 0)
Root BTree page for this table
Rowid for record being decoded
Rowid in main table of the key
Rows less than the lower bound
Rows less than the upper bound
Rows processed for all objects
Rows visited by (pFrom+pWLoop)
SQL used to determine nLeafEst
SQLITE_ENABLE_COLUMN_USED_MASK
SQLITE_ENABLE_EXPENSIVE_ASSERT
SQLITE_STATUS_SCRATCH_OVERFLOW
SQLite scalar function context
Save for possessive optimizing
Scan past delimiter characters
Schema of the tokenizer table.
Score for the new search point
Second argument for valueNew()
Second varint to store in hint
See also sqlite3LocateTable().
See also sqlite3PagerLookup().
See also: OpenWrite, ReopenIdx
See further description below.
Set a prohibitively high cost.
Set from environment variables
Set of pages in this savepoint
Set some Embedded PHP defaults
Set the busy handler function.
Set the number of ranges used.
Setting the security protocol.
Sharable content of this btree
Shared part of btree structure
Should be always EODATA_MARKER
Silence some compiler warnings
Single step in trigger program
Size of allocation used for *p
Size of buffer at aNode (or 0)
Size of buffer pToken in bytes
Size of column value in tokens
Size of function name in bytes
Size of output buffer in bytes
Size of record header in bytes
Size of string aInput in bytes
Size of the cell being deleted
Size of the current data field
Size of the zMalloc allocation
Skip any separator characters.
Skip over any TK_COLLATE nodes
Sleep for nMicro microseconds.
Smaller, self-destribing enums
Smallest sample not yet tested
So when in doubt, return TRUE.
Sorry, I can't make use of it.
Sorter that owns this sub-task
Source and destination indices
Source database page to backup
Space for holding column names
Space to buffer journal writes
Start at end of previous match
Start of MatchinfoBuffer code.
Statement used to fetch segdir
String on RHS of LIKE operator
Stub for creating a new thread
Subsumed into restriction (3).
Subtask context (for pKeyInfo)
Success code from a subroutine
Support sqlite3WhereIsSorted()
Swap two objects of type TYPE.
Synthesized from VALUES clause
TMP1 is preferred if possible.
TODO: - Check zval cache + ZTS
TRUE if currently initializing
Table cursors are already open
Table list this loop refers to
Temporary storage for the page
Term to write to internal node
Terms that make up this phrase
Test all NOT NULL constraints.
That should be COM_FIELD_LIST.
The "OUTER" keyword is present
The FROM clause term to search
The PDO Statement Handle Class
The SQLite database connection
The VFS used to open this file
The WAL file to which we write
The WHERE clause to be scanned
The argument is an RtreeCoord.
The automatic index is partial
The bits used for last_capture
The code is already generated.
The code later relies on this.
The column containing the blob
The comparison was done above.
The compiler is not-reentrant.
The condition is an assertion.
The current leaf node is full.
The cursor for a virtual table
The cursor number of the table
The cursor used for this query
The data is a list of varints.
The database being initialized
The database has been modified
The database we are looking in
The expression to be analyzed.
The first element of the array
The function definition object
The function has P5 arguments.
The global PGroup for mode (2)
The new AtoF never returns NaN
The new mode call back routine
The number is between 0 and 1.
The number is some other base.
The others have a common form.
The page data is not required.
The pager this page is part of
The rScore is the primary key.
The return value is ALWAYS(X).
The routine to run as a thread
The shared memory being locked
The source value(s) to append.
The table containing the value
The tree is modified in place.
The value to apply affinity to
The virtual file system to use
Then something really weird...
Then we copy the input string.
There are Hash.htsize buckets.
There is already result bound.
There is no INDEXED BY clause.
There must be imposter tables.
These are merely placeholders.
These look like magic numbers.
These require special handling
This already contains bravalue
This code is logically tricky.
This file is used on unix only
This function always succeeds.
This is a one-time occurrence.
This is defined in tokenize.c.
This is legacy and deprecated.
This is likely to be an append
This is the PGroup.lru element
This is the value of the token
This is used for testing only.
This must be between 0 and 62.
This one doesn't exists on QNX
Thus the following two ALWAYS.
Time interval, in microseconds
Token (or prefix) to query for
Tokenizer to add exceptions to
Tokens as defined by rfc 2616.
Trace sqlite3VdbeAddOp() calls
True for "ORDER BY rowid DESC"
True for DESCENDING sort order
True for SQLITE_PRINTF_SQLFUNC
True if an IN operator is seen
True if auto-vacuum is enabled
True if in a write transaction
True if incr-vacuum is enabled
True if journal page is synced
True if p is a compound select
True if pParent is a root-page
True if reading to end of data
True if the delete flag is set
True to allow FTS4-only syntax
True to fail localtime() calls
True to scan from zTerm to EOF
True to use background threads
Two or more OR-connected terms
Uncommitted Hash table changes
Undefined hues always match...
Undo the speculative increase.
Unoptimized, but clear version
Use sizeof(int) bytes of input
Used to iterate through levels
Used to iterate through tokens
Used when p4type is P4_COLLSEQ
Used when p4type is P4_FUNCCTX
Used when p4type is P4_FUNCDEF
Used when p4type is P4_KEYINFO
User name used to authenticate
Usually needs to flush buffer.
VFS flags to open journal file
Value of RBU_STATE_STAGE field
Value returned by xInstCount()
Values for Fts5Cursor.csrflags
Variant is modified "in-place"
Version 1 of the callout block
Virtual table object to return
W before a vowel, else dropped
We have to realloc the buffer.
We only remove the hash entry.
We used the pathname directly.
What to do in state STATE-NUM.
Which entry in the FROM clause
Which read lock is being held.
Write content into this buffer
Write error here if one occurs
Write the case mapping tables.
Write the file descriptor here
Write the new column list here
YYNSTATES -- Number of states.
Zero or more UNIXFILE_* values
Zero the newly allocated slots
Zeroize sensitive information.
a pointer to a Token structure
add a reference for the caller
adjust the sign of significand
all negative values become -1.
alloc and clear active_pollfds
allocate and prepare statement
allocate the input descriptors
always fail if not implemented
and increment the usage count.
and send 1 for iteration count
break is missing intentionally
break is omitted intentionally
build the NEW.* reference row.
cache lookup for absolute path
check for ".phar" in extension
check if we got a 229 response
check redundant double repeat.
child to parent column mapping
clean up for bigendian systems
clean up on big-endian systems
clean up persistent connection
conch host and lock path match
consider the connection closed
convert the strings to UTF-16.
copied upon generator creation
copy out the dir from response
copy out the pwd from response
copy the value string for work
copy: enforce read only access
create an OCI statement handle
current distance in inner loop
dbsize field from frame header
decode the data from the array
default size is approx 4 bytes
define this to check semantics
defined(SQLITE_WIN32_HAS_ANSI)
defined(SQLITE_WIN32_HAS_WIDE)
divmod.c: bcmath library file.
do extra field for perms later
do not close stdout and stderr
do not output errors as values
does not happen for round-near
eCreate value for for xFetch()
elif defined(HAVE_FOPENCOOKIE)
error supposedly already shown
expat start of element handler
failed to generate bind struct
first type is the return value
for ONIG_MAX_ERROR_MESSAGE_LEN
found one, register it for use
fstat() info for database file
get 4 bytes of the instruction
get a lock on the array itself
get something useful out of it
getput_arg_fast returned true.
handle re-open of snmp session
holder for the second property
how far we've computed the CRC
if JSON_OBJECT_AS_ARRAY is set
if it's changed into a warning
if the content length is zero.
ifndef SQLITE_OMIT_FOREIGN_KEY
ignore 'n', 't' or other stuff
in the beginning of the dialog
init the filter class ancestor
invalid form: don't change *sp
invalidate cached format types
invalidate the buffer contents
is a child, nothing to do here
libcurl expects long datatype.
load the Function from the DLL
local structures and defines *
loop chunks to find BMHD chunk
malloc was used to store value
map a string to an xmlrpc type
map an xmlrpc type to a string
memory device output functions
might use Sys V memset(3) here
n:     Size of zBase in bytes.
names for leap (13-month) year
needed for mysql_multi_query()
needle is converted into wchar
no domain name may exceed this
no mapping to unicode required
no need to test the var 'full'
no overflow possible up to now
now store the name of the lock
now we can add our information
number conversion flags checks
number of bytes in instruction
output.c: bcmath library file.
pAux passed to create_module()
parameters  : 'queue' pointer.
pcre_maketables.c notices this
position-list size field value
prepare for the next iteration
query an agent with GET method
query an agent with SET method
readwbmp and writewbmp(stdout)
really convert the utf8 string
receive Server welcome message
recmul.c: bcmath library file.
register single spl_autoload()
registers holding insert rowid
release current cached element
reset bits from "bit" to "end"
resolve nth opline breakpoints
restore forced restart request
return if parameter is missing
return the days after March 21
rmzero.c: bcmath library file.
save modified files to the zip
say "no" to other stream forms
scale G distances by this much
scale R distances by this much
see if we encountered an error
send the AUTH TLS request name
set id (key) if one was found.
set the connection to be ascii
should be before push mem-end.
skip global/file headers (pax)
sqlite3_finalize() return code
sqlite3_io_methods object name
starting offset in the subject
strip POST headers on redirect
summon the aggregation context
support for introspection spec
table clear for block compress
there's always room for 1 byte
this is not a constructor call
this is where the match starts
this should be a thumbnail IFD
throw away any blocked signals
try and open it directly first
turn auto-commit back on again
use Net-SNMP value translation
var    Number of bytes of key.
verifyDbFile() warnings issued
we could have it if we want it
we didn't find it in the hash.
we got our dispatchable object
we need to decompress the data
we need to prune the list - cc
we output 'no input file' now.
we're here courtesy of longjmp
whoops: sockfd has disappeared
work left to right in this row
work right to left in this row
(c) 2004-2007 Andrei Nigmatulin
(c) 2007,2008 Andrei Nigmatulin
+1 or -1 depending on direction
0-based execute iteration value
1 - Always have a control head.
1:   Operating system is Win9x.
1: Acquire a read or write lock
1s timeout if none has been set
2:   Operating system is WinNT.
3: Open cursor 0 for read/write
4 byte range: Unicode 16 planes
8-bit immediate (sign extended)
@return zval* Converted string.
A WhereTerm under consideration
A completely parsed JSON string
A list of columns to be indexed
ADD" statement has been parsed.
ARRAY_INFO(0, other_options, 1)
ARRAY_INFO(1, write_streams, 1)
Add the term to the terms index
Address at which row is visited
Address of rows visited counter
Address of test for empty pDest
Address of the end of the query
Adjust downward, as appropriate
Advance at least as far as this
Advance zCsr to the next token.
All output needs to be distinct
Allocate exact page if possible
Allocate nByte bytes of memory.
Allocate the destination buffer
Allocate workspace for box list
Allowed values of VdbeOp.p4type
Always add a new error instead.
Always exactly one alternative.
Always restore the mark setting
Always set in non-unicode case.
An SQLITE_MISUSE error occurred
An array has only index values.
Any kind of inner or cross join
Argument to SQLITE_FCNTL_PRAGMA
Argument to xRollbackCallback()
Array of indexes for this table
Array of offset to rowid fields
Array of shared library handles
Assign the next variable number
Assign the number and clean up.
Assumes len is a multiple of 4.
Assumes len is a multiple of 8.
Auxiliary database format error
Bail out if it's not an object.
Begin file fts3_tokenize_vtab.c
Begin with this column of pList
Bell filter, default radius 1.5
Best snippet score found so far
Blocks allocated for leaf nodes
Braces are required because the
Btree to change journal mode of
Buffer containing position list
Buffer containing previous term
Buffer to serialize record into
Buffer to use for loading pages
Buffer used for any other block
Built-in coalesce() or ifnull()
But pName should never be NULL.
But pSpan should never be NULL.
But we were allocated pgnoMove.
Byte offset within current leaf
Bytes of payload stored locally
Bytes of space to allocate here
Cache configuration parameters.
Call it a "virtual meta value".
Call to try to make pages clean
Can't right-pad 0's on integers
Cannot EXPRDUP_REDUCE this Expr
Carry on with non-JIT matching.
Check for deprecated directives
Check the content overflow list
Checking zero-length iteration.
Clean up and return the number.
Clear all column cache entries.
Close with last statement close
Commit by deleting journal file
Compute number of bytes mod 128
Computed column name as a token
Conflict resolution algorithms.
Consider each argument in turn.
Constant "k1" from BM25 formula
Constant expression is reusable
Construct the WhereLoop objects
Containing WITH clause, or NULL
Contents of master journal file
Convert a number NUM to a long.
Convert given string to UTF-16.
Convert given symbol to UTF-16.
Copy of idxNum search parameter
Correct this if it is the case.
Cosine filter, default radius 1
Count non-delimiter characters.
Create a "unicode61" tokenizer.
Create a new IdList if need be.
Create a new auxiliary function
Create an ICU number formatter.
Current merge state (see above)
Current node image to append to
Current offset in position list
Currently in a positive assert.
Cursor P1 is on an index btree.
Database containing the trigger
Database filename UTF-8 encoded
Database size after this commit
Debug listings of VDBE programs
Default to global wrappers only
Defines for debugging purposes.
Delete a "unicode61" tokenizer.
Delete a P4 value if necessary.
Delete the master journal file.
Destructor for BtShared.pSchema
Do a binary search with 5 steps
Do not optimize this for speed.
Do not read the page from disk.
Do not sync the journal if true
Do not use an index-only search
Docid of the row pCsr points to
Does not change the other bits.
Does not exist, add a new entry
Drop the temporary PENDING lock
Duplicate named group used test
Else we have a capturing group.
Encoding T1 of 'BL' instruction
End switch over the format type
Enforce foreign key constraints
Enter section data lookup state
Eponymous table for this module
Error message codes for OP_Halt
Estimated number of output rows
Estimated number of result rows
Everything else is PPC-64 only.
Execute prepared SQL statement.
Execute the regular expression.
Expression to return via *ppNew
Extension to which this belongs
Extra dependencies on LEFT JOIN
Extracting bit difference info.
FIXME - Work out proto_num here
FIXME: Implement request source
FIXME: Implement session source
FIXME: make this work for win32
FIXME: support for more opcodes
FROM clause not a virtual table
FROM clause term being analyzed
FTS5 EXTENSION REGISTRATION API
Fall through into the next case
Fall thru into the default case
File descriptor for sub-journal
File descriptor open on db file
File format to use for encoding
File handle we are reading from
File offset to begin writing at
File path associated with error
Find out what flags are present
Find the soap object and assign
Finish with a read transaction.
First byte of cell content area
First byte of the locking range
First char must be alphanumeric
First copy the longer fraction.
First element already in pEntry
First increment the byte count.
First position in position-list
Fix this now if it is the case.
Flags passed through to the VFS
Flags this file was opened with
Floating point status register.
For HTTP/1.0 conforming clients
For HTTP/1.1 conforming clients
For each expression in the list
For looping over bytes of pCell
For looping over result columns
For looping over tables in pSrc
For sizes MX_SMALL+1 and larger
Function used to reclaim memory
GOTO label for end of CASE stmt
GOTO label for next WHEN clause
Generate a single row of result
Generate loop termination code.
Generate the case mapping data.
Get necessary buffer size first
Global data used by this cache.
Grab and send back every cookie
HALFWIDTH IDEOGRAPHIC FULL STOP
Handle  grandfathered languages
Handle repeated back references
Handle the various field types.
Handles, amongst others, "nfs".
Help the compiler to know that.
How many seg-readers to advance
How much extra memory is needed
How to handle constraint errors
If N is out of range, return 0.
If there is no match, return 0.
Ignore and just look for RBRACE
Ignore terms with these prereqs
Implementation of xOpen method.
In any case, it's not unsigned.
In this case ignore stat3 data.
Incremented with each busy call
Index of column in second table
Index of constrained coordinate
Index of current page in apPage
Index of database holding TABLE
Index of first token in snippet
Index of new first cell on page
Index of right-hand Fts5SegIter
Indexed column is an expression
Initialize a DbFixer structure.
Initialize a PMA-writer object.
Initialize the memory allocator
Initialize the node to no-match
Insert into hash collision list
Install our own signal handler.
Intentionally the other opcode.
Interface to the testing logic.
Internal href try and find node
Invoke the callback once if the
It has all the context it needs
It is thus a re-entrant opcode.
Jump here to skip excluded rows
Just log the error and move on.
Language id to return cksum for
Language id used with tokenizer
Largest docid for all iterators
Last digit is defined by scale.
Last update statement (or NULL)
List of VALUES() to be inserted
List of active virtual machines
List of binary trees of entries
Load composition exclusion data
Macros for performance tracing.
Make sure it looks like a float
Malformed or multiple newlines.
Mark literals of specific types
Marker for "currently visiting"
Mask of FTS5INDEX_QUERY_X flags
Mask of phrases already covered
Mem.z points to a static string
Memory available for allocation
Memory avaliable for allocation
Memory cell to write value into
Memory register used by AUTOINC
Memory usable by this allocator
Min and max heap requests sizes
Mode to pass to walCheckpoint()
More terms for ARRAY and OBJECT
Move on to the next alternative
NOT flag for header lines fetch
Name of OS function that failed
Name of database within pDestDb
Name of system call to override
Name of the column of the table
Name of the table to be updated
Next available unixShm.id value
Next field of pPKey2 to compare
Next in linked list (see above)
Next in list of deferred tokens
No form with immediate operand.
No harm comes from returning 0.
No more rows, or no fetched row
Non-alphanumerics are literals.
Number of ORDER BY clause terms
Number of TryBeginRead attempts
Number of arguments used so far
Number of bytes in buffer zRoot
Number of bytes in buffer zTerm
Number of bytes in current term
Number of bytes of cell payload
Number of bytes of header space
Number of bytes required for *p
Number of columns in parent key
Number of columns in result set
Number of columns in the result
Number of columns in this table
Number of conch taking failures
Number of elements left to test
Number of entries in this table
Number of fields in test sample
Number of frames in pFrame list
Number of internal buffer hits.
Number of key columns in pIndex
Number of level-0 PMAs to merge
Number of matching column names
Number of memory cells required
Number of pages in the LRU list
Number of pages in the database
Number of pages on the freelist
Number of phrases in expression
Number of reader locks obtained
Number of registers to allocate
Number of sub-vdbes seen so far
Number of syntax errors so far.
Number of user columns in table
Number of virtual machine steps
OP_Compare: use the permutation
OUT: *ppToken is the token text
OUT: *pzToken is the token text
OUT: Bitmask of phrases covered
OUT: Columns for imposter table
OUT: New value object (or NULL)
OUT: Number of phrases in query
OUT: Score of snippet pFragment
OUT: Size of root node in bytes
OUT: True if iterator is at EOF
OUTPUT: Collation sequence name
Object used to write leaf nodes
Obtain the STATIC_MASTER mutex.
Obtain the page from this cache
Offset to overflow page number.
Offset to start writing file at
Offset to the cell content area
One for each column cache entry
One of OE_None, OE_Cascade etc.
One of PASSIVE, FULL or RESTART
One of TK_UNION, TK_EXCEPT etc.
Only for cumulative operations.
Only used to silence a warning.
Open connection to the WAL file
Open it now so this can happen.
Optimize adding the first item.
Optimized for English alphabet.
Original text of the expression
Original, innermost WhereClause
Otherwise an SQLite error code.
Otherwise it returns with zero.
Otherwise no conversion occurs.
Otherwise, load it into memory.
Output leaf pages left to write
Output register from the sorter
Outputs: A pointer to a parser.
Overwhelmingly the most common.
POSIX locking (the default), 2.
PRAGMA secure_delete is enabled
Packet length, tile-part header
Pages from root to current page
Permissions to create file with
Pointer to DNS_RECORD structure
Pointer to Fts5InsertCtx object
Pointer to current file mapping
Pointer to function information
Pointer to previous term buffer
Pointer to the data to be bound
Pointer to the start of payload
Pointer to tokenizer hash table
Pointers to names of parameters
Points to definition if a view.
Pop FAST_CALL from unwind stack
Position of token within column
Possible E_STRICT error message
Pragma Name     1st arg or NULL
Preallocated, blank file handle
Prevent reentrant handler calls
Process nested bracketed regex.
Protect against corrupt headers
Protocol must be "tcp" or "udp"
Put error message here if not 0
R/M field with op code (/digit)
Re-position to original element
Read blob data into this buffer
Read the length of the section.
Read the specified cookie value
Reader to advance to next docid
Reallocate string and return it
Register 'DateFormat' PHP class
Register 'Normalizer' PHP class
Register P3 is the accumulator.
Register a VFS with the system.
Register namespaces in the node
Release memory back to the heap
Replace pTo with the candidate.
Report errors here, if not NULL
Requires rather complex checks.
Reset in-process realpath cache
Response for one-way opearation
Restrict matches to this column
Result of an sqlite3BtreeLast()
Return an error in either case.
Return code from sqlite3_exec()
Return from sqlite3WhereBegin()
Return non-zero on an OOM error
Return the 0...11 month number.
Return the day within the month
Return the module configuration
Return value from subprocedures
Returns 1 when source len is 0.
Returns with 0 if not possible.
Reuse old pages where possible.
Root node of tree for this task
Routines with file scope above.
Rowid changed in a normal table
Rowid of the next row to insert
Run the next matching operation
SQL used to determine iAbsLevel
SQLITE_ENABLE_MEMORY_MANAGEMENT
SQLITE_IGNORE_FLOCK_LOCK_ERRORS
SQLITE_OMIT_COMPILEOPTION_DIAGS
SQLITE_SO_ASC or SQLITE_SO_DESC
Same semantics as UNIX getcwd()
Save g for this thread in C TLS
Savepoint name (nul-terminated)
Schema that contains this table
Search for a page near this one
Second sorted list to be merged
See also: assert_pager_state().
See also: btreeGetUnusedPage().
See the PARSING_HEADER() macro.
See zip_add.c for more details.
Seg-reader cursor for this term
Select the yet unassigned pipe.
Send cookies along with request
Send flushed data to the stream
SessionUpdateTimestampInterface
Set the name of a Select object
Set the value of a status to X.
Set up the new page-index array
Should always be set to 0 or 1.
Size of all column names (incl.
Size of hash table Rtree.aHash.
Size of leaf without page-index
Size of subclassed sqlite3_file
Size of the pCell cell in bytes
Sizes of each column, in tokens
Skip 0 so that handles are true
Skip indices that do not change
Skip one item before completing
Skip over assertive subpatterns
Sorter key to compare pVal with
Space allocated for leaf blocks
Space to write cursor structure
Special case - lookup by rowid.
Start another range on the end.
Starting offset in main journal
Stat an opened phar file handle
Statement for INSERT operations
Store first two pre-read bytes.
Store the results in the Queue.
Store this blob in register P2.
Streams based network functions
Stub for calling malloc from Go
Supports only input parameters.
Sync the database file to disk.
TMP1 was set a few lines above.
TODO: check for string too long
TOTAL returns 0.0 in that case.
Table this info block refers to
TermSelect object to merge into
Text encoding handled by xCmp()
Text of document to be inserted
The "yyy" in the name "xxx.yyy"
The BLOB containing the varints
The FROM clause of the subquery
The FROM clause term to process
The WHERE clause to be searched
The associativity is preserved.
The clause this term is part of
The column the token must match
The current column index in pp1
The current column index in pp2
The expression is a sub-select.
The expression list to be coded
The first key should be at 257.
The first key should be at 258.
The index associated with pLoop
The location to move pDbPage to
The longest run of digits wins.
The opcode mnemonic, e.g. "add"
The original API set ends here.
The page that contains the Cell
The page that contains the cell
The path only contained slashes
The phrase extracted from pExpr
The phrase the token belongs to
The result is placed in RESULT.
The return value is stored here
The sign in front of the number
The stack pointer is decreased.
The table to code triggers from
The table we are inserting into
The text expression being built
The value of the "rank" column.
Then verify it against a policy
There could be an error message
There is no constraint to check
There is one PGroup per PCache.
There's absolutely no warranty.
This OP_Insert is an sql UPDATE
This can only happen for stores
This is useful for disassembly.
This might be a false positive.
This routine is not threadsafe.
Threads do not have to be real.
Tokenizer module methods object
Total leaves written to level 0
Total number of bytes on a page
Total number of calls to malloc
Total number of pages in apHash
Total size of the database file
Tries to expand a single brace.
True for descending rowid order
True for first term on the node
True for threadsafe connections
True if RowSet.pEntry is sorted
True if a transaction is opened
True if argument iFrom is valid
True if low on PAGECACHE memory
True if no such function exists
True if previously initialized.
True if sub-query is correlated
True if there is a trailing "*"
True if this is a VIRTUAL table
True to omit locking primitives
True to run in heap-memory mode
True to seek past initial nulls
Two or more AND-connected terms
Type code for object to destroy
U+FE50-FE6F Small Form Variants
USE_COMBINATION_EXPLOSION_CHECK
Unimplemented version 3 methods
Unsorted cost of (pFrom+pWLoop)
Update cksum3 with the results.
Use mode OFF as an intermediate
Used for writing to a phar file
Used to accumulate return value
Used to detect hash collisions.
Used to iterate through columns
Used to iterate through indexes
Used to iterate through samples
Used to iterate through schemas
Used when p4type is P4_INTARRAY
User authentication information
Usually overwrite previous item
VDBE has already been allocated
Valid operators for constraints
Value configured by 'automerge'
Value inserted into rank column
Vdbe to add scanstatus entry to
Virtual table cursor structure.
WHERE clause processing context
Waiting for read-locks to clear
We are allocating ocaml values.
We have to invent our own name.
We need to allocate more memory
We need to find their position.
We now know the quotient digit.
Where the heap started (bottom)
Which column of pTab is desired
Write new OR root to *(*ppOr)++
Write new entries to *(*ppTC)++
Write out the Background colour
Write out the Global Colour Map
Write out the initial code size
Write the element into *pRowid.
Write the list of decomp nodes.
Write the property list counts.
Write the size of the Cell here
XXX - these two should not need
XXX avoid warning in debug mode
XXX: const castaway, via strchr
Xfer function arguments to here
You cannot change create_object
access rights defaults to other
added: support for xml escaping
address of start of instruction
adjust timeout for next attempt
allocate array of modifications
allocate memory and copy string
allocate storage for the column
allow 0 (unspecified interface)
allow extra chars in the format
allow optional initial 0x or 0X
alnum - word without underscore
already newly created, truncate
and 32 bit regs EAX,EBX,ECX,...
anything else isn't interesting
auth header if it was specified
backup the fcall info and cache
break intentionally not missing
calculate the slope of the line
case ZEND_FETCH_CLASS_CONSTANT:
chPtr is the int for the result
character never appears in text
check for japanese chars in BMP
check if we can write more data
check position in the src image
clear authentication credentals
clear sign bit, which we ignore
close the read side of the pipe
code_ptr can be affected above.
colormap allocated at init time
compare.c: bcmath library file.
compiler-defined memory barrier
convert timeout into timespec_t
count least amount of arguments
create an instance of our class
create our return value element
current position for traversing
current size of allocated pages
decompress this file indirectly
delete descriptor from the hash
disabling when it's already off
empty line marks end of headers
end Loop over all index columns
end additional , gerrit thomson
end argument parsing/validation
escape only the variable name.)
estrndup does not return length
extension-wide startup function
fill in the remote server info.
filter_args is the filter_flags
find decimal point, if expected
fix jumps to point to new array
for php_set_sock_blocking() :-(
for pointers to histogram cells
free'd in destroy_server_data()
from GLOBALS (PG(http_globals))
generate crc on compressed file
get REF of the TDO for the type
get lines of text, or CRLF_CRLF
get pixel location in gd buffer
get rid of the trailing newline
get the length of the true salt
go ahead and serialize first...
hash sqlstate to error messages
if it is already set, skip this
if the global prefix is not set
if the value's type is known...
ifndef SQLITE_OMIT_SHARED_CACHE
in the page header at offset 7.
increment recursion depth gauge
indicate that we have element 0
int2num.c: bcmath library file.
invalid character for encoding"
jumps if either operand is NULL
just call php_addslashes quotes
limit output to these functions
link in the plain authenticator
looking for 'Connection: close'
lower left corner of update box
make core report what it should
make sure we got a 227 response
make sure we have enough memory
mark instruction as JUMP or RET
mark the vent as not registered
mask     the highest   bit of u
mask all but highest   bit of u
mask all but lowest    bit of u
mime_content_type(..) emulation
move hi bit of u to hi bit of v
must be stdin, stderr or stdout
negate it (becomes positive) c.
no formatting on logging output
no result set is being returned
no, haven't placeholders at all
nothing to do with the callback
nothing to write, fail silently
now block until an event occurs
now, draw to our target surface
num2str.c: bcmath library file.
number of trailing set (1) bits
offset/index must be an integer
only "r" and "rb" are supported
options with control list value
or PROPFIND or PROPPATCH or PUT
other times than 0h UT as well.
otherwise not freed from memory
overflow, refuse to do anything
pExpr is a comparison operator.
pTerm is the term to be  coded.
paBlob may be NULL or non-NULL.
phpext_xml_ptr, phpext_wddx_ptr
point at our new starting point
pos in buffer to store sort key
possibly not being initialized.
put back non-standard SNMP port
re-populate after copy-on-write
read in archive comment, if any
read in the length of the value
read until a boundary condition
rebuild map (just for printing)
regBase itself holds the rowid.
repeated subpattern is too long
replace with all named entities
reset connection if it's broken
reset internal php_getopt state
return the module configuration
return value should be a string
right-hand side of IN is SELECT
same as TK_PLUS, in1, in2, out3
same as TK_STAR, in1, in2, out3
save absolute path in the cache
set the connection to be binary
set the return value for pclose
should NEVER generate this code
silently expunge recycle stream
silently ignore mounted entries
size of each entry in the table
skip any other marker silently.
so newtcb will be memory leaks.
special case for trailing space
start additional PHP extensions
start of line is left of window
str2num.c: bcmath library file.
struct sockaddr_in/sockaddr_in6
substitute persistent constants
temp copy for duplicated docref
text not set in global iterator
the WHERE clause to be analyzed
the false case was done earlier
the solar and lunar corrections
this "PARAMS" concept is silly.
this is not a leave, so skip it
this live range already removed
to advance to next matching row
to store the wrongly-typed keys
token.z was originally in "..."
true multithread-shared globals
turn off high bit in final byte
type for the 2nd-level pointers
update last errors and warnings
use 'int' for calculation temps
use first character from string
use good old OCIServerVersion()
use the temp stream as our base
var    Number of bytes of data.
we don't support 64-bit offsets
we just handle 3 octets of data
we need to allocate more memory
xCreate/xConnect argument array
"new_size" must be a power of 2.
'internal', 'leaf' or 'overflow'
(*THEN) is found in the pattern.
(1) the database must be locked.
-i turns on and off interlacing.
/ Iterate the loop again please.
/x fill in key field of mydata1.
1 - 31 last destination register
2byte code first char: 0xc2-0xdf
3 registers to hold a result row
3.2.4 deprecates folding support
3byte code first char: 0xe0-0xef
3byte code first char: 0xf0-0xf4
@src: The affine transformation.
A difference in length will leak
A source cursor for SORTED_MATCH
A transient duplicate expression
A virtual opcode for then traps.
ARRAY_INFO(0, descriptorspec, 1)
ARRAY_INFO(1, except_streams, 1)
Absolute index of input segments
Absolute level number to work on
Absolute level of input segments
Add Response element in between.
Add code to implement the OFFSET
Add it to the set of best so far
Add one to the old schema cookie
Add this character to the class.
Address of MustBeInt instruction
Address of ptr to next freeblock
Advance to new matching position
Advance to the next output block
All column names will be unique.
All filesystem writes are atomic
All information about this parse
All marker codes start with this
Allocate VdbeCursor number iCur.
Allocate a new SegReader object.
Allocate a new porter tokenizer.
Allocate a new simple tokenizer.
Allocate that sorting index now.
Allocate the Fts5Bm25Data object
Allocated space not yet assigned
Allow escaping of  ``relations''
Allowed values for Index.idxType
Allowed values for et_info.flags
Almost the same as in php_fstat.
Always leave the database loaded
An ACCEPT is effectively an ALT.
An implementation of a min-heap.
And other similarly odd results.
Any unrecognized conversion type
Anything else is variable length
Append a doclist to buffer pBuf.
Append content to the JSON parse
Argument to pass to xBusyHandler
Arguments to the unlock callback
Array of Fts5DlidxWriter objects
Array of opcodes for sub-program
As follows:  pzImposterCols: ...
Assign expression b to lvalue a.
Assume the lock is already held.
Attach the hook to this database
Best case scenario, user behaved
Bits for mm_list() and mm_lsub()
Brackets should always be closed
Buffer to assemble wal-header in
Bulk memory used by pcache-local
But MSVC chokes on ((void*)(X)).
But many SQL implementations do.
But the contents can be deleted.
But the feature is undocumented.
Bytes in pPage beyond the header
Bytes to copy from previous term
Cache of overflow page locations
Call method specified in request
Can't determine a first byte now
Canonical name of each register.
Changed to my_bool in MySQL 5.1.
Changes with each schema change.
Check for mismatched parenthesis
Check for xbithack in this case.
Check that MEMDB implies noSync.
Check the base for scale digits.
Clear the YMD and HMS and the TZ
Client data for xCreate/xConnect
Close the read transaction here.
Close the underlying file handle
Code originally from ext/sockets
Column 0 causes bit 0 to be set.
Column currently being processed
Column snippet is extracted from
Commit by zeroing journal header
Commutative unsigned operations.
Comparison of term and split-key
Compute a hash on a page number.
Configure the number of columns.
Configured FCNTL_MMAP_SIZE value
Connection holding shared memory
Content is raw, not JSON encoded
Convert LONG constants to DOUBLE
Convert given pattern to UTF-16.
Convert to spherical coordinates
Converting HEX char to INT value
Copyright (c) 1998 Softweyr LLC.
Create a new SrcList if need be.
Create a new tokenizer instance.
Create an ICU message formatter.
Create an implicit NOT operator.
Create new databases in format 1
Current number of cells in pNode
Current token number of document
Current value of the system call
Cursor number of the first index
Cursor that holds the new sorter
Cursor to iterate through zInput
Cursors in the equivalence class
Data will be discarded anyway...
Database connection (for malloc)
Database connection to read from
Database that contains the table
Deallocate and destroy a parser.
Default span for NEAR operators.
Default value for the new column
Delete the persistent connection
Delimiter character to be quoted
Description of content to append
Determine how much file is left.
Direct lookup by rowid or docid.
Do not analyze the TEMP database
Do not enforce check constraints
Do not lock (except in WAL mode)
Do not move this initialization.
Do not save the results anywhere
Do not write it to the database.
Do the binding once she does it.
Docid to add or remove data from
Does nothing for other platforms
Don't accept h and hh modifiers.
Drop the WAL write-lock, if any.
Dummy argument used with xNext()
Emit the necessary instructions.
Empty/null string is meaningless
Enabling verbose error messages.
End Of Image (end of datastream)
End Section filters declarations
End of the ephemeral table scan.
Event counters from parent frame
Expression encoding the function
Expression to iterate phrases of
Extract snippet from this column
FIXME: better regex must be used
FROM clause pLvl reads data from
Fails on a lookaside memory leak
Fast decoding a UTF-8 character.
Figure out the node size to use.
File descriptor for database pTo
File descriptor for main journal
File upload stopped by extension
File-name for the master journal
Finally, sync the database file.
Fire any BEFORE UPDATE triggers.
First arg to comparison function
First byte past allocated memory
First lock to acquire or release
First page of the overflow chain
Fits in a 64-bit signed integer.
Flags for sqlite3PagerSetFlags()
Flags passed through to VFS open
Flags to pass to OsSync() (or 0)
For lengths its absolutely safe.
Forward references to structures
Free this when deleting the vdbe
Function has no WSDL description
General Implementation Functions
Generate the decomposition data.
Get necessary output buffer size
Get rest as section/offset value
Get status of previous character
Get the conversion type modifier
Get the size of the index entry.
Global context for this function
Guaranteed by the code generator
Handle repeated back references.
Handle the Perl-compatible cases
Hash table containing tokenizers
Hermite filter, default radius 1
IN/OUT: Pointer to position list
IN/OUT: Pointer to string buffer
If RESTRICT, "SELECT RAISE(...)"
If an error occurs, we jump here
If delimiters should be captured
If neither 'x' nor the SELECT...
If one is found, it is returned.
If successful, return SQLITE_OK.
If successful, zero is returned.
If the match should not be empty
If there are entries to insert..
Implementation of randomblob(N).
In global scope, we know nothing
In pass 1 just add in the length
Index of column zName applies to
Index of the term to be analyzed
Initialize a WhereMaskSet object
Initialize a string accumulator.
Initialize for pre-compile phase
Initialize the JsonString object
Initialize the memory allocator.
Insert an implicit AND operator.
Intended for user save handlers.
Interface to code in fts5_aux.c.
Internationalized format string.
Invoke the stat_init() function.
Is the PRIMARY KEY for the table
It cannot normally ever be NULL.
It's very rare and useless case.
Iterate through levels, segments
Iterator to advance to next page
JMP to the next block - strip it
Jump optimization for each block
Jump to this label to skip a row
Key associated with this element
Language id of row being written
Language id to use in tokenizing
Largest valid xSavepoint integer
Last leaf page number in segment
Last page in WAL for this reader
Length of the destination buffer
Level to select (relative level)
List of dirty pages in LRU order
LiteSpeed PHP module starts here
Load doclist-index for this leaf
Local copy of UTF flag for speed
Locate the combining class code.
Lock the source database handle.
Locking in windows is manditory.
Logarithmic, so 0 really means 1
Look up the table being altered.
Lookup key for the unixInodeInfo
Loop for each alternative branch
MYSQLND_STRING_TO_INT_CONVERSION
Magic number for sanity checking
Magic value read from WAL header
Mask of all possible WO_* values
Mask of cursor flags (see below)
Mask of locks to take or release
Mask of new.* columns referenced
Mask of old.* columns referenced
Mask of rev-order loops for (..)
Max frame that can be backfilled
Maximum instantaneous currentOut
Maximum length of zSql in bytes.
Memory available for allocation.
Memory available to be allocated
Might be defined in sys/types.h.
Minimum number of pages reserved
Miscoded characters are removed.
Move level -1 to level iAbsLevel
Move to the next matching rowid.
NOTE: Signed due to -1 on error.
NULL-terminated version of pName
Name of ICU function that failed
Name of database containing pTab
Name of database file for pPager
Name of this virtual file system
Names of the various JSON types:
Need to call Mem.xDel() on Mem.z
Need to read this page properly.
New session ID, create data file
Newly allocated SegReader object
Next registered tokenizer module
Next sub-program already visited
Next unparsed byte of the header
No mutual exclusion is provided.
No need to log a failure to lock
No tokens to defer in this case.
Nonzero means print parse trace.
Not a duplicate with same number
Not allowed on leftward elements
Notifications from sqlite3_log()
Number of PMAs currently in file
Number of Records in the journal
Number of SELECT statements seen
Number of SQL function arguments
Number of assigned cursor values
Number of characters in the name
Number of characters in zCharSet
Number of deferred fk violations
Number of elements in argv array
Number of entries in aConstraint
Number of entries with this hash
Number of extra registers needed
Number of fields in PRIMARY KEY.
Number of free bytes on the page
Number of outstanding file locks
Number of pages in database file
Number of pointers to this Table
Number of references to this one
Number of registers left to copy
Number of rows for a single term
Number of segments in incr-merge
Number of times stack has grown.
Number of usable bytes on a page
Number of virtual tables to lock
Number of words in this segment.
Number of work-quanta to perform
OK, now we can do the recursion.
ON, Tile part length main header
ONEPASS is ok with multiple rows
ONEPASS_OFF or _SINGLE or _MULTI
ONEPASS_OFF, _SINGLE, or _MULTI.
OP_Column only used for length()
OP_Column only used for typeof()
OUT: Allocated seg-reader cursor
OUT: Docid for row just inserted
OUT: Final checksum value output
OUT: Number of bytes at *paToken
OUT: SegReader for pending-terms
OUT: True if value was extracted
Object iterator for column names
Object used to write to the file
Offset in zDoc of start of token
Offset of header in journal file
Offset to the cell pointer array
Omit all terms smaller than this
One of PASSIVE, FULL and RESTART
Open a phar file for streams API
Open it now if this is the case.
Open the backend database driver
Opens a file, only if it exists.
Operates at least on doubleword.
Operation performed by this node
Optional database for lookaside.
Or if a malloc failure occurred.
Original number of pages in file
Other recursion is handled here.
Otherwise SQLITE_OK is returned.
Otherwise, an SQLite error code.
Otherwise, an error is returned.
Otherwise, it returns SQLITE_OK.
Otherwise, return an error code.
Otherwise, the schema is loaded.
Output the single row in Current
P4 is always of type P4_ADVANCE.
PS_CLOSE_FUNC() should not fail.
Page in use, not on the LRU list
Page number array for hash table
Page number of current leaf page
Page number of first child page.
Page number of the page to check
Pages in wal - keys for the sort
Parameter to the watching thread
Parse the filename/URI argument.
Parsing context to record errors
Part of the record being decoded
Perl has changed over the years.
Perl recursion/subroutine syntax
Phrase to merge pList/nList into
Plain old inconsistency/typo/bug
Playback and delete the journal.
Pointer to array of page numbers
Pointer to busy-handler function
Pointer to current cell in pPage
Pointer to doclist for this term
Pointer to module implementation
Pointer to new system call value
Pointer to the conversion buffer
Pointers must fit into 2 * size.
Populate the argument registers.
Position list to iterate through
Possible values for WAL.readOnly
Prefix parameter value (or NULL)
Prepared statement being queried
Pretend we are in EXCLUSIVE mode
Prevent overflow error/crash ...
Previous docid stored in doclist
Previous row data is stored here
Previously obtained value for P4
Prior contents of pTo are freed.
Priority queue for search points
Process time function arguments.
Rebuild it from scratch instead.
Record pRec is equal to sample i
Recurse, adding values as we go.
Recursive brace globbing helper.
Recursively check nested list()s
Register holding an index record
Registers holding data and rowid
Release a reference to page pPg.
Release the STATIC_MASTER mutex.
Remove a row from the FTS table.
Remove result from a UNION index
Remove the entire input segment.
Remove the hash entry if present
Remove the i-th cell from pPage.
Reset and close the cache object
Reset head and drop saved frame.
Reset the aggregate accumulator.
Resolve names in the result set.
Result code from subroutine call
Results stored in register inReg
Return back from CONN_QUERY_SENT
Return code from sqlite3_reset()
Return early if an error occurs.
Return no rowids later than this
Return result of the comparison.
Return the amount of time slept.
Return the current journal mode.
Return the number of bytes read.
Return the page to the freelist.
Return the size of an allocation
Return the type of the argument.
Root of current AND/NEAR cluster
S Renaming temporary file failed
SLJIT_REWRITABLE_JUMP is 0x1000.
SQL Collation sequence name (eg.
SQLITE_IOCAP_POWERSAFE_OVERWRITE
SQLITE_OMIT_BETWEEN_OPTIMIZATION
SQLITE_STATUS_PAGECACHE_OVERFLOW
Search for this index expression
See also MATCH_CONDASSERT below.
See also fts3ExprLoadDoclists().
See bug35916.phpt for reference.
See if we have to clean the wire
See my_getsystime.c for high res
See spl_filesystem_object_new_ex
See the macro definitions above.
SegmentWriter to flush to the db
Session data will not be written
Set or release locks on the WAL.
Set the "type" of an allocation.
Set the *pmSeen output variable.
Set the number of output columns
Set to cheapest remaining token.
Set to true if a 'special' error
Set to true when thread finishes
Set transparent index (or none).
Set up an sqlite3_backup object.
Set up the 'byte output' routine
Setting contextName if specified
Show full column names on SELECT
Simply extend the current range.
Size contains the flags as well.
Size each output buffer in bytes
Size of allocated array at aElem
Size of database content section
Size of doclist in current entry
Size of each object in the array
Size of every page in this cache
Size of new segment at iAbsLevel
Size of scratch memory requested
Size of suffix (nTerm - nPrefix)
Size of the header in the record
Size of zAppend in bytes (or -1)
Skip accumulator loading if true
Skip all leading non-hex digits.
Skip low surrogate if necessary.
So this routine is never called.
So we've a single efree() later.
Some terms not completely tested
Start of BEFORE trigger programs
Start scanning the virtual table
Statement changes (Vdbe.nChange)
Statement holding lock on pIndex
Statement to query database with
Stop when row count reaches this
Store result as keys in an index
Store the result in register P3.
Store the value in this register
String inserted between snippets
String is converted successfully
Structures for handling numbers.
Stub: initialize the environment
Sum of nMax for purgeable caches
Sum of nMin for purgeable caches
Sum of ref counts over all pages
Suppose the action integer is N.
TODO: Check version relationship
TODO: add support for other APIs
TODO: produce warning invalid ns
TODO: these need correct docrefs
Table cursor common to all terms
Table for TK_COLUMN expressions.
Table type - an RBU_PK_XXX value
Tables that might satisfy case 1
Takes an instance as an argument
Tell the Go code to catch SIGIO.
Test gdImageCreateFromPngSource'
The OVECTOR offset goes to TMP2.
The WhereLoop object being coded
The absolute value of N is used.
The bit that is set for overflow
The constant may resolve to NULL
The controlling WhereLoop object
The conversion is done in-place.
The cursor pointing to the table
The data structures are corrupt.
The default page size and offset
The description of the operands.
The exceptional ones forgo this.
The highwater mark is unchanged.
The index: a pointer to pointers
The lock is  described by pLock.
The maximum allowed sector size.
The mode to open the stream with
The new page is marked as dirty.
The number of bits in a Bitmask.
The number of integers to decode
The number of integers to encode
The recursive SELECT to be coded
The reference string for digits.
The result is always an integer.
The rowid that might be changing
The sqlite3_strglob() interface.
The three bits give eight cases.
The three bits give seven cases.
The transfer begins at "offset".
The type of lock held on this fd
The underlying winShmNode object
The virtual table to be modified
Then the character class tables.
There are pages on the freelist.
There is also a reference count.
There is however, one exception.
These prevent GH from becoming F
This adjustment is not optional.
This annoyed many windows users.
This is an important assumption.
This is an unconditional update.
This is security sensitive code.
This is the classic nomatch case
This is the main recursive call.
This makes the tests repeatable.
This routine effects pPage only.
This routine ends a transaction.
This routine is an optimization.
This routine is called only once
This seems to be what Perl does.
This table's current rowid value
Thread that is within this mutex
Thread will use this task object
To many cells for a single page.
Token pList/nList corresponds to
Token text (not NULL terminated)
Top and bottom range constraints
Total bytes of space to allocate
Total number of phrase instances
Total segments in this structure
Total size of iBestCol in tokens
Trangle filter, default radius 1
Transforms state based on block.
Trigger name for error reporting
True after malloc is initialized
True if IDLIST is in table order
True if is an aggregate function
True if iterator is "rowid DESC"
True if one or more PMAs created
True if pDest has a UNIQUE index
True if the "ll" flag is present
True if there is a doclist-index
True if this is a covering index
True if this is a read-only file
True if this is likely an append
True if uses a statement journal
True if zTerm/nTerm is transient
True to extend file if necessary
True to iterate in reverse order
True to sort in descending order
True to store descending indexes
Try to keep nFreeSlot above this
Try to look in the scope instead
Two copies of the header content
Unable to open the database file
Unset ignore SKIP-with-argument.
Unused file descriptors to close
Use a new PGroup for each PCache
Use default temporary directory.
Use sizeof(float) bytes of input
Used during OR-clause processing
Used to iterate through segments
Used to test for reference loops
User pointer passed to xCreate()
Utility Functions for Extensions
Value returned by GetLastError()
WAITIING_ORACLE_BUG_16695981_FIX
WHERE clause for partial indices
WITH clause that pCte belongs to
Was INSERT, UPDATE, DELETE, etc.
We assume a 10-byte page header.
We do not give errors for those.
We layout non flexible children.
We need to preserve the counter.
We realloc the non-arena memory.
Welsh parabolic windowing filter
Where to get hi to lo bytes from
Where to get lo to hi bytes from
Whether machine is little endian
Within the ORDER BY, either:  5.
Write a pointer to the page here
Write the bytes into this buffer
Write the comparison result here
Write the list of kdecomp nodes.
Write the number of columns here
Write the specified cookie value
Write to both stderr and logcat.
Writes are in the reverse order.
Y format has three instructions.
YYLAST -- Last index in YYTABLE.
Zenkaku katakana to hankaku kana
Zero or more PragFlag_XXX values
a true global for initialization
actually used only by LOAD DATA.
add new watchpoints if necessary
allocate buffer for reading data
allocate the modification struct
allow double quoted indentifiers
and any continuations that match
and how many extracts were taken
and our own private error handle
attributes don't have attributes
auto globals hash keys and names
bits of precision in G histogram
break is missing *intentionally*
break is missing _intentionally_
bug for bug compatible with Unix
caller will handle out of memory
case ZEND_INIT_NS_FCALL_BY_NAME:
character encoded in 1 code unit
character-set, transfer-encoding
check for vality of named entity
check if some watchpoint was hit
check if the cert is self-signed
check to see if this is going to
clear http input identification.
close the write side of the pipe
columns already in colset object
comparison match reduce strength
compress and rehash as necessary
constants for easter calculation
convert palette to libpng layout
convert_to_null calls destructor
copy mb char without escaping it
count the number of ' characters
create a socket for this address
create new local directory entry
day suffix, ignored, nor checked
definitely not in open_basedir..
delete from source after copying
destroy dummy values from before
didn't find Implicit Result Sets
disable multi statements/queries
doaddsub.c: bcmath library file.
dummy function defined by PS_MOD
dump class if it is not an alias
ensure that the link did not die
equal final and static qualifier
examine the available interfaces
expecting a chunk of whitespaces
extension not found: not allowed
extension-wide shutdown function
failed to convert string to date
fall back on regular file access
fetch a blob into a fetch buffer
fill struct timeval with timeout
find total length of blob's data
first letter of an encoded chunk
force OCI8 to update cached size
forced from command line options
free sort program after finished
fts5YYERRORSYMBOL is not defined
gd interface to freetype library
gdMalloc'd storage for the above
gdkanji.c (Kanji code converter)
get two bytes of the instruction
grow (or shrink) dynamic pointer
handle enclosure delimited field
hankaku kana to zenkaku katakana
here we get if not all are equal
host names are case-insensitive.
if fpm has started, use fcgi env
if the dll wasn't loaded - exit.
in-memory cache entry is expired
invalid range in character class
it probably did bail out already
jump over anon class declaration
largest prime smaller than 65536
last intentionally missing break
ldap_init does not support URLs.
look it up from the cp1252 table
maintain backwards compatibility
mark the event as not registered
matches almost anything penalize
min distance to colormap entry i
move early ranges to make a room
nearzero.c: bcmath library file.
need to ensure these go away now
no current element on first call
no need to rethrow the exception
no zend_refcounted metadata info
now start the backup/restore job
num2long.c: bcmath library file.
open /dev/poll for future usages
open a new temp file for writing
other end is outside to the left
outofmem.c: bcmath library file.
overriden for garbage collection
pass 11 - compact literals table
pass back its IDispatch directly
php_oci_lob_create() checks type
prevent more data from coming in
process uses file cache fallback
protocol version we are speaking
raisemod.c: bcmath library file.
re-use the same initial timeout.
register the standard data types
remove non-garbage from the list
repeat until result is exhausted
reset define-list for refcursors
restore the fcall info and cache
retrieve the cached session pool
return data as a dynamic pointer
same as TK_BITOR, in1, in2, out3
same as TK_MINUS, in1, in2, out3
same as TK_SLASH, in1, in2, out3
save in cache any value we found
see if it has TypeInfo available
set some required request hoojum
setup remote server if necessary
since tm_year is years from 1900
skip leading newlines and spaces
so don't accept the 'l' modifier
somebody registered a zone first
space allocated to zToken buffer
special case for Jewish calendar
start at offset 0 in the subject
start of buffer or start of line
stdio buffers data in user land.
stop skipping non 0xff for M_COM
swap elements between two levels
tab1 must not be a virtual table
tab2 must be NOT NULL if tab1 is
tab2 must not be a virtual table
take from the read buffer first.
the name context cannot be NULL.
there was an unrecoverable error
there's no lower branch than idx
these are the actallay a integer
this setting may be not accurate
thread-safe memory manager mutex
to copy anything, but do anyway.
translate UNIX type into NT type
try to find cached script by key
two digit day, with leading zero
two unicode code points in UTF-8
undo the safety (for comparison)
unknown or unsupported join type
value returned by declare_vtab()
we already have it, free it then
we are running as cgi or fastcgi
we don't want headers to be sent
we're okay to be zero based here
when reading file, it must exist
work is handled by EVT_NORMALIZE
xColumn - Return a column value.
xRollback - rollback transaction
"LIMIT -1" always shows all rows.
(2)  They have the same iSortIdx.
(Locking is checked by assert()).
0     Do not allocate a new page.
0 means "unknown at compile-time"
2-byte (or larger) signed integer
2.2 Enlarge the buffer, if needed
64-bit position read from poslist
@param target_len  Result length.
A buffer to hold the magic header
A column number within table iCur
A negative  value means no limit.
A single term of the WHERE clause
A table in the database is locked
A value was pulled from the index
Abort due to constraint violation
Actually set new attribute value.
Add edition attribute to the hash
Add the entry to the stat1 table.
Add the piece to the return value
Address of "rows visited" counter
Address of the select-A coroutine
Address of the select-B coroutine
Advance to the next name context.
All captured slots were filled in
All enums used by the uchar APIs.
All other types, encode as normal
Allocate temporary working space.
Allocate the JPEG palette-storage
Allowed values for RowSet.rsFlags
An exclusive process lock is held
Argument extraction and printing.
Argument to the progress callback
Arguments for the indexing scheme
Array indicating modified columns
Array of arguments for Fts5Config
As configured by CursorSetHints()
As said, precision could be lost.
Assume single column records only
At the end the chain is reversed.
Attach the hook to this db handle
Attempt to memory map file pFile.
Authenticated as an administrator
Authorization to use the function
Autocommit mode is on by default.
BIT fields are specially handled.
Bad connection - remove from pool
Because of isCandidateForInOpt(p)
Bring in the gd library functions
Buffer containing current poslist
Buffer containing prefix to match
Buffer in which to assemble pgidx
Buffer to read position list from
But multiple resets are harmless.
By default use a full table scan.
Byte R/M field with register (/r)
Byte of unused space on each page
Bytes of data available in buffer
Bytes required to hold table name
COM_CHANGE_USER is broken in 5.1.
Cache of doclist for this phrase.
Calculate r2r1 / HALAKIM_PER_DAY.
Calculate the century (year/100).
Callback implementation user data
Candidate values for BtLock.eLock
Cannot fail following BtreeLast()
Case is respected in comparisons.
Case-sensitive LIKE-type function
Chain of simple selects to delete
Change in the number of documents
Changes list if ON UPDATE CASCADE
Characters to treat as exceptions
Check 3rd and 4th bytes for 0x80.
Check a UTF-8 string if required.
Check for additional textual data
Check if request to the same host
Check if this is a recursive CTE.
Check invariants on a Mem object.
Check that the Go code saw SIGIO.
Check to see if this is the case.
Check top bits in the second byte
Checksum used for sanity checking
Close a connection to a log file.
Close an existing SQLite database
Close any open statement handles.
Code the current SELECT statement
Collating sequence to on a column
Collating sequences are not used.
Collect results from the searches
Column is part of the primary key
Condition is always true or false
Connections and result manupulate
Connections from one process only
Consider each alternative branch.
Content for INT, REAL, and STRING
Context argument for xBusyHandler
Context object passed to callback
Context that contains this SELECT
Context used by sqlite3WhereXXX()
Continue to the normal backtrack.
Convert a LogEst into an integer.
Convert an integer into a LogEst.
Copy meta information from *pCol.
Copy the beginning of the string.
Create a new savepoint structure.
Create and initialize output hash
Create or open a phar for writing
Current number of stack segments.
Current position in the hashtable
Cursor number for ephemeral table
Cursor number of the source table
DIFF_KEY is subset of DIFF_ASSOC.
Data associated with this element
Data is contained within "boxes".
Database connection, for malloc()
Database in which the table lives
Database was empty at trans start
Date at which to calculate offset
Decomposition of the WHERE clause
Default not possessive quantifier
Deinitialize the memory allocator
Delete an entire expression list.
Delete the file located at zPath.
Digits prior to the decimal point
Discard the contents of the cache
Do not break before SpacingMarks.
Do not open write-ahead-log files
Do not resolve volumes (for now).
Do nothing else with this cursor.
Do whatever the default action is
Don't count the variadic argument
Don't try to convert +/- infinity
ERROR : this is not a valid value
End of literal character handling
End of processing for this SELECT
End of the special code for wince
Estimated number of rows returned
Evaluate subqueries as coroutines
Evaluate the equality constraints
Explicit use of the CROSS keyword
Expr in which substitution occurs
Expression we are trying to match
FIXME: there might be binary data
Failed to find the required lock.
Figure out the size of the output
File handle for the database file
Find an empty slot and replace it
Find the start of the next token.
First argument to disposal method
First byte past the iStart buffer
First char after - keep uppercase
First in list of all open cursors
First leaf page number in segment
First replace any existing entry.
First, sort out the command line.
Flags associated with this schema
Flags to sync db file with (or 0)
Flip type bit for the XORI below.
Flush the last leaf page to disk.
For comparing with previous entry
Forward declarations of structure
Forward references to VFS methods
Free any prepared statements held
Function to invoke on each commit
Function/Class/Method definitions
Get next character in the pattern
Get number option value as string
Get or set the "averages" values.
Get the position of the constant.
Get the timezone, if they want it
Go and actually compress the data
Go get the next char in the class
HACK: use output encoding for now
Hash table for fast lookup by key
How often to do a periodic sample
I very much doubt you can see it.
ICC_SET is the same as SET_FLAGS.
IDs have been resolved to COLUMNs
IN/OUT: Lastest rowid seen so far
IN/OUT: Point to read varint from
If found, return a pointer to it.
If not an assertion fault occurs.
If so, the constraint has failed.
If this happens, return non-zero.
If true, store 0 for segment size
Ignore wal frames before this one
Implementation of xSync() method.
In (1), the term is not disabled.
In other words, at most 13 bytes.
Index into the cell pointer array
Index of candidate output segment
Index of database containing pTab
Index of the cell within the node
Indices of various locking bytes.
Individual characters in zCharSet
Info about the callback functions
Initialize for "real" parentheses
Initialize the locking parameters
Insert a new value into a RowSet.
Instruction number of OP_Function
Interface to code in fts5_expr.c.
Interface to code in fts5_hash.c.
Interpret the argument as a blob.
It assumes that names are unique.
It does not need to be destroyed.
It is unlikely, but could happen.
It is used for overflow checking.
It may be only temporary disabled
Iterate in descending rowid order
Jump to P2 if they are different.
Jump to here if a malloc() fails.
Keep the column cache up-to-date.
Keep the result in realpath_cache
Keywords and unquoted identifiers
Label to jump to if WHEN is false
Lanczos3 filter, default radius 3
Lanczos8 filter, default radius 8
Largest payload size of all cells
Largest possible freeblock offset
Left-most of SELECT of a compound
Linked list of all unfreed memory
List for thread to write to a PMA
List of all unixInodeInfo objects
List of field names to be indexed
List of unused pcache-local pages
Loop for each alternative branch.
Main file for the SQLite library.
Make object size a multiple of 16
Mask of SQLITE_INDEX_SCAN_* flags
Mask off the SQLITE_SYNC_* values
Match extended Unicode sequences.
Matched CTE (or NULL if no match)
Matching column in the left table
Maximum number of cells for pNode
Missing /tmp or similar directory
Most recent error code (SQLITE_*)
NB EXACT doesn't have repeat_type
NOTES This is a utility function.
Name of column in the right table
Name of target db index (or null)
Name of the database file to open
Needed for various definitions...
Net change in number of documents
Next FKey with the same in pFrom.
Next offset to read from log file
Next on the Parse.pZombieTab list
No memory is freed until DESTROY.
No need to access the main table.
No need to rollback on disconnect
No shared memory file is created.
No term was written to this page.
No zero digits have been scanned.
Not every value is representable.
Not yet implemented in the engine
Now copy, and magnify as we do so
Now get the read-lock SHARED_LOCK
Now start processing the opcodes.
Now we can destroy the result set
Null-terminated column definition
Number of CTEs in the WITH clause
Number of VDBEs currently running
Number of arguments to the module
Number of bytes of available data
Number of bytes to lock or unlock
Number of bytes yet to be written
Number of columns forming the key
Number of cursors for child frame
Number of elements in list aMerge
Number of entries in a hash table
Number of entries in this segment
Number of expressions on the list
Number of full pages read from DB
Number of identifiers on the list
Number of integers output by cArg
Number of outstanding xFetch refs
Number of references to this node
Number of terms in the result set
Number of tokens in each fragment
Number used to identify the index
OP_Column: Ephemeral output is ok
OP_Found will use a composite key
OP_Found will use an unpacked key
OUT: Blob data in malloc'd buffer
OUT: Error number if error occurs
OUT: MemPage handle (may be NULL)
OUT: Pointer to doclist for pTerm
OUT: Pointer to page number array
OUT: Size of current key in bytes
OUT: Total number of pages cached
OUT: Unique index on parent table
OUT: Wal frame index of next page
OUT: Write the cell contents here
OUT: Write the thread object here
OUTPUT: True if column part of PK
Offset could be treated as a long
Offset of pFd to begin writing at
Offset of start of buffer in file
Offset within buffer to read from
Ok to return a row more than once
One of the INCRINIT_XXX constants
One release per successful fetch.
Only save cursor with this iRoot.
Opaque type used by the explainer
Open and return a new RBU handle.
Open transactions both databases.
Optional WHERE clause to be added
Or  the string "rowid" otherwise.
Original SQL values of parameters
Otherwise it's a cross-join edge.
Otherwise,  an SQLite error code.
Otherwise, SQLITE_OK is returned.
Output of stat() on database file
P4 is a vector of 32-bit integers
PCRE was changed at release 8.34.
PQunescapeBytea returned an error
Page is on the PCache.pDirty list
Page number of the new child page
Page-size field of journal header
Parent table of foreign key pFKey
Parent table that child points to
Perl and POSIX space are the same
Pointer into the body of aDoclist
Pointer to buffer containing name
Pointer to buffer containing term
Pointer to mapping of entire file
Pointer to sqlite3_int64 variable
Position list for deferred tokens
Position of term for entry to add
Poslist buffer to iterate through
Preallocated space for the PCache
Pretend we have a string_key here
Previous term written to new node
Previous thread used to flush PMA
Previous value written into pgidx
Ptr to head of pagers backup list
Put saved Parse.zAuthContext here
Query column to extract text from
Query for existance of table only
Quick and dirty octal conversion.
R/M field with byte register (/r)
RHS always has 2 or more terms...
Read and write the xxx_node table
Read the sector allocation table.
Record changes in the file format
Register 'IntlCalendar' PHP class
Register 'IntlIterator' PHP class
Register 'IntlTimeZone' PHP class
Register 'Spoofchecker' PHP class
Register Transliterator constants
Register to hold temp table ROWID
Registers to hold a row from pTab
Remove a FD from the kevent queue
Reqchar followed non-literal item
Required space after adding zTerm
Restore previous private_data_ptr
Restrict matches to these columns
Return 1 if it does and 0 if not.
Return NULL if there are no more.
Return SQLITE_ABORT in this case.
Return WRC_Abort or WRC_Continue.
Return an appropriate error code.
Return code from service routines
Return if the frame is not valid.
Return the Rtree of a RtreeCursor
Return the next entry on the list
Return the number of errors seen.
Return the page in this parameter
Reuse an existing one if present.
Reverse the order of IN operators
Rows processed for current object
Run a checkpoint on database iDb.
SQL used to determine first block
SQLITE_OK is returned on success.
SQLITE_OMIT_TRUNCATE_OPTIMIZATION
STRACCUM_NOMEM or STRACCUM_TOOBIG
Sanity checking on other operands
Saving previous accept variables.
Script is setting Content-length.
Search for an existing statement.
Segment term filter configuration
Select a master journal file name
Set low byte to conditional flag.
Set pointer back to the last byte
Set the foreign key value to NULL
Set the match location in subject
Set to true if at least one expr.
Shared memory segment information
Shift following values up by two.
Shorthand for the functions above
Size of extra space for each page
Size of pKey, or last integer key
Size of the SHM filename in bytes
Size of the journal file in bytes
Smaller rScore values come first.
So the content cannot be trusted.
So, we need to take care of that.
Some combination of SQLITE_FUNC_*
Sorting and partial sorting costs
Special handling of class SoapVar
Stack must be aligned to 8 bytes:
Start a statement subtransaction.
Statement for reading and writing
Store results as keys in an index
Store the RAW variable internally
String or BLOB exceeds size limit
Subsubstructure is also included.
TBB: Write img to test/fttest.png
TK_UPDATE, TK_INSERT or TK_DELETE
TMP1 is used in OP_KETRMIN below.
TMP2 contains the high surrogate.
TMP_REG3 can be used for caching.
TODO: Only one "types" is allowed
TODO: add parse error information
TODO: not all elements converted.
Table of WHERE clause constraints
Tables in outer loops of the join
Take data to be written from here
Temp space for PoslistNearMerge()
The "subtype" set for JSON values
The BTree that contains the table
The FROM clause btree term to add
The ORDER BY (or GROUP BY clause)
The SELECT statement being coded.
The WhereClause to be initialized
The checkpoint status information
The commit has already been done.
The cursor on the LHS of the term
The default size of a disk sector
The enum value for this mnemonic.
The first block has format u.hdr.
The function definition to insert
The function returns always true.
The header was successfully read.
The key is stored in register P3.
The last part is the salt string.
The major type of the error token
The minor type of the error token
The module for this virtual table
The noopFunc macro provides this.
The number if errors is returned.
The pager to set safety level for
The random check-hash initializer
The result is aligned to 8 bytes.
The result set of the outer query
The table pTrigger is attached to
The table whose column is desired
The type for a callback function.
The underlying shared-memory file
The underlying unixShmNode object
The value returned might be zero.
The word being stemmed (Reversed)
The zDbName parameter is ignored.
This array should  be sorted A-Z.
This code is normally turned off.
This done is to improve locality.
This file has not been truncated.
This is actually a deferred seek.
This is an unsigned integer type.
This is character-set independent
This is done also in mysqlnd_ps.c
This is helpful while  debugging.
This is used by trigger programs.
This means a commit  is required.
This one can use SCHECK_PARTIAL()
This page from bulk local storage
This routine is a no-op for unix.
This should normally be MAX_PATH.
Thus  'a' LIKE 'A' would be true.
To delete, insert a NULL pointer.
To ensure unique results if UNION
Total number of rows in FTS table
Total number of segments on level
Total number of tokens in cluster
Treat as a non-capturing bracket.
True for UPDATE, False for INSERT
True if a journal file is present
True if an incremental I/O handle
True if constraints are supported
True if holding a checkpoint lock
True if output is already ordered
True if src db requires unlocking
True if this constraint is usable
True if this is an in-memory file
True if wrong number of arguments
True once an index has been found
True once iDelta has been written
True to update the change-counter
Try to get the file to memory map
Try to read the wal-index header.
Two versions of the official API.
Type of test to make on this file
Unlink a VFS from the linked list
Use "sqlite3_extension_init" if 0
Use U_MULTIPLE_DECIMAL_SEPARATORS
Use sizeof(double) bytes of input
Used for the dependency hashtable
Used to divy up the pSpace memory
Used to iterate through instances
Used when p4type is P4_SUBPROGRAM
Value for "from" column of output
Value to write to hash-table slot
WHERE_* flags describing the plan
Wait a little before trying again
Wait for writers, then checkpoint
Want to do one-pass UPDATE/DELETE
We don't need the workspace here.
We won't recieve unused arguments
We've flushed the data far enough
What to do with the query results
Where to continue from afterwards
WhereLoop.u.btree.pIndex is valid
Which level of the tree we are on
Write a set of frames to the log.
Write result into this Mem object
Write the SQLite file handle here
Write the next key to the output.
Xps is POSIX space, but from 8.34
YYNNTS -- Number of nonterminals.
YYNTOKENS -- Number of terminals.
Zend-optimized Extended functions
Zenkaku hirangana to hankaku kana
absolute index to relative offset
actual string length in ps_buffer
address of first matching command
allocate sqlda and output buffers
allocate the field for the result
allow this to be set as parameter
allowed node types in look-behind
append bit length of hashed data:
arg1 goes to TMP_REG1 or src reg.
assume all params have been bound
attempt to connect with mail host
both goto the same one - it's JMP
break intentionally missing again
callback can use this, if desired
case PHP_ICONV_ENC_SCHEME_BASE64:
case PHP_ICONV_ENC_SCHEME_QPRINT:
check for contiguous argv strings
check if connection has timed out
check that offset is within range
child elements will not be freed.
context in which to report errors
continuing from the previous line
destroy old array and add new one
do not allow unsetting in runtime
don't try to write the data twice
estimate each message at 20 bytes
expand ignore-case in char class.
extract public key from X509 cert
file desc to assoc this lock with
finished if we found the boundary
first digit of major HTTP version
first digit of minor HTTP version
flags is 4 bytes, we store just 1
flush only when SAPI was started.
for the modification hashtable...
for zip comments that are strings
free old palette buffer (y is sy)
free the buffer storing the error
gd 2.0: we now support truecolor.
generate raw xml from xmlrpc data
generator at the root had stopped
handle old style win smtp sending
hankaku kana to zenkaku hirangana
horizontal segment of scan line y
iLevel value for root of the tree
if buffer already read in, use it
if defined SQLITE_OMIT_AUTOVACUUM
if it isn't there the we are done
if not already most-recently-used
if we filled their buffer, return
imm constraints when stmt started
inspired from ext/standard/info.c
internal error: unexpected repeat
iterate throught triggered events
let's hope the pointer is aligned
make php call us to get _ENV vars
mark all possible sources as used
maximum depth of the parser stack
memcmp() is used to compare keys.
mysql lied about the column width
mysqlnd extension - profile calls
negative values are not supported
non representable in this charset
not enough bytes left for comment
other end is outside to the right
otherwise just skip those entries
otherwise, print element contents
pDone always used on sub-journals
pDone never used on non-savepoint
pass 11: - Compact literals table
prepare the timeout value for use
preveprev becomes new end of list
quote the bind value if necessary
read the required number of bytes
recall that PATH_INFO won't exist
references within a phar filename
regBase+1 holds the first column.
regOldData is zero for an INSERT.
reinstate the default tcp handler
remember we modified this variant
remove Proxy-Authorization header
remove compression from old_flags
return class name and "::" or "".
return xmlrpc type of a php value
reuse the same op_array structure
rollback outstanding transactions
rowid field of the current entry.
same as TK_BITAND, in1, in2, out3
same as TK_CONCAT, in1, in2, out3
same as TK_LSHIFT, in1, in2, out3
same as TK_RSHIFT, in1, in2, out3
serial type of first record field
set new location of file contents
set protection buffersize to zero
set resume position if applicable
single- and double-quoted strings
size buffer down to actual length
start tokenizing at the beginning
starting position in str in bytes
store the error if it has changed
support for custom memory storage
switch over to the persistent one
system.describeMethods() callback
terminate the string temporarily.
terminate the string, remove CRLF
the cursor was declared correctly
the slow way: restart and seacrch
the string is already strdup()'ed
there has to be at least one pair
this block is nothing but NOP now
this is defined in zlib's zconf.h
this is exactly what we requested
tokenizer for inserts and queries
too many links or broken symlinks
triggered also when INTERSECT_KEY
true if shared-cache mode enabled
try to map the name to the column
two digit hour, with leading zero
unsure this signal is not blocked
uppercase equivalent to lowercase
value ptr of tiff directory entry
(3)  PCache-local bulk allocation.
(The default is pairwise merging.)
1 byte past EOF for this PmaReader
1: trimleft  2: trimright  3: trim
3: Table has an external PK index.
A hidden column in a virtual table
A type code from the record header
API for registering GLOBAL filters
API offered by current FTS version
ASC or DESC on the i-th expression
Absolute level containing segments
Add cells to the start of the page
Add dlidx if this many empty pages
Add term zTerm to the SegmentNode.
Address of the output-A subroutine
Address of the output-B subroutine
Adds a key value to the hashtable.
Adjacent freeblocks are coalesced.
Adjust for forwards DST changeover
Advance iterator at least this far
Allocate the sqlite data structure
Allowed values for Table.tabFlags.
Allowed values of unixFile.fsFlags
Amount of space allocated in zText
An index being inserted or updated
Analyze all of the subexpressions.
And we add the strings at the end.
Any existing mapping is discarded.
Any of the WHERE_COLUMN_xxx values
Append position iPos to the output
Appended elements are not counted.
Arguments for printf format string
Arguments to table-valued-function
Array containing doclist (or NULL)
Array of term hash entries to scan
As follows:  0: Parsing file-name.
Assume 32-bit assignment is atomic
Assumes valid UTF-8 for PCRE_UTF8.
Assumption: PSIZE is a power of 2.
At least 1 color must be allocated
Automatically detect SLJIT_MIPS_R1
BC for clever users - Deprecate me
BLOB returned by geometry function
Backing up through an atomic group
Backtrack path: match is required.
Based on netpbm fixes by Alan Cox.
Beginning of RBU VFS shim methods.
Beginning of the body of this loop
Bind the stream to a local address
Bitmask of phrases already covered
Bits are numbered starting with 1.
Bits of the Pager.doNotSpill flag.
Bounds of global page cache memory
Btree database to read cookie from
Buffer to assemble frame-header in
But this does not work on VxWorks.
Byte offset of blob in cursor data
Bytes of space allocated at pSpace
Bytes of space to allocate at pRet
Bytes of unused space on this page
Byteswap an mmap'ed file if needed
CAPI3REF: Virtual Table Scan Flags
CONVERSIONS for struct in6_pktinfo
CPU clock count at start of opcode
Calculate the required memory size
Called by SQLite to clean up pUser
Can't reestablish the shared lock.
Case 6:  There is no usable index.
Chain list of read-only data ptrs.
Character iIn was the close quote.
Check for variable references only
Check if a precision was specified
Clean up child processes upon exit
Cleans out all the data on a pipe.
Cleanup zstr to hold utf16 string.
Clear the current cursor position.
Column index on lhs of IN operator
Column number in the sorting index
Column to return position list for
Complete text of a module argument
Composition exclusion table stuff.
Containing the current node entry.
Content of OLD.* table in triggers
Context for returning result/error
Contributed by Tilera Corporation.
Convert num to its decimal format.
Copy the new ACL entry from config
Copy the new data into the backup.
Copyright (c) 2014, Facebook, Inc.
Copyright (c) 2015, Facebook, Inc.
Count the number of fields (a.k.a.
Create a new sqlite3_value object.
Create object to hold return table
Creates a read lock for SHM access
Current WhereLoop being processed.
Current lock held on database file
Current state of incremental merge
Cursor containing term and doclist
Cursor number of the sorting index
Cursor that data will be read from
Cursor to iterate through level(s)
Cursor used for virtual table scan
Cut out the 16 bit from immediate.
Database connection (for malloc())
Database connection malloc context
Database holding the shared memory
Declare 'Locale' class properties.
Decoding  Quoted-printable string.
Decrement the shared lock counter.
Defer to CryptGenRandom on Windows
Delete the Table structure itself.
Different expressions in the index
Discard the contents of the cache.
Displaying them is always clutter.
Division *and* modulo for numbers.
Do not set firstchar after *ACCEPT
Do nothing if table already exists
Don't attempt in pre-compile phase
Don't waste our time if it's empty
Dummy argument used with tokenizer
Effective size of the main journal
Either an error, or no such table.
Eliminate unreachable basic blocks
Else there's some kind of shambles
Empty name is a shorthand for MARK
End of highlight() implementation.
End of section or an option offset
Ensure that v is greater than zero
Equivalent to Plan 9 chartorune().
Error code from system call errors
Estimate the metonic cycle number.
Estimated cost of using this index
Expression that pNear is a part of
Extra space after the Index object
Extract the values to be compared.
Extract unencoded text from string
FIXME: the rest of body is ignored
FP R/M field with op code (/digit)
Fall through for the RTREE_EQ case
Fetch the info entry for the field
Figure out the dayofweek for y-1-1
File descriptor returned by open()
File handle from CreateFileMapping
Finally, the character type table.
Find a node to store this cell in.
Find an unused temporary register.
Find the sibling pages to balance.
Find token for end of encoded data
Finish up at the end of each pass.
Fire BEFORE or INSTEAD OF triggers
First argument to compare function
First comes the lower casing table
First of real indices on the table
First skip the bit map if present.
Flags to use to sync header writes
For looping over PmaReader objects
For looping over existing elements
For looping over existing file IDs
Forces SQLITE_CORRUPT return below
Forms a linked list of all cursors
Free any buffer allocated by pBuf.
Function arguments that may change
GMT), shift it to show local time.
Generate code to handle collisions
Generate the combining class data.
Get it from sqlite3Malloc instead.
Get the arg if we haven't already.
Get the database meta information.
Global context (one per db handle)
Handle a recursively called group.
Handle different types of newline.
Hash table of connection functions
Height of sub-tree rooted at pCell
I added 15 extra bytes for safety.
IN/OUT: Current structure of index
IN/OUT: Page content -area pointer
IN/OUT: Preallocated output buffer
IN/OUT: The WHERE clause to add to
If both values are NULL, return 0.
If it is not, return SQLITE_ERROR.
If non-zero, last token to include
If one is found, this is an error.
If the entry fits our requirements
If there is not, return SQLITE_OK.
If this fails, we cannot continue.
If this has to be a scalar SELECT.
Ignore TEMP and :memory: databases
Implementation of bm25() function.
Implementation of xBegin() method.
Increment our pretend rowid value.
Index of column to read value from
Index of next token to be returned
Index of the database holding pTab
Inequality constraint at range end
Information about an AUTOINCREMENT
Information about the WHERE clause
Information on the ORDER BY clause
Initialize a SelectDest structure.
Input flags to control the opening
Insert cell pCell into node pNode.
Insert or replace a decomposition.
Instead we map the range directly.
Instead, pager_unlock() is called.
Instr Prefix or media op extension
Instructions take this many bytes.
Interface to code in fts5_index.c.
Interface to code in fts5_vocab.c.
Invoke the authorization callback.
Invoke'd args are in reverse order
Issue an error message if it does.
It depends on session data change.
It is used only as a sanity check.
It needs fixing for other locales.
It's available, so we can call it.
Iterates through set of root pages
Iterator used for several purposes
Jump here to break out of the loop
Just move the page out of the way.
Largest idx in level (iAbsLevel+1)
Largest key seen since xTruncate()
Largest serialized key seen so far
Leaf page number to load dlidx for
Legal values for BtCursor.curFlags
Like FULL but wait for for readers
Like RESTART but also truncate WAL
Link list of trigger program steps
Linked list of auxdata allocations
List of SQL indexes on this table.
List of triggers stored in pSchema
Locate the table identified by *p.
Lock offset to lock for checkpoint
Loop through the returned columns.
Make a copy of the actual pattern.
Make sure the isInit flag is clear
Mark all dirty list pages as clean
Mask of pipes used by this bundle.
Mask of snippet terms to highlight
Master routine for color selection
Match an extended character class.
Maximum allowed segments per level
Maximum instantaneous currentCount
Maximum of 4 fragments per snippet
Maximum relative level value in db
Memory cell hold array of subprogs
Memory cell to set to string value
Modify the CREATE TABLE statement.
Move the arguments to S registers.
Must be compatible with this index
Mutex for accessing the following:
Mutex used by sqlite3_initialize()
N Compression method not supported
NO, Packet length tile part header
NOTE: data must be zero terminated
NULL set by OP_Null, not from data
Name of master journal file if any
Name of the master database table.
Need to add element number to name
Net deferred immediate constraints
New column to add to colset object
New estimate of the number of rows
Next hash entry with same hash-key
Next in LRU list of unpinned pages
Next registered auxiliary function
No dynamic allocation is required.
No hope to find a big-enough block
No work is performed in this case.
No-op if we do not support a codec
Nor are they ever temporary files.
Now ensure that the reqchars match
Now for the full divide algorithm.
Now tuneable thanks to Wez Furlong
Number of PRIMARY KEY memory cells
Number of PtrMap pages to be freed
Number of UChar elements in pInput
Number of arguments in subprograms
Number of backtraces on this alloc
Number of characters in this token
Number of columns in stat4 records
Number of columns in the FTS table
Number of distinct values in index
Number of full pages written to DB
Number of key columns in the index
Number of leaf pages left to write
Number of memory cells used so far
Number of objects currently in use
Number of pages written to journal
Number of queued entries by iLevel
Number of result rows written here
Number of rows in the entire table
Number of unused bytes on the page
ONEPASS is valid for multiple rows
ONEPASS_OFF, or _SINGLE, or _MULTI
OOM detected prior to this routine
OP_Open** cursor uses EQ seek only
OP_Open** used to open bulk cursor
OP_Seek always uses a single rowid
ORDER BY processing for max() func
ORDER BY processing for min() func
OUT: Bitmask of terms to highlight
OUT: Map of index columns in pFKey
OUT: Permissions to open file with
OUT: Pointer to position-list data
OUT: Set to malloced error message
OUT: Set to true if really a match
Obtain or release the WRITER lock.
Offset must be treated as a string
Offset to beginning of page header
Omit error if index already exists
One byte past end of position list
One entry for each of nCol columns
One of the P4_xxx constants for p4
One of the RTREE_COORD_* constants
One of the SQL_XXX constants above
Only needed by assert() statements
Only one writer allowed at a time.
Only thread A can modify the lock.
Open and close a Pager connection.
Optional list of view column names
Or an SQLite error code otherwise.
Or if it is a non-periodic sample.
Or maybe the btree was rebalanced.
Or the PK cursor for WITHOUT ROWID
Original text of the default value
Other  compilers might be similar.
Otherwise output the error message
Otherwise, Expr.x.pList is  valid.
Otherwise, it must be initialized.
Otherwise, throw an SQL exception.
Outputs: Outputs code to the file.
PRAGMA index_info (legacy version)
Packed packet headers, main header
Page not on the PCache.pDirty list
Page size can no longer be changed
Parsing context for error messages
Path to state db (or NULL if zRbu)
Pending terms table for this index
Phrase number (numbered from zero)
Pierre: crop everything sounds bad
Pointer to HighlightContext object
Pointer to buffer containing token
Pointer to cursor object to return
Pointer to interior tree structure
Pointer to the root node of a tree
Position list data following iHead
Position list data following iTail
Possible values for FuncDef.flags.
Potential covering index (or NULL)
Precomputed device characteristics
Private objects used by the sorter
Process available complete blocks.
Prototypes for the VDBE interface.
Query for next idx at level iLevel
Query used to initialize the table
ROTATE_LEFT rotates x left n bits.
Rare case of a really large header
Read all frames from the log file.
Read and write the xxx_rowid table
Reader whose cursor is to be moved
Refuse to draw if no style is set.
Register 'IntlException' PHP class
Register 'IntlPartsIterator' class
Register P3 is as the accumulator.
Register to allocate runtime space
Register to hold Stat4Accum object
Registers used by LIMIT and OFFSET
Release an array of N Mem elements
Removes a key from the hash table.
Restrictions on range of iteration
Return SQLITE_OK or an error code.
Return an already opened filename.
Return code from sqlite3_prepare()
Return collator's last error code.
Return early if  this is possible.
Return failure if at end of input.
Return no rowids earlier than this
Return the memory allocator mutex.
Return the value of a system call.
Return zero if no errors are seen.
Returns the number of bytes moved.
Root page of the open btree cursor
Rowid used for the averages record
S Failure to create temporary file
SAPI related shutdown (free stuff)
SELECT may not be a compound query
SELECT may not have a LIMIT clause
SELECT may not have a WHERE clause
SELECT to the right of IN operator
SQLITE_OMIT_SCHEMA_VERSION_PRAGMAS
SSA construction, Step 3: Renaming
SYNC_NORMAL or SYNC_FULL otherwise
Save time in the pre-compile phase
Scan through the expression pExpr.
Schema to which this item is fixed
Search the wal file for page pgno.
Second arg to matchinfo() function
See: CODING_STANDARDS for details.
Seek the table cursor, if required
Set the fields of immediate loads.
Set to true when merge is finished
Silently ignore any such attempts.
Silently mask off all other flags.
Size of malloc'd buffer at zMalloc
Size of the geometry function blob
Size of the original file in pages
Skip compatibility formatting tag.
Skip continuation of "extended" BB
So do not write to the disk again.
So get a WRITE lock and try again.
So it is OK for it to always fail.
So we assume it matches every row.
So we can gdFree it with impunity.
So, this macro is defined instead.
Solar distance, astronomical units
Some information for the reader...
Somthing wrong in chunked encoding
Sorter for "ORDER BY rank" queries
Space for copies of dividers cells
Start of memory holding result set
Stash the color map into the image
Stolen directly out of the book...
Stop at an unescaped space or tab.
Stops warning for unused parameter
Store 1 if the result is not empty
Store the result in variable iRes.
String to return via *pzImposterPK
Substitute function - never called
Sync the journal file if required.
TBB: Write img to test/arctest.png
TMP_REG2 is not used by getput_arg
TODO: - add IPTC translation table
TODO: XML apparently disallows "X"
Table triggers are being coded for
Target size for allocation chunks.
Tell PHP if we read / wrote bytes.
Temp var to store a page number in
That will likely cover most cases.
The "B" part of a "A AS B" phrase.
The BtShared this cursor points to
The DISTINCT marking is pointless.
The FROM clause of the outer query
The IN, SELECT, or EXISTS operator
The LEMON-generated LALR(1) parser
The OCaml GC must know about them.
The PRIMARY KEY index on the table
The Sun's ecliptic latitude is not
The VFS that created this unixFile
The VFS to use for actual file I/O
The affinity string for the record
The associated database connection
The column on the LHS of the term.
The default value is PDO_PARAM_STR
The file contains at most 1 b-tree
The file is empty (length 0 bytes)
The first cursor that needs saving
The format of a PMA is:  A varint.
The index being used for this loop
The latter is important for XHTML.
The nExtraReg parameter is 0 or 1.
The new value, or NULL on failure.
The number of indices is returned.
The parser structure is passed in.
The pointer returned is ephemeral.
The register or immediate operand.
The second argument is the result.
The slot remains on the free-list.
The two values have the same sign.
The unix errno from last I/O error
The virtual machine being built up
The wal-index is in shared memory.
There are now 4 possibilities:  1.
They are used by code in notify.c.
This algorithm is described in: J.
This call is to open a *-wal file.
This code runs only in 8 bit mode.
This file is used for Windows only
This function never returns error.
This is the sub-WHERE clause body.
This is transparent to the caller.
This is used by VACUUM operations.
This object is not used by SQLite.
This one has to be used carefully.
This version performs no dithering
This will start a new column list.
Thus, we need another opcode here.
Title: Matrix Group: Affine Matrix
Tokenizer cursor open on zDoc/nDoc
Top of the loop for inserting rows
Tree contains a TK_SELECT operator
True after mutexes are initialized
True for UPDATE that affects rowid
True for final fragment in snippet
True if a warnning has been issued
True if all rows are being deleted
True if copy of key made on insert
True if pages are on backing store
True if prepared with prepare_v2()
True if the NOT keyword is present
True if we are at the end of input
True to use in-memory sub-journals
Truncate WAL to this size on reset
Try to set CURSOR_TYPE to dynamic.
Unable to flatten compound queries
Up to three columns left of 'term'
Use access macros to learn colors.
Use of a hash implementation is OK
Use the key from the main database
Use the new Expr to populate pOut.
Used for testing and analysis only
Used to allocate unique cursor ids
Used to full index in sorted order
Used to iterate from pExpr to root
Used to loop through N hash tables
Used to loop thru the element list
Used to preallocate storage space.
Value for "leaves_end_block" field
Value for "level" column of output
Value returned by SetFilePointer()
Value to return from this function
Values for the OP_Variable opcode.
Varint that may be written to pOut
Version, Passes, and Digest Length
Virtual machine under construction
Wal filename for this main db file
We are therefore ready to move on.
We can ignore word boundary tests.
We do not want to create it again.
We only want positive step values.
What version of GCC is being used.
Where to write the extracted value
WhereLoop describes the algorithm.
Which db file is being initialized
Windows 8.1/Windows Server 2012 R2
Write 'message' to the given file.
Write an error message into *pzErr
Write head of the output list here
Write tail of the output list here
Write that value into register P2.
Write the index of a new slot here
Write the new expression node here
`safe' read for sockets and pipes.
add a reference for the hash table
additional OCIDefineDynamic() call
advance errorptr to current column
allocate a minimal descriptor area
allow multiple '/' for readability
an impossible branch was found if:
and a resource for the private key
and replace it with persistent one
any other problem is a fatal error
arr must be an array at this point
binary test if pattern is not text
bits of precision in B/R histogram
bits of precision in R/B histogram
buffer isn't completely full, fail
but this case seems very unlikely.
cache still growing - add new elem
called by PDO to close a db handle
caller is responsible for cleanup.
cannot end in : without previous :
change passed value type to string
character appears in ISO-8859 text
check for __COMPILER_HALT_OFFSET__
check for end-of-central-dir magic
check for existing interned string
check for invalid redirection URLs
check for the same interned string
check if a NULL should be inserted
check if string or vector (1 or n)
classes don't have to be destroyed
convert xmlrpc to native php types
create per-server config structure
define ini entries on command line
delete the converter just in case.
desired fd number in child process
determine whether we have a socket
display/log the error if necessary
do not create any child at startup
don't do non-secure authentication
else we need to continue via utf16
error, but message already emitted
exception thrown during comparison
expand tilde from the passwd file.
file extension must contain "phar"
find the original easy curl handle
first element is the function name
first letter of a non-encoded word
first try to open an existing file
flag optional arrays not allocated
for calendar calculation purposes.
free search program after finished
got it, set the type and return ok
if a match is found it is set to 1
if a password is required, send it
if main entry matches, print it...
if this was byref, update the zval
ifndef SQLITE_DISABLE_FTS3_UNICODE
illegal character or end of buffer
index of next token to be returned
instance not created by PDO object
lazy loading of introspection data
let see if the path already exists
link in the cram-md5 authenticator
make best effort if BOM is missing
mark as removed (empty live range)
merge per-server config structures
must match len(runtime.cgoCallers)
name l_type l_whence l_start l_len
name_ast should be evaluated only.
new style, using connection string
non-shortest form or outside range
none of the path components exist.
not a broken symlink, move along..
now copy the chars after the point
now we know exactly how long it is
on the shared btree structure pBt.
original unqualified constant name
php_stream_close segfaults on NULL
point in the phonization we're at.
pointer to next byte to read/write
property not found, so lets add it
purposes for cert purpose checking
query an agent with GETNEXT method
read all PNG info up to image data
read in the length of the key name
remove '..' and previous directory
remove non-persitent sdl structure
reset size in case ecalloc() fails
return the next free module number
return the number of affected rows
running position of rotated string
sanity checks for include/require.
search for the end of the boundary
see: tests/classes/__call_004.phpt
selectNodeIsConstant will disallow
semi-arbitrary, "sensible default"
send headers, output file contents
set skip map for Boyer-Moor search
shared memory and mmap are enabled
shortcut - if no Ts, nothing to do
so next time we won't get an error
sqlite3SelectNew() guarantees this
strange header bug problem here...
strip high/strip low ( see flags )
these are for the Data Source type
these opcode use the op2 as result
this is already an interned string
this is long, cast to unsigned int
two digit month, with leading zero
wait 10 sec and try the lock again
wait for incoming event or timeout
we already duplicated this pointer
we don't handle this well for now.
we have no blacklist to talk about
we only support VARRAYs and TABLEs
we're no longer executing anything
we've got at least 1 byte to read.
work-around for longtext and alike
'yyvs': related to semantic values.
(B)  The revised rowid for the row.
(Only used when NATURAL is defined.
(e.g. they must look like integers.
(pKey1/nKey1) is a number or a null
****************** Cache Limiters *
***********************************
*pHighwater is always set  to zero.
- Last solution: average the colors
0 for min() or 0xffffffff for max()
0 means do not allocate a new page.
1-byte (or larger) unsigned integer
2 chars per byte +2 for "0x" prefix
2.0.12: this is finally a parameter
3) IN NO EVENT SHALL EPINIONS, INC.
ABOVE:  Height enforcement enabled.
ALNUM, 3rd and 4th values redundant
API for registering GLOBAL wrappers
ASC or DESC for INTEGER PRIMARY KEY
AUTH TLS not supported try AUTH SSL
Absolute level of segment to modify
Acquire the mutex before continuing
Add condition to terminate at NULLs
Added to free constructor arguments
Address of array containing old row
Adjust for backwards DST changeover
Adjust nOut using stat3/stat4 data.
Advance to the next row to process.
Aggregate containing min() or max()
All (named) indices indexed by name
All table that pExpr might refer to
All the operations are synchronous.
All winShm objects pointing to this
Allocate Floyd-Steinberg workspace.
Allocate additional space if needed
Allocate space for the previous row
Allocate the sqlite3_vtab structure
Allocated size of buffer z in bytes
Allowed values for Column.colFlags:
Allowed values for Select.selFlags.
Allowed values of WhereTerm.wtFlags
Almost the same as in php_if_fstat.
Amount of usable space on each page
An SQL table corresponding to zName
An SQLITE_ status code is returned.
An ascii-range separator character.
An instance of the virtual machine.
An operand of a comparison operator
Any available database can be used.
Any existing value in pTo is freed.
Append cells to the end of the page
Append length in bits and transform
Argument pNode is an FTS5_AND node.
Argument to xInit() and xShutdown()
Arguments for SQLITE_PRINTF_SQLFUNC
Array of jump instruction addresses
Array of nodes containing the parse
Assert that operands are never NULL
Assumed sector size during rollback
Assumptions: Chars are 8 bits long.
Attach the explanation to this Vdbe
Attempt to extend file to this size
Attempt to start a new transaction.
Avoid memory leak when malloc fails
Base reg of Mod R/M is literal 0x00
Base reg of Mod R/M is literal 0x01
Because it has already been copied.
Begin reading this far into payload
Behave like without the Accelerator
Bitmap of columns used for indexing
Bitvec of pages already played back
Break out when the end-tag is found
Buffers p1 and p2 contain doclists.
But let's have it for completeness.
Byte offset of end of current token
Bytes to allocate segment root node
CHECK constraints are not enforced.
Cache flush for POWER architecture.
Cache that currently owns this page
Calculate the quotient digit guess.
Callback routine requested an abort
Candidate for the LIKE optimization
Change the key on an open database.
Check for one of the special errors
Check invalid chars for POSIX regex
Check that malloc() has not failed.
Check the integrity of the freelist
Check the modulus for scale digits.
Check we have remaining characters.
Checkpoint information in wal-index
Child node (or 0 if this is a leaf)
Class must not extend a final class
Clean up the VM after a single run.
Close a file that uses proxy locks.
Comment out this non used function.
Comparison result if keys are equal
Compile regex or get it from cache.
Consider tokens with this root node
Constant tokens for values 0 and 1.
Constants for MD5Transform routine.
Content registers (after the rowid)
Context pointer for xChunk callback
Convert Microsoft Unicode to UTF-8.
Convert transliterator id to UTF-16
Copy COUNT objects from SRC to DST.
Copy of 2nd argument to xTokenize()
Copy of input using utf-16 encoding
Copy src to string dst of size siz.
Copyright (c) Christos Zoulas 2003.
Create a new watch for a given path
Create and register 'Locale' class.
Create/destroy an Fts5Index object.
Current offset within position list
Cursor for the canonical data btree
Cursor number for current WhereLoop
Cursor of the canonical data source
Cursor open on index being analyzed
Cursor to receive the page, or NULL
Cursors from source and destination
Cursors that are not yet positioned
Data for current page of this level
Data space required for this record
Database to detach at end of vacuum
Deallocate a WhereClause structure.
Declare the table schema to SQLite.
Decode the page just read from disk
Decode the three function arguments
Decrement the free-list count by 1.
Default number of tokens in snippet
Defined at the top of this function
Delete the index and table entries.
Dequoted name of collation sequence
Disable a term in the WHERE clause.
Disable lookaside memory allocation
Do as much as possible w/o blocking
Do not issue error messages if true
Do not move this de-initialization.
Do not populate the overflow cache.
Do not try to use skip-scan if true
Do nothing with input, just skip it
Don't allow changing it in htaccess
Don't block if we can't complete...
Drop pages with this pgno or larger
Drop the cell from the parent page.
E_ERROR raised for security reason.
Each core filter has its own radius
Enable trans sid by modifying flags
End for loop over the format string
End of interface to code in fts5.c.
End of the last delimiter match + 1
Error code returned by ICU function
Error messages will be written here
Error occurred, but it still closed
Estimated average row size in bytes
Existence of VDBE checked by caller
Expression of which pNode is a part
Expression to initialize phrases in
Expressions defining the result set
Extra data passed into the callback
Extra zero bytes to append to pData
Extract this operand and return it.
FIXME: This doesn't cope with bzip2
FNV-1 hash each octet in the buffer
FNV-1 hash each octet of the buffer
FROM subqueries have Table metadata
Finished with one layer of the tree
First arg to pass to pApi functions
First byte of the cell content area
First convert the string to UTF-16.
First directory starts at offset 8.
First register in VUpdate arg array
Flags passed to sqlite3WhereBegin()
Flags passed to sqlite3_vfs.xOpen()
For added safety, we only leave -_.
For client use (any custom purpose)
For description of Comp see Q_Sort.
For each CTE in the WITH clause....
For iterating through doclist index
For mode (1), PGroup.mutex is NULL.
For non-fixed-length newline cases,
For normal operation N should be 0.
For pg_result_status() return value
FormatMessage returns 0 on failure.
Formulate the zContentExprlist text
Forward declarations of structures.
Free up as much memory as possible.
GD_SUCCESS on success or GD_FAILURE
Generate code for an IN expression.
Generate the code to do the search.
Generate the end of the WHERE loop.
Get arguments and do error checking
Get current strength and return it.
Get the suggested cache-size value.
Gets its class name from 1st column
Grow the output buffer if required.
Handle any leading odd-sized chunks
Handle any remaining bytes of data.
Handle for accessing memory mapping
Heap that might have been lookaside
However authinfo and env are cached
However, the matching is different.
IN/OUT: Decrement if row is deleted
IN/OUT: Mask of tokens to highlight
If no error happened returns false.
If not, we broke out after a match.
If not, we return a non-zero value.
Implementation of xCommit() method.
In case previously set by assertion
In this case set bSkipnext to true.
In this case, it is not considered.
In this case, jump to the next row.
Increase the leaves written counter
Increase the list size if necessary
Index added to make the name unique
Index of sub-iterator just advanced
Index of the OR-term to be analyzed
Information about each format field
Information about the record format
Inherit special functions if needed
Initial space for EQP output string
Initialize the Compression routines
Insert a new record into the BTree.
Integer value contained in u.iValue
Interface to code in fts5_buffer.c.
Interface to code in fts5_config.c.
Interface to code in fts5_varint.c.
Invoke the update-hook if required.
Is an alias for a result set column
It also sets Mem.flags to MEM_Null.
It is documented that this happens.
It is the reverse of PQescapeBytea.
It serves two purposes at once:  1.
It's safe to reread without freeing
Iterate forwards through a doclist.
Iterates through snippet candidates
Iterator to run through pList with.
Jump here to continue with next row
Just a dumb implementation for now.
Largest leaf block id written to db
Last synced page in dirty page list
Leaf node containing record iDelete
Left word vs right general category
Length of the keyword in characters
Level to add scanstatus() entry for
Link an element into the hash table
List of table triggers, if required
List the colors in the color table.
Look at the next letter in the word
Loop counter:  Next table in schema
Loop doesn't have freeable variable
Loop for searching the highest bit.
MJ checksum value read from journal
Make a full copy of pFrom into pTo.
Make every page in the cache clean.
Make sure color count is acceptable
Make this point to any syntax error
Make year always a positive number.
Mark the connection as usable again
Mask of columns used by this cursor
Match a regular expression        *
Match a single character, casefully
Match an extended Unicode sequence.
Matching failed: handle error cases
Maximum allowed string or blob size
Mem.z points to an ephemeral string
Merge engine thread reads data from
Mitchell filter, default radius 2.0
Move pPage to the front of the list
Move the content of pSrc into pDest
Multiple instructions are required.
N Containing zip archive was closed
Name of attached database (or NULL)
Name of database holding this table
Name of file to delete when closing
Name of left-most parent key column
Name of new table, or database name
Name of the view, trigger, or index
Need to locate the insertion point.
Need to sqlite3DbFree() Expr.zToken
Next character in the format string
Next cursor in Fts5Cursor.pCsr list
Next element in list of dirty pages
Next pattern and input string chars
No further bytes to check for 0x80.
No real data will follows after it.
Not ideal, but better than nothing.
Now get last part - the description
Now reconnect using the same handle
Now we have to check the semantics.
Number of arguments to the function
Number of backends currently in use
Number of bits in the bitmap array.
Number of buckets in the hash table
Number of bytes of data to be bound
Number of children of returned node
Number of columns in current object
Number of columns in the result set
Number of entries currently in hash
Number of entries in the hash table
Number of extra copies of last page
Number of fragments in this snippet
Number of hash collisions remaining
Number of instance matches this row
Number of key fields in each record
Number of left-most columns to skip
Number of outputs for the new entry
Number of outputs for this subquery
Number of pages to use in the cache
Number of purgeable pages allocated
Number of times table has been busy
Number of u32 values in hash table.
Number of usable bytes on each page
Number terms in the ORDER BY clause
OE and Rc flag (see ALT_SET_FLAGS).
OP_Destroy stores an in integer r1.
OUT: Block id of last entry written
OUT: Database page number for frame
OUT: Error message (sqlite3_malloc)
OUT: Malloc'd array of column names
OUT: Next free index at iAbsLevel+1
OUT: Number of leaf pages in b-tree
OUT: Set to true if call is a no-op
OUT: Size of position list in bytes
OUT: Size of position-list in bytes
OUT: Value read from the nRec field
OUT: sqlite3_malloc'd error message
Obtain relevant filename and lineno
Offset of journal header being read
One could argue that this is wrong.
Only code the 1st table in pTabList
Only one of (2) or (3) can be used.
Only shared Btrees are on the list.
Only the column names are computed.
Only the journal header is written.
Opcode: Noop * * * * *  Do nothing.
Opcodes that must match a character
Optional list of result-set columns
P4 is a 64-bit floating point value
PASSIVE, FULL, RESTART, or TRUNCATE
PTRMAP_ISPAGE implements this test.
Packed key if the btree is an index
Page number corresponding to btterm
Page number of free-list trunk page
Page number of fts index leaf page.
Pager object to allocate and return
Paranoid check for integer overflow
Parent node (or NULL for root node)
Parent table of FK constraint pFKey
Parse context to store any error in
Parsing and code generating context
Part of a parenthesized FROM clause
Please send bug reports to David M.
Pointer to buffer containing record
Pointer to buffer containing string
Pointer to buffer to copy data from
Pointer to corresponding expr token
Pointer to data to append to buffer
Pointer to doclist of current entry
Pointer to page data (for checksum)
Pointer to position list for phrase
Pop all events from the shared list
Processing for ref-cursor out binds
Property already exist - make array
Put the expression object together.
RHS must not overlap with this mask
RHS of LIKE/GLOB ends with wildcard
Raw cell content as appears on disk
Read an entry from the pointer map.
Read and decode the next log frame.
Read and write the xxx_parent table
Readr data from here after Rewind()
Reclaim all memory used by the VDBE
Reclaim the memory used by an index
Record best loops here, if not NULL
Record that this module has started
Register 'ResourceBundle' PHP class
Register 'Transliterator' PHP class
Register an unlock-notify callback.
Register holding the offset counter
Release the array of temp registers
Releases the cgo traceback context.
Remove the slot from the free-list.
Reset capture count for each branch
Resize the range list if necessary.
Result of last OP_Compare operation
Return 1 if any of these are found.
Return a pointer to the new object.
Return code of various sub-routines
Return control to the parent frame.
Return false if we can't find argv.
Return formatter's last error code.
Return negative for a syntax error.
Return the margin length of cell p.
Return the number of bytes written.
Return the number of rows inserted.
Returns true if the key is present.
Right word vs left general category
Rootpage of table being initialized
Routine to run in a separate thread
Rowid for current doc being written
Run the constructor if there is one
SQLITE_OK is returned in this case.
SSE2 and immediate is not possible.
Save the current state of the PRNG.
Scan an unsigned or signed integer.
Scan to write OP_Explain opcode for
Schema format version for this file
Search for wildcard matches instead
Second argument to pass to callback
Sector-size field of journal header
See fts3StringAppend() for details.
See if the server requested a close
Select id (left-most output column)
Select statement to read idx values
Select the column is extracted from
Sequence number of leaf within tree
SessionUpdateTimestampHandler class
Set the doNotSpill NOSYNC bit to 1.
Set the suggested cache-size value.
Set up the current x and y position
Set up things specially for that OS
Set up utility functions and values
Shifts left before out of the error
Size of buffer containing root node
Skip protected and private members.
Skip the variable-length character.
Small - less than 3/4 of page size.
So mark the allocation as a benign.
So only two  constraints are coded.
So run recovery to do exactly that.
Solid 3.5 does not have this issue.
Source and destination is register.
Source registers if SQLITE_ECEL_REF
Special case if exponent is a zero.
Start a search on a new JSON string
Started out as two integer operands
Static mutexes should never fail...
Store SQLITE_NOMEM here if required
Sync at the end of each transaction
TMP2 may be destroyed by peek_char.
Table being updated or deleted from
Table column this handle is open on
Table that the trigger fires off of
Test byte-range lock using fcntl().
Text encoding used by this database
That's the one we're interested in.
The BtShared object that owns pPage
The Source list to check and modify
The UNLIKELY() function is a no-op.
The UTF-8 string to compare against
The VDBE cursor used to access pIdx
The WAL transaction is then closed.
The WHERE clause of the outer query
The bits used for the overflow flag
The branch terminates at string end
The chain does not match the policy
The cursor structure of the backend
The deserialized value is returned.
The eMode parameter is always valid
The escape coded a single character
The expression list to be analyzed.
The file descriptor to be filled in
The following block does just that.
The hash table into which to insert
The index is itself UNIQUE, and  2.
The journal file from which to read
The least significant bit is bit 1.
The output vector wasn't big enough
The page is then marked  not dirty.
The page of the frame to be written
The pager open on the database file
The pointer to the top of the heap.
The signs of N1 and N2 are ignored.
The table being inserted or updated
The table is opened using cursor 0.
The table the contains the triggers
The table with the non-unique rowid
The transaction counter has changed
The two values have different signs
The upper or lower bound just coded
The virtual table being constructed
There cannot be more newlines here.
These are used by 'col' tables only
Think hard before fiddling with it.
This destination implies "LIMIT 1".
This is not a malloc/realloc check.
This is probably not what you want.
This is the core of sqlite3_step().
This is used for  two purposes:  1.
This list is shared across threads.
This pointer is the unique file ID.
This table is a lower casing table.
This term is not useful for search.
Tokens must have a non-zero length.
Top of a loop checking foreign keys
Total cache hits, misses and writes
Total number of bytes in the record
Total pages involved in the balance
Trailing values to read from sorter
Translate a single UTF-8 character.
Treat ORA-1010 as a successful Ping
Tree contains a TK_COLLATE operator
Trigger this program was coded from
True for an update, false otherwise
True for min() and max() aggregates
True if a lookup of a single entry.
True if buffer zTerm must be copied
True if db currently has pBt locked
True if in a normal write operation
True if last operation was a delete
True if next rowid is first in page
True if sorter record includes seq.
True if the leaf of an intKey table
True if this constraint is on docid
True if this expression is reusable
True if this is an UPDATE operation
True to interpret filenames as URIs
True to truncate WAL file on commit
Try to use old VS_PROFILER variable
U+FDD0-U+FDEF (nonchars) disallowed
Uninstall ocaml's segfault handler.
Unlink a file within a phar archive
Unsigned for byte-order conversions
Update a row in a main table b-tree
Update or delete the input segments
Update the .nOut value of this loop
Use a rollback journal on this file
Use covering indices for full-scans
Use for looping over pSrcList items
Use same C function for all methods
Used by PRAGMA temp_store_directory
Used to build up list of table cols
Used to walk the replacement string
Value of pOp at the top of the loop
Value returned by sqlite3OsAccess()
Value returned by sqlite3_changes()
Variable used as the phrase counter
Very slow on a palette destination.
We don't handle 3.23 authentication
We then add that zval to the array.
Where return pointer will be stored
WhereClause currently being scanned
Windows build boxes and such things
Works for compilers other than LLVM
Write a frame or frames to the log.
Write into *piPage the page number.
Write out a single frame of the WAL
Write the column value into *ppVal.
Write the revised row estimate here
Write up to this many output leaves
X format has only two instructions.
X3.64/ECMA-43 "next line" character
Zero means the default is an error.
Zero out anything following *ppList
Zero-length table names are allowed
`safe' write for sockets and pipes.
`yyvs': related to semantic values.
add the event to the internal queue
aliases for downwards compatibility
allocates a new interpreter context
amount of allocated memory for data
arg3 is possible option offset name
array's are _very_ special in soap.
as error, use the values for now...
boundary case -- decrement exponent
boundary case -- increment exponent
build up a the new array of objects
by default, use the existing format
centralised open stream for builtin
check if shm is already initialized
check if there is already more data
commit if we're in auto_commit mode
conversion for combining characters
convert the timestamp into a string
copy fds because select() alters it
couldn't convert to string and back
create an entry, this is a new file
default to regular inet (see below)
defer MT decisions to system malloc
defined(InterlockedCompareExchange)
delete the function from the handle
determine the classname/class entry
don't chdir to the script directory
don't pass up events (internal use)
e.g. underlying read(2) returned -1
either or both operands are NULL...
encoding handled by property on doc
etfs cluster size writes are atomic
failure, but notice already emitted
fetch the rest into a T_INLINE_HTML
fill pollfd with event informations
first section exactly as php_fgetss
flags match what we are looking for
flush overflow and terminate region
guard against freeing invalid types
handle generic PDO-level attributes
if autoresume is wanted seek to end
if buffered, pre-fetch all the data
if the value's type is not known...
ignore ZEND_EXT_STMT and ZEND_TICKS
insert a NULL value into the column
let's see if we have one cached....
log(Number of iterations due to IN)
looks like we'll need to resolve it
macro generates multiple statements
make path point to the drive letter
move on to first character in field
move the environment out of the way
n - The size of the previous block.
new line/NUL character safety check
non-ASCII codepoint read from input
not representable in target charset
number of cdir-entries on this disk
on either side of the input string.
one-byte or second of two-byte char
optimization: color is GC_BLACK (0)
pSelect is correlated, not constant
pass the xml_elem_data struct along
pce now contains the compiled regex
prevent duping if logging to syslog
remember just offset, cause address
reset libxml generic error handling
retrieve requested file within phar
return to central directory parsing
rounding values: same as FLT_ROUNDS
sanity check parameter number range
save for potential restore on error
scan over it and pull out the certs
set exec if present on command line
setup string-variable and serialize
setup the version number: version 1
setup_tree does the following work.
skip non-valid multibyte characters
sol_socket options and general case
some prototypes for local functions
someone else might have it reserved
space and POSIX space are the same.
sqlite3MallocAllow() decrements it.
sqlite3_vfs method implementations.
statement that will be fetched from
stop before hitting compressed data
support for custom memory allocator
support only "w"(b), "a"(b), "x"(b)
support some of the 1999 data types
tally the length of the added data:
term_tok: TK_EOT or TK_SUBEXP_CLOSE
the user has called store_result().
this is orphaned metadata, erase it
track current and peak memory usage
treat empty files as empty archives
two digit day, without leading zero
two digit minute, with leading zero
two digit second, with leading zero
unary operation on constant operand
unlikely() or likelihood() function
update ptrs to point to valid keys.
update status structure for all PMs
use port 21 if one wasn't specified
user handler may have returned TRUE
valid characters are a..z,A..Z,0..9
value handled in browscap.c's MINIT
wait 0.5 sec and try the lock again
wait for inconming event or timeout
we have no mappings outside the BMP
we we're looking for a private prop
we're going to insert a NULL column
whereLoopXfer() copies fields above
zend_stack_push returns stack level
"armenian code filter and converter"
(*SKIP:arg) is found in the pattern.
(2) tkOTHER     Any other SQL token.
(7)  The subquery has a FROM clause.
+ total number of segments in level.
- desc is never freed by the server.
0 is used to represent "not a page".
1 - The block is a block terminator.
1 bit per page in the db (see above)
1-byte header, 16-byte host id, path
2.1 Calculate how much space we need
2: Table has an explicit IPK column.
8-bit jump immediate (sign extended)
@param  zval* str String to convert.
A "NOT INDEXED" clause was supplied.
A core dump is actually more useful.
A will strip any trailing whitespace
Abort early if the journal is empty.
Actual size of mapping at pMapRegion
Add the final chunk if there is one.
Add the page to the PGroup LRU list.
Affinity for end of range constraint
After pStmt has returned SQLITE_DONE
Aggregate functions are allowed here
All can be handled by the same code.
All ram filesystem writes are atomic
All unixShm objects pointing to this
Allocate a new Fts5IndexIter object.
Allocate and return new r-tree node.
Allocate readers for this expression
Allocate space for memory structures
Allocate the Input buffer front-end.
Allocate the SegmentWriter structure
Allowed values for BtShared.btsFlags
Allowed values for winFile.ctrlFlags
Append NULL to the end of the string
Append a term to the output segment.
Append the pgidx to the page buffer.
Argument rc is an SQLite error code.
Array of column names for fts3 table
Array of expression tokens and costs
Array used to calculate phrase freq.
Assume some uncommitted DML occurred
Attempt to start a read transaction.
Attempt to write a readonly database
Average number of tokens in each row
Begin a read transaction on the WAL.
Best score of columns checked so far
Binding to these vars invalidates VM
Bitmask of schema verified databases
Bitmasks used by sqlite3GetVarint().
Block containing newline information
Block id of child node to descend to
Block number of last allocated block
Block size for compression algorithm
Both X and Y have COLLATE operators.
Buffer used by fts5SegIterSeekInit()
Buffer used to hold most recent term
But the allowed values are "grainy".
But this is adapted to present re.c.
By convertCompoundSelectToSubquery()
Byte R/M field with op code (/digit)
Bytes of prefix compression for term
Bytes of space for iSerial as varint
Bytes required to hold database name
Call the top-level defined __call().
Called from runtime.SetCgoTraceback.
Check a unixFile that is a database.
Check for OCIClientVersion() support
Check for quantifiers after a class.
Check if the iterator is now at EOF.
Check that value is actually a blob.
Check the exponent for scale digits.
Check to see if the i-th bit is set.
Checksum based on FTS index contents
ChooseSubTree in r*tree terminology.
Chunk of wal-index containing header
Class derived from sqlite3_tokenizer
Close a connection to shared-memory.
Collation and sort-order information
Compute Sun's ecliptical coordinates
Connection that caused SQLITE_LOCKED
Context for fts3ExprTermOffsetInit()
Context object for fts5ParseTokenize
Context object for new user-function
Context pointer for xCreate/xConnect
Context used to resolve WHERE clause
Continuing where we left off in os.h
Contrast this object with WhereLoop.
Convert to a real julian day number.
Convert to intermediate UChar* array
Coordinate value convert to a double
Copy of pContext passed to s_r_g_c()
Cost multiplier for using this table
Counter incremented each transaction
Create a new index for an SQL table.
Create the COM wrapper for this sink
CubicSpline filter, default radius 2
Curl NETRC constants (CURLOPT_NETRC)
Current number of distinct checkouts
Cursor is pointing ot the last entry
Cursor of table to get the new rowid
Cursor used for index scans (if any)
Database structure for this iterator
Db name for state ("stat" or "main")
Deallocate all chunks from a RowSet.
Declare 'Collator' class properties.
Decrement the BtShared.nRef counter.
Deferred token object for this token
Delete all cached deferred doclists.
Discarded digits make delta smaller.
Display all of the WhereLoop objects
Do not spill the cache when non-zero
Docid to bind for SQL_SELECT_DOCSIZE
Double shifts needs to be performed.
Dummy function to follow the old API
Duplicate named group recursion test
Duplicate of trigger WHEN expression
ERROR: copy exceeds output file size
Each record is of an arbitrary size.
Eat trailing whitespace + extra char
Either or both argument may be NULL.
Empty string, return as empty stream
Enable or disable extension loading.
Enable the entity loader by default.
End of the overrideable system calls
Error code returned by the function.
Error message from sqlite3ParseUri()
Error message from sqlite3_mprintf()
Error: could not load JIT functions.
Escape double quoted string contents
Estimated rows returned by this scan
Exit the recursive mutex on a Btree.
Expected number of pages in the list
Exported version of applyAffinity().
Expose IDN constants to PHP scripts.
Expose so we can display diagnostics
Extract the value into this register
FTS5 global object for this database
Figure out the rowid of the new row.
Filename might have query parameters
Fill up the buffer with client data.
Find the next possible pointer head.
Find the root of the NEAR expression
First (only) step of trigger program
First argument passed to xCallback()
First byte of available memory space
First color allocated is background.
First convert the strings to UTF-16.
Fix in 1.3: count a vertex only once
Flag parameters, such as SF_Distinct
Floating point R/M field with opcode
For FTS5_STRING - cluster of phrases
For columns use the column name name
For compatibility with MS SQL Server
For each color in colormap, find: 1.
For example if this expression:  ...
For example, if the query were:  ...
For looping over sibling connections
For other groups, scan the branches.
For storing the record being decoded
Force RBU to save its state to disk.
Free all memory and close all files.
Grab the write lock on the log file.
Group name must start with non-digit
HALFWIDTH KATAKANA VOICED SOUND MARK
HASH_INT, _POINTER, _STRING, _BINARY
Hash.htsize and Hash.ht may be zero.
Helper function for fts3NodeWrite().
Here we should close all statements.
Holding area for temporary registers
Hope the C compiler is smart enough.
IN operator used for membership test
IN/OUT: True after first int written
If NULL, then tracing is turned off.
If an OOM occurs, NULL is  returned.
If not NULL, the master journal name
If only everything were that easy...
If onoff is zero, undo this setting.
If the Hash table is full, resize it
If the syscall fails, we are doomed.
If this is a new term, query for it.
If work was actually accomplished...
If x is a blob, then we count bytes.
Ignore IFD2 if it purportedly exists
In which case the bIncr flag is set.
Increment constraint counter by this
Increment pSpace by nOff to align it
Index in aData of first cell pointer
Index of first record in sub-journal
Index of first table to join in pSrc
Index of last valid frame in the WAL
Index used to optimize scan, or NULL
Inequality constraint at range start
Initial number of pages on free-list
Initialise FastCGI request structure
Initialize for each processing pass.
Initialize the BLOB value of a ROWID
Initialize the count of updated rows
Integer primary key is autoincrement
Interface to code in fts5_storage.c.
Invoke the busy handler for a btree.
Invoke the virtual table constructor
It has emerged from apache snprintf.
It is only called from the top-level
Iterator used while populating OLD.*
JMP L, L: RETURN to immediate RETURN
JMP_SET result can't be false either
Jump here to skip the current record
Key for ARRAY objects in json_tree()
Langid of recently inserted document
Largest block id written to database
Lastest rowid any iterator points to
Left space vs right general category
Length of database filename - dbPath
Length of each character in zCharSet
Length of the function name in bytes
Let I be an integer between 0 and N.
Level/index to create new segment at
Libcurl is doing connection caching.
Like YYERROR except do call yyerror.
List of docids for full-text queries
Load magic initialization constants.
Local copy of initial highlight-mask
Loop through all candidate snippets.
MEM cell holding key  for the record
Make sure the column name is unique.
Make the context ready to start over
Malloc a buffer to read frames into.
Malloc'd buffer to load entire frame
Mask of all non-compound WO_* values
Match a single character repeatedly.
Maximum allowed size of the database
Memory Mapping interface for streams
Memory cell used for change counting
Memory cell used for the row counter
Memory management strategy for zName
Most malloc failures are non-benign.
Most senior NEAR ancestor (or pExpr)
Move the iterator to the next entry.
Multi-byte op code - Auxiliary table
Must be called inside a transaction.
Must be of the form  INSERT INTO ...
NB: doesn't handle binary strings...
NULL values result in NULL pointers.
Name of table or index being scanned
Name of the table we are looking for
Name of the term in the USING clause
Namespace to resolve expressions in.
Need to keep track of things to free
Needed for the definition of va_list
Neither the RHS or LHS are deferred.
Nesting only happens one level deep.
Next entry in Parse.pTriggerPrg list
Next value in trailing position list
Next winShm with the same winShmNode
No candidate table+column was found.
No error if the table already exists
No locking occurs in temporary files
No slash found, therefore return '.'
Node must have already been started.
Nodes at EOF are the largest of all.
Non-Posix functions which are common
Normal hash selection/retrieval call
Note that LONGLONG is a 64-bit value
Nothing stored during the first run.
Now update the actual sibling pages.
Now, if comps exist, write them out.
Number of aliased result set columns
Number of bytes of URI args at *zUri
Number of bytes of leaf data written
Number of bytes of space to allocate
Number of columns in the PRIMARY KEY
Number of contiguous term-less nodes
Number of days since 1st day of year
Number of elements in the data array
Number of entries on one ptrmap page
Number of indices that need updating
Number of leaf pages in unit of work
Number of matchable phrases in query
Number of nested calls to VdbeExec()
Number of non-transaction savepoints
Number of output leaves just written
Number of pages in the database file
Number of pointers to this structure
Number of tokens desired for snippet
Number of tokens to shift snippet by
Number of u32 elements in match-info
OUT: Array of indexes for this table
OUT: Block number in next layer down
OUT: Caller should free this pointer
OUT: Caller should sqlite3_free(*pa)
OUT: Docid and doclist for new entry
OUT: First token of proposed snippet
OUT: Return the Pager structure here
OUT: Set to point to affinity string
OUT: bm25-data object for this query
Object for pair-wise doclist merging
Offset of free space in list.aMemory
Offset within aMemory of next record
Omitted if the zerodata flag is set.
One byte past the end of usable data
One of TRIGGER_BEFORE, TRIGGER_AFTER
One or more aggregate functions seen
One or more of FLAG_ constants below
One past the last escaped input char
One register allocated to each index
Only SOF0-SOF2 are now in common use
Only call this right before exiting.
Open a token cursor on the document.
Open page 1 of the file for writing.
Open the connection to the log file.
Operator for the combined expression
Or query for the current value of N.
Original KeyInfo on the sorter table
Other bits in *pOutFlags may be set.
Otherwise the behavior is undefined.
Otherwise, check for recursion here.
Otherwise, it is always set to zero.
Otherwise, use RTREE_DEFAULT_ROWEST.
Out-of-range pages are also skipped.
Output flags returned to SQLite core
Output string with quoted characters
Overflow page pointer-map entry page
P2 to OP_Open** is a register number
Parameters to CREATE TABLE statement
Passed as opaque in malloc callbacks
Phrase and token index, respectively
Pointer map 'type' entry for pDbPage
Pointer to a single WhereLoop object
Pointer to application-specific data
Pointer to buffer containing doclist
Pointer to first in list of synonyms
Preserve the default page cache size
Prevent the single-thread code below
Previous rowid value written to page
Primary key declaration for imposter
Problem reported by Andreas Pfaller.
Program implementing pTrigger/orconf
Pushing the starting string pointer.
Quadratic filter, default radius 1.5
Query the size of the file in bytes.
RBU_PK_NOTABLE:       No such table.
RETURN_ADDR is not a saved register.
Read and uncompress an entire chunk.
Read and write return code from here
Read data from a file into a buffer.
Reclaim memory used by a Stat4Sample
Reflect pattern for debugging output
Refuse to fill to a non-solid border
Register 'NumberFormatter' PHP class
Register in which to assemble record
Relative to first byte of structure.
Remember rowid changes made by xFunc
Remove all data from the FTS3 table.
Remove the entry in the parent cell.
Removing a return type is not valid.
Replacement value when JNODE_REPLACE
Requested snippet length (in tokens)
Result code form Lock/UnlockFileEx()
Return NULL if there are no matches.
Return NULL if we run out of memory.
Return a pointer to the first match.
Return cde from function - usually 0
Return if don't need to do anything.
Return non-zero if a malloc() fails.
Return the cursor integer id number.
Return the equivalent native integer
Return the index of the new element.
Return the next pixel from the image
Return the number of cells in a node
Return the page number for page pPg.
Return the result of the comparison.
Return the unixInodeInfo object here
Returns integer result when possible
Right and left size of LIKE operator
Right space vs left general category
Row is being deleted from this table
Rowid argument passed to stat_push()
SEE ALSO XMLRPC_VectorNext () SOURCE
SEE ALSO simplestring_init () SOURCE
SHA384 uses the exact same algorithm
SQLITE_UTF16 is not used internally.
SQLite used to support LinuxThreads.
Save for checking forward references
Saved value of the last insert ROWID
Search directory for matching names.
Search for last called user function
See GEMS I for the algorithm details
See also: NotFound, Found, NotExists
See sqlite3FixSrcList() for details.
Server died - connection not usable.
Set a SQLITE_TOOBIG error if no NULL
Set of contexts for which prohibited
Set the VdbeCursor.isTable variable.
Set the journal-mode for this pager.
Set the limiting size of a WAL file.
Set the output variables and return.
Set to true if segment is appendable
Set up the required files for pIncr.
Setting contextEngineIS if specified
Setting the authentication protocol.
Should be numbered beginning with 0.
Should be the multiply of page size.
Should not happen as sizeof is used.
Simple cases we want to handle fast.
Simple operation except for updates.
SimpleXML must be initialized before
Size flags for emit_x86_instruction:
Size of buffer pointed to by zHeader
Size of the temporary register block
Skip any leading divider characters.
Skip for now to retain compatibility
So do not bother - just return true.
So we must test for alnum specially.
So we want a .re scanner to find it.
Solaris 10 defines atomic API within
Some kind of disk I/O error occurred
Some views have defined column names
Start a thread to handle exceptions.
Start at the beginning of the string
Start at the end and work backwards.
Start of highlight() implementation.
Starting point is exactly on ellipse
Statement to return all language-ids
String to return via *pzImposterCols
Stub routines for all mutex methods.
Subtraction, carry is really borrow.
TUNING: Cost of a rowid lookup is 10
Table name - used by the opdate hook
Take the jump if the BETWEEN is NULL
Take the jump if the BETWEEN is true
Temporary space used to build header
Test the various possible conditions
Text inserted into table-name column
Thanks to Aaron Giles for this idea.
That clips too, so don't clip twice.
The btree to set the safety level on
The column of the index to be loaded
The database disk image is malformed
The database to store the trigger in
The default size of a database page.
The dummy will be overwritten later.
The error code is set to "err_code".
The first column is in this register
The foreign key linking pSrc to pTab
The general operand (not immediate).
The iCol-th column of the result set
The journal file into which to write
The journal file needs to be opened.
The julian day number times 86400000
The largest iLevel value in the tree
The master stores, the workers read.
The pDbPage reference remains valid.
The page number of a page in journal
The pager is not an in-memory pager.
The parent or outer SELECT statement
The parser builds the list this way.
The posix advisory locking structure
The return code indicates the error.
The size in bytes of the *-oal file.
The specific database being pragmaed
The string may or may not be quoted.
The total size of the shared memory.
The underscore character "_" (0x5F).
The unoptimized version would be ...
The user-supplied minor token value.
The very beginning of the WHERE loop
The xDestroy() virtual table method.
The xOpen() operation has succeeded.
The zFormat string must not be NULL.
Then remember the forward reference.
There are no alignment requirements.
There is one exception to this rule.
There should be at least one opcode.
There's been some horrible disaster.
These variables are not thread-safe.
This call frees pShmNode if required
This can be a big performance boost.
This code really belongs in btree.c.
This destroys an  in-memory journal.
This function is now an anachronism.
This implements the RTRIM collation.
This is 'SHOW'/'EXPLAIN'-like query.
This is a braminzero backtrack path.
This is in violation of the appnote.
This is mostly just syntactic sugar.
This is subsequently free'd at exit.
This is the spprintf implementation.
This isn't supported by all drivers.
This keeps it consistent and simple.
This must be a brand-new connection.
This table is a case flipping table.
This turns out to be rather cunning.
Thus the result table has 8 entries.
To iterate through builtin functions
Tokenization callback context object
Tokenize using the porter tokenizer.
Total number of columns in the index
Transform as many times as possible.
True for native byte-order checksums
True for recursive reference in WITH
True for reverse-order IN operations
True for xCreate, false for xConnect
True if a locking error has occurred
True if any page has PGHDR_NEED_SYNC
True if callback data is initialized
True if getNextNode() sees a unary -
True if holding the winShmNode mutex
True if resolved to a trigger column
True if table-valued-function syntax
True if yymajor has invoked an error
True to run the ORDER BY search loop
Truncate WAL to this size upon reset
Try 3 times to get the pending lock.
Try to avoid a seek in BtreeInsert()
Try to load the dll from the PATH...
Try to obtain a page from the cache.
US-ASCII case folding still applies.
USE_FIND_LONGEST_SEARCH_ALL_OF_RANGE
Update the database size and return.
Uploaded file exceeded MAX_FILE_SIZE
Usable size of mapping at pMapRegion
Use OP_Copy to make a complete copy.
Used both in old (non-OO) and OO API
Used for testing and debugging only.
Used to get maximum path name length
Used to implement "IN (SELECT ...)".
Used to iterate through attached dbs
Used to iterate through entire index
Used to iterate through memory cells
Used to iterate through phrase terms
Used to store transient return codes
Value passed to FCNTL_SIZE_HINT call
Value returned by SetFilePointerEx()
Value to pass to log callback (or 0)
WHERE clause of the UPDATE statement
WHERE_ONEROW would have been helpful
WITH clause attached to this select.
Wal file descriptor for this main db
We did A already case 'A': case 'a':
We don't mnd_calloc()  for a reason.
We failed long ago if this is not so
We must re-initialize function again
Where clause to locate temp triggers
Which tables are currently available
With -O2, this jumps to 6.6 percent.
Write an entry into the pointer map.
Write the decompositions themselves.
Write to the unixFile structure here
XXX Stupid subtraction for the Cray.
XXX: should do something better here
ZEND_DECLARE_MODULE_GLOBALS(enchant)
Zero disables auto-merge altogether.
Zero extra digits made by scale_min.
Zero potentially sensitive variables
Zero the structure before returning.
allocate a buffer for reading chunks
anchor optimize: resume search range
apply the r-th round transformation:
assume "index.php" is starting point
be sure we didn't leave cache locked
break missing intentionally here too
bytes allocated for WhereInfo struct
called __construct() twice, bail out
called by PDO to start a transaction
can't read nothing or invalid format
check for a cached persistent socket
check for a dotted-IP address string
check for use of reserved method IDs
check which states can be overridden
common part to res_context ends here
constants for Jewish date formatting
convert ID back to base cell indexes
convert buffercontents to zip_dirent
convert to lower and replace hyphens
copy the details from the first item
create initial children in all pools
delete the collation from the handle
don't separate references for __call
dst may be the same as src1 or src2.
empty and too long paths are invalid
exponential format (e.g. 1.2345e+13)
find out how many rows were affected
first try to open/create the file 2.
flag to remember which row we are on
foreach (chunk that ends in a quote)
form feed U+0C allowed, but not U+0D
form is optional, defaults to FORM_C
generate XMLRPC_REQUEST from raw xml
generate the SELECT expression tree.
hack to fix use of initialized value
host might contain binary characters
if not long we're operating on lzval
implicit result set statement handle
initialize filter and collector data
last one is beyound our start offset
linear interpolation between w and v
lock support test (TODO: more check)
looking for 'Connection: keep-alive'
lowercased unqualified constant name
malloc.c filters out 0 byte requests
mark as outside range and get buffer
maxlen can never be smaller than 128
nbr of 1st byte locked if successful
no copy ctor - get already copied it
not control_len, which may be larger
now correctly move the decimal point
now deal with the tail end of things
number of bytes read from a datafile
on no results, return an empty array
optimize each basic block separately
otherwise, default to generic "item"
otherwise, use the type as the name.
pKeyInfo is used for comparing keys.
pOrderby is really a DISTINCT clause
pn prints the number NUM in base 10.
png_set_strip_16() not yet in effect
populated by sqlite3_create_module()
ppc 32-bit arch dependent functions.
ppc 64-bit arch dependent functions.
random/urandom equivalent on Windows
randomMT() returns 32 random bits...
reference to non-existent subpattern
register in the persistent list etc.
reset GC_ADDRESS() and keep GC_BLACK
return signal mask to previous state
return the completed message digest:
seek to just past the path separator
send message contents in 1024 chunks
set data connection protection level
shift the existing data if necessary
simple checks for the mailto address
size after value/piece has been read
skip "last day of" or "first day of"
so we don't get warnings under debug
sqlite3SelectExpand() called on this
sqlite3_step() has another row ready
stdout of parent is always /dev/null
synchronize our buffer (if possible)
table for clamping the applied error
the pipe to wakeup the OCaml program
these opcodes are handled separately
this only looks like magic, it isn't
this sucks for threaded environments
timezone is called _timezone in LibC
trigger callback hook for parameters
try and force the stream to be FILE*
two digit hour, without leading zero
unixFile created and returned by ref
validate a modified-base64 character
validate cookie length -- + CRLF * 2
vfs module to open wal and wal-index
wait for inconming event or timeout.
we do not know the order of sections
we haven't created a lazy object yet
we interpret 0x5C as the Yen symbol.
we must reuse the old SSL session id
x86 32-bit arch dependent functions.
x86 64-bit arch dependent functions.
xFilter - configure scan constraints
xFindFunction - function overloading
"*" at the end of the pattern matches
"I" is the direction the branch goes.
"long" formats are int formats for us
(4) tkCREATE    The "create" keyword.
******************* Storage Modules *
+1 is to have empty marker at the end
-***************** End server funcs *
0 - flag not allowed 1 - flag allowed
1 for tables and indices to be opened
2.0.5: we should actually return this
8-bit immediate - (no sign extension)
@param source      String to convert.
@param status      Conversion status.
A lists of all unixInodeInfo objects.
A main database has just been opened.
A return value of 0 indicates success
A very basic conversion approach, TBB
API for registering VOLATILE wrappers
ASN_UNSIGNED is the same as ASN_GAUGE
Abort the SQL statement with an error
Above is constant between recursions.
Add the code to the defined category.
Add the value of the varint to *pVal.
Add with a default set of properties.
Additional databases may be attached.
Address of first `dummy', once known.
Address of jump over the delete logic
Address of next instruction to return
Address to jump to for next iteration
Advance pixel pointers to next column
All nFrom paths at the previous level
All space belongs to this allocation.
Allocate the Output buffer front-end.
An sp-back edge: mark as irreducible.
Append the data to the string buffer.
Array of mapped shared-memory regions
Array of marks for PREG_PATTERN_ORDER
Array of mxSample Stat4Sample objects
Array of unquoted target column names
At EOF, write the rest of the buffer.
At least confirmed for: OSF1 V4.0 878
Available memory locations begin here
Avoid const warning with old versions
Basically, the class is instantiable.
Begin a transaction for database iDb.
Bitmask of phrases covered by snippet
Bitmask of tables referenced by pExpr
Block number of first allocated block
Buffer in which to assemble leaf page
Buffer to gobble string/bareword from
But this code here only works on OSX.
But we use the B term in "glob(B,A)".
Bytes to allocate for each journal fd
Cache flush for PowerPC architecture.
Calculate the month and day of month.
Call __wakeup() method on the object.
Call is always patchable on sparc 32.
Call the comparison function directly
Called to check a condition assertion
Calling function guarantees this much
Candidate values for Fts3Query.eType.
Cannot insert into a read-only table.
Checksum based on contents of indexes
Clear stat cache (and realpath cache)
Clear the AA_opacity array behind us.
Close all handles to avoid a deadlock
Collating sequence for the result set
Column names corresponding to IDLIST.
Column number within the source table
Column of table to populate aTerm for
Combined MEM_* flags from both inputs
Commented out until future discussion
Compile a regular expression        *
Compute the CCD width, in milimeters.
Conditionally this LIKE operator term
Convert character code to glyph index
Convert only if we have enough space.
Coordinates of node or entry to check
Copy of update mask used with pUpdate
Copy the color bounds to the new box.
Copy the limit of allowed recursions.
Copy up to the end of the string or /
Could-be-empty unlimited repeat group
Create a new mask for cursor iCursor.
Create a new virtual database engine.
Create a temporary file name in zBuf.
Create and register 'Collator' class.
Current depth of the r-tree structure
Current rolling back, so do not spill
Current size of stack (all segments).
Cursor for table associated with pIdx
Cursor pointing to entry to read from
DB Page containing root of this index
Database connection for malloc errors
Database key for encryption extension
Database page number to read data for
Database the cursor belongs to, or -1
Deallocates any cached error strings.
Declarations for functions in fkey.c.
Decrement the r-tree reference count.
Default locking-mode for attached dbs
Definitions to allow mutual recursion
Delete a row from a main table b-tree
Delete all entries in the FTS5 index.
Deserialize cell iCell of node pNode.
Destroy an existing tokenizer cursor.
Determine how many rows have changed.
Display all terms of the WHERE clause
Do appropriate checks on the content.
Do final permutation (inverse of IP).
Do not try to close prototype streams
Document text to extract snippet from
Drop frames until we reach STACK_TOP.
ERROR: copy extends past end of input
Each subquery gets a new NameContext.
Each uploaded file has its own array.
Either SQLITE_ATTACH or SQLITE_DETACH
Emulation of the Unix signal SIGSEGV.
Enable the lookaside-malloc subsystem
Error message for circular references
Even unfulfilled requests are counted
Excludes all non-ASCII in either mode
Existing verbs might be discontinued.
Expression for a single result column
Extra space associated with each page
FROM clause cannot contain a subquery
FROM entries not usable at this level
FTS4 is really an extension for FTS3.
Fall through with a digit less than 8
Fast decoding a UTF-8 character type.
Feed this result into the outter hash
Fetch  values from the incoming array
Field containing processed string end
Fill dtable with character encodings.
Fill the automatic index with content
Find the table that is to be indexed.
First pass, or a non-duplicated name.
First we determine the argument type.
First, we lookup by abbreviation only
Flags are kept in volatile registers.
Flags to enable/disable optimizations
For each column used in source tables
For each found increment the counter.
For looping over expression in a list
For looping over indices of the table
For looping through SELECT statements
For now, it is merely a place-holder.
For temporary filename, if necessary.
Free the buffer for the token groups.
Freeblocks occur in increasing order.
Generate code for a BETWEEN operator.
Handles both invalid and empty cases.
Here LOCALS1 has already been zeroed.
However, YYFAIL appears to be in use.
IN/OUT: Pointer to PendingList struct
IN/OUT: Value read from position-list
If an OOM occurs, set to SQLITE_NOMEM
If element is not a resource, skip it
If input table has column "rbu_rowid"
If it fails, we return uninitialized.
If it is set, jump to instruction P2.
If no error occurs, return SQLITE_OK.
If not NULL, blob handle to read node
If pNode is the root node, return -1.
If successful, SQLITE_OK is returned.
If there is a result set, it follows.
If this is an EXPLAIN, skip this step
Implementation of offsets() function.
Implementation of snippet() function.
Implementation of the abs() function.
In case the blob is ever cast to text
In that case we are not in any hurry.
Increment the r-tree reference count.
Index in pWC of the next virtual term
Index of first cell currently on page
Index of free page to move pLastPg to
Index of next byte to read from input
Index of next byte to write to output
Information about the ORDER BY clause
Information for internal btree tables
Information used by aggregate queries
Input contains fewer than nChar chars
Inputs: code:   A n_bits-bit integer.
Insert the new record into the r-tree
Insert the recursion/subroutine item.
Invalidate any prior representations.
Invoke AFTER DELETE trigger programs.
It also helps build the error message
It does not have any networking code.
It is a number computed by the pager.
It is an error for P1 to be negative.
Iterate through the b-tree hierarchy.
Iterator for skipping through tbl/idx
Its content needs to  be initialized.
JPEG: 'JFIFF' AND (additional 'JFXX')
Jump here to break out of UPDATE loop
Jump here to continue with next cycle
Last insert rowid (sqlite3.lastRowid)
Last key written to the current block
Less than 0 if a frame is not needed.
Link pParent into the free node list.
List of operands to the LIKE operator
List of triggers on pTab, if required
Load the lowest cost path into pWInfo
Locate the pragma in the lookup table
Lock all btrees used by the statement
Locks are either shared or exclusive.
Lookaside memory is used if not NULL.
Low-level memory allocation interface
Main function for the watching thread
Make sure we're dealing with strings.
Malformed header - probably all zeros
Map errors 1:1 up to +- MAXJSAMPLE/16
Mark a single data page as writeable.
Match a single character, caselessly.
Max pending data before flush to disk
Maximum difference in token positions
Merge them all into a single doclist.
Message from strerror() or equivalent
Methods above are valid for version 1
Methods above are valid for version 2
Methods above are valid for version 3
Modified according to LibC definition
Most SQL functions are deterministic.
Move the denominator of the fraction.
Move to the next matching term/rowid.
Must be after the matchingpath label.
N indicates which compression process
Name of automatically created rbu vfs
Name of db (i.e. "main", "temp" etc.)
Name of the column we are looking for
Need braces because of following else
Next entry is not on the current page
Next info block in a list of them all
Next integer will be a column number.
Next select to the left in a compound
No behaving filter should cause this.
No need to check notempty conditions.
No need to use cachedCellSize() here.
Non-threadsafe build, use strerror().
Normally this is set when '(' is read
Nothing to store for UPSERT/LOAD DATA
Now fill the next block with 56 bytes
Now search pTab for the exact column.
Number of OP_Once instructions so far
Number of bytes of prefix compression
Number of bytes required on leaf page
Number of characters in function name
Number of columns in index + pk/rowid
Number of columns stored in the index
Number of columns to test for changes
Number of elements in a bitmap array.
Number of elements in the input array
Number of extra registers to allocate
Number of header fields parsed so far
Number of instructions in the program
Number of locks to acquire or release
Number of memory cells in the row key
Number of pages on the overflow chain
Number of result columns written here
Number of segments that share a docid
Number of significant digits returned
Number of terms contributing to sumEq
Number of the rule by which to reduce
Number of tokens in extracted snippet
OK, get an integer and set the index.
ON, Packed packet headers main header
ONEPASS valid for a single row update
OUT: Length of *ppOffsetList in bytes
OUT: New db size (or 0 if not commit)
OUT: Pointer to current position-list
OUT: The affected (or effected) rowid
OUT: The page number of the next page
Object describing the transient index
Obtain a reference to an r-tree node.
Offset from the beginning of the file
Offsets into aPoslist for current row
One of the PAGER_JOURNALMODE_* values
One of the WHERE_DISTINCT_* operators
Opcode to add sorter record to sorter
Open a read-only cursor on the table.
Open every index that needs updating.
Operand-sized immediate, possibly big
Original schema cookie in destination
Others use open(const char*,int,...).
Otherwise discard it and return zero.
Otherwise it is a lowercase u letter.
Otherwise it is a lowercase x letter.
P4 is a pointer to a transient string
P4 must be either -1 or non-negative.
Pacify GCC's 'empty if-body' warning.
Pacify GCC's `empty if-body' warning.
Pager object associated with page pPg
Parameter passed through to xFilter()
Parse the instructions in the bundle.
Path of file (possibly) being created
Permutation of columns for OP_Compare
PmaReader from which to take the blob
Pointer to 1 byte past end of doclist
Pointer to allocated object to return
Pointer to data part of aFrame buffer
Pointer to first entry with this hash
Pointer to one journal within MJ file
Pointer to task common address block.
Points after the current instruction.
Pop the loop variable stack separator
Possible values for Rtree.eCoordType:
Potential values for BtCursor.eState.
Powersafe overwrite is on by default.
Prepare for output to a stdio stream.
Prepared statement under construction
Print the instructions in the bundle.
Program instructions for parent frame
Promote anything this size or smaller
Put the pointer back and fall through
Reached end of input for '*' repeater
Reduce angle to within 0..360 degrees
Reference counted destructor function
Register for rowset of rows to delete
Register holding pseudotable content.
Release/Acquire the system-level lock
Remember file position of image data.
Remove all entries from a hash table.
Remove values captured in destructors
Renamed to php_pgsql_unescape_bytea()
Reset / free active_ini_sectin global
Reset for start of next match attempt
Result of prior MovetoUnpacked() call
Result pgno must be greater than iMin
Retrieve a page from the pager cache.
Return -1 if no such database exists.
Return FALSE if zFrom does not match.
Return TRUE if that list is constant.
Return a pointer to its binary value.
Return early if an error occurs here.
Return value of DnsQuery_A() function
Rollback the transaction in progress.
Rowid of final leaf block to traverse
Rowid of first leaf block to traverse
SELECT may not have a GROUP BY clause
Sanity checking on calling parameters
Search for the end of the first line.
See also "PRAGMA journal_size_limit".
See also: Found, NotFound, NoConflict
See also: Function, AggStep, AggFinal
See if we are dealing with a keyword.
Segment to check internal consistency
SelectDest targetting the Queue table
Separate file holding temporary table
Separate the caseless case for speed.
Set *pbEof to true if EOF is reached.
Set *piDocid to the  new docid value.
Set low register to conditional flag.
Set procedural save handler functions
Similar code as PUSH_BACKTRACK macro.
Simplify ssl context option retrieval
Single VALUES term with multiple rows
Size, in bits, of the bitmap element.
Skip backwards past any 0x00 varints.
Small blocks are allocated from RUNs.
Smallest possible allocation in bytes
Start computation of P byte sequence.
Start computation of S byte sequence.
Statement to iterate through segments
Statement used to insert the encoding
Stop reporting errors after this many
Store numeric indexes in proper order
Store the best snippet in  pFragment.
String containing int array to decode
TAG( output )  Output the given code.
TODO move attached check to PDO level
TODO: Check there is no doclist index
TODO: could use zend_is_callable here
TODO: improve fixed addresses on x64.
TRANS_NONE, TRANS_READ or TRANS_WRITE
TRUE if next pass must zero histogram
Table associated with this expression
Take or release a shared-memory lock.
Template WhereLoop under construction
Temporary memory used by this routine
Term to iterate through a doclist for
TermOffset associated with next token
Test vectors from the NESSIE project.
The "real" underlying file descriptor
The MATCH or rowid constraint, if any
The SELECT statement holding pOrderBy
The VDBE containing code to translate
The aggregate function implementation
The beginning and end of the LRU list
The breaking rules are as follows: 1.
The byte case is the same as non-UTF8
The element that matches key (if any)
The element to be removed from the pH
The entry into which pNew is inserted
The following array determines which.
The immediate operand must be 32 bit.
The index for which to generate a key
The index of the cell within the node
The integrity-check works as follows.
The nEq column is a list of integers.
The new function is given a new name.
The new leaf holds no terms or rowids
The node from which to extract the ID
The only possible error from InitPage
The original SQL text is source code.
The parameter N is measured in bytes.
The prepared stmt under constructions
The recursive part of a recursive CTE
The result is aligned on 2M boundary.
The right-most of SELECTs to be coded
The second check will generate a hit.
The second should be of type (void*).
The sqlite_stat2 table is deprecated.
The table from which rows are deleted
The temporary database we vacuum into
The tokenizer always gives us a token
The values can only be ocaml strings.
They are not both allowed to be zero.
This allows setting the request type.
This approach could be improved upon.
This block is if we had no timeout...
This file implements that page cache.
This flag avoids doing an extra seek.
This function adds pLeaf to the tree.
This function allocates a new parser.
This is a no-op if NDEBUG is defined.
This is not feasible in DOS machines.
This is really OP_Noop and OP_Explain
This is the descendent of an OR node.
This is used when compiling patterns.
This needs an extra 16-bit data item.
This would be slower than storing it.
Those cannot be recreated afterwards.
Thread context used to create new PMA
Thus it is very simple, we remove it.
Token associated with this expression
Tokens count up to end of this phrase
Tokens to the left of first highlight
Tokens to the right of last highlight
Total overflow pages used by doclists
Total size of allocated shared memory
Total space in bytes required on leaf
Translate from this opcode to the end
Treat empty input file as fatal error
True after i'th new page is populated
True for select lists like "count(*)"
True for statements that do not write
True if an error has been encountered
True if blob 'hint' has been modified
True if column-filter already applied
True if current operation is a delete
True if decimal point should be shown
True if doclists are in reverse order
True if holding the unixShmNode mutex
True if inside sqlite3_declare_vtab()
True if the VM needs to be recompiled
True if the conversion to IN is valid
True if there is a NOT INDEXED clause
True if there is an INDEXED BY clause
True if vacuuming a :memory: database
True if value is extracted from pExpr
True if we have seen a malloc failure
True to cause the name to be dequoted
True to ignore xSavepoint invocations
True to omit the xSync on the db file
True while initialization in progress
Try the directory given as parameter.
USERLAND (nearly 1:1 of old output.c)
Unique file ID logic used by VxWorks.
Update statement to modify idx values
Update the Fts5PageWriter.term field.
Update the savepoint values to match.
Use http wrapper to proxy ftp request
Use this case if we have ANSI headers
Used for peer verification in windows
Used to build up table PK declaration
Used to hold return values of fstat()
Used to iterate through pTrigger list
Used to iterate through phrase tokens
Used to iterate through table columns
Values allocated/calculated once only
Variables set by fts3SegReaderNext().
Virtual tables with open transactions
WBMP Type 0: B/W, Uncompressed bitmap
Wal frame containing data for iDbpage
We admit that this is a goofy design.
We are currently listing subprograms.
We can however report it back to PHP.
We count row_count, but will return 0
We have a fixed-length byte sequence.
We have to make it ASCIIZ temporarily
We may call a private function if: 1.
We overwrite the high bits of source.
We want at least one event or timeout
What to do with a uniqueness conflict
Where the SELECT should store results
Which columns are used by this index.
Work factor for compression algorithm
Write data from a buffer into a file.
Write nData bytes of data to the PMA.
Write out the screen width and height
Write the combining class ranges out.
Written/Modified 1999, Philip Warner.
Z:   The name of a column in table Y.
ZEND_ARG_ARRAY_INFO(0, preference, 1)
Zenkaku hirangana to Zenkaku katakana
Zenkaku katakana to Zenkaku hirangana
Zero is always returned in this case.
Zero is returned if a malloc() fails.
Zero or more NC_* flags defined below
_SHM_UNLCK, _SHM_RDLCK, or _SHM_WRLCK
a numbered reference must not be zero
actually either (char*) or (Optable*)
add another "key" for the same bucket
add the event to epoll internal queue
add the extension if it is set in ini
add the various elements to the array
adjust exponent by d, and update sign
align to SIMPLESTRING_INCR increments
allocate a buffer and convert to UTF8
allocate space for the PNG image data
allow as the extension has been found
bounded by numentries, so no overflow
but we do need to know the file size.
call request shutdown for all modules
called by PDO to commit a transaction
called by PDO to prepare an SQL query
character appears in plain ASCII text
check for url like http:// or phar://
check if comparison function is valid
check if the event has been triggered
check the highest numbered descriptor
choice point, seeing what to do next.
choose an efficiently fread'able size
clean up the data block and return it
clean up varargs array if it was used
code ripped off from fopen_wrappers.c
convert XMLRPC_VALUE to soap xml dom.
convert a palette image to true color
copied data, thus also the ownership.
copy pollfds because poll() alters it
copy the style values in the stylearr
count the users and groups configured
create filter to decode response body
create new multipart_buffer structure
create per-directory config structure
currently everything is a string here
dbSize before the current transaction
deactivate - common for server/client
defined(SQLITE_ENABLE_STAT3_OR_STAT4)
determine the key value for the array
didn't get correct response from PASV
do not process defaultEncoding's here
don't store transfer-encodeing header
enums need to be treated like strings
expecting a encoding scheme specifier
fast_calls don't have to be destroyed
find invalid patterns in look-behind.
find leaked huge blocks and free them
further checks, we could have .......
generate highlighted HTML from source
get memory map allocation granularity
get sure it won't exceed max_children
guaranteed to return NULL if it fails
ideas from comp.graphics discussions.
if buff is 0 then set to non-buffered
impact perf a bit, but not that much.
indicate that there are no more items
keep non-persistent sdl and return it
let mktime decide if DST is in effect
lfchars must be encoded in ASCII here
log-2 base of history window (9 - 15)
make the center of rotation at (0, 0)
map a string to an xmlrpc vector type
masking bits, we could count them too
merge per-directory config structures
mips 32-bit arch dependent functions.
mips 64-bit arch dependent functions.
mount the file/directory just in time
need a change to trigger a new backup
no link found, so we have to open one
not be updated before SCHECK_PARTIAL.
nothing has been found if we got here
only in C-locale isalnum() would work
or by looking in the input descriptor
otherwise the optab entry captures it
output a little shorter than "length"
pColumn is NULL if IDLIST is omitted.
pExpr is a comparison expression, eg.
pSeg: The segment to iterate through.
pZ is a UTF-8 encoded unicode string.
pointer to original string(hash-item)
prepared statement under construction
print.c - debugging printout routines
ptr is NULL means it already be freed
put the value into byref_vals instead
range out of order in character class
re-populate entry after copy on write
reinitialize the first chunk and heap
remove already sent session ID cookie
renegotiation rate limiting triggered
retain backwards compat with OCI8 1.4
return value form SQLITE_FCNTL_PRAGMA
set flag for normal, old mailbox list
set server handle into service handle
should be always readable if not NULL
should have filtered bar, but not foo
sqlite3_step() has finished executing
stat failed, skip password validation
string is of the form x-avy or a-prv1
support for user-defined memory limit
tell the driver that it is going away
the cast is safe, we are in the range
the counterpart did properly shutdown
the table into which we are inserting
the way this is used *is* thread safe
the younger chunks have bigger number
then do not bother with notifications
there should be no retval to clean up
these three kids are about equivalent
this is specific to PM_STYLE_ONDEMAND
tiny hack for delete_implicit_parents
trailing ', ' except for last element
trigger error unless signal interrupt
two digit month, without leading zero
unixFile.pInode is always valid here.
unixInodeInfo that owns this SHM node
use lowercase names, case insensitive
use the numeric one for calculations.
we already read the 8 signature bytes
we are not interested in gc and flags
we don't want to count the null byte.
won't happen but makes compiler happy
write_property will add 1 to refcount
xDisconnect - Disconnect from a table
xPhraseNext() See xPhraseFirst above.
xor the bottom with the current octet
yet another hack for the "fault" crap
zero-terminate the buffer for safety.
"inf","nan" and maybe other weird ones
"onOff" turns imposter mode on or off.
'documents' values for current csr row
(3) tkEXPLAIN   The "explain" keyword.
(6) tkTRIGGER   The "trigger" keyword.
* - references (probably) do not work.
-1 means the image is not transparent.
-1: before desired location  +1: after
1 for 'tokenchars', 0 for 'separators'
1 if the conch is held, -1 if lockless
1.6 st.h doesn't define st_data_t type
1.8.1: remove dependency on jinclude.h
1: is not POSIX bracket, but no error.
3) The new *-wal file is checkpointed.
A copy of the  error code is returned.
A hash table for function definitions.
A memory allocation error has occurred
A parse of the cell we are pointing at
A value of zero turns off backtracing.
Accumulate the error message text here
Add N to the value of a status record.
Add in the fixed length from the table
Add node pNode to the node hash table.
Add the entry to the main terms index.
Add the last piece to the return value
Add this many extra columns to the end
Affinity for start of range constraint
Allocate space for the result objects.
Also not an assert for the same reason
Also, set the cursor state to invalid.
An expression from the ORDER BY clause
An older segment is considered larger.
And so on, for each cell in the array.
Another SELECT immediately to our left
Answer will not fit into single packet
Append the result to the return value.
Argument passed to comparison function
Array of PmaReaders to merge data from
Array of Vdbe cursors for parent frame
Array of characters to make exceptions
Array of memory cells for parent frame
Assert that P3 is a valid memory cell.
Assert that the p1 parameter is valid.
Assumes that the DLL will not be found
Best choice for natural merge cut-off.
Both forms return the current setting.
Both size flags cannot be switched on.
Brigades will dispose of their buckets
Buffer containing serialized structure
Build the persistent_script structure.
But please keep this copyright notice.
But they might for a corrupt database.
Byte offset of token within input text
Byte offset to previous journal header
Bytes buffered before opening the file
Bytes written by each WriteFile() call
Call this routine when reloading pages
Cannot optimize overly large ORDER BYs
Case 1:  The table is a virtual-table.
Cause p to be overwritten by pTemplate
Caused by OOM in sqlite3KeyInfoAlloc()
Change the opcode at addr into OP_Noop
Changes whenever database file changes
Check for POSIX class syntax         *
Check for errors in the format string.
Check for validity of input parameters
Check schema cookies in all databases.
Check the integrity of overflow pages.
Check to see what HTTP status was sent
Child has no more instances to examine
Choose which axis to split the box on.
Clear operations are exceedingly rare.
Code the SELECT statements to our left
Collating sequence to use on this term
Collect arguments into local variables
Column on left-hand side of constraint
Column that is the INTEGER PRIMARY KEY
Combinations of two or more EP_* flags
Compute Sun's RA + Decl at this moment
Compute d of 12h local mean solar time
Configure the OP_TableLock instruction
Constant inputs give a constant output
Content of the NEW.* table in triggers
Context for active vtab connect/create
Context for sqlite3_result_xxx() calls
Context object for function invocation
Continuing where we left off in fts3.c
Continuing where we left off in main.c
Continuing where we left off in vdbe.c
Continuing where we left off in vdbe.h
Convert error codes into error strings
Convert soap xml dom to XMLRPC_REQUEST
Converting from GMT time to local time
Converting from local time to GMT time
Coordinate value converted to a double
Copy data from this buffer to the file
Copy remainder and add enclosing quote
Count of the number of search attempts
Count the number of terms in the query
Counters used by sqlite3_stmt_status()
Create PCRE character tables         *
Create/Remove/Update image thumbnails.
Currently executing extension function
Cursor pointing at record to retrieve.
Cursor snippet is being generated from
Database in which module is registered
Database number to create the table in
Declare 'Normalizer' class properties.
Delete entries for this table or index
Delete immutable arrays moved into SHM
Depth of tree according to TreeDepth()
Destroy palette based temporary image.
Destructor for a jsonEachCursor object
Determine the actually nearest colors.
Didn't have a type, totally guess here
Do bounds checking for size parameter.
Do not break after Prepend characters.
Do not code a test for this constraint
Do not delete the master journal file.
Duplicate named pattern back reference
Eat leading and trailing double quotes
Eat leading and trailing single quotes
Error code returned by pagerUnlockDb()
Error message text, if an error occurs
Estimated number of rows in this table
Expose ICU error codes to PHP scripts.
Expose Locale constants to PHP scripts
Expression contains one or more errors
Expression used to recompute the rowid
F, G, H and I are basic MD5 functions.
FROM clause must have exactly one term
Fetch the timestamp from the UCalendar
Filters will dispose of their brigades
Find number for named string         *
First argument to sqlite3_result_...()
First byte past end of available space
First in linked list of saved aux-data
First in list of all tokenizer modules
Flags are keept in volatile registers.
Flags to send to sqlite3PagerAcquire()
For assigning database names to pTable
For looping through nTerm phrase terms
For the default locale php.ini setting
Force UID and PWD to be set in the DSN
Form the initial difference increments
Fortunately this is really a rare case
Frame size of the current alternative.
Free an outstanding memory allocation.
Free memory allocated for DNS records.
Generate code for the ANALYZE command.
Generate code for the REINDEX command.
Get an appropriate name for the column
Get argv from the global symbol table.
Get character value, increment pointer
Get entry and increase reference count
Get the arguments and check for errors
Get the keyword value for each keyword
Global shared lock memory for the file
Handle other special cases if you like
Handle the following special cases: 1.
Handler for basedirs that end with a /
Height of the tree headed by this node
How aggressive at syncing data to disk
How far to indent SELECTTRACE() output
IN/OUT: Previous value written to list
IN/OUT: Tokens in phrase of *paPoslist
INPUTS target    The target vector ...
If *pp1 is exactly nTokens before *pp2
If PCRE_NEVER_UTF is set, remember it.
If a transaction is active, commit it.
If isWrite is set to zero, exit early.
If it does, then that is what is used.
If it isn't clean already, make it so.
If it isn't dirty already, make it so.
If non-NULL, bulk memory to hold pList
If one has numeric affinity, use that.
If so, don't bother creating this one.
If so, we generate a different opcode.
If there is no next term, SQLITE_DONE.
If true, LHS of IN operator is a rowid
If we didn't, then this is unexpected.
Implementation of FTS3 xRename method.
Implementation of FTS5 xRename method.
Implementation of the round() function
In that case this function is a no-op.
In the latter case, *newlen will be 0.
In this case PCRE_INCLUDED is defined.
In this case leave the iterator empty.
In this case this function is a no-op.
Include fts3.h in the middle of main.c
Include wal.h in the middle of pager.c
Index of column this phrase must match
Index of column to create snippet from
Information used during initialization
Informational stream wrapper constants
Init nFree to non-freeblock free space
Initial DOT must be matched literally.
Initialize structure with current time
Inode information need not be flushed.
Insert new divider cells into pParent.
Instance of shared memory on this file
Interface to code in fts5_tokenizer.c.
Invert the result for DESC sort order.
Invoke BEFORE DELETE trigger programs.
Is Parent waiting for children to exit
It does not do expression rebalancing.
It is expected to return a single row.
It is included only for the very lazy.
It is never called in the ERROR state.
It is not an error to find no matches.
It is set to zero in all other states.
Iterator variable for various purposes
JP2 is a wrapper format for JPEG 2000.
Jump here to continue with next record
Jump instructions that get retargetted
Jump to the appropriate pragma handler
LCS for the current iterator positions
LIKE range processing counter register
Last possible cell or freeblock offset
Last result returned from the iterator
Left word vs right particular category
Length in bytes of master journal name
Level offering the most input segments
Like SRT_Fifo, but unique results only
List of explicit column names, or NULL
List of triggers to (potentially) fire
Look at the current letter in the word
Look for a matching node at this level
Loop for second and subsequent matches
Loops are numbered starting from zero.
Magic number for detect library misuse
Maintain reference count             *
Make a copy of an sqlite3_value object
Make a new pointer to a KeyInfo object
Make sure the page is marked as clean.
Make sure the page is marked as dirty.
Malloc'd child-journal file descriptor
Malloced string that needs to be freed
Map from pIdx cols to child table cols
Mask of cursors that are not available
Mask of the OPFLG_* flags in opcodes.h
Mask of tokens to highlight in snippet
Masks of old.*, new.* columns accessed
Match any single character whatsoever.
Max level number for this index/langid
Maximum amount of payload held locally
Maximum unsorted cost of a set of path
Maybe another cursor on the same btree
Minimum amount of payload held locally
Mode parameter for allocateBtreePage()
More ARRAY/OBJECT entries at u.iAppend
Most of it is going to remain virtual.
Move the cursor up to the parent page.
NC_IsCheck or NC_PartIdx or NC_IdxExpr
NDEBUG and SQLITE_DEBUG are opposites.
Name context to resolve expressions in
Name of database (e.g. "main", "temp")
Name of the database containing pTable
Name of the database to use internally
Name of the table into which we insert
Nav the tree evey time as this is LIVE
Need convertCompoundSelectToSubquery()
Negative phoneme length is meaningless
Next element of the cell pointer array
Next in list of all winShmNode objects
Next node in this hash collision chain
Next trigger associated with the table
Next unixShm with the same unixShmNode
No need to mess with the file on disk.
Nothing will break if it doesn't work.
Now add carry the longer integer part.
Nul-terminated string containing "A,B"
Number of UTF-8 characters in zTabName
Number of columns in the sorting index
Number of fields in the table or index
Number of fragmented bytes on the page
Number of input segments on best level
Number of leaf blocks added this trans
Number of leaf pages per optimize step
Number of memory cells for child frame
Number of pages still on the free-list
Number of pending entries in the queue
Number of references to this structure
Number of szAtom sized blocks in zPool
Number of terms in the ORDER BY clause
Number of terms written to node so far
Numeric session.name won't work at all
OUT: Pointer to buffer containing data
OUT: Pointer to unused portion of zSql
OUT: Set to true if dequoting required
OUT: Total number of OR nodes in expr.
OUT: Total number of tokens in phrase.
OUT: malloc'd buffer containing str/bw
OVECTOR(0) is never equal to SLJIT_S2.
Object partially overlaps query region
Obtain the average docsize (in pages).
Ok, we're doing some weirdness here...
Once this flag is set, it remains set.
One entry for each token in the phrase
One of SHARED_LOCK, RESERVED_LOCK etc.
One of TK_BEFORE, TK_AFTER, TK_INSTEAD
One of TK_DELETE, TK_UPDATE, TK_INSERT
One of TK_INSERT, TK_UPDATE, TK_DELETE
One of TK_UPDATE, TK_INSERT, TK_DELETE
Only the non-zero members must be set.
Only use a point that is in the image.
Op when no arg, or -1 if arg mandatory
Opaque type used by code in vdbesort.c
Or NULL if those keywords are omitted.
Or break out of the loop if it is not.
Or, if it is zero, in ascending order.
Other characters: check option setting
Otherwise use separate caches (mode-1)
Otherwise you get the following error.
P4 is a pointer to a CollSeq structure
P4 is a pointer to a FuncDef structure
P4 is a pointer to a KeyInfo structure
P4 is a pointer to a Mem*    structure
PCRE DEMONSTRATION PROGRAM           *
PORTABILITY Coded on RedHat Linux 6.2.
PROT_SHA256_PK_REQUEST_RESPONSE_PACKET
Page number for first page in the list
Parameter isNew must be either 1 or 0.
Parameters passed to SQL geom function
Parent page of siblings being balanced
Passing NULL to HeapFree is undefined.
Phrase object to advance to next docid
Please preserve the runtime self-test.
Pointer to buffer containing root node
Pointer to disk image of the page data
Pointer to first byte after the header
Pointer to multitasking thread giveup.
Pointer to the end of the last xRead()
Pointer to the minor token to shift in
Pointer to wal-index content in memory
Pointers to the body of overflow cells
Possible values for RtreeConstraint.op
Possible values for the sqlite3.flags.
Prefix length (0 for main terms index)
Prepare buffer (dirname never changes)
Prepared statements under construction
Previous in LRU list of unpinned pages
Previous rowid written to current leaf
Print an error with magic line number.
Process as many whole blocks as remain
Pseudo-random number used for sampling
Python-style named subpattern handling
Query the BtShared.pHasContent vector.
Query the schema of the main database.
Read the extra info in the gd2 header.
Read the nKeep field of the next term.
Recursively delete a Trigger structure
Recursively delete an expression tree.
Register in which Expr value is cached
Reinstall the LIKE and GLOB functions.
Release the reference to the new page.
Remove already sent session ID cookie.
Remove everything after the first null
Remove pParent from the original tree.
Return 0 if iCursor is not in the set.
Return 0 if xInit was not on the list.
Return FALSE to give up with an error.
Return TRUE if it is and FALSE if not.
Return a pointer to the new Expr node.
Return a variable number of PC values.
Return the currently defined page size
Return the opcode for a given address.
Return the size of a pcache allocation
Returns the image, or NULL upon error.
Right subtree (larger entries) or list
Right word vs left particular category
Rowid of final block in segment (or 0)
SEE ALSO XMLRPC_ServerCreate () SOURCE
SELECT can't initiate uncommitted DML.
SELECT may not have an ORDER BY clause
SHUTTERSPEED comes after EXPOSURE TIME
SPACE and PXSPACE, 2nd value redundant
SQL statement passed to declare_vtab()
SQLITE_UTF8, SQLITE_UTF16BE or UTF16LE
SQLite makes no use of subtype itself.
Same use open(const char*,int,mode_t).
Scan the list to check for duplicates.
See also: Found, NotExists, NoConflict
See also: Function0, AggStep, AggFinal
See if the next thing is a quantifier.
See php's glob for the pattern syntax.
See php's pcre for the pattern syntax.
Seek cursor iCur to the row to delete.
Separate commandline string into words
Set new value for the given attribute.
Set the buffer to contain nData/pData.
Set the first char of padding to 0x80.
Set to 1 after new rowid is determined
Set up the array of NodeWriter objects
Setting the authentication passphrase.
Shared memory segment used for locking
Side effects: Initializes the charset.
Sign extension for integer operations.
Simple recursions are easily detected.
Since we do not know, guess 1 million.
Size of the Bitvec structure in bytes.
Size of the open journal file in bytes
Sizes of deleted document written here
Skip this term  and use its inversion.
So each chunk consists from 512 pages.
So that sizeof(Mem) is a multiple of 8
So we forward declare the I/O methods.
Start Of Scan (begins compressed data)
Statement requested from fts3SqlStmt()
Stream will report errors opening file
String inserted after highlighted term
Structure version number (currently 3)
Stub function when INCRBLOB is omitted
Support for run-time declaration: dl()
TCP_NODELAY is only applicable for TCP
TODO no placeholders in exec() for now
TODO: soap seems to favor this method.
Table containing the row to be deleted
Table holding the result of the SELECT
Table into which text will be inserted
Table whose indices are to be analyzed
Take care of the longer scaled number.
Temp register to free before returning
Test is we have place for 1 more char.
That capability is no longer provided.
That one of the jobs of this function.
The *pHighwater is always set to zero.
The BLOB encoding of the document size
The Btree to which this cursor belongs
The FROM clause of the recursive query
The OR-clause broken out into subterms
The VFS containing this xAccess method
The WhereScan object being initialized
The algorithm is found in Knuth Vol 2.
The assert is not useful in that case.
The authorizer is disabled by default.
The calling function needs to do that.
The database connection (for malloc())
The database file is determined by P3.
The database on which the SQL executes
The entire tree fits on the root node.
The expression to extract a value from
The first page is always a btree page.
The following goto is an optimization.
The following interfaces are provided.
The header is this many bytes in size.
The iParent cursor will never be used.
The index that triggers the constraint
The index whose column is to be loaded
The last argument should be the image.
The locking context for the proxy lock
The named expression list may be NULL.
The next entry is on the current page.
The operand token for setting the span
The othercase might be the same value.
The prepared statement being evaluated
The result is returned as a new image.
The single-byte matcher isn't allowed.
The sqlite_statN table does not exist.
The string to compare against the glob
The success code is written into *pRc.
The table in the FROM clause of SELECT
The tolerances below are conservative.
The trigonometric functions in degrees
The underlying mutex is non-recursive.
The user has killed its own connection
The virtual machine under construction
There is no need for further mutexing.
These form diphthongs when preceding H
These numbers are obtained separately.
These routines accomplish those tasks.
They can have the binary version of it
They will never be read by any client.
This SQL function always returns NULL.
This block codes the top of loop only.
This can be handled like an assertion.
This could happen with a network mount
This could probably be faster somehow.
This function takes a single argument.
This is an class alias, use alias name
This is done by the usual test runner.
This is the database that must be used
This is undocumented and might change.
This matches the pager layer defaults.
This routine merely releases the lock.
This should have been a word all along
This should only be used by the master
This shouldn't happen in this program.
This table reverses PRIV(ucp_gentype).
Total number of pages in database file
Transfer the contents of pFrom to pTo.
Traverse it, filling the return array.
True after initialization has finished
True for "ORDER BY rowid DESC" queries
True if *pRowid really is in the table
True if EXPLAIN present on SQL command
True if a table requiring integer keys
True if error has occurred, else false
True if next rowid is first in doclist
True if pointing to a row with no data
True if sqlite3_free(idxStr) is needed
True if the value to convert is signed
True if this is likely to be an append
True if this is the first term written
True this expression is at EOF already
True to unlink wal and wal-index files
Turn bulk memory into a RowSet object.
Two salt values copied from WAL header
Typo: kept for backward compatibility.
Unused arg for sqlite3WhereOkOnePass()
Update and insert operations pass:  1.
Update the private copy of the header.
Used size of aTree/aReadr (power of 2)
Used to write the new, merged, segment
Used when bit MEM_Zero is set in flags
User storage begins just after header.
Uses OS features not supported on host
VFS objects are not reference counted.
Value returned by last rbu_step() call
Value to compare to current sorter key
Vdbe to iterate through the opcodes of
Walk queue putting pointers into array
We can save the cost of a memory load.
We could not find a matching RBRACKET.
We do not intend to support this case.
We have reached the end of the string.
We just have to import the definition.
We prefers register and simple consts.
Whether to quote additional delim char
Whether to return non-matching entries
Which would be incorrect in  WAL mode.
Write any data remaining in the buffer
Write minimum integer primary key here
Write the file descriptor into *pFile.
Write the term for this entry to disk.
Write the unqualified object name here
XOR the key with 0x36 to get the ipad)
XXX check for already bound parameters
Xsp is Perl space, but from 8.34, Perl
actually, ucal_setDateTime cannot fail
add the embedded line end to the field
advance to first character of hostname
after width and argnum comes precision
and now call the implementing handlers
append the "-conch" suffix to the file
apply strip_high and strip_low filters
arg2 goes to TMP_REG2, imm or src reg.
array_diff_assoc() or array_diff_key()
attempt to hide zero division from gcc
bind the classname to the actual class
but we are not supposed to change this
c-level get_iterator cannot be changed
calculate the free space in the buffer
call the callback provided by the user
case TAG_FMT_BYTE: case TAG_FMT_SBYTE:
check for any file with .ini extension
check if request_method has been sent.
check if the connection is still there
check if the requested function exists
choose an efficiently fwrite'able size
constant - can be shared among threads
convert native php type to xmlrpc type
copy call frame into new stack segment
currently processed item of input hash
delete this event from the link struct
describe a value (param, return, type)
destructor for json_each virtual table
did anyone steal our installed handler
don't create zip files with no entries
drawing large  ellipses problematic...
fallthrough -- Non-serializable object
first check for alias in first segment
flag values passed to the btree insert
for the sake of BC to old damaged code
forces fill_input_buffer on first read
further blocks will not be relevant...
glibc refused to add ioprio_set, sigh.
goes to tmp_shared_globals.shared_free
group name must start with a non-digit
half-open (IMAP connect but no select)
has been removed between the two calls
help aliases executes a canned routine
hex character table "0123456789ABCDEF"
http://www.clearsilver.net/license.hdf
if for some reason PDO borks something
if the opened path is set, copy it out
in case it's a tables-only JPEG stream
it is a standalone directory, job done
leafCorrection:  4 if pPage is a leaf.
let's keep the nul-terminate tradition
linux wants this when XOPEN mode is on
make sure the DN contains no NUL bytes
marking buffer as enabled and not used
maximum number of bytes we are reading
nOut before IN() and WHERE adjustments
need an explicit buffer to hold result
need space for variable name and value
new entry, add the old one to the list
new style delimiter: locale id follows
newsize is current length + new length
no further memory to expand hash table
now we expect to find a type specifier
number of free connections in the pool
number printable chars on current line
old data descriptors have no signature
one of TK_DELETE, TK_INSERT, TK_UPDATE
open file object for the database file
optional error    - error result data.
p cannot be part of a CHECK constraint
pContext from when function registered
pg_insert/update/delete/select options
prime candidate for hash improvements.
print xml declaration if at root level
put the real path into the path buffer
re-populate with copied-on-write entry
really close the zip will break BC :-D
record current glyph index for kerning
recursive call could loop indefinitely
reset length for all piecewise columns
restore previous error_reporting value
return entire buffer as a partial line
returns     : True_ if sort succeeded.
returns a new string, possibly decoded
running position of non-rotated string
sanity check we must use at least 8 MB
script is not going to be saved in SHM
shared mode is known to be bad for PHP
silence erroneous "gcc -Wall" warning.
size of fragments (number of pointers)
skip over the "227 Some message " part
skip over the host ip, to get the port
stat - the streams themselves know how
str is the UTF8 next character pointer
tell the engine we're in non-html mode
temporary streams are never persistent
thats good enough - wait for a newline
the length of currently processing key
the link is not in the persistent list
the number of slots taken in the table
these are promoted to int, so no break
this function is itchin for a re-write
this is to add backwards compatibility
try looking at the first HOWMANY bytes
try to map tail right after this block
use the flags from set_client_option()
val        The desired new string val.
warn if we computed outlen incorrectly
we already have an opened zip, free it
we got a persistent guy from our cache
we have to return original length here
we never should have no matching child
we quit remote consoles on recv SIGINT
which columns to include in the result
write the WBMP to a gd file descriptor
xBestIndex - Determine search strategy
xRollback(): Rollback the transaction.
"write-version" value for main db files
(14)  The subquery does not use OFFSET.
(Only that one cell MUST be filled, but
(re)initialize the parser, if necessary
*pbOpen is not modified in either case.
- 4 bytes: Initial database page count.
- output option for character encoding.
-****************** Fault API funcs   *
-****************** Introspection API *
-****************** Utility API funcs *
0xffffffff is never a valid page number
1 - Use unoptimized capturing brackets.
A  snapshot is like a read-transaction.
A SELECT statement that supplies values
A character outside of the ascii range.
A fake index object for the primary key
A single cell from a node, deserialized
A sort order can be either ASC or DESC.
Add (match, offset) to the return value
Add key for numbers not divisible by 7.
Add pTab to the array if it is missing.
Add pVtab to the end of sqlite3.aVTrans
Add the code to the composite property.
Add the new segment to the output level
Address of OP_OpenEphemeral instruction
Address register for select-A coroutine
Address register for select-B coroutine
All pointers are updated appropriately.
All prior WhereLoops are order-distinct
All this does is release the read-lock.
Allocate space for a new decomposition.
Also free the page if freePage is true.
Amount to increment deferred counter by
An "etByte" is an 8-bit unsigned value.
And no memory allocations are required.
Anything before the first 0x01 is col 0
Append a new column value, if necessary
Append the current configuration cookie
Approximate number of tokens in snippet
Array indicating UPDATEd columns (or 0)
Array of OP_Once flags for parent frame
Array of flags, set on NOT NULL columns
Array of integers that becomes the BLOB
Array of nArg CREATE VIRTUAL TABLE args
Array to write results into (see above)
Assign to prod and clean up the number.
Assume content-length 0 - read the next
At least three characters are required.
Average size of database rows, in pages
Base register holding constraint values
Base register where results are written
Beginning here are the reduction cases.
Both tRNS and true alpha are supported.
Buffer containing previous term on page
Buffer containing previous term written
Buffer containing segment interior node
Buffer of at least *pnList items to use
Build CFG, Step 3: Calculate successors
But, on Unix, the "commit" is implicit.
By default, obtain space from malloc().
Bytes of payload on final overflow page
Bytes of payload total (local+overflow)
Bytes required to hold all column names
Call all extensions RSHUTDOWN functions
Call the xCreate method for that table.
Call the xDestroy method of that table.
Callback function to invoke for phrases
Can be null despite NOT NULL constraint
Candidate values for Wal.exclusiveMode.
Change the page size for PCache object.
Change-list for UPDATE, NULL for DELETE
Changes list for any UPDATE OF triggers
Characters that can be part of a token.
Check for a "special" INSERT operation.
Check for anchored expression         *
Check for complete coverage of the page
Check for ending label on the next line
Check the APP1 for Exif Identifier Code
Check to see if this is EOL whitespace.
Clear out the array that was passed in.
Close all cursors in the current frame.
Code shared with single character types
Collation sequence comparison function.
Collation sequence destructor function.
Collect 'global' stats as well as local
Collect the codes of the decomposition.
Collect the offsets for the properties.
Comes from the master Walking the table
Comparison information for merging rows
Compute only a unique prefix of the key
Compute the soundex encoding of a word.
Connection to notify of malloc failures
Continuing where we left off in pager.c
Copy in the original argument variables
Copyright (c) 2011 The LevelDB Authors.
Counter to limit the number of searches
Create a hash table, free a hash table.
Create and register 'Normalizer' class.
Create bitmap of starting bytes       *
Current algorithm: longest scaled axis.
Cursor open on the btree to be searched
Cursor opened by OpenSorter (if in use)
Cursor used to iterate through aDoclist
Database file holding the shared memory
Default ON CONFLICT policy for triggers
Default compare for most architectures.
Defer right-most ORDER BY of a compound
Delete refcount and destruct if needed.
Deleting *pRowid leaves the table empty
Destination for SELECT on rhs of INSERT
Detect a pid change and reset the PRNG.
Determine if the number already exists.
Disable the message box for assertions.
Do not create or use a rollback journal
Do nothing, just backward compatibility
EOF when i equals or exceeds this value
Either NULL or the char after a newline
Empty (but do not delete) a hash table.
End of interface to code in fts5_aux.c.
Even if pVal also contains NULL values.
Expected pointer map parent page number
Expr struct EXPR_REDUCEDSIZE bytes only
Extra data associated with the callback
F, G, H and I are basic SHA1 functions.
FIXME: tile: we could pregenerate this.
FTS5_STRING node this phrase is part of
Fake system time in seconds since 1970.
Field containing processed string start
File opened that is not a database file
Fill a buffer with pseudo-random bytes.
Finally apply defaults from config file
Find Unicode property name            *
Find the maximum compressed chunk size.
First Mem address for previous GROUP BY
First absolute level for iLangid/iIndex
Flags passed as 4th argument to xOpen()
For PS, we leave them in Prepared state
For descending pending seg-readers only
For errors, it can be some other value.
For pg_result_error_field() field codes
For sizes 2 through MX_SMALL, inclusive
Forcefully null terminate the filename.
Foreign key for which pTab is the child
Fourth parameter is passed the value 2.
Free blocks must be in ascending order.
From http://en.wikipedia.org/wiki/UTF16
Generate code into this virtual machine
Generate code to implement the subquery
Generate ilim digits, then fix them up.
Get a token with the impersonated user.
Get number of entries in the input hash
Get the disp_value for the given locale
Grab the grouping data out of the array
Handle single-char non-literal matchers
Handle single-character metacharacters.
I/O error: lastErrno set by seekAndRead
ID of current select for EXPLAIN output
IMAP prefetch text when fetching header
IN/OUT: Previous rowid written (if any)
IN/OUT: Size of buffer *ppList in bytes
Ideal number of tokens to shift forward
If a transaction is open, roll it back.
If bExtend is set to false, exit early.
If connection is bad, try to reconnect.
If it were, that could cause a problem.
If its not a string then nothing to do.
If new chunk, create and initialize it.
If newFlag is -1, then make no changes.
If no YMD specified, assume 2000-Jan-01
If not NULL, increment this in DbFree()
If the SID constant exists, destroy it.
If they are the same, zero is returned.
If true, jump if either operand is NULL
If we have fewer than 2 bytes, give up.
Ignore COLLATE or affinity on this tree
Ignored by the IDNA2003 implementation.
Implementation of highlight() function.
Implementation of matchinfo() function.
Implementation of the QUOTE() function.
Implementation of the instr() function.
Implementation of the length() function
Include rtree.h in the middle of main.c
Increase the size of the aTo set by one
Increment the free page count on pPage1
Index within level of segment to modify
Info on how to code the ORDER BY clause
Information about how to do the compare
Inserts are grouped into a transaction.
Instruction to open the Ephemeral table
Invert the key compression permutation.
It is a hack intended for Windows only.
It should be called prior to execute().
It takes a bit more work in UTF-8 mode.
It was found so go ahead and provide it
It was not always the first of January.
Iterator used to gather data from index
Jump to addrBrk to break out of a loop.
Jump to the P2 parameter of that Yield.
Keep clrBack as color index if required
Keep the following function as private.
Label for the end of the insertion loop
Label resolved to end of generated code
Last statement is orphaned TEMP trigger
Last token in coalesced phrase instance
Leaf on which the required cell resides
Left alphanum vs right general category
Left space vs right particular category
Like SRT_Queue, but unique results only
List of free mmap page headers (pDirty)
Loop counter over the terms of the join
Loop counter:  Field of the foreign key
MSVC generates a warning, nevertheless.
Make *pConchPath point to the new name.
Make an shallow copy of pFrom into pTo.
Makes the check less complicated below.
Malloc'd master-journal file descriptor
Malloced memory used by some conversion
Map errors 1:2 up to +- 3*MAXJSAMPLE/16
Markers x30 - x3F do not have a segment
Mask of ORDER BY terms satisfied so far
Mask of phrases covered by this snippet
Maximum number of samples to accumulate
Mem.z points to an agg function context
Merge two lists of RowSetEntry objects.
Minimum amount of incr-merge work to do
Modify the .nOut and maybe .rRun fields
N Multi-disk zip archives not supported
NB: codes C4 and CC are NOT SOF markers
Name of the database holding this table
Negative length given, nothing to write
Neither of the PmaReaders are advanced.
Nesting should only be of limited depth
New versions of OpenLDAP do it this way
Next and previous elements in the table
Next and previous entry on the min-heap
Next buffer in the list of free buffers
Next in list of all blocked connections
No INSERTs may occurs after a SMALLEST.
No idea what to do if an error occures.
No longer required OpenEphemeral instr.
No need to Rewind or Next such cursors.
No other flags may be set in this case.
No read or write transaction is active.
Not pushed if there is no alternatives.
Nothing to do if we got an empty string
Now we can construct the result string.
Number of WAL frames backfilled into DB
Number of active OP_VDestroy operations
Number of buffers currently checked out
Number of bytes actually read from file
Number of bytes of extra space to alloc
Number of bytes written by seekAndWrite
Number of children that must disable us
Number of components of the PRIMARY KEY
Number of index columns including rowid
Number of iterators in aIter not at EOF
Number of leaf pages yet to  be written
Number of nested statement-transactions
Number of opcodes for progress callback
Number of outstanding xFetch references
Number of terms in subquery FROM clause
Number of trailing arguments for rank()
OP_Column never called on virtual table
OUT: Number of backfilled frames in WAL
OUT: Return data in this Mem structure.
Offset of space for 4-byte poslist size
Offset of this term from read positions
One side is a column, the other is not.
Only check the salt if it's not EXT_DES
Only if no flags are set (optimization)
Operand-sized immediate (sign extended)
Optional column name list for the table
Or if zWord is not a keyword, return 0.
Otherwise fall through to the next case
Otherwise the string is length encoded.
Otherwise, return an SQLite error code.
Packed packet headers, tile part header
Pad transactions out to the next sector
Page p itself has already been visited.
Pages are connected by pDirty pointers.
Please feel free to add more valitions.
Pointer map 'page-no' entry for pDbPage
Pointer to buffer containing block data
Pointer to left-most node of this depth
Pointer to rbu object (rbu target only)
Prepared statement in use by the cursor
Prevent update of the snmpapp.conf file
Previous element in list of dirty pages
Print the content of a WhereTerm object
Process ID for pid based multi-tasking.
Processing continues with the next row.
ROWID of most recent insert (see above)
RTREE_COORD_REAL32 or RTREE_COORD_INT32
Range of registers hold conent for pIdx
Re-initialization should be tried here.
Read session data from opened resource.
Register holding assembled index record
Register holding co-routine entry-point
Register holding previous generated key
Release allocated heap frames         *
Release the reference to the root node.
Remember to efree it when done with it.
Report an out-of-memory (OOM) condition
Report malloc errors to this connection
Reset schema after an error if positive
Result of previous sqlite3BtreeMoveto()
Return "c:" on Win32 for dirname("c:").
Return FAILURE, if querystring is empty
Return SQLITE_OK if nothing goes wrong.
Return a hexadecimal rendering as text.
Return a pointer to the new allocation.
Return false only if there is no match.
Return last line from the shell command
Return the PRIMARY KEY index of a table
Return the VFS structure for the pager.
Right alphanum vs left general category
Right space vs left particular category
Round down to the nearest multiple of 8
Row (or column) of contribution weights
Rows come from source in GROUP BY order
Rtree virtual table module xEof method.
Run the parser on the given SQL string.
SHA256-based Unix crypt implementation.
SHA512-based Unix crypt implementation.
SJIStoJIS() is sjis2jis() by Ken Lunde.
SO_BROADCAST is only applicable for UDP
SRT_Discard     Throw the results away.
SYNC_NORMAL or SYNC_FULL for checkpoint
SYNC_NORMAL or SYNC_FULL for wal writes
Save the positions of any open cursors.
Scan along the opcodes for this branch.
Second argument to matchinfo() function
See http://www.unicode.org for details.
See if any siblings hold this same lock
Seed the generator with a simple uint32
Send the gd2 id, to verify file format.
Set *ppOut to the head of the new list.
Set replacement value to the passed one
Set return_value to current module name
Shadow table to create (e.g. "content")
Simple cases, (no caching is required).
Size limit for persistent journal files
Size of first block written to WAL file
Size of header before each frame in wal
Skip over things that don't match chars
So create a fake list to simulate this.
So it needs to be broken into sections.
So the following array cannot be const.
So the pointer is safe to use later on.
Sorter object for OP_SorterOpen cursors
Source line number where error occurred
Specific chunk into which cursor points
Start of porter stemmer implementation.
Static space for the 2 default backends
Still the result from the query is PASS
String inserted before highlighted term
Study a compiled expression           *
Supplemental planes U+010000 - U+10FFFF
TMP2 must contain the starting STR_PTR.
TODO(spetrovic): implement this method.
TODO2: Doclist terminator written here.
TODO: needs updating for new filter API
TRUE, when minlength is greater than 0.
Table of special "verbs" like (*PRUNE).
Take care of the last array sort flags.
Target table for DELETE, UPDATE, INSERT
Temp storage space for pCell, if needed
That fact is verified in memsys5Init().
That is the IFD for the first thumbnail
That saves a few cycles in inner loops.
The C definitions for tracebackctxt.go.
The author of this software is David M.
The client will use stmt_send_long_data
The current doclist-index page is full.
The data was obtained from /dev/random.
The default collating sequence (BINARY)
The environment variable doesn't exist.
The first choice is the normal fsync().
The following asserts verify this fact.
The following default should work okay.
The idx of the new segment is always 0.
The is done to support legacy SQL code.
The iterator to advance by one position
The journal header size for this pager.
The key is not copied in this instance.
The key is pKey and the data is "data".
The last multiplication could overflow.
The main query has a select-id of zero.
The nTo best paths at the current level
The node containing the cell to be read
The number of elements in the hashtable
The pA side might be using TK_REGISTER.
The pager cache has created a new page.
The public interface to sqlite3Realloc.
The right-most table is the last entry.
The root page of the table to be locked
The rowid should be written to *pRowid.
The sizes for serial types less than 12
The slot is free, let's try to take it.
The special case 2 overflow if positive
The text encoding used by this database
The trigger containing the target token
The trigger that this step is a part of
The upper bound on this value is 65536.
The volume (actually 2-norm) of the box
The xDisconnect() virtual table method.
Then install pChild as the right-child.
Then turn imposter mode back off again.
There are two versions of this routine.
There is no interpretation of the data.
There is no way to tell which happened.
This compares two variants for equality
This could lead to database corruption.
This function always returns SQLITE_OK.
This info is not preserved for runtime.
This instruction causes the VM to halt.
This is a generated file, do not modify
This is a wrapper around sqlite3_log().
This is called when db is being closed.
This is used only for ASCII characters.
This is useful for the image dimensions
This makes for compatibility with Perl.
This requires two passes over the data.
This routine will only increase a lock.
This should be handled in a better way.
This should only be used before forking
This varies from one system to another.
Thus we check manually for _get_module.
Token number of previous deferred token
Token to add or remove to or from index
Translate error code to string        *
Trim off trailing whitespace characters
True globals (no need for thread safety
True globals, no need for thread safety
True if RTree holds integer coordinates
True if all terms are at the same rowid
True if checksums in WAL are big-endian
True if doclist is loaded incrementally
True if next term will be first in leaf
True if pList should be sqlite3_free()d
True if resolving a partial index WHERE
True if the DISTINCT keyword is present
True if the outermost savepoint is a TS
True if the previous character was uEsc
True if the transaction counter changed
True if there exists a MATCH constraint
True if there exists a hot journal-file
True if token ends with a "*" character
True if token must appear at position 0
True to flush contents of memory to PMA
True to use a bg thread for this object
True when processing first term on page
Unlock it and stuff it into our variant
Unqualified name of the index to create
Unqualified name of the table to create
Use SorterOpen instead of OpenEphemeral
Use of the default name is recommended.
Use one of these instead if they exist.
Use this routine after name resolution.
Used for rounding floating point values
Used to iterate through deferred tokens
Used to iterate through non-root layers
Used to iterate through segment-readers
Variables for Floyd-Steinberg dithering
VdbeCursor row cache generation counter
WAL_RDWR, WAL_RDONLY, or WAL_SHM_RDONLY
WRC_Abort         Do no more callbacks.
Wal-index pages are numbered from zero.
We can thus ignore the first parameter.
We don't need no stinkin' parameters...
We get this from the beginning of htab.
We just adjust the length as if we had.
Write the resulting vtab structure here
Zero the contents of the buffer object.
Zero the histogram or inverse color map
a certificate to use for authentication
actually execute the regular expression
allocates a new thread-safe-resource id
already read 0xff in filetype detection
also used as column name list in a VIEW
and recompute its volume and population
are converted into OP_(NOT_)PROP codes.
binary operation with constant operands
buffer in which to construct conch name
call failed, pass internal buffer along
called by PDO to rollback a transaction
called when SUPPORT_UTF is not defined.
called when server is being destructed.
cdb/cdb_make and ini are no option here
cdb_free does not close associated file
check for repeated errors to be ignored
check whether the user has write access
clear compression method specific flags
close - the streams themselves know how
close unused sockets that was inherited
compute the length of the result string
constraints of fp refcount were not met
convert XMLRPC_REQUEST to soap xml dom.
convert xmlrpc data to native php types
corrected date of the Paschal full moon
ctor call not really needed for non-ZTS
data has alreade been converted to long
database name - used by the update hook
define an overloaded iterator structure
do the stuff needed for OCIDefineByName
dtors should be called in reverse order
emulate forward moving seeks with reads
eval() errors do not affect exit_status
examine cache to see if we have a match
filled in if error occurs and not NULL.
find the table and ensure it's an array
flags: Mask of FTS5_SEGITER_XXX values.
gdIOCtx JPEG data sources and sinks, T.
get color values of neighbouring pixels
get the converter output, and return it
if fpm has not started yet, use std env
if none available it's simply forgotton
ignore errors here, just return failure
it's a triggered event on incoming data
iterate through first character matches
just break anyway, to avoid greedy read
just return 0 if we hit the end-of-file
load up the library from the named file
mark pointer as "special" using low bit
max packet size used internally by BIND
mode can be ignored, maximum depth is 1
mop things up if we ended on a boundary
must come prior to the oniguruma header
nByte must be a positive multiple of 8.
need to re-scan if input filter changed
next char should be a hexadecimal digit
no link opened yet, implicitly open one
no new line found, let's read some more
not exif_iif_add_str : this is a buffer
number of elements in the output vector
numelems can not be 0, we checked above
only the files, directories are ignored
or uint, ubigint, usmallint Sybase AS12
output vector for substring information
pText may or may not be nul-terminated.
pass 9: - Optimize temp variables usage
performance optimizations by Phong Tran
pointer to mbfl string for return value
port cannot be longer then 5 characters
pretend we don't support this hash type
register holding first column to insert
repeating a DEFINE group is not allowed
replace the colon with the drive letter
returns a new string that must be freed
same opcode and same var as this opcode
save the new offset location within ufp
schame.table should be "schame"."table"
seek before start of file on my machine
send/recv family on windows expects int
set a given value to a particular type.
set signalled only when not interactive
sets default for file streams to binary
silently fail, there is nothing to copy
some schemas allow the host to be empty
specify array kids type and array size.
sqlite3GetFuncCollSeq() might be called
tab1 and tab2 may not be the same table
the FROM clause -- which tables to scan
this function does no rollback on error
this will create an exception if needed
thus only knows soap pre-defined types.
transfer all data over to the new entry
translates data structures to soap/xml.
true globals, no need for thread safety
turn off proxy locking - not supported.
union magic ensures that this works out
update those bound column variables now
we can fill as many others as we wish.)
we did not process messages (timed out)
we got position already from last fetch
we should print if no more data to come
xConnect - connect to an existing table
zero or more BTCF_* flags defined below
'occurrences' values for current csr row
(BTREE_BLOBKEY is used for SQL indices.)
(IDNA2003 always performs a BiDi check.)
(Only generated for UNION and UNION ALL.
(Re)define some defines known by libjpeg
(The CONTEXTJ check is new in IDNA2008.)
+ 4 bytes: Master journal name checksum.
+1 comes from the prefix IT instruction.
1st argument to the access auth function
2.0.18: space was a oor choice for this.
5: the rbu update has been checkpointed.
64-bit only if requested at compile-time
A Bison parser, made by GNU Bison 3.0.4.
A call to sqlite3BtreeMoveto() is needed
A higher value indicates a better match.
A no-op if an error has already occurred
A record to be insert into the new table
A row is being added to the child table.
A subquery used in place of a table name
Adapted from NetBSB libc by Dieter Baron
Add all WhereLoop objects for all tables
Add salt for numbers not divisible by 3.
Add the current term to the parent node.
Address of the OpenEphemeral instruction
Advance past the POS_END terminator byte
Advance to the next term of the compound
Affinity must be the same on all columns
Aggregate function with DISTINCT keyword
Allocated size of apCell, szCell, aFrom.
Alternate addrEofA if B is uninitialized
And give priority to built-in functions.
Apply trans sid if sid cookie is not set
Array of flags, set on target PK columns
At most reg(P3) errors will be reported.
At most siz-1 characters will be copied.
Attempt to locate an existing hash entry
Avoid failure state as much as possible.
Begin accepting and shifting new tokens.
Bit values for the JsonNode.jnFlag field
Bitmask of phrases seen by BestSnippet()
Branch to ARM code is not optimized yet.
But if the value is zero, make it 65536.
But not if we are in secure-delete mode.
But the initialization must be complete.
Bytes of content, or number of sub-nodes
Bytes of padding needed to make 64 bytes
Bytes of space for Index object + arrays
Bytes of space to allocate for this node
CJK Compatibility Forms: U+FE30 - U+FE4F
COLLATE operators take first precedence.
Cache lines are usually 32 byte aligned.
Calculate the number of quotient digits.
Call all possible __destruct() functions
Cannot have triggers on a virtual table.
Check for JMPZNZ with same cond variable
Check for too many substrings condition.
Check for valid number and count digits.
Check if it is an FTS4 special argument.
Check if we have reached max_persistent.
Check to see if flattening is permitted.
Child table contain "REFERENCES" keyword
Chomp all segments opened by this cursor
Choose branch according to the condition
Clear flags from pages of the page cache
Code an OP_Halt due to non-unique rowid.
Column into which text is being inserted
Column that token must appear in (or -1)
Column to query (or -ve for all columns)
Combine the op_type with the repeat_type
Completely mirror the forward direction.
Compute the union of two position lists.
Compute true longitude and radius vector
Contains one or more aggregate functions
Content-Length header given and non-zero
Continuing where we left off in os_win.c
Continuing where we left off in pragma.c
Continuing where we left off in status.c
Convert given attribute value to UTF-16.
Convert zDate into one or more integers.
Convert zNum to a 64-bit signed integer.
Copy global to_free list into local list
Copy in the first table (always present)
Create the new element we want to insert
Current position where a THEN must jump.
Current write offset in the journal file
Currently 3007000 8: Database page size.
Currently in recurse or negative assert.
DO NOT EDIT THIS MACHINE GENERATED FILE.
Data is read to or from the buffer pBuf.
Database holding FTS index (e.g. "main")
Decode a blob of varints into N integers
Decomposition of the entire WHERE clause
Decrement the reference count on a page.
Designate the PRIMARY KEY for the table.
Determine default SSL configuration file
Different conflict resolution strategies
Disable file:// if open_basedir are used
Do not need to test for a HAVING clause.
Do not write any such pages to the file.
Docid of most recently inserted document
Drop STR_PTR for greedy plus quantifier.
ENCODING: The highest 2 bits are unused.
ESTALE is not defined on Interix systems
Each real token shifted decrements this.
Emit E_DEPRECATED for PHP 4 constructors
End of interface to code in fts5_expr.c.
End of interface to code in fts5_hash.c.
End of non-SHM dependent initializations
Enter a mutex on the given BTree object.
Ephemeral table used to enforce DISTINCT
Equality constraint on the langid column
Error code from db file unlock operation
Exception occurred on previous callback.
Exclude variables that can't be narrowed
Execute a Regular Expression           *
Exotic types are handled as string also.
Expose Collator constants to PHP scripts
Extra prerequesites for using this table
Fall through to the next case, OP_String
Fifth parameter is an unsigned character
Filename argument to pass to BtreeOpen()
First allowable cell or freeblock offset
First register holding data to be sorted
First token in coalesced phrase instance
Flush the hash table to disk if required
Fonts can be used across multiple images
For STRING expressions, the near cluster
For a duplicate or later name, carry on.
For custom operations on an rbuVfs-file.
For most architectures, this is a no-op.
For pg_result_status() return value type
Free idxStr using sqlite3_free() if true
Free temporary memory and return success
Free up the array of auxiliary databases
Full-text search using a MATCH operator.
GLOBALS hijack attempt, reject parameter
Generate a co-routine to run the SELECT.
Generate code for a comparison operator.
Get a VDBE for the given parser context.
Get the NAME attr (Quoted single/double)
Get the VDBE program ready for execution
Get the element we want to insert before
Get the final character and fall through
Get/set the locking-mode for this pager.
Give the new cursor an identifier of P1.
Handle width and height style attributes
Handled inline by the getVarin32() macro
I doubt that "lint" will like this much.
I'm assuming a chord-rule at the moment.
IN/OUT handle to the requested SQL query
IN/OUT: Increment this value by PMA size
Identify reducible and irreducible loops
If has a ns and a str_type then index it
If it does not exist, we have succeeded.
If it fails, we do not change the array.
If it is a recursion, just skip over it.
If it is not working, it's not Thomas G.
If leaving WAL mode, close the log file.
If lines need to be skipped, do it here.
If mimetype is unchanged, 0 is returned.
If non-zero free this temporary register
If not NULL, only analyze this one index
If the target encoding was unknown, fail
If there are, SQLITE_LOCKED is returned.
If true, bias the search to the high end
If types of arguments have to be checked
If we have already a handler, release it
Implementation of the printf() function.
Implementation of the substr() function.
Implementation of the xBestIndex method.
In 8 bit mode, this must always be TRUE.
In sljit, the code is under BSD licence.
In theory we could just set events to D.
In this case an error is left in pParse.
Include hwtime.h in the middle of vdbe.c
Include os_setup.h in the middle of os.h
Increment the entry counter accordingly.
Increment the reference count of node p.
Index of *output* segment in iAbsLevel+1
Index of database containing table/index
Index of right-most cell in left sibling
Index on parent covering the foreign key
Index within level, or 0x7FFFFFFF for PT
Info on how to code the DISTINCT keyword
Information about AUTOINCREMENT counters
Initialize CV variables (skip arguments)
Initialize the INTEGER value of a ROWID.
Initialize the return value as an array.
Initialize the return_value as an array.
Instead, just count through the strings.
Instead, just supply small dummy tables.
Instruction number of OP_Function opcode
Instruction to jump to for RAISE(IGNORE)
Introspection for algorithmic converters
Invalid query fails at execution anyway.
Invoke the callback function if required
Invoke the xNext() method of the module.
It *seems* better than clearing the msb.
It also decrements the VTable ref count.
It can be acquired only when it is zero.
It first tries "sqlite3_extension_init".
It has to be used in one particular way.
It is an error for P3 to be less than 1.
It is not a general purpose header file.
It needs to happen right before exiting.
Jump from here if number of rows is zero
Jump here to break out of the inner loop
Keep reading until we get enough entropy
Keeping the pids around to make asserts.
Largest payload of any cell on this page
Last character before the first wildcard
Locate the insertion point for the code.
Locate the required virtual table module
MD5 Message-Digest Algorithm (RFC 1321).
Make an entry in the sqlite_master table
Make sure pToRelease is still writeable.
Make this process to use file-cache only
Make yytestcase() the same as testcase()
Malloc'd space (possibly) used for zTerm
Maps private data offset to each opcode.
Mask against sqlite3_index_constraint.op
Mask of WO_xx values describing operator
Match a single byte, even in UTF-8 mode.
Match from current position            *
Maximum depth of recursion for triggers.
Maximum length of output string in bytes
Maximum number of stack segments so far.
Maximum size of regions mapped by sorter
Memory location that acts as accumulator
Might learn more from the magic(4) entry
Min-heap used for checking cell coverage
Modified 9 Jan 2002 by Makoto Matsumoto.
Multiply by an additional factor of 3.0.
N must be non-negative for StatusDown().
Name context for parent SELECT statement
Name of database containing r-tree table
Name of table containing column, or NULL
Name of the module for the virtual table
New db size (or 0 for non-commit frames)
Next WhereLoop object in the WhereClause
Next backup associated with source pager
Next unused file descriptor on same file
Next, we begin to convert actual values.
No-op routine for the parse-tree walker.
Normal token_get_all() should not throw.
Normalized weights of neighboring pixels
Not a recursive common table expression.
Not found - try it as a special keyword.
Not pushed if there are no alternatives.
Note: a zero length key is no key at all
Now 'shift' the result of the reduction.
Now `shift' the result of the reduction.
Now see if the situation is what we want
Nul-terminated string containing boolean
Null terminate and eat *trailing* return
Number of bytes in current position list
Number of columns beyond the key columns
Number of columns in index being sampled
Number of columns in the recursive table
Number of elements along histogram axes.
Number of entries in the input hashtable
Number of index columns w/o the pk/rowid
Number of names resolved by this context
Number of non-wildcard prefix characters
Number of overflow pages to load doclist
Number of parameters to the SQL function
Number of records written to sub-journal
Number of valid fields currently in pRec
OP_OpenWrite cursors for the ONEPASS opt
OUT: A pointer to the prepared statement
OUT: Total number of frames checkpointed
OUT: WITH clause return value belongs to
OUTPUT: True if column is auto-increment
Offset into the file to begin writing at
Offsets of each character in utf-8 input
One character past the end of input text
One day we might  have binary strings...
One for every 32KB page in the wal-index
One of the PAGER_JOURNALMODE_XXX symbols
One of the WHERE_DISTINCT_* values below
One or both of the subtrees can be NULL.
One or more tables used to resolve names
Only some strategies  actually use them.
Open a transaction on the database file.
Or NULL If the cursor id does not exist.
Or the key itself if intkey flag is set.
Otherwise, a copy of the buffer is made.
Otherwise, an IO error code is returned.
Otherwise, use the normal shared-memory.
Overwrite existing values that do exist.
PTRMAP_OVERFLOW1: pPage is a btree-page.
Parsing context used to create this Vdbe
Passing NULL remove the existing comment
Pending terms hash table to add entry to
Phrases are numbered starting from zero.
Pointer to new Btree object written here
Pointer to start of phrase position list
Pointers to the extension init functions
Populated on demand from vtab.xColumn().
Prepare for input from a gdIOCtx stream.
Prevent compiler "uninitialized" warning
Probability of truth for this expression
Process a modifier to a date-time stamp.
Prove this using the following assert().
Push its first rowid up to the new root.
Recursive control verb management chain.
Refcount for pOuterNC and outer contexts
Reference to an unidentified subpattern.
References to the page pPg remain valid.
Referrals are not handled automatically.
Register SQL function on this connection
Register constant for options and errors
Register to hold key for checking the FK
Registers for holding the start boundary
Reload the schema of the modified table.
Remove a directory within a phar archive
Replace Isalnum() return value with this
Required collating sequence, if not NULL
Resolve open_basedir to resolved_basedir
Result returned from sqlite3_get_table()
Retreive the text stored in column iCol.
Retry flock() calls that fail with EINTR
Return 0 if the RowSet is already empty.
Return NULL if there is no PATH element.
Return a pointer to the enlarged SrcList
Return a pointer to the node on success.
Return and 0 if there are any variables.
Return false if there is a disagreement.
Return the current time for a statement.
Return the database handle used by pRbu.
Return the index of a column in a table.
Return the name of a wildcard parameter.
Return the number of elements evaluated.
Return true if index X is a UNIQUE index
Returns number of bytes added to buffer.
Rm and Rd must not be the same register.
Round up request size to allocation size
Rtree virtual table module xNext method.
Rtree virtual table module xOpen method.
Scale to 128 levels of alpha for gd use.
See README_PHP3-i18n-ja for more detail.
See if CRLF is a valid newline sequence.
See pager_write_pagelist() for  details.
See the mkopcodeh.awk script for details
Set if thread is finished but not joined
Set options for the current file/buffer.
Set or retrieve the codec for this pager
Set proper value for true/false settings
Set the foreign key value to its default
Shared memory associated with this inode
Shutdown the operating system interface.
Size of list.aMemory allocation in bytes
Size of prefix shared with previous term
Sizes in bytes of nPrefix prefix indexes
So I put a right shift to loose the lsb.
So PHP would crash by allowing the call.
So discard this candidate as not viable.
So enlarge if first, then do the append.
So the phonome SCI invades both S and C.
So there is never a forest to deal with.
So there's no harm in leaving this code.
So this forward declaration is required.
So we run it once during initialization.
Some basic sanity checking on the Btree.
Some old systems does not have MAP_ANON.
Soon we'll add alpha channel to palettes
Space is obtained from sqlite3_malloc().
Special cases, optimized implementations
Start Of Image (beginning of datastream)
Start of ascii tokenizer implementation.
Store pointer to the allocated page here
Store the current STR_PTR in OVECTOR(0).
Store the integer that is read in *pRes.
Subroutine for resetting the accumulator
Subset of btreeMask that requires a lock
Suppose there are two processes A and B.
Symbol on the left-hand side of the rule
Syncing an in-memory journal is a no-op.
TODO: add support for overloaded objects
Table jump if alt_max is greater than 4.
Table structure column is extracted from
Table to identify digits and hex digits.
Tables have different CHECK constraints.
Tail of table name e.g. "data", "config"
Take yet unprocessed bytes into account.
Tell the Go code to stop catching SIGIO.
That was the date, now we do the tiiiime
The "xxx" in the name "xxx.yyy" or "xxx"
The 0 at H indicate the end-of-document.
The MEM structure is already a MEM_Real.
The PMA is written one record at a time.
The VDBE cursor that implements the sort
The VDBE cursor used by this IN operator
The VDBE cursor used to access the table
The alloca() routine never returns NULL.
The assumed sector size for this process
The cell pointers occur in sorted order.
The character set ID of the buffer data.
The check below will pick up this  case.
The cursor is left open after returning.
The database may not be read or written.
The expression to check authorization on
The file descriptor for the journal file
The following constants determine which.
The following table supplies these names
The journal file may or may not be open.
The last column is the record as a blob.
The last multiplication could underflow.
The loop that contains the LIKE operator
The maximum depth of an expression tree.
The minimum count for any phrase so far.
The name context of the SELECT statement
The nodeno of the root node is always 1.
The number of bytes written is returned.
The phrase object to trim the doclist of
The result set that needs to be DISTINCT
The root page of the b-tree is overfull.
The structure is divided into two parts.
The term of the WHERE clause to be coded
The tmp1next must be TRUE in either way.
The value of the  root-node path is '/'.
Then allocate a new, empty sibling node.
Then the runtime of this routine is N*N.
There are (N+1)*M elements in the array.
There are up to 5 names for each column.
There is no need for the master-journal.
There is no such thing as an EOF return.
This Mem is a shallow copy of pScopyFrom
This can be used for high-res profiling.
This can happen if the page is overfull.
This function should be made binary safe
This instruction only works for indices.
This is a difficult situation to handle.
This is currently an undocumented limit.
This is more restrictive than necessary.
This is the first call to this function.
This is used when closing connection db.
This issue is fixed "properly" in PCRE2.
This routine is used for debugging only.
This routine merely does the comparison.
This step usually works if step 1 fails.
This term does not restrict search space
This will free the libxml alloc'd memory
Thus, a log line is always one line long
Too short of an encoded string generated
Top of the rowid change constraint check
True globals (no need for thread safety)
True if OP_Affinity has been run already
True if SQLITE_BUSY has been encountered
True if a new wal-index header is loaded
True if a shared lock has ever been held
True if attempting to delete from a view
True if attempting to insert into a view
True if fts5yymajor has invoked an error
True if really sorted (not just grouped)
True if rowid is modified by this update
True if the TEMPORARY keyword is present
True if the output segment is the oldest
True if there are either triggers or FKs
True if this call is part of a bulk load
True if trailing zeros should be removed
True if we can share pBt with another db
True if we need to scan in reverse order
Try to also make it a MEM_Int if we can.
Type of lock currently held on this file
U+F900-FA2F CJK Compatibility Ideographs
Unix file with file desc used in the key
Unknown opcode in sqlite3_file_control()
Update allocator performance statistics.
Update hit_start only in the first time.
Update opcodes to use new literals table
Update output hash depending on key type
Upper-case UTF characters are unchanged.
Use OCIPing instead of OCIServerVersion.
Use a recursive mutex if it is available
Used only to suppress a compiler warning
Used to iterate through constraint array
User visible part of object (see fts5.h)
VM being reprepared (sqlite3Reprepare())
Value for "level" field (absolute level)
Value returned by authorization callback
Variables populated by statDecodePage():
Virtual terms from the LIKE optimization
Visit blocks immediately dominated by i.
Wal-index header for current transaction
We have created a converted copy of op1.
We turn this off in php_execute_script()
We'll just refuse to handle such a path.
We're returning a pointer to ocaml land.
When finished, drop the ephemeral table.
Write any error messages into *pzErrMsg.
Write the first index cursor number here
Write the number of available bytes here
You must go straight to locking level 0.
add method call/response to body element
adjust so point is on the right boundary
always append newline and null terminate
and have been modified to work with PHP.
and no error propagated to row below yet
array_diff_uassoc() or array_diff_ukey()
assume that it might be a progid instead
attempt reconnect if the first Post fail
auth_plugin_data is split into two parts
be sure calculation temps are big enough
cache full - replace least-recently-used
calculate and check number of parameters
cdb 0.75's default for PROTOless systems
change the ending to this (not reversed)
check if original array has numeric keys
check if static properties were destoyed
closes the data connection, returns NULL
commonly used constructor and destructor
computed, since it's always very near 0.
constant arrays can't contain references
cwd_length can be 0 when getcwd() fails.
db:    Pointer to a database connection.
does not exist in dest, copy from source
done if matches up to capacity of buffer
either newly created or already modified
emulate poll(2) using select(2), safely.
ensure we only return 0 for FILE_DEFAULT
evil cast, but we know they are the same
failed to open/create the lock directory
fci.size is used to check if it is valid
figure out the result set format, if any
find address and figure out binding type
first check if we have any arrays at all
get pixel value and index into the cache
header + klenlen + dlenlen + klen + dlen
if non zero missing dirs will be created
if the needle was ascii too, we are done
if the script we've got is stored in SHM
ifdef SQLITE_NO_SYNC elif HAVE_FULLFSYNC
invalid UTF-16 string (should not occur)
invalid UTF-32 string (should not occur)
keep NOP to support ZEND_VM_SMART_BRANCH
keep group or make empty if not existent
kill the object handle for the stmt here
lookbehind assertion is not fixed length
looking for 'Transfer-Encoding: chunked'
make empty root directory for empty phar
make sure path_info/translated are empty
maximum length of the destination buffer
mixed use named group and no-named group
move after the comma, to the next string
n1 is less than n2, subtract n1 from n2.
n2 is less than n1, subtract n2 from n1.
nRoot is the number of entries in aRoot.
nearby parameter for allocateBtreePage()
nothing can override 'terminating' state
now, perhaps, adjust the end of the line
number of antialias color lookups cached
number of free pages at the end of chunk
number of named columns in virtual table
of course we would have failed anyway...
only print warning if not working with *
openssl recommends a buffer length of 80
output cookie, mini-header, and contents
override the default tcp socket provider
pCell points to the content of the cell.
pFrom will be left pointing to that path
pLast is the last token in the sequence.
page-size bytes of space for parent ovfl
pattern matching function for filenames.
pre-increment for character + 1 for null
printable char offset of last blank char
pseudo marker for start of image(byte 0)
relink remaining roots into list to free
remember stream position for restoration
reset all fields to default when not set
resolve parameter name to rewritten name
return 0 if we couldn't read enough data
return offset of next part of the string
set the incoming values for the calendar
setting string is too short for its type
space in the beginning means same header
special case -- power of FLT_RADIX to be
sqlite3_backup.pDestDb must be set to 0.
statement this function was invoked with
store script structure in the hash table
support needs to be added for snefru 128
these opcodes use the result as argument
this is a poor fit, but it's all we have
this is where the match starts as size_t
to avoid U_STRING_NOT_TERMINATED_WARNING
try to detect the charset for the locale
two named subpatterns have the same name
used for fopen('phar://...') and company
we did not find an entity for this char.
we forked/spawned and this is the parent
we will collect all possible key lengths
will shrink, also we discover if strtext
write it out to the temporary break file
yield from was used, try another resume.
"RBU" stands for "Resumable Bulk Update".
"darkstar" is not a recognized authority.
********************* Cookie Management *
*pRoot is the list that i is a member of.
-******************* Begin Server Funcs *
-******************* End Time Functions *
-******************* System Methods API *
2) Subject: Subject field of the message.
2nd and subsequent times through the loop
8.0 or grater supports protorol version 3
A global array of all winShmNode objects.
A positive number is the number of pages.
A single doclist may span multiple pages.
A table being constructed by CREATE TABLE
A table can have at most one primary key.
A table that describes the SELECT results
Add WhereLoop entries to handle OR terms.
Add a character or range to a class     *
Add a list of characters to a class     *
Add an entry to each output position list
Add column type information to this table
Add number of Cells freed to this counter
Add the function name to our signal table
Add the new range at the insertion point.
Add two 0x00 bytes the end of the buffer.
Added 7/24/95: support transparent copies
Adding a new return type is always valid.
Address of the initialization bypass jump
Adjust PC-relative scaled branch offsets.
Advance iterator pIter to the next entry.
All foreign keys by referenced table name
Allocate and populate the context object.
Allocate the sqlite3_index_info structure
Allocate thread-local storage slot for g.
Also contains the offset of control head.
Also, N1 is assumed to be larger than N2.
An OOM - finalize() below returns S_NOMEM
An ORDER BY (or GROUP BY) clause, or NULL
An ORDER BY or GROUP BY clause to resolve
An engine for executing database bytecode
Any active readers will get SQLITE_ABORT.
Append a new element to the given IdList.
Append buffer nData/pData to buffer pBuf.
Append nodes to complete path if not NULL
At this point this is probably a keyword.
Attempt to leave results in this register
BRAZERO does the bracket, but carries on.
BTALLOC_EXACT, BTALLOC_LT, or BTALLOC_ANY
Bail out if an unexpected error occurred.
Base opcode of repeated opcodes         *
Base register for data coming from SELECT
Begin a read transaction on the database.
Begin aggregate queries without GROUP BY:
Bonus points if the text encoding matches
Both sides of the comparison are columns.
But don't make them a single int bitfield
But this method is used as a last resort.
CAPI3REF: Application Defined Page Cache.
COALESCE and JMP_SET result can't be null
Calculate number of bits we are expecting
Catch relative paths in c:file.txt style.
Causes schema cookie check after an error
Changes whenever database content changes
Check a character and a property        *
Check a class for variable quantification
Check config setting for default timezone
Check if function with given name exists.
Check if this is to be a periodic sample.
Check that the list really is sorted now.
Check the existence and status of a file.
Check to ensure that the cursor is valid.
Check to see if this machine uses EBCDIC.
Checking that we did the maths correctly.
Chunk size configured by FCNTL_CHUNK_SIZE
Clean out and delete the BtShared object.
Clear the TEMP schema separately and last
Close all cursors opened via this handle.
Close the dynamic library handle pHandle.
Close the transaction, if one was opened.
Commit the transaction to the *-oal file.
Compile a Regular Expression            *
Computes a postorder numbering of the CFG
Content of the node, as should be on disk
Continuing where we left off in btmutex.c
Continuing where we left off in fts3Int.h
Continuing where we left off in loadext.c
Continuing where we left off in os_unix.c
Convert cell coordinates to update box ID
Convert pattern (if specified) to UTF-16.
Converting a BLOB to a string is a no-op.
Copy of pStr1 - RHS of LIKE/GLOB operator
Copy the first part of user declarations.
Create a cursor to hold the database open
Create and register 'Spoofchecker' class.
CubicConvolution filter, default radius 3
Current UNION ALL term of the other query
Current number of users of this structure
Days since 2000 Jan 0.0 (negative before)
Debugging function to print chars       *
Declare 'Transliterator' class properties
Decode each operand, sign extending, etc.
Default return value, in case of an error
Define the trailing position accordingly.
Delete everything from the shadow tables.
Desired amount of reserved space per page
Detach this backup from the source pager.
Determine how many bytes of data to read.
Determine where to place temporary files.
Do correction to upper limb, if necessary
Do not break before extending characters.
Do not create a trigger on a system table
Do not gather statistics on system tables
Do recursive multiplies and shifted adds.
Don't free now, let the result be usable.
Duplicate the token as impersonated token
ERROR: copy command not terminated by ','
ERROR: insert count exceeds size of delta
Each index block holds over 4000 entries.
Either "ORDER" or "GROUP", as appropriate
Encode N integers as varints into a blob.
End of interface to code in fts5_index.c.
End of interface to code in fts5_vocab.c.
Ensure that the sub-journal file is open.
Estimate the total row width for a table.
Estimated size of each table row in bytes
Execute this as SQL on the same database.
Expand R to 48 bits (simulate the E-box).
Expr struct EXPR_TOKENONLYSIZE bytes only
Expression defining the new record number
Extra bytes append to each in-memory page
FIXME: We allocate more than we need here
FROM clause does not contain a real table
Fill the character property list        *
Find the first two PmaReaders to compare.
Find the fixed length of a branch       *
First FILE_START event, initializing data
First instruction of interior of the loop
For ORDER BY, column number in result set
For SQL_SUCCESS, the length is in vallen.
Forward references to internal structures
Free a single node of an expression tree.
Generate new record numbers semi-randomly
Generates a warning - but it always works
Grab the index number and argc parameters
Grave-accent quoted symbols used by MySQL
HALFWIDTH KATAKANA SEMI-VOICED SOUND MARK
Height of sub-trees Reinsert() has run on
Held in memory not obtained from malloc()
Here we only compute the number of bytes.
I probably could have just used strlen...
IN/OUT: Pointer into position-list buffer
IN: Pointer to the SQLiteThread structure
INST_NAME - CONDITIONAL remove this flag.
Id of this connection with its winShmNode
If an OOM error occurs, NULL is returned.
If any do, return SQLITE_BUSY right away.
If auto-vacuum is  enabled 1 is returned.
If nArg is -2, then createFlag must be 0.
If new session or something weird happned
If not, truncate the file to zero length.
If pNode is a leaf node, this is a rowid.
If pSchema is NULL, then return -1000000.
If we got any data, don't worry about it.
Implementation of SQLite REGEXP operator.
In the IEEE 754 standard, zero is signed.
In this case do not skip forward 2 bytes.
In this case, the RHS is an index b-tree.
Include fts3Int.h in the middle of fts3.c
Include opcodes.h in the middle of vdbe.h
Include os.h in the middle of sqliteInt.h
Information about each nest loop in WHERE
Information about each nested IN operator
Initialize a WHERE clause scanner object.
Initialize and fill this JsonParse object
Initialize here for LIMIT_MATCH/RECURSION
Initialize one box containing whole space
Initialize sqlite3_vtab_cursor base class
Initialize the propagated errors to zero.
Insert an automatic callout point       *
Insert an element into the hash table pH.
Insert data into the table of this cursor
Insert the new divider cell into pParent.
Insertion failed because database is full
Interchange to search points in a cursor.
Internal stack (for component operators).
Invoke the main loop body as a subroutine
It found Tishri 1 at the end of the year.
It is Kislev - must find the year length.
It is filled concurrently by the workers.
It is possible to append to this segment.
It is reset to ' ' by non-numeric formats
It is sometimes called the "minor" token.
Jump here for next iteration of skip-scan
Just adjust level and punt on outta here.
Keep on comparing from the current point.
Keep the STR_PTR on the top of the stack.
Knott's relatively-prime secondary probe.
Less commonly used but valid nonetheless.
Lets let the cookie code clean it all up.
Level at which to change to MATCH_NOMATCH
Link pNew element into the hash table pH.
List of frame objects to free on VM reset
Locate the table which we want to delete.
Locate the table which we want to update.
MAP_ANON is deprecated, but not in macosx
Magic number 1 is the WAL_CKPT_LOCK lock.
Make sure integer cell keys are in order.
Make sure the INTERFACE macro is defined.
Make sure the locking sequence is correct
Make the INT_PART and FRAC_PART positive.
Mangled key - ignore and wait for runtime
Match extended Unicode grapheme clusters.
Maximum local payload in a LEAFDATA table
Memory register holding the rowid counter
Might only need this if isatty(0) is true
Min-heap used for analyzing cell coverage
Minimum local payload in a LEAFDATA table
Mode to be passed to OCISessionPoolCreate
Most recent seek operation on this cursor
Move the STR_PTR to the private_data_ptr.
Move the cursor down to a new child page.
Name of table into which we are inserting
Name of the file to be locked or unlocked
Named POSIX semaphores (VXWorks only), 7.
Need to call sqlite3ExprDelete(db, pExpr)
Need to free the WhereTerm.u.pAndInfo obj
Needs to know the start position anytime.
New chunk is required to extend the file.
No concurrent write/read and write/write.
Node most recently inserted into the tree
Non-logarithmic stat1 data for this index
Non-negative integer value if EP_IntValue
Normal http request (possibly with proxy)
Note is a letter is a 'break' in the word
Now emit the colormap index for this cell
Number of active VDBEs that read or write
Number of bytes in the content of a field
Number of compound terms processed so far
Number of extra 0 bytes to append to data
Number of pages on the freelist initially
Number of times each op has been executed
Number of winShm objects pointing to this
OK, now we are ready to create a new one.
OOM will cause exit after sqlite3Select()
OP_KETRPOS is a possessive repeating ket.
OUT: Byte offset of token in input buffer
OUT: Set to true if row really does exist
Object being parsed at the point of error
Object completely outside of query region
One entry for each identifier on the list
Only AUTO_CALLOUT can insert this opcode.
Only check when open_basedir is available
Only do the open_basedir check at runtime
Only the first 63 columns are considered.
Op when arg present, or -1 if not allowed
Open file descriptor of file being opened
OpenBSD and older Darwin lack TLS support
OpenSSL 1.0.2 deprecates RSA_generate_key
Operand-sized immediate, possibly 64 bits
Or to a non-unique first byte after study
Otherwise, return a copy of the argument.
Otherwise, the argument is a column name.
Override "include_path" modifier callback
P4 is a pointer to a SubProgram structure
PAGER_GET_NOCONTENT or PAGER_GET_READONLY
PS_READ_FUNC()  - Read data from storage.
PS_USE_CHANGE_ARGV or PS_USE_CLOBBER_ARGV
Page obtained by prior PcacheFetch() call
Pager.pageSize bytes of space for tmp use
Per request and per thread, if applicable
Perform the requested scanning operation.
Pointer to position list following iDocid
Pointer to string from which to read char
Pointer to the appropriate info structure
Pointer to virtual tables needing locking
Populate this structure before returning.
Prefix for optional rounds specification.
Prepared statement for which info desired
Print message header according to RFC 822
Priority is given to SQLITE_ENABLE_STAT4.
Process symbolic control-flow constraints
Program Counter in parent (calling) frame
Proxy locking is only available on MacOSX
Range of registers holding conflicting PK
Read the schema cookie from the database.
Recovery action to do in case of an error
Reduce angle to within +180..+180 degrees
Registers holding results of a co-routine
Release the checkpointer and writer locks
Remove the page from the files free-list.
Reset lineno for final opcodes and errors
Retrieve the current mutex implementation
Return TRUE if it is so and false if not.
Return a copy of index structure pStruct.
Return a negative number if malloc fails.
Return a pointer to the allocated memory.
Return a pointer to the new trigger step.
Return a pointer to the resulting string.
Return correct grandfathered language tag
Return info about compiled pattern      *
Return the number of bytes actually read.
Return the number of cursors open on pBt.
Return the pager associated with a BTree.
Returns:  0    Successful transformation.
Rtree virtual table module xClose method.
Rtree virtual table module xRowid method.
SAPI method returns an emalloc()'d string
SEE ALSO XMLRPC_RequestGetError () SOURCE
SQLITE_OK is returned if no error occurs.
SQLite connection to register module with
Scan the value from the temporary buffer.
See WhereOrSet for additional information
See the mkopcodec.awk script for details.
See the xSetAuxdata() method for details.
Set after incrementing the change-counter
Set the StrAccum object to an error mode.
Set up handler to kill children upon exit
Setting the security protocol passphrase.
Signal handler for SIGSEGV on a C thread.
Size of where we allocate shared objects.
So construct a virtual term of that form.
So far, two transports have been defined.
So pushing a state here evens the stacks.
So remove them from the pDirty list here.
So the list is never empty at this point.
So writing '.' to the pipe is sufficient.
Special case where no modulus is required
Specifically, a query equivalent to:  ...
Store an incr-merge hint in the database.
Store the union of cells p1 and p2 in p1.
TODO: Could use temporary registers here.
TUNING: unlikely() probability is 0.0625.
Table has only 64-bit signed integer keys
That is why we have a private table here.
The "SF" prefix stands for "Select Flag".
The ',' token after the last column defn.
The ORDER BY term is an integer constant.
The Windows errno from the last I/O error
The above is for a rollback-journal mode.
The argument is a zero-terminated string.
The attached database containing the blob
The caller must always assume that it is.
The caller must hold the checkpoint lock.
The cnt parameter is the number of slots.
The complete select statement being coded
The database size is known in this state.
The final argument is an output variable.
The format is:  + 4 bytes: PAGER_MJ_PGNO.
The formatting of each case is important.
The input string must be zero-terminated.
The integer just read is a column number.
The keys of the PHP hash MUST be numeric.
The maximum number of attached databases.
The minimum value of NN is 1 (of course).
The name context used to resolve the name
The page-number is not used in this case.
The parsing (and code generating) context
The prepared statement under construction
The statement returns exactly one column.
The table trigger pTrigger is attached to
The texts of compile-time error messages.
The token level exceeds our allowed limit
The token that holds the name of the view
The trigger step be fixed to one database
The type used to represent a page number.
The unicode "subsitute" character (0x1A).
The upper 5 bits are known at this point.
The write cursors opened by WHERE_ONEPASS
There must be at least one stack segment.
There should be two additional arguments.
These may be read directly by the caller.
These methods use special implementations
They also make IOCtx calls look better...
This block deals with an obscure problem.
This function is purely an internal test.
This functionality is not yet implemented
This is how you do event::event_list in c
This is the length of the matched pattern
This plan is not completely bullet-proof.
This scalar function takes two arguments.
This simplifies the implementation a bit.
Thread procedure Win32 compatibility shim
Token with unqualified schema object name
Total size in bytes of journal file pJrnl
True because of CursorMoveto() call above
True if RTree holding integer coordinates
True if a non-constant constraint is seen
True if any part of database file changed
True if pWith should be freed with parser
True if rerunning after an auto-reprepare
True if resolving columns of CREATE INDEX
True if sqlite3_interrupt has been called
Truncate an open file to a specified size
Type values for all entries in the record
Underscore is covered by ucp_P or ucp_Po.
Undo the effects of sqlite3_initialize().
Unfortunate limitations on integers makes
Update the lockless linked list of events
Upon success, SQLITE_OK will be returned.
Use OCIServerVersion for Pre-10.2 clients
Use mutex below for variable that follow.
Use of this interface is not recommended.
Used by TK_AGG_COLUMN and TK_AGG_FUNCTION
Uses ICU ucol_getSortKey for performance.
Utility functions used throughout sqlite.
VDBE cursor for the canonical data source
VFS containing this as the xDelete method
Value for the stat column of sqlite_stat1
Value returned by sqlite3_total_changes()
Value to return for s3_vtab_on_conflict()
Values for TAG_PHOTOMETRIC_INTERPRETATION
Values for parameters to the SQL function
Verify this routine is never called again
Virtual current working directory support
Virtual tables must be handled separately
Wait until the signal has been delivered.
We also know that the highest bit is set.
We are finished with this character class
We can just ignore the repeat in JS case.
We need an extra instruction in any case.
We need to finalize an internal statement
When pBuf is not NULL simply return pBuf.
Windows and Netware use the internal mail
Write the number of error seen in *pnErr.
X: X, etc to allow for multiple instances
XXX add LFCR case if it's gonna be needed
You never want to go smaller than padding
a DBA handler must have specific routines
add additional scramble data 5.5+ sent us
address size 'W' or 'L' (or 'Q' or amd64)
allocated even if there is no FROM clause
and increment it so it becomes non-zero .
are lower case letter, but can't convert.
assumes there are no single-char entities
build an array of handles for non-sockets
calculate the length of the return buffer
call php's original import as a catch-all
called by PDO to execute a prepared query
can't handle paths that contain nul bytes
change T only if we have _EX opcode there
check for invalid chars inside login/pass
check for overflow by comparing sign bits
check if long can be safely casted to int
check if we load xsd from the same server
clear unnecessary ZEND_FETCH_CLASS opcode
component-wise summing-up of color values
convert string to ascii printable format.
copy the rest of p, the NUL is NOT copied
count the number of listed encoding names
create and use new entry, used by zip_add
create the DB if it's not already present
create using the client-side session pool
deallocates all occurrences of a given id
determine the status for the current cert
disable stepping while eval() in progress
empty loop founded, skip next instruction
emulate the forward seek, by next() calls
error - print best error message possible
error is caught by _zip_buffer_eof() call
escape username and password, if provided
extend modrm r/m, sib base, or opcode reg
first, we check if the handler is defined
flags field of new pages before shuffling
for BG(mmap_file) (not strictly required)
iMaster is the index of the master chunk.
id that may be used to recursive triggers
if SQLITE_OMIT_LOAD_EXTENSION is defined:
if first character, init BB corner values
if it's a response, we append "Response".
iid that we "implement" for event sinking
info about users requires an action first
io_file.c  Implements the file interface.
logic hacked from ext/standard/datetime.c
lookup bind first via hash and then index
make sure the top level is a normal array
minor HTTP version or end of request line
name too long, protect from CVE-2015-0235
next request should be able to restart it
no prompt command found so try help topic
normal delimiter: encoding scheme follows
num1 is set if str1 and str2 are strings.
number of arguments not including unpacks
of reg prior to regData available for use
or invalid singleton at start of language
otherwise, default to sending all methods
p:     The accumulator to be initialized.
pDest is where the output should be sent.
pList is a list of columns to be indexed.
pg_fetch_assoc() is added from PHP 4.3.0.
position in new buffer of last blank char
push the normal char to the output buffer
ready to do some actual de-serialization.
redirect stdin/stdout/stderr if requested
reset all bind stuff to a normal state...
resize output buffer and reassemble block
return array with the text's bounding box
search active scope if begins with period
seems to allow surrogate characters, then
set the callback for the GET_ACL function
set the server handle into service handle
set to the operand type for jump/ret/call
skip all private and protected properties
special handling for zero-size allocation
spent a frustrating day finding this out.
sqlite3_config() does not allow otherwise
startup extensions statically compiled in
subjInMemory  This is a boolean variable.
the "Dominical number" - finding a Sunday
the rest is only used by PM_STYLE_DYNAMIC
this happens for a comment or white-space
token_sid will be freed in tsrmwin32_dtor
uncorrected date of the Paschal full moon
update referens to live-ranges from stack
use strlen() because s is ascii encoding.
utility func to generate a new attribute.
val        The desired new boolean value.
we are in include_once or FastCGI request
we do not ping non-persistent connections
we return nothing for disable breakpoints
x.pSelect is valid (otherwise x.pList is)
yup, this break isn't here on purpose too
zPath is a path to a WAL or journal file.
zend_error() does not return in this case
"temp.tmp" is not good temporary filename.
'Converter' class for codepage conversions
(22)  The subquery is not a recursive CTE.
(Again, this is fixed "properly" in PCRE2.
(See jdmarker.c for a more complete list.)
+build lldb +build darwin +build arm arm64
- output option for verbosity/readability.
0 for bgColor, nothing gets outside anyway
1 for new.* ref mask, 0 for old.* ref mask
1.01 allows roundoff in the next few lines
2.0.5: mode_mono fix from Giuliano Pochini
2nd parameter to sqlite3_bind out of range
64-bit only: there is no lwau instruction.
@param  zval* utf8_zval String to convert.
A "Mem" stores a single value in the VDBE.
A lone identifier is the name of a column.
A simple array of 32-bit masks for lookup.
A sub-query in the FROM clause of a SELECT
Access to mutexes used by sqlite3_status()
Add the character to the temporary buffer.
Add the default collation sequence BINARY.
Add this many bytes to each in-memory page
Additional 16 bits for server capabilities
Advance the MergeEngine to its next entry.
Advance the iterator to the next position.
Advance to the next element in the sorter.
All pages have been processed exactly once
All pages of the b-tree have been visited.
Allocate and populate the array to return.
Allocate space for the WalIterator object.
Allocate space for the new unixShm object.
Allocate space to hold a new trigger step.
Always so because of CursorRestore() above
An in-memory list of objects to be sorted.
An index has an arbitrary key but no data.
Any other return value indicates an error.
Apply the requested affinity to all inputs
Argument pTerm must be a synonym iterator.
As a sanity check when loading from a file
Average nEq values for keys not in aSample
Avoid leaking memory if malloc has failed.
BC with older php scripts and zlib wrapper
Begin scanning through hash table entries.
Begin writing at this offset into the file
Bind the rbu_rowid value to column _rowid_
Bitmask of other loops that must run first
By default we have a tree of only one node
Call either BtreeData() or BtreePutData().
Call sqlite3Step() to do most of the work.
Call sqlite3VdbeCloseStatement() to do so.
Callback from rocksdb_writebatch_iterate()
Character before the next significant one.
Check for asserted fixed first char      *
Check for integer primary key out of range
Check if the main database is a zipvfs db.
Check if this index matches those columns.
Check if this is a tokenizer specification
Check the next two values for correctness.
Checking flags and updating ovector_start.
Close any rollback journal previously open
Close the mutex on database connection db.
Collisions are on the FuncDef.pHash chain.
Columns that change in an UPDATE statement
Combined size of cells placed on i-th page
Compute local sidereal time of this moment
Compute the Sun's apparent radius, degrees
Continuing where we left off in tokenize.c
Control and query of the open file handle.
Convert an integer VAL to a bc number NUM.
Convert character value to UTF-8         *
Convert the image src to a grayscale image
Copy the second part of user declarations.
Copying the result back into shared memory
Count the number of references to columns.
Count the tokens in this AND/NEAR cluster.
Create an array of entries of each section
Create and register 'IntlException' class.
Create, bind socket and start listen on it
Current algorithm: split at halfway point.
Cursor from which column data is extracted
DEFINE group contains more than one branch
Decide whether some text looks like UTF-8.
Default is to use client-side session pool
Detects if the character has an othercase.
Disallow these chars outside option values
Disconnect these in next sqlite3_prepare()
Don't duplicate result, saves one emalloc.
Drop and reload the internal table schema.
Early return if there is not enough space.
Encrypt one block, BF_N is hardcoded here.
End of a group, repeated or non-repeating.
End of interface to code in fts5_buffer.c.
End of interface to code in fts5_config.c.
End of interface to code in fts5_varint.c.
End of the pattern, either real or forced.
Ensure the database schema has been loaded
Error encountered while fetching the value
Expose DateFormat constants to PHP scripts
Expose Normalizer constants to PHP scripts
Extra information associated with the page
Fall back to sendmail_from php.ini setting
False to disable new lookaside allocations
Figure out the page-size for the database.
Find the minimum length of subject string.
Find the parent table of this foreign key.
First field to be combined into the record
First register holding data before packing
First register in temporary register block
First, try to get user-specific magic file
Flags this file descriptor was opened with
For looping over all elements of the table
Form the KeyInfo object from this ExprList
Free any outstanding Savepoint structures.
Free store obtained by get_substring     *
Function context - put error messages here
Generate code for a DELETE FROM statement.
Generating code for the first alternative.
Get everything else as option/offset value
Grow the sqlite3.aVTrans array if required
Growth rate for stack allocated by the OS.
Handle negative integers in a single step.
Have a match, so insert the code in order.
Here, add it to the list of ini files read
If P2 is not zero, jump to instruction P2.
If a parser error occurs, return non-zero.
If it does so successfully, 0 is returned.
If it's the same image, mapping is trivial
If no errors occur, SQLITE_OK is returned.
If no expression is found, -1 is returned.
If none of the above worked, then we fail.
If not, append an error message to pCheck.
If opening the main database, set ENC(db).
If possible, the upper layer will call it.
If so, we must wrap it in atomic brackets.
If ssb is NULL then someone is misbehaving
If the bundle is invalid, split it in two.
Ignore libxml warnings during WSDL parsing
Implementation of the like() SQL function.
In HTML5, entities may take up to 33 bytes
In all other cases, SQLITE_OK is returned.
In case the blob is ever converted to text
In either case, SQLITE_TOOBIG is returned.
In the statement  INSERT INTO t(a,b,c) ...
In this case avoid the all to nodeWrite().
Include pragma.h in the middle of pragma.c
Include standard header files as necessary
Indicate that there is a global colour map
Indicate to query, that result is released
Indicate to result, that query is released
Indicates a pending lock has been obtained
Indirect offsets are not valid at level 0.
Information about aggregates at this level
Initial number of leaf cells on trunk page
Initialize API pointer table, if required.
Initialize the operating system interface.
Initialize the pParse structure as needed.
Insert the new freeblock into the freelist
Instead, sort the VdbeSorter.pRecord list.
Instructions before the first alternative.
Internal interface definitions for SQLite.
Invalidate all ephemeral cursor row caches
It also assumes that the path is not empty
It does not function in an ordinary build.
It is implemented by the pluggable module.
It is not included in production compiles.
It is not possible to turn this limit off.
It is only here for testing and debugging.
It may or may not be of class JournalFile.
It returns the new CREATE TABLE statement.
It will not be NULL except PS_OPEN_FUNC().
Its contents will be re-inserted later on.
Jump here to start the next IN combination
Jump here when skipping the initialization
Keying information for the group by clause
Keys are used to do more restrictive check
Label for the start of the merge algorithm
Last known position of the requested byte.
Leave an error in pParse and return early.
Left alphanum vs right particular category
Let's assume this least common denominator
Like perl we only support string increment
Linked list of VDBEs with the same Vdbe.db
Linked list of all sub-programs used by VM
List of statements inside the trigger body
Load an incr-merge hint from the database.
Locate the first character property field.
Locate the next offset that is not 0xffff.
Locks obtained by this instance of winFile
Log base 2 of TILEGX_BUNDLE_SIZE_IN_BYTES.
Loop counter:  Foreign key number for pTab
Loop through list and close all statements
Make a new directory within a phar archive
Make sure the arrays are of the same size.
Make sure the locking sequence is correct.
Make sure we can call this stuff from C++.
Mask of ORDER BY terms that need reversing
Mask to isolate flags related to iterators
Match a negated single one-byte character.
Match character against an XCLASS        *
Maximum back reference and backref bitmap.
Memory cells provide growable allocations.
Move remaining bytes into internal buffer.
Moves the data associated to key1 to key2.
N bytes of memory are available at pSpace.
NB: always correctly aligned for uint32_t.
NB: always correctly aligned for uint64_t.
NO, Packet packet headers tile part header
NULL indicates an out-of-memory condition.
Name of the table or index to be reindexed
Net deferred constraints this transaction.
New cell becomes the i-th cell of the page
No floating point operations will be done.
No foreign keys against expression indexes
No memory allocation is ever used on mem1.
Not all WHERE terms resolved by outer loop
Note that this will ignore any methodCall.
Nothing matched the range, stop processing
Nothing points to this buffer now, free it
Number of active VDBEs that read and write
Number of columns in the constructed index
Number of db changes made since last reset
Number of entries without a matching leave
Number of extra registers before regResult
Number of malloc size increments to track.
Number of memory registers for sub-program
Number of mmap pages currently outstanding
Number of open transactions (read + write)
Number of pages starting at pg1 to journal
Number of unixShm objects pointing to this
Number of unused bytes at end of each page
OUT: Value of original database size field
OUTPUT: True if NOT NULL constraint exists
Object fully contained within query region
Offset to first byte to be locked/unlocked
Offset to next unparsed byte of the header
One bit for each page in the database file
One permutation of all possible is created
Only one recursive reference is permitted.
Open the sqlite_stat1 table on this cursor
Optimization for if no strip flags are set
Other classes are built from combinations.
Other matching errors are not recoverable.
Otherwise, only column iCol is considered.
Override onError to this if not OE_Default
Override the gcc computation in this case.
P4 is a string that is P2 characters long.
PHP3 Internationalization support program.
POSIX collating elements are not supported
PPC doesn't like you re-using a va_list...
PRIMARY KEY index for WITHOUT ROWID tables
PS_CREATE_SID_FUNC() must check collision.
Page numbers of new pages before shuffling
Parameters : format     The format string.
Parse structure for main program (or NULL)
Parsed information on cells being balanced
Parsing succeeded as a multi-byte sequence
Partial index inappropriate for this query
Positive forward assertions and conditions
Possible covering index for WHERE_MULTI_OR
Print Unicode property value             *
Print single- or multi-byte character    *
Process each potentially referenced group.
Pseudotable used to decode sorting results
Push a new element onto the priority queue
Put checksum in context given as argument.
Quasi-random value added to every checksum
Randomly chosen byte used as a shared lock
Read data from the in-memory journal file.
Reattach the ORDER BY clause to the query.
Reduce fieldlen by 1 if we have char data.
Register SQLite 3 Prepared Statement Class
Register __COMPILER_HALT_OFFSET__ constant
Register holding the AUTOINCREMENT counter
Register keeping track of errors remaining
Release the connection to underlying pool.
Remember the current column cache context.
Remember, preserve vowels at the beginning
Remove all terms from the full-text index.
Remove unconsumed buckets from the brigade
Request content, such as for POST requests
Required table locks for shared-cache mode
Required to catch very short invalid data.
Requires globals EG(current_execute_data).
Results: Returns the next format position.
Return a pointer to the new RowSet object.
Return a random blob that is N bytes long.
Return a vector of device characteristics.
Return char value in TMP1, length in TMP2.
Return the ROWID of the most recent insert
Return the address of the new instruction.
Return true if it can be and false if not.
Return true if this is an in-memory pager.
Returns NULL if no splittable boxes remain
Returns size of dirent read if successful.
Reuse the function descriptor if possible.
Reverse order to pop values off ctxt stack
Right alphanum vs left particular category
Root page number of the table to be locked
Rows are coming out in undetermined order.
Rtree virtual table module xColumn method.
Rtree virtual table module xCreate method.
Rtree virtual table module xFilter method.
SEE ALSO XMLRPC_AddValueToVector () SOURCE
SEE ALSO XMLRPC_GetDefaultIdCase () SOURCE
SEE ALSO XMLRPC_SetDefaultIdCase () SOURCE
Search the node hash table for node iNode.
See also: NotFound, NoConflict, NotExists.
See comments above valueNew() for details.
See function vdbeSorterSort() for details.
See http://support.microsoft.com/kb/190351
Set defaults for non-supported filesystems
Set idxFlags flags for the ORDER BY clause
Set specific keys in thread local storage.
Set the new ping value into the connection
Set the output variables before returning.
Set the value of a single config attribute
Shared locks never span more than one byte
Significant digits after the decimal point
Special exception for sljit_emit_op_flags.
Specify the key for an encrypted database.
Stack must be aligned to 8 bytes: (LR, R4)
Starting pointer for partial soft matches.
State used by the fts5DataXXX() functions.
Store SELECT results in intermediate table
Stub: read all events from the shared list
Symbolic ID of this loop for debugging use
Tables that must be scanned after this one
Temp space for pIdxKey - to avoid a malloc
Test os/signal.Notify and os/signal.Reset.
Test vector from FIPS 180-2: appendix B.3.
Test vector from FIPS 180-2: appendix C.3.
The ')' before options in the CREATE TABLE
The CREATE token that begins the statement
The FROM clause term to get the next index
The OP_OpenEphemeral for the sorting index
The SELECT statement containing the clause
The VFS for which this is the xOpen method
The character set form of the buffer data.
The content of a leaf page is unspecified.
The cost of an INSERT is roughly constant.
The ctypes array contains only 256 values.
The data should be allocated with malloc()
The database connection holding this btree
The database the table is being created in
The expression has not been name resolved.
The expression to be fixed to one database
The first page in a file is called page 1.
The following are copied from sqliteInt.h.
The iPos argument is ignored for a delete.
The instruction includes the AL condition.
The methods of the json_each virtual table
The name is zName and the encoding is enc.
The name-context to resolve expressions in
The page-number  is not used in this case.
The permutation applies to registers only.
The probability is close to 0 in practice.
The seconds portion (":SS.FFF") is option.
The source and destination do not overlap.
The sqlite_stat1 table is always relevant.
The table in which we should change things
The two arguments are 64-bit docid values.
The value returned will never be negative.
Then, we convert the argument to a string.
There exists an unusable MATCH constraint.
These letters are passed through unchanged
This is caught by a recursion depth count.
This is only done when necessary ofcourse.
This is the top of the main insertion loop
This may involve syncing the journal file.
This packaged seemed like a good breakout.
This program was generated by testconv.rb.
This routine returns the number of errors.
This section contains code for WinCE only.
This version requires less memory writing.
Those below are for version 3 and greater.
Tokens are divided into AND/NEAR clusters.
True if analyzing arguments to an agg func
True if foreign key processing is required
True if pPage is a leaf of a LEAFDATA tree
True if some process holds a RESERVED lock
Try to use the specified logging location.
Turns out that wasn't a keyword after all.
Unable to resolve the real path, return -1
Unique index on parent key columns in pTab
Update the count of rows that are inserted
Uploaded file exceeded upload_max_filesize
Use this buffer to store the file name in.
Used internally - xBestIndex should ignore
Used to save work done on a writeable phar
Validate index entries for the current row
We have therefore abandoned that approach.
We iterate through all the arrays at once.
We try to call __sleep() method on object.
We won't handle run-time pass by reference
Windows sys/types.h does not provide these
Word or int32 R/M field with register (/r)
Write the current in-memory list to a PMA.
Write the number of columns of result here
Wrong number of arguments means "no match"
Y:   The name of a table in a FROM clause.
Zero tells OP_Found to use a composite key
a number that is not Phar::GZ or Phar::BZ2
adjust exponent for shifting decimal point
allocate a new stream for a particular ops
array can be *huge* so only fetch if asked
cainfo holds information about trusted CAs
can't nuke structs until done with palette
check for 1st char of combining characters
check for 2nd char of combining characters
check if hash is modified during iteration
chngToIN will hold either 0, 1, or 2 bits.
clone error information into the db handle
coalesce per file arrays into a single one
columns) in the record given by pKey,nKey.
connect the neighbours to this new element
converted string is longer than out buffer
copy max significant digits to significand
defined(SQLITE_ENABLE_UPDATE_DELETE_LIMIT)
didn't get correct response from EPSV/PASV
do not PHAR_GET_16 either on the next line
do not use the reference to itself in json
emulate it by fetching and discarding rows
errcode set by sqlite3_result_error_code()
fetch the GUID and add the version numbers
file is on command line, but not in -f opt
find the end point of the string to return
fire up the host and get the domain object
get serialized variable from shared memory
handle the case where we are in the buffer
hh_server doesn't need this at the moment.
highlight stuff coming back from zendlex()
i.e. It deletes all of Set-Cookie headers.
iMaster is 0 if there is not master chunk.
identity mapping of code points to unicode
if it is 0, no modifieres has been changed
if the conch has data compare the contents
if we're setting ourselves to ourselves...
ignore if the new value equals the old one
ignore leading spaces in the variable name
in hash, if not, try to find a spot for it
in order to avoid signed/unsigned problems
invalid escape sequence in character class
iter through params, adding to types array
just leave things as-is - an empty variant
keep going until we have less than 24 bits
keep src so discard does not get rid of it
little bits about characters for metaphone
make sure to process initialized vars only
make the encoding description string  exp.
match full, case insensitive, command name
maybe it's better to use weak name instead
mysqlnd extension - trace memory functions
non-static since it needs to be referenced
now we can safely use proper decompression
obtain brect so that we can size the image
on success "arg" is converted to IS_STRING
one id was passed, could be db or trans id
php_getopt want to identify the last param
print silly verbose header for USG compat.
produces numeric string E_NOTICE/E_WARNING
re-open internal file pointer just-in-time
read any remaining data, it may be omitted
read values not stored in directory itself
rebinding to internal class is not allowed
remove entry from hash, error if not found
remove the event from epoll internal queue
restore compiler and scanner global states
seek to start of internal file and read it
setting UTF is disabled by the application
skip first entry since it has a , or paren
skipheader ---------- Skips the ExtHeader.
so that entry is created in realpath cache
special case, perform operations on result
special case: value near underflow-to-zero
the driver-specific PDO handle constructor
the hash of the key modulo hash table size
the specified URI holds connection details
then we add the timezone name (or similar)
this is an array whose size_is(dimensions)
throw away any rows it might have returned
try to find an idle connection and kill it
typically of type xmlrpc_request_response.
updete next root that is going to be freed
use separate timeout for our private funcs
useType determines which name is returned.
user requested cancel of current operation
we allow load data local infile by default
we are still using a memory based backing.
whether CRC was computed for complete file
which has its own performance penalties...
worring about sub-dividing and re-hashing.
xOpen must do this even if the open fails.
zFilename is a temporary or immutable file
"m" is the number of vowel consonant pairs.
)  The first form is used for rowid tables.
************* Check this local method scope
-- Allocate memory for our phoned_phrase --
1) prefix, if not empty, must match subject
@param  zval* utf16_zval String to convert.
A SQLITE_FUNC_CONSTANT or _SLOCHNG function
A depth of 2 means a tree with three nodes.
A stat() call may fail for various reasons.
ASCII magic -- try to detect text encoding.
Add the "COLLATE" clause to this expression
Add the characters to the defined category.
Address of array containing child table row
Address-sized immediate (no sign extension)
Adds another key for existing cached script
Adjust the cost C by the costMult facter T.
All SQL text past the last semicolon parsed
All mutexes are required for schema access.
Allocate a new page from the database file.
Allocate a two-slot MatchinfoBuffer object.
Allocate an extra register for limit+offset
Allocate the array of TermOffset iterators.
Also use trailing slash if this is absolute
Always update the timestamp on the old file
An assertion fails if P2 is not an integer.
Anything other than NOMATCH is passed back.
Append the position-list data to the output
Array of collation sequence names for index
As a result,  it is extended to two fields.
Assert that the caller has been consistent.
At the moment, we just drop it on the floor
Attribute with no content in it's text node
Both ascending and descending are possible.
Bottom of the rowid change constraint check
Btree with currently open write transaction
C and Z groups are the farthest two groups.
CASE_FOLD_IS_APPLIED_INSIDE_NEGATIVE_CCLASS
CLIENT_CONNECT_WITH_DB should have been set
Check for authorization to create an index.
Check for immediate foreign key violations.
Check for newline at given position       *
Checked before the virtual table is created
Clamping to allow for rounding errors above
Class derived from sqlite3_tokenizer_cursor
Clean up and delete a VDBE after execution.
Code parameters and static tables         *
Code the trigger program into the sub-vdbe.
Collating sequence for each term of the key
Collating sequence to be reindexed, or NULL
Compile a SELECT statement for this cursor.
Complete information about the WHERE clause
Compute representation error for this pixel
Configure the cache_size limit for a cache.
Connection to a write-ahead log (WAL) file.
Constructor for the json_each virtual table
Continuing where we left off in mutex_w32.c
Continuing where we left off in os_common.h
Continuing where we left off in sqliteInt.h
Continuing where we left off in wherecode.c
Contirbution information for a single pixel
Convert an expression node to a TK_REGISTER
Convert source string from UTF-8 to UTF-16.
Copy all captured strings to new store    *
Copy captured string to given buffer      *
Copy captured string to new store         *
Copy of the SELECT that implements the view
Copy the integer value to the output buffer
Corresponding column number in the eq-class
Create an event with the info from FSEvents
Create and register 'Transliterator' class.
Create compositions from decomposition data
Create or open a zip-based phar for writing
Database connection to notify of OOM errors
Database containing the table being updated
Declarations for Floyd-Steinberg dithering.
Declare 'NumberFormatter' class properties.
Default value expressions must be constant.
Deferred tokens are not taken into account.
Delete a VdbeFrame object and its contents.
Determine how much time we've taken so far.
Determine if the argument is a power of two
Do an integrity check on each database file
Do not both fixing the pDirtyPrev pointers.
Do we have placeholders but no bound params
Each expression may optionally have a name.
Each freeblock is at least 4 bytes in size.
Either way, assume that the journal is hot.
End of interface to code in fts5_storage.c.
End of the routinely-changing class members
Execute the statement to insert the record.
Executed commands will run through cmd.exe.
Expr list from which to derive column names
Expression list contaning only pSelectRowid
Extended FP R/M field with op code (/digit)
Extract the content for the p2+1-th column.
Extract the int value, ignore the fraction.
Figure out what version of the code to use.
Find a dirty page to write-out and recycle.
Find first significant op code            *
Find the column for which info is requested
First page of the sector pPg is located on.
First part of the name of the table or view
Flags passed through to sqlite3_vfs.xOpen()
Flip the starting bit in the negative case.
For platforms with incomplete ANSI defines.
Function to delete compiled regexp objects.
Functions for accessing sqlite3_vfs methods
Functions to support testing and debugging.
Functions used to configure a Pager object.
Future releases of SQLite may require this.
G: New-style sqlite3_rtree_query_callback()
Get an EXCLUSIVE lock on the database file.
Get output buffer and send as fault detials
Give user a chance to reallocate the stack.
Grow buffer to hold this bucket if need be.
H if before a vowel and not after C,G,P,S,T
Handle for accessing the blob returned here
Handle literal characters and + repetitions
Handle other cases with/without an argument
Hash.first points to the head of this list.
Hence it is only available in debug builds.
Here we call the headers_complete callback.
How much memory to allocate (1 - 9) x 100kb
IIS is always making things more difficult.
INTERSECT_KEY is subset of INTERSECT_ASSOC.
If EP_FromJoin, the right table of the join
If P1 holds a NULL then store a NULL in P2.
If no  error occurs, SQLITE_OK is returned.
If no ':' on the line, add to previous line
If one is encountered it is simply skipped.
If one was specified, code the WHEN clause.
If only existence check is made, return now
If we reach this point, the frame is valid.
Implementation of the NULLIF(x,y) function.
Implementation of the xSetAuxdata() method.
In case of ucp_Cf, we overwrite the result.
In that case, only verify 4-byte alignment.
In the real compile, search the name table.
In this case a new blob handle is required.
In this case set the BTS_PENDING flag to 0.
Include hash.h in the middle of sqliteInt.h
Include msvc.h in the middle of sqliteInt.h
Include sqliteicu.h in the middle of main.c
Include vdbe.h in the middle of sqliteInt.h
Include vdbeInt.h in the middle of status.c
Increment the reference count for page pPg.
Index of WhereLoop in pPath being processed
Index of the database that is being written
Index of this phrase in matchinfo() results
Indicates a reserved lock has been obtained
Initialize no first byte, no required byte.
Initialize the count of rows to be inserted
Initialize the memory allocation subsystem.
Initialize zType for the new view or table.
Initilize notice message hash at MINIT only
Insert or remove data to or from the index.
Interface can only inherit other interfaces
It found Tishri 1 at the start of the year.
It is easier just to erase the whole table.
It is not an error if there are no matches.
It is one of the last 6 months of the year.
It returns -1 if division by zero is tried.
It works for objects as small as two bytes.
Iterating in RPO here would converge faster
Join two expressions using an AND operator.
Just a flag to suppress char handling below
Just to check if user passed valid resoruce
Key columns for SRT_Queue and SRT_DistQueue
Keys are used to do more restrictive check.
Kill all the processes in our process group
LIST variable will be deleted later by FREE
Line separation as a factor of font height.
Load the integer value into a VFP register.
Locate the second character property field.
Location in parent of right-sibling pointer
Malloc must have failed inside HashInsert()
Manual call of compile_assert_matchingpath.
Max iDivisor is max(u32) / BITVEC_NPTR + 1.
Maximum length of a varint encoded integer.
Mem.i contains count of 0s appended to blob
Memory cell used to store aggregate context
Mixing the instructions for the two checks.
Move the decimal point on n1 by n2's scale.
Move to end of path and count trailing X's.
Multiple character line break or forced cut
Mutex used to control access to shared lock
N is usually small - often between 0 and 2.
NOMATCH and PRUNE advance by one character.
Name of the table to add to the FROM clause
Narrowing integer initialization to doubles
Need to free the WhereTerm.u.pOrInfo object
Neither of these  functions are threadsafe.
Neither side of the comparison is a column.
Next available select ID for EXPLAIN output
Next on a list of sharable BtShared structs
Next time we will return from the same ptr.
No Handlefrees for session pool connections
No updates or AFTER triggers are  required.
Non-logarithmic number of rows in the index
Non-zero if connection is in exclusive mode
None of this happens in a production build.
Not enough for block, just pass into buffer
Now fill in the complete length of the item
Number of neighbors on either side of pPage
Number of previously allocated VDBE cursors
Number of references to columns in pSrcList
Number of references to this KeyInfo object
Number of result columns returned by SELECT
OE_Abort, OE_Ignore, OE_Replace, or OE_None
OP_Column/OP_Rowid references to this table
OP_OpenEphem opcodes related to this select
Omit children but continue walking siblings
On entry, ptrptr is pointing at the P or p.
One of the CURSOR_XXX constants (see below)
One of the SRT_ operations to apply to self
Only persistent  connections get hashed up.
Only the master can perform this operation.
Only valid for real tables, no pseudotables
Open a connection to the WAL file zWalName.
Operand-sized immediate (no sign extension)
Operation terminated by sqlite3_interrupt()
Or there never was a  blocking transaction.
Oracle LOBS are 1-based, but PHP is 0-based
Original lockingcontext to restore on close
Originates in ON/USING clause of outer join
Otherwise getput_arg_fast would capture it.
Otherwise simple pairwise merging is used.)
PCRE_UTF16 has the same value as PCRE_UTF8.
PRIMARY KEY index, or NULL for rowid tables
PS_CLOSE_FUNC() must set *mod_data to NULL.
Page number of the next source page to copy
Pager state (OPEN, READER, WRITER_LOCKED..)
Perform a read or write operation on a blob
Performs an Invoke on the given com object.
Perl-Compatible Regular Expressions       *
Pointer to list of ongoing backup processes
Possible values for the sqlite.magic field.
Prior select in a compound select statement
Push a separator to the loop variable stack
Put the new key into this register if not 0
QuadraticBSpline filter, default radius 1.5
Raise an exception if this is not the case.
Rebuild plain (optimized) op_array from CFG
Record the actual number of property lists.
Recursively resolve names in all subqueries
Reg array containing OLD.* and NEW.* values
Register all built-in tokenizers with FTS5.
Remove caseless flag for non-caseable chars
Remove either the OP_OpenWrite or OpenRead.
Remove node pNode from the node hash table.
Remove the FK from the fkeyHash hash table.
Reset the scanner for scanning the new file
Resolve the references in the WHERE clause.
Return 0 for success, non-zero for failure.
Return an integer which is the result code.
Return non-zero if a transaction is active.
Return the  address of the new instruction.
Return the N-th compile-time option string.
Return the current rowid that it points to.
Return true if pTab is a contentless table.
Return true if the given BtCursor is valid.
Returning an error code won't help matters.
Returns false when the are no more messages
Returns the bound socket, or -1 on failure.
Returns true to the fake Closure's __invoke
Rtree virtual table module xConnect method.
Rtree virtual table module xDestroy method.
SEE ALSO XMLRPC_GetValueFaultCode () SOURCE
SNMP_CMD_GET SNMP_CMD_GETNEXT SNMP_CMD_WALK
SQL-style comments from "--" to end of line
SQLITE_UTF8, SQLITE_UTF16BE, SQLITE_UTF16LE
SQLite will not operate with these drivers.
Save execution context in generator object.
Save time/memory when chain isn't specified
Saving the real start pointer is necessary.
See comments below for more detail on APIs.
See if we are dealing with a quoted phrase.
Serialize and store the "structure" record.
Set a bit and maybe its alternate case    *
Set isOrdered to nOrderBy to indicate this.
Set the "use-threads" flag on object pIncr.
Set up the IncrmergeWriter object to do so.
Should not be set in a per-request handler.
Single-script enforcement is on by default.
Size of allocation rounded up to power of 2
So this next line is harmless in that case.
So we use only LockFile() and UnlockFile().
So, we have this declaration here to fix it
Some property combinations also acceptable.
Source-code line that generated this opcode
Space to hold the virtual machine's program
Special processing for WITHOUT ROWID Tables
Special spacing and line-terminating items.
Specify an alternative mutex implementation
Start label for the block-output subroutine
Store its associated 'score' in iBestScore.
String defining the affinity of each column
Structures used by the tokenizer interface.
Substitute the variable and function names.
TBD need to come up with better match here.
THEN at this level acts exactly like PRUNE.
TODO PORTABILITY Coded on RedHat Linux 6.2.
TODO: strlen() may be overriden by mbstring
TUNING: Cost of a unique index lookup is 15
TUNING: Cost of full table scan is (N*3.0).
Table on the left with matching column name
Tables that must be scanned before this one
Temp space sufficient to hold a single cell
Test vectors from FIPS 180-2: appendix B.1.
Test vectors from FIPS 180-2: appendix B.2.
Test vectors from FIPS 180-2: appendix C.1.
Test vectors from FIPS 180-2: appendix C.2.
Textual time units and their abbreviations:
That gives a significant speed improvement.
The B*Tree structure for this database file
The CREATE token that begins this statement
The KeyInfo elements are used sequentially.
The MD5 transformation for all four rounds.
The P2 argument is not used by this opcode.
The WHERE clause for DELETE or UPDATE steps
The above might be initialized to non-zero.
The associated file-descriptor is returned.
The caller must hold the appropriate mutex.
The cell index from which to extract the ID
The cost of the first SMALLEST is O(NlogN).
The delta string should be null-terminated.
The expression that defines the start bound
The first fields of the two keys are equal.
The first list index given out is always 1.
The float won't be larger than 1e15 anyway.
The group the new page cache will belong to
The hash table is cleared before returning.
The hashtable containing the shared values.
The initial handshake is never rate-limited
The interface to the LEMON-generated parser
The main entry point is sqlite3BtreeNext().
The merge engine to advance to the next row
The methods of the json_tree virtual table.
The new page size  is passed in *pPageSize.
The node from which to extract a coordinate
The node may be a leaf or an internal node.
The order of destruction is important here.
The pExpr should be a TK_COLUMN expression.
The pMem object must have been initialized.
The page is left marked dirty in this case.
The page that contains a pointer to pDbPage
The previous paragraph was written in 2005.
The requested memory region does not exist.
The result set must have exactly one column
The return value is undefined in this case.
The right-hand side of the AS subexpression
The root-page of the master database table.
The same info is provided through phpinfo()
The semantic value of the lookahead symbol.
The sizes are encoded as a blob of varints.
The use of objects looks pretty broken here
The value of reqchar doesn't change either.
The wal-index is broken up into 32KB pages.
The xMutexInit() method must be threadsafe.
There is no need for a bitvec in this case.
Therefore, go ahead and free all resources.
These values are for testing purposes only.
This can happen if the database is corrupt.
This can only occur on the second iteration
This file is rewriten specificly for PHPFI.
This index is a superset of the primary key
This is not space efficient for large text.
This is the only way out of this procedure.
This is the start of the next columns hits.
This is ugly, but we have to replace ungetc
This occurs when a DROP TABLE is mentioned.
This results in a segfault for this module.
This routine does the necessary conversion.
This routine is a no-op for virtual tables.
This value can be NULL if zDb is also NULL.
Those  below are for version 2 and greater.
Title text to insert in front of each block
Total number of pages restored from journal
Total time spent executing this instruction
Trash all content in the buffer being freed
Trigger under construct by a CREATE TRIGGER
True after sqlite3_declare_vtab() is called
True for an infix function: LIKE, GLOB, etc
True if UNIQUE and NOT NULL for all columns
True if a m-j name has been written to jrnl
True if resizeIndexObject() has been called
True if sqlite3RowSetNext() has been called
True to copy SQL text into the sqlite3_stmt
True to save SQL text into the sqlite3_stmt
Unless  the database name is "temp" anyway.
Use EXIT_SUCCESS as a witness for stdlib.h.
Use this as a general "out of stream" error
Used for seeking on a phar directory handle
Used for sorting directories alphabetically
Variables for accumulating image statistics
Variables populated based on current entry.
Warning message sent already, just bail out
We have found a candidate table and column.
We have to fetch all data to clean the line
We know there is enough place on the stack.
We'll increment it after all that finishes.
When open_basedir is NULL, always return 0.
Which nested loop of the FROM we are coding
Write out a word to the I/O context pointer
Write the number of rows in the result here
Write the sequence number into register P2.
Write the upper and lower case table sizes.
XXX should be INT_MAX and fetched by pieces
aKey might point into aMap or into aBuffer.
according to the Gregorian calendar system.
add "assert(condition) as assertion message
ah illegal: char after COM section not 0xFF
and it might not be supposed to work at all
apparently some systems don't have this one
ask for a passive connection if we need one
assume success, we would have failed before
assume the type gid_t is the same as uid_t:
automatically defined by SQLITE_ENABLE_FTS4
avoid buffering issues while reading header
be compliant with libmysql - NULL will turn
cache since only current is always required
callback for the passphrase (for localcert)
can jump an entire leap year period quickly
check if size_t can be safely casted to int
check if we have Proxy-Authorization header
column list if this is an UPDATE OF trigger
compute the number of idle process to spawn
create the file if it doesn't exist already
def is not on the root, if allocated at all
do not generate default content type header
end offset of data to read, 0 for up to EOF
eptr is now past the end of the maximum run
events have been triggered, let's fire them
export the PHP object using our COM wrapper
false that CHARSET_PARTIAL_SUPPORT(charset)
flags passed through to sqlite3_vfs.xOpen()
free the query if trans handle was released
gdTcl_UtfToUniChar is borrowed from Tcl ...
handle a buffer containing a compiled file.
hash values are always pred-calculated here
how many output handlers the stack contains
how much room do we need to store the field
if already sorted free memory for tag array
if autoresume is wanted ask for remote size
if we already have a lock, it is exclusive.
if we want to call 16 bit regs AX,BX,CX,...
in this case no array_key_compare is needed
incremental initialization of empty Buckets
initialize static members of internal class
internal error: overran compiling workspace
less restrictive than unicode_cp_is_allowed
maximum string length, worst case situation
modify type to prevent indirect destruction
no extra data - we didn't study the pattern
now catch the FreeBSD style of "no matches"
offset for ifd values outside ifd directory
only one row at a time is supported for now
open and decompress a compressed phar entry
optimization: color is already GC_BLACK (0)
pArray is a pointer to an array of objects.
pCur is always valid so KeySize cannot fail
pDestIdx has no corresponding index in pSrc
pList might be NULL following an OOM error.
pPage and up to NB siblings after balancing
parentheses too deeply nested (stack check)
pass the entire chunk through the converter
paths on windows should be case-insensitive
prevent leak if variables are already bound
registered already, so we insert that first
return JS objects as PHP objects by default
set bits from "bit" to ZEND_MM_BITSET_LEN-1
set the callback for the GET_QUOTA function
set the mask of hint flags for cursor pCsr.
should return NULL, but for BC we return ""
shouldn't happen, but let's be ready for it
slow, would benefit from a struct key hash.
sparc 32 does not support SLJIT_KEEP_FLAGS.
sqlite3_vsnprintf() is the varargs version.
stick that last bit of string on our output
strip brackets from address for getaddrinfo
successful command that did not return rows
tell the driver we just created a parameter
time, imposing no runtime or code overhead.
too many named subpatterns (maximum 10,000)
treat null value as empty string in xmlrpc.
try to allocate tail pages after this block
try to find cached script by full real path
try to lookup the type in the resource list
try to match the buffer mode as best we can
turn off proxy locking - already off - NOOP
uniqueidentifier is a 16-byte binary number
usec to msec, and half the configured delay
we are at the end of the string, so we fail
we expect at least one parameter in varargs
we have 5 32-bit items plus 1 byte at least
we haven't initialized our ctx yet, oh well
wrapper around send/recv to handle timeouts
yyn is the number of a rule to reduce with.
zFilename is the name of the database file.
'reloading' can be overridden by 'finishing'
(C)  The content of every column in the row.
(phar://hi/there/.phar/oops is also invalid)
+ N bytes: Master journal filename in utf-8.
- 4 bytes: Random number used for page hash.
2.0.16: clipping rectangle, not image bounds
A SELECT statement to use as the data source
A buffer to hold the data for the new record
A foreign key is associated with two tables.
A has a read lock and B has a reserved lock.
A range of registers to hold previous output
A row is being removed from the child table.
A transaction must be active for both files.
Actually do the update of the change counter
Add (match, offset) pair to the return value
Add 1 to the reference count for page iPage.
Add a new entry before the current location.
Add an entry in sqlite_master for this index
Add an entry to the name/number table      *
Add the entries to the stat3 or stat4 table.
Additional information associated with pTerm
Address of subroutine to manifest a subquery
Address of the select-A-exhausted subroutine
Address of the select-B-exhausted subroutine
Address register for the output-A subroutine
Address register for the output-B subroutine
Address where integer counter is initialized
All of this is no-op for a production build.
All phrases currently point to the same row.
All values are stored on disk as big-endian.
Allocate and fill in the error_limiter table
Allocate and return a new expression object.
Allocate the buffers used by this operation.
Allocates an ocaml value in the shared heap.
Also fix the pointer map entry for iPtrPage.
An assertion will fail if that is attempted.
An error occurs while attempting a rollback.
Another built-in collating sequence: NOCASE.
Array of registers where record is assembled
As a result, the call to xUndo may not fail.
Begin by allocating the tables we will need.
Begin scannning through the ephemeral table.
Bitvec to ensure pages played back only once
Buffer zTemp: Contains copies of all tokens.
But make pCellData point to the lower bound.
But that is not due to sloppy coding habits.
Cache is valid if this matches Vdbe.cacheCtr
Calculate the local space size on the stack.
Call all extensions post-RSHUTDOWN functions
Called in response to a ROLLBACK TO command.
Change the page number of page p to newPgno.
Check for newline at previous position     *
Check if the requested address space is free
Check that the request matches the signature
Check that this node should not be FTS5_TERM
Clean up the WHERE clause constructed above.
Close resource, but keep it in resource list
Closures can be rebound to a different scope
Collect internal classes with static members
Column names must be nul-terminated strings.
Column number of matching column on the left
Comparison information for duplicate removal
Compile sequence of alternatives           *
Connecting free blocks together if possible.
Consider static variable or MINIT in future.
Contains the branches of a failed condition.
Continuing where we left off in sqlite3rbu.c
Convert UTF-8 to multibyte character string.
Convert multibyte character string to UTF-8.
Convert pMem so that it is of type MEM_Real.
Convert the filename to the system encoding.
Convert to the normal beginning of the year.
Copy data from the log to the database file.
Copy pages from the log to the database file
Copy the overflow cells from pRoot to pChild
Copyright 1998-2007 The OpenLDAP Foundation.
Create and register 'NumberFormatter' class.
Create the statement to insert index entries
Cursor number from which to take column data
Cursor to table into which insert is written
Data for the current row, if all on one page
Database schema version number for this file
Declare 'MessageFormatter' class properties.
Default ON CONFLICT policy for trigger steps
Default permissions when creating a new file
Description of the table we are reading from
Destruct reflector which is no longer needed
Destructor for Mem.z - only valid if MEM_Dyn
Determine if we are dealing with Windows NT.
Determine the number of phrases in the query
Disable the API redefinition in sqlite3ext.h
Do extra syncs of the journal for robustness
Do lazy initialization for buffered results.
Do not allow any cells smaller than 4 bytes.
Double binding of the same zval, make a copy
Double the spawn rate for the next iteration
Drop STR_PTR for non-greedy plus quantifier.
Drop the final space when logging to syslog.
Each will handle 12 bits of the S-box input.
Elements of the linked list at Vdbe.pAuxData
Enable or disable the extended result codes.
End of first segment of main-journal records
End of interface to code in fts5_unicode2.c.
Ephemeral table used for DISTINCT processing
Exact half-way case:  apply round-even rule.
Execute as much of a VDBE program as we can.
Expose Spoofchecker constants to PHP scripts
Expression to pass to authorization callback
Expression tree height of current sub-select
Find (multiple) entries for named string   *
First byte in the packet is the field count.
First memory cell containing the PRIMARY KEY
Flush if anything is left and unbuffered set
For ONCE brackets, that's all we need to do.
Form 2:  Analyze the database or table named
Free the m object and return SQLITE_CORRUPT.
Free the previous value and save the new one
Functions for accessing sqlite3_file methods
GC must be done before reading session data.
GENERATED CODE ENDS HERE (mkportersteps.tcl)
GMT) for the time value p where p is in UTC.
Generate code to return a single text value.
Get a page from the pager and initialize it.
Get the exclusive locks at the system level.
GetVersionEx was first deprecated in Win8.1.
Grab the value part, except for an 'x' reln.
Hence the RELEASE call below can never fail.
Here we clean up any resources we allocated.
However, this is not permitted in this case.
IS AWARE OF THE POSSIBILITY OF SUCH DAMAGES.
Id of this connection within its unixShmNode
If N is out of range, return a NULL pointer.
If an IO error occurs, return an error code.
If an OOM error occurs, return SQLITE_NOMEM.
If either input is NULL, the result is NULL.
If it is END it's the end of the outer call.
If it overflowed, fill field with max value.
If negative, it is a relative backreference.
If no error occurs, *pRc is left unmodified.
If no page gets moved, *piMoved is set to 0.
If not NULL, info on how to process DISTINCT
If not NULL, info on how to process ORDER BY
If not defined, then do no error processing.
If not, do nothing, leaving the EXACT alone.
If the log is not already open, open it now.
If the maximum is unlimited, we use OP_PLUS.
If this happens, return SQLITE_IOERR_RDLOCK.
If value is not specified cookie is removed.
Ignore the MSVC warning about no initializer
Implementation of fts5_source_id() function.
Implementation of the sqlite_log() function.
In the pre-compile phase, do a syntax check.
In these cases we can just copy the pointer.
Include btree.h in the middle of sqliteInt.h
Include mutex.h in the middle of sqliteInt.h
Include pager.h in the middle of sqliteInt.h
Include parse.h in the middle of sqliteInt.h
Include the header file for the Windows VFS.
Include the primary Windows SDK header file.
Index into pNode into which pCell is written
Index of the equality term within this level
Indicate which pass we are on (if interlace)
Initialize the 32-char bit map to all zeros.
Insert a new row into the FTS content table.
Instances are never allocated any other way.
Instead, mark the stream as OK to auto-clean
Invoke xProgress() when nVmStep reaches this
It depends on a particular ordering of TK_xx
It is retained for historical compatibility.
It makes sure you don't walk off the string.
JSON formatted without any backslash-escapes
Jump here if LHS is not contained in the RHS
Just checking that the page is large enough.
Just fill in the content with zeros for now.
Keys are compared by user supplied function.
Keywords include: in1, in2, in3, out2, out3.
Kill temporary time and restore original sse
Label for the end of the overall SELECT stmt
Let's play it safe and admit that's the case
List of columns in pTableName to insert into
Load the next term on the node into zBuffer.
Locate the end of the CREATE VIEW statement.
Logarithm of the number of rows in the table
MINSIZE is the minimum size of a dictionary.
Magic number to detect structure corruption.
Make fts5yytestcase() the same as testcase()
Make sure that the preinit sequence has run.
Make sure the exponent has at least 2 digits
Malloc failed while inserting the new entry.
Mask of function arguments that are constant
Match a back reference, possibly repeatedly.
Maximum depth of an SQLite B-Tree structure.
Maximum local payload in non-LEAFDATA tables
Maximum number of simultaneous paths tracked
Maximum segments permitted in a single index
Memory cell holding key of row to be deleted
Minimum local payload in non-LEAFDATA tables
Move the entry to the top of the linked list
Move the page to the head of the dirty list.
Must be the first member of its descendants.
NOTES SEE ALSO XMLRPC_VectorRewind () SOURCE
Neither is a candidate to replace the other.
Never back out opcodes iFixedOp-1 or earlier
Next with a different name but the same hash
No changes are made to disk by this routine.
No destination, doesn't need to setup flags.
No function of the specified name was found.
No parameters given, default to "return all"
Non-error returns from the match() function.
Non-zero if the rowid or PRIMARY KEY changed
Note 2:  C is only used for STAT3 and STAT4.
Nothing in SQLite requires multiple threads.
Number of cells on this page, local and ovfl
Number of characters so far in this 'packet'
Number of hidden columns if TABLE is virtual
Number of messages written to zErrMsg so far
OCIClientVersion only available 10.2 onwards
Obtain a RESERVED lock on the database file.
Obtain authorization to do a recursive query
Offset to cell content of cell being deleted
Offset to the start of the cell content area
One of the FTSQUERY_XXX values defined below
One particular FROM clause in a nested query
Only built-in memory allocators can be used.
Only happens when no variables are specified
Only pcache.c communicates with this module.
Only virtual tables are written to directly.
Open the sorter cursor if we are to use one.
OpenSSL 1.0.2 removes SSLv2 support entirely
Operands of the opcode used to ends the loop
Or, the freeblock is off the end of the page
Others complain about 0x7ffffffffffffffffLL.
Otherwise, an SQLite error code is returned.
Otherwise, fall thru into the TK_COLUMN case
Otherwise, it is quoted using double-quotes.
Otherwise, just store a copy of the pointer.
Overflow payload available for local storage
P4 is a pointer to an sqlite3_context object
P4 is a pointer to an sqlite3_vtab structure
PARSE_STRING is used by parse_str() function
PRIMARY KEY changed in a WITHOUT ROWID table
PTRMAP_OVERFLOW2: pPage is an overflow-page.
Pages journalled since last j-header written
Pass invalid mode to OCIConnectionPoolCreate
Perform IO (read or write) to an SSL socket.
Perform median-cut to produce final box list
Perhaps the name is a reference to the ROWID
Perhaps use FILE_ID_BOTH_DIR_INFO Structure.
Pointer to database schema (possibly shared)
Pointer to the rightmost select in sub-query
Print tracing information for a SHIFT action
Read the PK into an array of temp registers.
Register holding block-output return address
Register holding rowid of CREATE TABLE entry
Release memory used for the compiled pattern
Release resources associated with connection
Releasing a reader lock or an exclusive lock
Required lock type (READ_LOCK or WRITE_LOCK)
Return 0 if *YYMSG was successfully written.
Return SQLITE_NOMEM if the allocation fails.
Return WRC_Continue under normal conditions.
Return a pointer to a TriggerStep structure.
Return address register for reset subroutine
Return an error code if anything goes wrong.
Return the number of rows that were changed.
Return the number of rows that were deleted.
Return the size in bytes of a PCache object.
Return true if the given Btree is read-only.
Returns 1 if the address is valid, 0 if not.
Returns TRUE on success and FALSE on failure
Returns the value associated to a given key.
SQL functions used for testing and debugging
Same as compile_stmt, but with early binding
Same with OnigEncodingEUC_KR except the name
Second part of the name of the table or view
See also comment in file.c php3i_get_le_fp()
See function fts5TrimSegments() for details.
See other comments in this file for details.
Seg:Displacement addr (ptr16:16 or ptr16:32)
Set an Fts3SegReader cursor to point at EOF.
Set bits for a negative character type     *
Set bits for a positive character type     *
Set the JsonString object to an empty string
Set the cursor upper and lower rowid limits.
Set to non-zero if we are the parent process
Shortened table list or OR-clause generation
Single character search can shortcut memcmps
Size in bytes of each node in the node table
Size of previous chunk in Mem3Block elements
Skip past it if it is a separator character.
Smallest sample larger than or equal to pRec
Something has moved cursor "p" out of place.
Space for aKey if aBuffer and pMap wont work
Start a write transaction on these databases
Start of unicode61 tokenizer implementation.
Statements created by rbuObjIterPrepareAll()
Store result as data with an automatic rowid
Store rise and set times - as Unix Timestamp
Store the boolean complement in register P2.
Store the integer value from a VFP register.
Store the result as data using a unique key.
Stream wrapper stat implementation of stat()
Suppress "unused parameter" compiler warning
Sync the database file for the pager pPager.
THERE IS NO WARRANTY - USE AT YOUR OWN RISK.
TODO(hyangah): check that main.main can run.
TODO: ensure that persistent procs will work
TRUE is also returned if the table is empty.
Table of sizes for the fixed-length opcodes.
Tables that are indexable, satisfying case 2
Take an EXCLUSIVE lock on the database file.
Takes a string or an instance as an argument
Terminate token and skip trailing separators
That case is handled by the calling routine.
The "SRT" prefix means "SELECT Result Type".
The DIR typedef is not compatible with Unix.
The IDLIST appears in the pColumn parameter.
The RowSet object is a collection of rowids.
The SAPI interface should use 'const char *'
The SELECT statement containing the ORDER BY
The SPILLFLAG_OFF case is a user preference.
The SRT_ operation to apply to prior selects
The Table structure pTable is really a VIEW.
The VDBE already created by calling function
The blocking transaction has been concluded.
The cell should normally be sized correctly.
The database page the PENDING_BYTE occupies.
The error is stored in the pParse structure.
The error will be caught and reported later.
The first nOBSat columns of the previous row
The highwater mark is adjusted if necessary.
The iLimit register is initialized to LIMIT.
The index (1-based) of the term out of range
The index of the database "xxx" is returned.
The initial size of the Win32-specific heap.
The key is pKey,nKey and the data is "data".
The maximum size of the Win32-specific heap.
The pattern pointer (ptr) is on the bracket.
The position could have changed, recalculate
The remaining opcodes are just skipped over.
The result is written into the pMem element.
The routines defined here are place-holders.
The table from which records will be deleted
The table from which we should delete things
The unlock-notify callback is not reentrant.
Then this routine is called for each column.
There is no rowid btree for a WITHOUT ROWID.
These sizes can also contain special values.
This allows use of ftps:// and https:// urls
This block stores the checksum in ctx.cksum.
This can be used for debugging and analysis.
This feature is used to implement "EXPLAIN".
This file is all you need to compile SQLite.
This is a change as of SQLite version 3.5.0.
This is believed to be the year of creation.
This is not required if bCommit is non-zero.
This is the xExprCallback for a tree walker.
This is used for testing and debugging only.
This is what the Go code expects on failure.
This may trigger a real write to the stream.
This removes the index b-tree entries  only.
This routine is called when a commit occurs.
This routine shifts that operator over to B.
This subclass is a subclass of sqlite3_file.
This subroutine first looks at the iUseFlag.
Time when query started - used for profiling
Total number of ordered columns in the index
True for one-pass algorithm without the FIFO
True if iRoot is the root of an index b-tree
True if internal intKey page (thus w/o data)
True if the AUTOINCREMENT keyword is present
True if the insert is likely to be an append
True if the loop has UNIQUE NOT NULL columns
True if the node needs to be written to disk
True if this expression is entirely deferred
True if uppercase is equivalent to lowercase
True if we acquired a PENDING lock this time
Try to get the dll name from the environment
Under BSD, emulate fopencookie using funopen
Unfortunately, both are within their rights.
Update contexts for converter error handlers
Update the wal-index header to reflect this.
Use the foreground thread for this operation
Used to verify lookaside not used for schema
VDBE cursor that is the main data repository
Value of julianday('now') for this statement
We do a variant of Knuth's algorithm D (vol.
We have an equality constraint on the rowid.
We must not request TSRM before being booted
We pass this on to our PHP listeners, if any
We should still be on the same signal stack.
We will either leak or give nirvana pointers
Write any error message text into *pzErrMsg.
Write number of errors seen to this variable
Write the database source cursor number here
XXX we assume that zend-zval len has 4 bytes
Zero from this point onwards on cursor reset
accept string type since Oid is unsigned int
accommodate valid FQDN entries ending in "."
add serialized data to method call/response.
all other types have corresponding php types
and return an error if we've taken too long.
append bytes to the end of a dynamic pointer
as is the end, so the line misses the window
buffered result sets don't have a connection
calculating length is more complicated here.
called by PDO to clean up a statement handle
change "to" into new object (from "object" )
check for jumps into the middle of try block
code is not necessarily a unicode code point
compatibility with older versions of libtidy
copy the part of the string before the match
create wbmp ----------- create an empty wbmp
delete the converter if it is the last feed.
don't include : before ipv4 unless it's a ::
end the array with NULL in order to parse it
find a top level directory we need to create
find out what kind of statement was prepared
find the number of actually passed arguments
first we add the date and time in ISO format
fsync'ing is something completely different.
get marker byte, swallowing possible padding
get pixel value and index into the histogram
hex string, under UNIX strtod() messes it up
if it's a shadow - go to access it's private
if no children, then must be a scalar value.
if there is data in the buffer, it's not EOF
if there's no ob active, ob has been stopped
isCommit flag passed to sqlite3PagerMovepage
it appears that the username is always first
last two of each plane (nonchars) disallowed
local consoles cannot disconnect, ignore EOF
localeconv doesn't return an error condition
make sure that the temporary file is removed
map parser errors to standard xml-rpc errors
min and max variables can't be used together
named or open cursors should be closed first
next: check for conflicts with current class
no need to perform a real lock at this point
now attemmpt to get the exclusive lock range
now insert a "." before the last / character
now keep track of the actual new text length
now set val to be the key param and continue
object properties should include no integers
or the load of functions from the DLL failed
otherwise, we are going to bypass the buffer
pCell might point to some temporary storage.
pc is measured in bits for monochrome images
pcache1FetchWithMutex() is the general case.
pos:     Token offset of token within input.
pre-allocate for string length plus 2 quotes
read only funcs for iterating through queue.
refer to the Sun's center or its upper limb.
report errors via handler rather than stderr
return a string matching a given xmlrpc type
return empty string to denote no match found
return the allocated string, not a duplicate
some leading directories may be unaccessable
substitute __COMPILER_HALT_OFFSET__ constant
table_name is escaped by php_pgsql_meta_data
these are used to get the standard arguments
this link doesn't have a default transaction
this short-circuits us out of the recursion.
this should modify object only if it's empty
to silence an erroneous warning about bc.nd0
transform the db path to a unique cache name
try to evaluate if thumbnail data is present
use the configured timeout when checking eof
validate and compute length of output string
variable number or class name literal number
volatile so we can gdFree them after longjmp
we always consume all the data passed to us.
we don't care about the server's credentials
we release the columns at the end of a fetch
xCommit():   Final part of two-phase commit.
zFilename encoded in UTF-8 instead of UTF-16
zMasterName is the name of the master table.
zend_call_function may change args to IS_REF
"LogEst" is short for "Logarithmic Estimate".
"db" is a pointer to the database connection.
"sz" must be the number of bytes in the cell.
'normal' can be overridden by any other state
'ssHandle' is not a struct/union/class member
(c) 2007,2008 Andrei Nigmatulin, Jerome Loyet
-********************* Begin Time Functions *
1MB is default stack size for 32-bit Windows.
2MB is default stack size for 64-bit Windows.
8 NULL means undefined and should be ASCII...
8-bit sign-extended immediate in jump or call
@param target      Where to place the result.
A Lempel-Zim compression based on "compress".
A MATCH constraint against the "rank" column.
A NULL pointer is put on the end of the list.
A bitfield type for use inside of structures.
A direct lookup on the rowid or docid column.
A fake table from which we get the result set
A new context is allocated on the first call.
A parameter used by the eDest disposal method
A regular INSERT, UPDATE or DELETE statement.
A single WAL file can be used multiple times.
A sorting index used to test for distinctness
Add characters not in a list to a class     *
Add predecessors of changed block to worklist
Add the sign if we've seen at least one digit
Address of trailer block of previous segment.
Adjust OP_RECURSE items in repeated group   *
Again, keep the UTF-8 and UCP stuff separate.
All leaf  blocks have already been traversed.
All operations move the code pointer forward.
All states beyond this must be 'body' states.
Allocate a buffer in which to accumulate data
Allocate an instance of struct Wal to return.
Allocate combined header + user data storage.
Allocate or grow the PendingList as required.
Allocate sessionpool out of persistent memory
Allowed values for sqlite3_userauth.authLevel
Already thrown the error if VDBE alloc failed
Also check that the page number is in bounds.
And LIKE does not have the matchSet operator.
And do not RELEASE the statement transaction.
And many do not understand the "LL" notation.
Apparently invariant, left over from compress
Append a message to the error message string.
Append a new table name to the given SrcList.
Append the table key to the end of the index.
Argument to the deferred sqlite3BtreeMoveto()
Arguments are in their appropriate registers.
At one point this code was not commented out.
Attach the temporary database as 'vacuum_db'.
Bitmask of all WhereLoop objects in this path
Bitmask of all indexable tables in the clause
Both *pMem1 and *pMem2 contain string values.
By default darwin/arm processes start in "/".
By scanning and tokenizing the content table.
Byte offset of end of token within input text
CHECK_EXTRA_REGS migh overwrite these values.
CJK Compatibility Ideographs: U+F900 - U+F92A
COLLATE function from an ORDER BY clause term
CURSOR_VALID: Cursor points to a valid entry.
Calculate an IDF for each phrase in the query
Call sqlite3WalOpen() to open the WAL handle.
Call the value from the second bullet "nRec".
Calling the macro again restores the address.
Capturing brackets has a pre-allocated space.
Changes the signal mask of the calling thread
Character values not kept over RMATCH() calls
Check if this zval could be dtor()'ed somehow
Check the next character by Unicode property.
Check to see if defragmentation is necessary.
Checkpoint sequence counter in the wal-header
Cleanup static data for functions and arrays.
Column number of matching column on the right
Commit the transaction currently in progress.
Compares a filename or pathname to a pattern.
Connect to or create a statvfs virtual table.
Constants to be used with ldap_modify_batch()
Convert ubuf to UTF-8 and try text soft magic
Copy of "flags" passed to sqlite3_blob_open()
Copy of BtShared.maxLocal or BtShared.maxLeaf
Copy of BtShared.minLocal or BtShared.minLeaf
Copyright (C) 1991-2, RSA Data Security, Inc.
Create a divider cell to insert into pParent.
Create and register 'MessageFormatter' class.
Create the PATH if it does not already exist.
Create transient tab and store like SRT_Table
DISABLE_CASE_FOLD_MULTI_CHAR(case_fold_flag),
Declare 'IntlDateFormatter' class properties.
Decoding the needs_control_head in framesize.
Deferred tokens have not yet been considered.
Define the storage for the packet accumulator
Definitely not nice, _hackish_ :(, but works.
Deinitialize the memory allocation subsystem.
Delete all the content of a Select structure.
Delete any auxdata allocations made by the VM
Delete the cell at index iCell of node pNode.
Destination to place the compressed data into
Determine the BM25 score for the current row.
Determine the current size of a file in bytes
Determine whether we should code this trigger
Disallow making an inherited method abstract.
Do a deep comparison of two expression trees.
Do some black magic with the NT security API.
Don't move this to previous of parse_subexp()
Each segment has a unique non-zero 16-bit id.
Easter as the number of days after 21st March
End of interface to code in fts5_tokenizer.c.
End of the loop over all rowids/primary-keys.
Every class contains at least two characters.
Expanded data source object for gdIOCtx input
Extended floating point R/M field with opcode
Extract the smallest element from the RowSet.
Failing to match means the assertion is true.
Fall back to creating a generic socket stream
Fetch metadata from Postgres system catalogue
Figure out the effective temporary directory.
Find first set of multiple named strings    *
Flags does not set: BIN_IMM_EXTS unnecessary.
For O the error has to be thrown in __wakeup.
For each pipe, find an instruction that fits.
Force next pass to zero the color index table
Force xDisconnect calls on all virtual tables
Forward references to structures used for WAL
Fully qualified names are always default refs
Functions used to truncate the database file.
Generator return types are handled separately
Get a bit from CR, all other bits are zeroed.
Get function parameters and do error checking
Guess since FTP won't expose this information
Handler for proxy-locking file-control verbs.
Handling capturing brackets and alternatives.
However, we can give a message for this error
I've generalized GMST0 as well, and define it
I386/486 - Disassembler and related functions
If JSON or PATH is malformed, throw an error.
If an error occurs while doing so, ignore it.
If do_bind is true, update any bound columns.
If either input is  NULL, the result is NULL.
If it does, record the new maximum blob size.
If new nodes are appended *pApnd is set to 1.
If no destructor action specified: do nothing
If non-zero, increment the row change counter
If not NULL: boolean for each table and index
If pTree  has no parent, one is created here.
If positive, it is an absolute backreference.
If so, and there are active VMs, return busy.
If that fails, try it as an SUS integer type.
If the command failed, output an explanation.
If the database has changed, flush the cache.
If they are zero, they must not be registers.
If this leaves 0 positions, zero is returned.
Implementation of the changes() SQL function.
Implements: IStream* wrapper for PHP streams.
Impose the anti-aliased drawing on the image.
In ARM, we don't need to touch the arguments.
In PPC, we don't need to touch the arguments.
In this case, do not set the no-content flag.
Include btreeInt.h in the middle of btmutex.c
Include hwtime.h in the middle of os_common.h
Include os_common.h in the middle of os_win.c
Include os_win.h in the middle of mutex_w32.c
Include pcache.h in the middle of sqliteInt.h
Indicates an exclusive lock has been obtained
Info about index keys needed by index cursors
Insert a new cell on pPage at cell index "i".
Interpret the given string as a safety level.
It has to be a real table with multiple rows.
It is only  passed to keep OP_OpenRead happy.
It is simply a matter of writing a transport.
It is the caller's responsibility to free it.
It never attempts to read or write that page.
Iterator for looping through Pager.aSavepoint
Jump to this label on an OE_Ignore resolution
Keep to zero when no symbol should be popped.
Keep track of the maximum allocation request.
Launch a background thread for this operation
Launch a background thread to run xTask(pIn).
Leaving a corrupt image in the database file.
Linked list of all foreign keys in this table
List to scan and in which to make substitutes
Locate the cursor number of the Current table
Location of current replacement in the result
Loop through the tables in the main database.
Lowercase constant name in a separate literal
Make sure the mutex subsystem is initialized.
Mapping of columns in pFrom to columns in zTo
Mask of the bit in sqlite3.flags to set/clear
Maximum number of pages in one database file.
Maximum pathname length (in bytes) for Win32.
Maximum pathname length (in bytes) for WinNT.
Maximum pathname length (in chars) for Win32.
Maximum pathname length (in chars) for WinNT.
Memory cell used to implement LEFT OUTER JOIN
Merge engine containing PmaReaders to compare
Might happen if EMPTY_RESULT_CALLBACKS are on
Modify this pointer so that it points to iTo.
Most new allocations occur off of this chunk.
Name of the collating sequence, UTF-8 encoded
Name of the constraint currently being parsed
Name of the table into which we are inserting
Needed to save important temporary registers.
No aggregate functions and no GROUP BY clause
No further checks necessary, most common case
No index is created for INTEGER PRIMARY KEYs.
Non-zero if this is a v-tab with an xRename()
Normal connections use existing pconnections.
Not every statement has a result set attached
Now that we've permuted things, complete f().
Number of ORDER BY terms satisfied by indices
Number of leaves on the trunk of the freelist
Number of nested calls to sqlite3BtreeEnter()
Number of remaining savepoints after this op.
Number of right-hand side symbols in the rule
Number of subqueries that the label is moving
Number of times this instruction was executed
Number of zero bytes at the end of the record
ON DELETE and ON UPDATE actions, respectively
ORA-12154: TNS:could not resolve service name
OUT: Jump to this label to skip partial index
OUT: Sum of PCache1.nMin for purgeable caches
Offset to the start of the cell pointer array
Olympus has this padded with trailing spaces.
Open a directory handle within a phar archive
Open file handle on the write-ahead log file.
Or if any argument is a BLOB, throw an error.
Otherwise further processing may be required.
Otherwise see if some other process holds it.
Otherwise, ParseContext.isNot is set to zero.
Otherwise, an SQLite error code is  returned.
Otherwise, the samples would be out of order.
P4 is a pointer to BtreeNext() or BtreePrev()
Palette image, or something coerced to be one
Parameter iDocid is the docid of the new row.
Parameter regNew is passed zero in this case.
Parents of root pages return 1, and so forth.
Point the object iterator at the first object
Pointer to BtShared that this page is part of
Pointer to data for string (char array) types
Possibly, skip spaces/tabs at the end of line
Print an IOTRACE message showing SQL content.
Private flags added to firstchar and reqchar.
Query a blob handle for the size of the data.
RBU_PK_WITHOUT_ROWID: Table is WITHOUT ROWID.
RTD key is placed after lcname literal in op1
Range between -1 and -32768 is covered above.
Reads the character into TMP1, keeps STR_PTR.
Real value used when MEM_Real is set in flags
Really complex instruction form for branches.
Rearrange the actual queue into correct order
Reclaim all memory of a Stat4Accum structure.
Record the set of tables that satisfy case 3.
Release any memory resources held by the Mem.
Resolve the column names in the WHERE clause.
Result of the comparison of pIn1 against pIn3
Return SQLITE_OK if everything is successful.
Return a boolean value for a query parameter.
Return a pointer to the vxworksFileId object.
Return address register for output subroutine
Return code from sqlite3_create_collation_x()
Return early in this case as an optimization.
Return number of characters processed so far.
Return the database associated with the Vdbe.
Return the full pathname of the journal file.
Return the register where results are stored.
Return true if index X is a PRIMARY KEY index
Returns true if it succeeded, false otherwise
Round nByte up to the next valid power of two
Rowid is stored in this register, if not zero
Rtree virtual table module xBestIndex method.
SCALE_MIN is the minimum scale of the result.
SEE ALSO XMLRPC_GetValueFaultString () SOURCE
SELECT used to determine types and collations
Sanity checks should be handled by pcre_exec.
Saved key that was cursor last known position
Scan compiled branch for non-emptiness      *
Scan compiled regex for auto-possession     *
Scan compiled regex for non-emptiness       *
Scan compiled regex for specific bracket    *
Scan further character sets for match       *
Second parameter (often the jump destination)
See convertToWithoutRowidTable() for details.
See the Lt opcode for additional information.
Seems we have 3 bytes reserved for future use
Set the soft heap-size limit for the library.
Setting this up requires a two pass approach.
Setup Main Loop to build a long enough result
Single character types set the bits and stop.
Skip property freeing for the following types
So no other connection may be writing the db.
So, we do this code for all non 11g versions.
Space to hold MJ filename from a journal file
Special case: ext/date wasn't initialized yet
Start of subroutine that outputs a result row
Step one, copy the live values in a new heap.
Store the index column value in this register
Store the token that zCsr points to in tname.
String, possibly obtained from sqlite3_malloc
Strip slashes which came before the file name
StructurePromoteTo() is a no-op if it is not.
Suppress errors if the trigger already exists
Swap all content between two VDBE structures.
TODO: we should assign a name for the mapping
Table of an index whose exprs are being coded
Table of class bit maps for each POSIX class.
Temp storage must have already been allocated
Text encoding - one of the SQLITE_UTF* values
Text of the SQL statement that generated this
The SELECT statement with the ORDER BY clause
The SET clause: list of column and new values
The TEST primitive includes a "batch" number.
The btreeCursor() routine enforces that rule.
The buffer is obtained from sqlite3_malloc().
The caller guarantees that nByte is positive.
The cell content is not freed or deallocated.
The code does, however, check for an overrun.
The columns to change in the UPDATE statement
The current token did not end with e.g. a "."
The default relocation type for this operand.
The delay increases linearly with each retry.
The entire doclist will not fit on this leaf.
The entire poslist will not fit on this leaf.
The existence of the to-table is not checked.
The expression that is the result column name
The following assert verifies that we do not.
The index entry must begin with a header size
The left part of the FROM clause already seen
The location of the column value is returned.
The next index associated with the same table
The node into which the cell is to be written
The number is in base 10, do it the fast way.
The output values are undefined in this case.
The point is past an end of the line segment.
The pointer points at a child  page of pPage.
The prefix should normally always be present.
The rest apply in both UCP and non-UCP cases.
The returned value is undefined in this case.
The test for this is misc/cgo/testsanitizers.
The use of the "v2" interface is recommended.
The value extracted is stored in register P3.
The value is the number of slots in the list.
The void* argument points at a Schema struct.
There might not be any such table and column.
These are used by GetDiskFreeSpace otherwise.
These recognize specific lists of characters.
These two are defined as macros in both cases
They're not to confuse with the NTFS streams.
Things get more disgusting on OS X 10.7 Lion.
This adjustment is more than an optimization.
This bad handling is also in mysqlnd_result.c
This case does not come up very often anyhow.
This code runs once to initialize everything.
This flag affects the RC() and OERC() macros.
This function is only called from two places.
This happens before constraints are verified.
This is a class that must be abstract itself.
This is hit if -k is set or there is no match
This is intended to be used within debuggers.
This is the approximate beginning of a month.
This is the xEof method of the virtual table.
This is where the data ends up after the copy
This routine is added to support DBD::SQLite.
This routine just deletes the data structure.
This seems crazy, so PCRE now gives an error.
This virtual table always does a linear scan.
Tokenize some text using the ascii tokenizer.
Translate JSON formatted string into raw text
True globals, written only at process startup
True if cell coverage checking should be done
True if field width constant starts with zero
True if outer SELECT uses aggregate functions
True if pStart obtained from sqlite3_malloc()
True if resolving names in a CHECK constraint
True if the subquery uses aggregate functions
Try to get by with floating-point arithmetic.
Try to increase the size of the parser stack.
Two or more indexes share the same root page.
Use the VFilter and VNext to access the data.
Use the standard default temporary directory.
Used for accessing the elements of the stack.
Used only when SQLITE_NO_SYNC is not defined.
Used only when debugging GIF compression code
We already checked for plain function before.
We assume the buffer is at least ndigit long.
We change the repeat type to the non-default.
We do not need to ping brand new connections.
We don't have 'http://' so we use docref_root
We got a bad exponent ('e' and maybe a sign).
We have a data character whose value is in c.
Where 0 stands for Sunday, 1 for Monday, etc.
Will become the return value of this function
Word or int32 R/M field with op code (/digit)
Work around a bug in headers on Digital Unix.
Works for true color and palette based images
Write the referenced table column number here
Write the referenced table cursor number here
XXX completely not sure it is done right here
XXX: Should be fine to always read chunk_size
_zip_dirent_write Writes zip directory entry.
are generated only when PCRE_UCP is not* set.
assume it works if the file doesn't exist yet
assume tar format, PharData can specify other
avoid problems if someone mis-uses the stream
by-ref constraints on arguments are invariant
can be done before mapping, they're invariant
check if bound parameter is already available
check if there are only NOPs under the branch
check to see if the connection is still valid
concatenate all adjacent text and cdata nodes
copy a maximum of nBuf chars to output buffer
delete all bucket blocks except the first one
delete all data segments except the first one
des submitted this bugfix: gdFree the memory.
don't run the output handler if it's disabled
facility: type of program logging the message
find value for entry in hash, -1 if not found
free some cached chunks to keep average count
from postgresql/src/include/catalog/pg_type.h
get the collection type code of the attribute
guarantee we have at least 40 bytes to write.
hackish cache in php_stat needs to be cleared
i.e. put everything back the way we found it.
iColumn matches a term of the ORDER BY clause
if we don't have a user defined error handler
ignore autoresume if autoseek is switched off
inet_ntop should be used instead of inet_ntoa
insert serialized variable into shared memory
key points to PS(id), but cannot change here.
match data(str - end) from position (sstart).
mx:    Maximum number of bytes to accumulate.
nByte is the number of bytes of space needed.
nData: Bytes of data written since iRowidOff.
never use a timeout with non-blocking sockets
newly added (partially filled) entry or error
no / detected, restore arch for error message
no creating magic phar files by mounting them
no need of looping because indexes are unique
not a transliterator object as first argument
now copy the actual file data to the new phar
number of distinct keys less than this sample
omit notice if resource doesn't exist anymore
once added, assume that classes are stable...
only bother to open temp file if we have data
only if *not* interactive and while executing
output any remaining alerts at E_NOTICE level
output variables in select, select for update
pExpr is an operand of a comparison operator.
pName is the name of the table to be dropped.
recall how many parameters have been provided
reset bits from "bit" to ZEND_MM_BITSET_LEN-1
reset so we can copy the compressed data over
return byte length of converted char to lower
return byte length of converted to lower char
set special stream stuff (enforce exact mode)
sometimes we may need to free 'node' variable
successor block number if a condition is true
swap buffers, unless this is the last handler
the length(X) function if X is a blob, and 3.
this IS_FALSE actually means it's a BOOL type
this is a small sample script to use libmbfl.
transfer this metadata to the entry it refers
try to figure out the charset from the locale
unconditionally keep this for later reference
unwrapped is now the dispatch pointer we want
va_copy() is __va_copy() in old gcc versions.
we have desired string in buffer, just use it
we're about to hit image data, or are at EOF.
will be incremented by zend_hash_update_mem()
xRowid: Returns the rowid of the current row.
zval to struct msghdr, version for recvmsg().
"Adobe Photoshop Document Data Block": 8BIM...
(7)  zero padding out to the next sector size.
+build cgo +build linux +build mips64 mips64le
- comprehensive API for manipulation of values
0x0 filler sent by the server for 5.0+ clients
2.0.1: work around a gcc bug by being verbose.
@return zval* Number if str is numeric string.
A MATCH constraint against the special column.
A flag to indicate when processing is finished
AccessCheck() requires an impersonation token.
Add all table columns to the PRIMARY KEY index
Add terms to the ORDER BY clause as necessary.
Additional constants for use with loading html
Address of OP_OpenEphemeral opcode for tabTnct
After initialization, this table is read-only.
After the jump, register P1 becomes undefined.
All bits are clear when the bitmap is created.
All branches in the assertion failed to match.
All examples A through E above satisfy case 3.
Alloc a power of two greater or equal to nExpr
Allocate and populate the Fts3Table structure.
Allocate space for the new multi-seg-iterator.
Allocate space for the new sqlite3_shm object.
Already know there are no Implicit Result Sets
Also the initial delay before the first retry.
An OE_ code for handling a NOT NULL constraint
An SQL NULL is  equivalent to an empty rowset.
An array of names of all compile-time options.
An array to hold ranges for combining classes.
An invalid journal file cannot be rolled back.
Analyze the right-child page of internal pages
And XOR with the next 8 characters of the key.
And of course this will affect backup programs
And that error has been propagated ever since.
Any such actions result in undefined behavior.
Apply locks to this open shared-memory segment
Argument zMaster may point to Pager.pTmpSpace.
Argument zRbu is the path to the RBU database.
Arguments to currently executing user function
At this point there are two possibilities:  1.
At this point we can freely use all registers.
Base register of data during check constraints
Both are UTF16, but with different byte orders
Boutell almost a simple global replace from T.
Build CFG, Step 2: Build Array of Basic Blocks
Build CFG, Step 4, Mark Reachable Basic Blocks
But do not delete the JsonParse object itself.
But that functionality is no longer supported.
Can be removed, when we remove the ini setting
Cancel a prior call to sqlite3_auto_extension.
Cannot transition directly from MEMORY to WAL.
Canonical data cursor (main table or PK index)
Change the error string stored in Vdbe.zErrMsg
Change the page size used by the Pager object.
Check for SERVER_STATUS_MORE_RESULTS if needed
Check if keep-alive connection is still opened
Check if script may be stored in shared memory
Check if the guy tries to do a -: kind of flag
Check that the blob is roughly the right size.
Check that the hwm handling hasn't gone wrong.
Check to make sure we have a valid db pointer.
Check to see if the range is in reverse order.
Checks whether a partial matching is occurred.
Clean all parts that can contain run-time data
Clear the hash table containing pending terms.
Close the open database handle and VFS object.
Code the OP_Program opcode in the parent VDBE.
Concat script_name and path_info into php_self
Convert the combining class code from decimal.
Copy named captured string to given buffer   *
Copy named captured string to new store      *
Copy this data into the  destination database.
Copyright (c) 1997-1998 Sun Microsystems, Inc.
Counter to prevent infinite loop of reprepares
Create and register 'IntlDateFormatter' class.
Create uninitialized SSA variables for each CV
Creates an index in data_transfer_insts array.
Cursors are destroyed using the xClose method.
Data(1) comes from register P1+1 and so forth.
Database connection associated with this table
Database connection currently using this Btree
Delay closure destruction until its invocation
Delete all indices associated with this table.
Disable nuisance warnings on Borland compilers
Disable possible output compression for images
Dispatched by RINIT and by php_session_destroy
Doug Claar: watch out for NaN in atan2 (2.0.5)
Dump any newly flushed data to the read buffer
Each trunk page points to multiple leaf pages.
Eat any UTF-8 BOM we find in the first 3 bytes
Ephemeral table holding all primary key values
Error code from journal finalization operation
Error if integer primary key greater than this
Error reporting is already done by stream code
Every lock should have a corresponding unlock.
Everything after this point is just test code.
Extend the logical size if we seek beyond EOF.
F: Old-style sqlite3_rtree_geometry_callback()
Failed to open the file for read/write access.
Figure out how many new bytes are in this term
Finally,  rollback pages from the sub-journal.
Find the firstest rowid any synonym points to.
Find the minimum subject length for a group  *
Find the molad of Tishri closest to this date.
Find the square root using Newton's algorithm.
Find variables that may be only LONG or DOUBLE
First Mem address for storing current GROUP BY
First check for parentheses nested too deeply.
Flags originally passed to sqlite3WhereBegin()
Flags passed to the sqlite3ExprDup() function.
Flush all currently outstanding nodes to disk.
For compatibility we just ignore this setting.
Form 3: Analyze the fully qualified table name
Format the number using a fixed-length buffer.
Free store obtained by get_substring_list    *
Function lower() converts to lower-case (abc).
Functions generated by lemon from fts5parse.y.
GENERATED CODE STARTS HERE (mkportersteps.tcl)
Get and print the digits of the fraction part.
Get function parameters and do error-checking.
Get the actual size of the TokenUser structure
Handle extra flags for this index, if not NULL
Handle for sqlite3DbMallocZero() (may be null)
Handle partial matches - disable any mark data
Hashing function for the aHash representation.
He was a dear friend, and I miss him terribly.
Head back to Friday if we stop on the weekend.
How many times to run PHP scripts before dying
However the ON CONFLICT clauses are different.
ICU ResourceBundle has no clone implementation
IN/OUT pointer to a pointer to a define handle
INDIRECT element may point to UNDEF-ined slots
IN_INDEX_NOOP       - No cursor was allocated.
If a rollback is needed, then do the rollback.
If an error occurs, set *pRc to an error code.
If an error occurs, then *ppPage is undefined.
If an error occurs, this routine returns NULL.
If either operand is NULL, the result is NULL.
If it can't find anything, we have to give up.
If it is not, return with PCRE_ERROR_BADMAGIC.
If not, store an error in the Parse structure.
If only 2 instrs, and in Y-mode, insert a nop.
If running outside of VTune remove the remark.
If size was given take minimum of len and size
If so, call the  xBegin method for that table.
If sqlite3BtreeDropTable was called on page 1.
If the free-list must be searched for 'nearby'
If the insert is successful, return SQLITE_OK.
If the load failed, it must not be a PNG file.
If true, fsync() directory after deleting file
If true, pretend pTab contains all NULL values
If user asks for ordered dither, give him F-S.
If we have more than 2 NOPS then JMP over them
Implementation of API function xQueryPhrase().
In all case we no longer have a previous item.
In any event, remove the block from the chain.
In the actual compile, there is nothing to do.
In the second phase this is a sufficient test.
In this case the returned value is  undefined.
Include fts3_hash.h in the middle of fts3Int.h
Include os_common.h in the middle of os_unix.c
Include sqlite3.h in the middle of sqliteInt.h
Include vxworks.h in the middle of sqliteInt.h
Index into the cache with adjusted pixel value
Index of current sample accessed by stat_get()
Index structure corresponding to u1.zIndexedBy
Internal doclist index nodes are:  Flags byte.
Interpret the argument as a unicode codepoint.
Interpret the given string as a boolean value.
Invert the S-boxes, reordering the input bits.
It is not reset by zend engine, set it to 200.
It is only applied with constant shift counts.
It might be larger that what is really needed.
It returns the address of the allocated chunk.
It will round at 255 as this is unsigned char.
Jump here to continue next step of UPDATE loop
Jump here to continue with the next loop cycle
Keep running the loop until the Queue is empty
Keep track of the number of rows to be deleted
LFS is only supported on Mac OS X 9 and later.
Length is non-zero, we can match real repeats.
Let say it fails as no valid op has been given
Let the first unused slot be at index iUnused.
List of Table objects to delete after code gen
List of locks held on this shared-btree struct
List of other sharable Btrees from the same db
Live ranges have to be sorted by "start" field
Log base 2 of minimum allocation size in bytes
Look at lines above and below and start paints
Make *pzErr point to any syntax error in zPath
Make no changes if mxPage is zero or negative.
Make sure every page in the file is referenced
Mapping of bundle issue slot to assigned pipe.
Messages marked DEAD below are no longer used.
Mode can be PCRE_STUDY_JIT_COMPILE and others.
Must allocate a new entry in the literal pool.
NULL is used for the default character tables.
Name of the database containing table, or NULL
Name of the file containing the BTree database
New binary node to insert into expression tree
New fields may be appended in figure versions.
No DISTINCT keyword and no aggregate functions
No index cursor is opened at this time though.
Not UTF-8 mode, or character is less than 127.
Nothing to do at end-of-loop for a single-pass
Now, if number mappings exist, write them out.
Number of DNS Types Supported by PHP currently
Number of backup operations reading this btree
Number of columns in one row of the result set
Number of elements in regKey for WITHOUT ROWID
Number of memory locations currently allocated
Number of pragmas: 60 on by default, 73 total.
Numeric constants that encode the journalmode.
O+ tracks changes of "include_path" directive.
OP_XCLASS cannot occur in 8-bit, non-UTF mode.
OUT: Number of tokens returned before this one
One element of this array for each open cursor
One of: TK_UNION TK_ALL TK_INTERSECT TK_EXCEPT
Only allow tracing if SQLITE_DEBUG is defined.
Only changes made to real  tables are counted.
Only the best N_OR_COST elements are retained.
Only the following combinations are supported.
Opcode:  Halt P1 P2 * P4 P5  Exit immediately.
Or it can be 1 to represent a 65536-byte page.
Or it returns NULL if JSON is not well-formed.
Or, if P2 is 0, raise an SQLITE_CORRUPT error.
Other brackets simply allocate the next entry.
Otherwise the user wanted to delete the group.
Otherwise, any active savepoints are released.
Otherwise, return an error code to the caller.
Otherwise, we can check only ASCII characters.
P4 is a string obtained from sqlite3_mprintf()
P4 may be a string that is P2 characters long.
PLEASE KEEP THE STRUCTURE OF THIS FILE INTACT.
Page-type flage for the root page of new table
Parameter iPg is the page number of said page.
Perhaps it is best to leave it un-implemented.
Persistent font cache until explicitly cleared
Pointer to the subexpression that is this term
Populate our return value data structure here.
Position in FROM clause of table for this loop
Possessive quantifiers can use a special case.
Print a string containing C character escapes.
Processing continues and no error is reported.
Processing continues and no error is returned.
QQ: Isn't it quite better to call zval_dtor().
REX_W is not necessary (src is not immediate).
Recommended number of samples for sqlite_stat4
Record that it changed in the external options
Register holding return address of addrFillSub
Register the built-in LIKE and GLOB functions.
Registers P1..P1+P3-1 are left holding a NULL.
Release a lock acquired by winceMutexAcquire()
Release the reader lock held while backfilling
Remove if there's nothing to do at request end
Remove newlines and spaces from start and end.
Resolve classes for all precedence operations.
Retry with substituting invalid chars on fail.
Return 1 if the time and date cannot be found.
Return FALSE if the output needs to be sorted.
Return TRUE if a KeyInfo object can be change.
Return WRC_Abort if there is an abort request.
Return the MARK data if it has been requested.
Return the full pathname of the database file.
Return the size of a BtCursor object in bytes.
Return the size of the database file in pages.
Return the total number of pages in the cache.
Return true if the m-value for z is 1 or more.
Returns old property if removed otherwise NULL
Rotate subkeys and do compression permutation.
Rtree virtual table module xDisconnect method.
SCALE_MIN is the minimum scale for the result.
SEE ALSO XMLRPC_GetResponseFaultCode () SOURCE
SQLite code assumes this function cannot fail.
SQLite has a similar macro called ArraySize().
STEP 3:   Loop through the entire memory pool.
Same logic, code as gcc_darwin_386.c:/inittls.
Save profiling information from this VDBE run.
Save the R registers that need to be reserved.
Scan compiled regex for recursion reference  *
Scan definitions for sqlite3_stmt_scanstatus()
Search along zPath to find the node specified.
Second and subsequent calls get processed here
See note about index shifting on OP_ReadCookie
Semaphore functions using System V semaphores.
Separates integer and floating point registers
Set the data pointer in the list entry to NULL
Set to true if constraints may cause a replace
Shared code to read color tables from gd file.
Should be always 0x0 or ERROR_MARKER for error
Should not have any newlines at the beginning.
Should only be used during core initialization
Size flags not allowed for typed instructions.
Skip the "sqlite_altertab_" prefix on the name
So are Unicode property matches, if supported.
So do not go to the disk to fetch the content.
So make the Enter and Leave procedures no-ops.
So we can leave it out when NDEBUG is defined.
So we don't even try to recover from an EINTR.
Some Microsoft compilers lack this definition.
Somewhere on pPage is a pointer to page iFrom.
Special case: a WHERE clause that is constant.
Specify the activation key for a SEE database.
Start a new range before the current location.
Statement number (or 0 if has not opened stmt)
Stop the operation but leave all prior changes
Store string indexes referencing the same zval
Store the results of the setup-query in Queue.
Structure allocated for each backup operation.
Structures used by the virtual table interface
Suppress error messages if VIEW already exists
Symbolic name of this SELECT use for debugging
TODO add persistent_timeout check at PDO level
TODO: add ini entry for always use soap errors
TODO: inline with support for closed resources
TODO: inline with support for incomplete class
TODO: output to stderr is not useful for apps.
The 234 at I is the delta to next docid (357).
The PRIMARY KEY index for WITHOUT ROWID tables
The SQLITE_WSD macro is used for this purpose.
The Schema.cache_size variable is not cleared.
The WhereClause structure itself is not freed.
The blame is not necessarily with GCC, though.
The calling function will set *pRes to 0 or 1.
The code above is the AFP lock implementation.
The code above is the NFS lock implementation.
The collation sequence used by the comparison.
The database containing the table to be locked
The entire segment is stored in the root node.
The first in an array of registers (see above)
The last buffer content is sent to next buffer
The level of the FROM clause we are working on
The maximum length of a TEXT or BLOB in bytes.
The pointer is overwritten with the old value.
The real implementation of xFetch and xUnfetch
The result is the value of the first argument.
The result then would be: nil, nil, nil, A, B.
The second "op" argument is an integer opcode.
The second argument is the major token number.
The string is not necessarily zero-terminated.
The table or view to which the trigger applies
The update hook will be invoked, if it exists.
The valueBytes() routine is a helper function.
There are 6 opcodes numbered from 0 through 5.
There are three possible query strategies:  1.
There is a corresponding leave-all procedures.
These structures are ordered by their address.
They are implemented as macros in sqliteInt.h.
They are replaced by Unicode property escapes.
This "while" is the end of the "do" far above.
This call is a request for the "docid" column.
This final check is done under exclusive lock)
This function is also purely an internal test.
This interface is not for use by applications.
This is a wrapper around sqlite3LocateTable().
This is the central step in the MD5 algorithm.
This module tracks pointers to PgHdr1 objects.
This opcode is initially coded as OP_AggStep0.
This opcode writes that key into the index P1.
This routine is the destructor for the RowSet.
This subquery can be absorbed into its parent.
This time, a result of NOMATCH isn't an error.
Thus, we resort to this not so clever hackery.
Tokenization callback used by integrity check.
Tokens are also used as part of an expression.
Total cost of this path ignoring sorting costs
Transfer the next row in Queue over to Current
Transform this into an alias to the result set
True after xBegin but before xCommit/xRollback
True if looking for a VIEW rather than a TABLE
True if non-integer value was input to the sum
True if statement may throw an ABORT exception
True if the EXPLAIN flag is found on the query
True if the GROUP BY and ORDER BY are the same
True if the OP_Affinity operation has been run
True if there are one or more Incrblob cursors
True once a write-transaction is open on pDest
True when updating a view (INSTEAD OF trigger)
Try and guess for non-wsdl clients and servers
Try to pull the page from the write-ahead log.
Turn a relative pathname into a full pathname.
Undefine some potentially clashing cpp symbols
Unread parts of the buffer must be zero-filled
Update only applies if a base register exists.
Update the pager's copy of the change-counter.
Use of hexdig_init omitted 20121220 to avoid a
Use this for the table cursor, if there is one
Used for loops not involving calls to RMATCH()
Used for non-textual disassembly into structs.
Values for each of the nCol matchable columns.
Verify that the WAL header checksum is correct
Verify we have enough data to match magic type
Wal-index pages  are numbered starting from 0.
We are now at the branch that is to be obeyed.
We have successfully halted and closed the VM.
We ignore non-ASCII first chars in 8 bit mode.
When the SQLITE_IOCAP_SAFE_APPEND flag is set.
With the other traits, we are more permissive.
Works for true colour and palette based images
Write a single frame for this page to the log.
Write meta-information back into the database.
Write the output into this preallocated buffer
Zero the iterator passed as the only argument.
are generated only when PCRE_UCP is *not* set.
at an instant given in d, number of days since
at least one 0xff is needed before marker code
average number of chunks allocated per request
bPrefixIndex: This is only used for debugging.
check if we can reuse exisiting connection ...
code in trail, and vowels unless they separate
conditions cannot be executed by eval()'d code
create an image just big enough for the string
current_section_* are only used during parsing
do not add any magic entries to this directory
do not add/delete without changing size define
error consistently about invalid DES fallbacks
execute plain query (with embedded parameters)
fetch zend object from zval "object" into "to"
first, deal with the crazy/stupid fault format
gd 2.0: true color images can use freetype too
gd 2.0: we support this rather thoroughly now.
get the default value for this key and compare
iReg is a temp register that needs to be freed
if we get here, we don't have a numeric string
if we still have memory then format the origin
io_ss.c  Implements the Source/Sink interface.
just return if the converter is not activated.
look at substr() function for more information
make a copy and push that on the stack instead
make empty directory for .phar magic directory
map driver specific error message to PDO error
mod_data contains data required by PS modules.
mod_data is guaranteed to have non-NULL value.
must understand, sometimes present in headers.
nbytes passed for regularity, maybe need later
no memory, return the same non-interned string
no need to check for length - re2c already did
none of the modes present, use the default one
not initialized but needed for several options
now register the events with the Interbase API
now the rest, first see if it becomes an array
of 'sortKeyBuf' may be changed due to realloc.
one-byte or second or fourth of four-byte char
only re-establish the shared lock if necessary
override path_translated if -f on command line
parse standard "fopen" modes into open() flags
pcre_printint.c should not include any headers
per RFC 3629, UTF-8 can only represent 21 bits
performs registration of introspection methods
previous namespace declarations were bracketed
push some data through the write filter chain.
race condition when multiple threads are used.
recipcert is a CERT for one of the recipients.
result IS_BOOL, it does't have to be destroyed
rfc822_parse_adrlist() modifies passed string.
send_long_data() not called, send empty string
so we don't call the same callbacks ever again
successor block number if a condition is false
supply a name and default to call by parameter
the images are meant to be the same dimensions
this is not really an error, so it is allowed.
this mode only use cageFS, does not use suEXEC
throw out return value and write the signature
trick to control varargs functions through cpp
try to create all the intermediate directories
unspecified in function call, use session-wise
user requested a directory, we must return one
valid as single byte character or leading byte
we are pretending it came from the environment
we have to rebuild HashTable with numeric keys
we might still be _FP but we need fsize() work
we should print if no more space in the buffer
we'll let any ol element with children through
xSync():     Initial part of two-phase commit.
zOut is at least big enough to hold nIn bytes.
zip_stat_init.c -- initialize struct zip_stat.
"Normal" properties can be printed from tables.
'sh' if -CIA- or -CH, but not SCH, except SCHW.
(Some simple cases are caught at compile time.)
* 4 is for octal representation, + 1 is for NUL
************************ Upload hook handling *
*pp will be set to NULL and SQLITE_OK returned.
-********************** End Introspection API *
-********************** End Utility API funcs *
2 means the second alternative branch is taken.
2.0.16: clip to clipping rectangle, Matt McNabb
2.0.21: we don't reallocate memory we don't own
3rd parameter must be allowed for compatibility
@param  zval* arg Sort's argument to normalize.
@param source_len  Length of the source string.
A counter increasing globally across all forks.
A macro to discover the encoding of a database.
A missing specifier is not considered an error.
A page number of zero indicates "no such page".
A structure for holding a single date and time.
A transaction must be open when this is called.
Add the current term to the interior node tree.
Advance to a unique first char if there is one.
Aligning ovector to even number of sljit words.
All offsets for this column have been gathered.
All open cursors, etc are closed automatically.
All that is required is a straight hash-lookup.
Allocate and zero the storage for the quotient.
Allocate the TriggerPrg and SubProgram objects.
Allocate the histogram/inverse colormap storage
Allowed return values from sqlite3FindInIndex()
Also update the corresponding structure record.
Also, unset the offsets for the matched string.
Amount of payload held locally, not on overflow
An assert() will fail if a problem is detected.
And a length of the server scramble in one byte
And that the final byte of the doclist is 0x00.
Any more and we start to sacrifice performance.
Any return code other than NOMATCH is an error.
Append a single varint to a PendingList buffer.
Arrays to hold the mapping of codes to numbers.
At least one single char sets the bit and stops
Attempt to set a system-lock on the file pFile.
Attempting to do so is an error (SQLITE_ERROR).
Back out changes but do no rollback transaction
Begins an MD4 operation, writing a new context.
Begins an MD5 operation, writing a new context.
Below is reset before and after each recursion.
Bind a blob value to an SQL statement variable.
Bitfield flags for P5 value in various opcodes.
Block of regs holding rowid+data being inserted
Break the OR clause into its separate subterms.
Bytes of reserved space at the end of each page
Bytes of runtime space required for sub-program
CURLE_PARTIAL_FILE is returned by HEAD requests
Calculate the sum of the private machine words.
Call SQLGetData() until SQL_SUCCESS is returned
Check if the current doclist ends on this page.
Check to make sure the given table is writable.
Chunk i is a free chunk that has been unlinked.
Close cursor, needed for doing multiple selects
Close the read-only blob handle, if it is open.
Columns in this table that point to other table
Compute a 32-bit checksum on the N-byte buffer.
Compute the number of pages of cache requested.
Compute time when Sun is at south - in hours UT
Continue the loop for a later or duplicate name
Convert from YYYY-MM-DD HH:MM:SS to julian day.
Convert normalized string from UTF-16 to UTF-8.
Count the number of fullsyncs and normal syncs.
Curl SSL Version constants (CURLOPT_SSLVERSION)
Curl TIMECOND constants (CURLOPT_TIMECONDITION)
DEPRECATED APIs: Use php_stream_mkdir() instead
Default values must be the same for all columns
Defined below in the proxying locking division.
Delete a linked list of TriggerStep structures.
Delete any foreign keys attached to this table.
Delete the cell in question from the leaf node.
Determine the maximum amount of space required.
Discard parse errors thrown during tokenization
Do not display old-style inherited constructors
Do not output error when restoring ini options.
Do not proceed to the next term in the segment.
Do the actual sort magic - bada-bim, bada-boom.
Does *not* free the simplestring struct itself.
Don't allow access, but don't generate an error
Driver template for the LEMON parser generator.
Drop a trigger given a pointer to that trigger.
Eponymous virtual table instances always exist.
Estimated number of rows generated by this path
Expose NumberFormatter constants to PHP scripts
Expressions of the form:   CAST(pLeft AS token)
FORMAT DETAILS  The file is divided into pages.
FROM clause: A list of all tables to be scanned
Fail the operation and rollback the transaction
Figure out how many records are in the journal.
Filter window size (of affecting source pixels)
Find (an approximate) sum of two LogEst values.
First inspected character for partial matching.
Flatten a path by making a relative path (to .)
Floating or exponential, depending on exponent.
Fold them into the output buffer along the way.
For 2-way joins, the 5 best paths are followed.
For quantity X, the value stored is 10*log2(X).
Found a character that has a single other case.
Free as much memory as possible from the pager.
From SLJIT point of view, this is not an issue.
Function called for non-persistent connections.
Functions used only by user authorization logic
Generate code for an UPDATE of a virtual table.
Generate code that deals with a rowid collision
Generate code to return a single integer value.
Get a reference to pPage1 of the database file.
Handle all other cases when the coding is UTF-8
Holds a set of subpatterns after a global match
I only describe the parts that I am sure about.
If a memory allocation error occurs, return -1.
If allocation cannot be made, increment *pnByte
If an error occurs, return -1 and set *piErrno.
If an unqualified name is an alias, replace it.
If dequote is false, no dequoting is performed.
If document cloned we want a new document proxy
If it is a resource, than its a stream resource
If it is not, leave an error message in pParse.
If neither 'a' or 'm' follows we have an error.
If no error occurred, set the output variables.
If non-zero, transform OP_rowid to OP_AddImm(1)
If pMem is an integer, then the value is exact.
If queue is IsEmpty returns NULL  comments    :
If so, do not increment the constraint-counter.
If successful, upgrade to PAGER_RESERVED state.
If the maximum is not zero or one, set it to 1.
If the maximum is unlimited, insert an OP_STAR.
If the minimum equals the maximum, we are done.
If the offset vector is bigger, malloc is used.
If the string is not an integer, just return 0.
If the table has an explicit IPK, use its name.
If true, retrieve from the btree key, not data.
In this branch is execute only when DIFF_ASSOC.
In this case we simply fallback to interpreter.
In this way, the first chunk has an index of 1.
Include code that is common to all os_*.c files
Include sqlite3ext.h in the middle of loadext.c
Include the malloc.h header file, if necessary.
Include whereInt.h in the middle of wherecode.c
Information and control of an open file handle.
Information used while coding trigger programs.
Initialize the 4-byte leaf-page header to 0x00.
Initialize the rowset register to contain NULL.
Insufficient room for saving captured contents.
Integer value used when MEM_Int is set in flags
It has a different name to distinguish its use.
It is a read-only number computed by the pager.
It is used when duplicated names are permitted.
It may be used by applications for any purpose.
It may not be called from within a transaction.
It uses only the public interface defined here.
It's unclear if XHTML 1.0 allows C1 characters.
Jump here if the UNIQUE constraint is satisfied
Jump to here for any other kind of fatal error.
Large - a number of 4096K pages inside a CHUNK.
Largest allocation (exclusive of internal frag)
Log base 2 of TILEGX_BUNDLE_ALIGNMENT_IN_BYTES.
Macros to enter and leave the PCache LRU mutex.
Make sure we have latest lookahead translation.
Manage pPage's participation on the dirty list.
Mark this cursor as an incremental blob cursor.
Max args passed to user function by sub-program
Maximum first byte of cell for a 1-byte payload
Might be a key record for WITHOUT ROWID tables.
Might contain WHERE_GROUPBY or WHERE_DISTINCTBY
Minimum and maximum number of arguments allowed
Minimum file format for writable database files
Most operations expect sign extended arguments.
Move a page here to make room for the root-page
Move the cursor to the last entry in the table.
Move the page pPg to location pgno in the file.
Must be compatible with this index, if not NULL
NUL terminate, as every buffer is handled here.
Name of the container - used for error messages
Name of the shared library containing extension
No changes are made if mxPage is 0 or negative.
Not full path given or extension_dir is not set
Now allocate memory of array, array of pointers
Number of pages in database after autovacuuming
Numbers are converted using sqlite3_snprintf().
ON CONFLICT policy to code trigger program with
ORA-03133: end of file on communication channel
OUT: Mask of WhereLoops to run in reverse order
Offset from start of page to first cell pointer
Offset in CREATE TABLE stmt to add a new column
One of the WHERE_* flags defined in sqliteInt.h
Only clean and unpinned pages can be reclaimed.
Oops, someone binding the same variable - clone
Optimize for pattern with * at end or before /.
Or one of 719 other combinations might be used.
Otherwise fall through to the next instruction.
Otherwise there is just one following character
Otherwise, pass back the return code unaltered.
Overload the start of match pointer to do this.
P2 contains the root-page of the table to lock.
PCRE supports POSIX class stuff inside a class.
Parent of this frame, or NULL if parent is main
Payload 4     First page of the overflow chain.
Perform a single step of an incremental-vacuum.
Plus 1 if this entry carries the "delete" flag.
Points to our private memory word on the stack.
Points to the last matched capture block index.
Populate the OLD.* pseudo-table register array.
Prevent endless loops on corrupt database files
Print a WhereLoop object for debugging purposes
Print into memory obtained from sqliteMalloc().
Print uchar string (regardless of utf)        *
Put any active cursors into REQUIRE_SEEK state.
Query the WAL sub-system for the database size.
RBU_PK_VTAB:          Table is a virtual table.
Ran out of input before finding the table name.
Range of registers allocated for aCol and aFunc
Read in the complete content of the index entry
Read input from all segments in the input level
Recursively call checkTreePage on all children.
Register holding assembled record for the table
Remember the rowid of every item to be updated.
Remove cells from the start and end of the page
Remove the cursor from the Fts5Global.pCsr list
Remove the shared lock before trying the range.
Reset it to the correct value for this process.
Reset the PRNG back to its uninitialized state.
Reset the schema for the database at index iDb.
Resize an Index object to hold N columns total.
Return FALSE if fsync()s are executed normally.
Return a blob which is a pointer to the cursor.
Return false (zero) for Win95, Win98, or WinME.
Return segments in order from oldest to newest.
Return the Btree pointer identified by zDbName.
Return the N-th AND-connected subterm of pTerm.
Return the bitmask for the given cursor number.
Return the current file-size of an rbuVfs-file.
Return the current timeout value if one is set.
Return the current value of a status parameter.
Return the device characteristics for the file.
Return the number of bytes read, or 0 on error.
Return the value of the 'auto-vacuum' property.
Return true if the cursor has a hint specified.
Return updated scan pointer as function result.
Returns NULL if there hasn't been an error yet.
Routine needed to support the testcase() macro.
Run the progress counter just before returning.
SELECT statement in which to make substitutions
SQLite can be compiled with or without mutexes.
SSL terminated (but socket may still be active)
Sector size doesn't matter for temporary files.
See function PagerSharedLock() for more detail.
See function fts3TermSelectMerge() for details.
See the AUTHORS file for names of contributors.
See the MatchinfoBuffer code below for details.
Set 'compare function' according to sort flags.
Set or clear the access authorization function.
Set pPg to 0 and jump to the exception handler.
Set the first and required bytes appropriately.
Set the value again (can be a simple constant).
Set up dummy OP_REVERSE if lookbehind assertion
Setup resources that are needed by the handler.
So define the lock related functions as no-ops.
So it's easiest to filter these calls out here.
Sort order is irrelevant for a GROUP BY clause.
Special long value case for SIG_DFL and SIG_IGN
Sqlite can't deal, this is a critical I/O error
Startup TSRM (call once for the entire process)
Stay within bounds of both yycheck and yytname.
Stop accumulating errors when this reaches zero
Substitute a NULL pointer for any missing APIs.
Suppress unused-variable warnings by "using" E.
TODO: Re-enable this when OCI provides support.
TODO: Should handle sparse/partial arrays here.
TODO: should be checked for NULL tm/return vaue
Table with INTEGER PRIMARY KEY and nothing else
Tell the Go library to start looking for SIGIO.
That table is guaranteed to be a virtual table.
The "rc" variable should hold the error number.
The LIMIT clause will terminate the loop for us
The ORDER BY or GROUP BY clause to be processed
The REQ_CASELESS leaves the lower 28 bit empty.
The SQLITE_NO_SYNC macro disables all fsync()s.
The WHEN clause of the expression (may be NULL)
The acquisition might fail for several reasons.
The affinity of the column or 0 if not a column
The algorithm needs  to handle both cases well.
The argument to this macro must be of type u32.
The character we are checking can be multibyte.
The current token is no valid hexadecimal digit
The database connection whose status is desired
The default MMAP_SIZE is zero on all platforms.
The desired encoding for the collating sequence
The error context into which to write the error
The error stack is NOT cleared after this call.
The flags define the format of this btree page.
The following are allowed values for Vdbe.magic
The following block updates the change-counter.
The following value requires a mutex to change.
The index of the database file is given by iDb.
The interface is the same as sqlite3VdbeExec().
The list of all registered VFS implementations.
The lowest nibble contains the phar wide flags.
The main entry point is sqlite3BtreePrevious().
The maximum supported page-size is 65536 bytes.
The minimum allocation size is capped at 2**12.
The name must be unique across all VFS modules.
The next key to be read is cached in nKey/aKey.
The result set must be the special operator "*"
The returned value does not include leaf nodes.
The second argument is the database connection.
The second choice is a Mac OS X style fullsync.
The size of this object must be a power of two.
The sqlite_sequence table used by AUTOINCREMENT
Then clear the Btree layer MemPage.isInit flag.
Therefore infinite recursions are not possible.
Therefore, it cannot be used in a NOTPROP case.
This also determines whether it is a leap year.
This can be changed at run-time using a pragma.
This function doesn't return if it uses E_ERROR
This function may detect corruption within pPg.
This has the effect of yielding to a coroutine.
This interface is used by the fts5vocab module.
This is in case the sample record is corrupted.
This is not the right way to get output size...
This is to avoid creating a *-shm file on disk.
This only happens when coding check constraints
This opcodesnever appears in a real VM program.
This routine is callback for sqlite3WalkExpr().
This routine will drop an existing named index.
This section is for debugging outside of VTune.
This should catch convoluted mutual recursions.
This should never happen here, but for security
This version performs Floyd-Steinberg dithering
This will also acquire a readlock on that file.
This works for either btrees or virtual tables.
Tracing routines for the RtreeSearchPoint queue
Translate a single byte of Hex into an integer.
Translate from TK_xx operator to WO_xx bitmask.
True if the underlying table is BTREE_UNORDERED
True once backup has been registered with pager
True to reset page prior to first page rollback
Try to fetch class and then find static method.
Try to fetch find static method of given class.
Type entries can be between 1 and 5 bytes each.
Type of join between this able and the previous
Type of the container - used for error messages
URI filenames are parsed according to RFC 3986.
USE_MONOMANIAC_CHECK_CAPTURES_IN_ENDLESS_REPEAT
Update statements used while promoting segments
Useful debugging logic when panicmem is broken.
Verify that constants are precomputed correctly
Verify that the page list is in accending order
We cannot open it, but we were able to stat it.
We have advanced in ps_fetch_from_1_to_8_bytes.
We may have half-cooked connections to clean up
We must do a complete scan of the entire table.
We need the orinal image with each safe neoghb.
We only care about the first newline character.
We want to iterate through all of the segments.
When not in UTF-8 mode, the length is always 1.
Where to jump to continue with the next IN case
Works for both absoulte and relative addresses.
Write all frames into the log file exactly once
Write the number of available bytes into *pAmt.
Write up to nBuf bytes of randomness into zBuf.
a back ward seek is done by a previous rewind()
add each central directory item to the manifest
aff2 is the type affinity of the other operand.
after this call, bucket is owned by the brigade
array(string classname, array(mixed ctor_args))
call it's dir_open method - set up params first
call it's stat_url method - set up params first
callback to used to report database server info
can happen when calling eval from a custom sapi
check for dates before SDN 1 (Jan 2, 4713 B.C.)
check for major japanese chars: U+4E00 - U+9FFF
check for soft line break according to RFC 2045
check persistent connections, move used to free
chunked encoding - ignore Content-Length header
closes the resource by calling dba_close_rsrc()
compute the line's height and find the endIndex
copy the updated results into the result buffer
create a linked list of elements from 1 to last
default behavior: return first-matching result.
don't allow multi_queries via connect parameter
don't evaluate division by zero at compile-time
emulate libpq's PQescapeInternal() 9.0 or later
first try the slot which is supposed to be free
fixup stuff set in motion in oci_bind_output_cb
found something and it's not a parent's private
found the 1st tag - initialize the return array
fpm has started, let use fcgi instead of stdout
get output encoding and check MIME charset name
go through the lists and look for common values
i.e. "mysql" in the FTS3 query "sqlite -mysql".
ignore handle parameter in procedural interface
kids will inherit the env, don't let them spawn
last_op is the last opcode of the current block
locktype must be either NO_LOCK or SHARED_LOCK.
make sure we've consumed all request input data
nReq is the number of bytes of memory required.
needed because recv doesnt set null char at end
new element, call ctor as in spl_ptr_llist_push
number of antialised colors for indexed bitmaps
number of rows where the key equals this sample
output functions return int, so pass in int max
pArg becomes the first argument to xCallback().
pE is a term in an ORDER BY or GROUP BY clause.
put the implicit return on the really last line
register this guy so we can modify if necessary
retrieve kerning distance and move pen position
returns a documentation string, or empty string
save the encoder, decoder state and the pointer
separator may contain multiple separator chars.
set sign for everything, including 0's and NaNs
set the callback for the GET_QUOTAROOT function
should be a stream - try and dup the descriptor
softmagic - interpret variable magic from MAGIC
some defines for the different JPEG block types
sqlite3FkDelete()   - Delete an FKey structure.
sqlite3_log() must render into a static buffer.
stream operation already wrote an error message
the string was already proved to be valid UTF-8
this is not an error, we're returning NULL here
this is used for creating images in main memory
tidy up any FILE* that might have been fdopened
todo: throw an error, we don't support embedded
ultra-compact, newlines, pretty/level indented.
use NLS_LANG if no or invalid charset specified
use another var because type of cmsg_len varies
use iv() not uiv() in order to check data range
value and typeDescription behave about the same
walk the descriptor spec and set up files/pipes
which function caused the problem if any at all
'sh' in -TIA- or -TIO- else 'th' before H else T
(2)  Register to hold the maximum ROWID of pTab.
*ppPage is set to NULL in the event of an error.
2 - Enable capture_last_ptr (includes option 1).
2.0.16: thread safety (the font cache is shared)
A NULL and true or two NULLs give a NULL output.
A PGroup is an instance of the following object.
A SELECT statement that will become the new view
A SELECT statement used in place of a table name
A null pathname is invalid -- POSIX 1003.1 sect.
A pointer to the linked list of commands to run.
Acquire a cryptographic provider context handle.
Address of OP_CreateTable opcode on CREATE TABLE
Address of the OP_SorterOpen or OP_OpenEphemeral
Advance the cursor to the next row in the table.
All the work is done in function fts3InitVtab().
All the work is done in function fts5InitVtab().
Allocate Floyd-Steinberg workspace if necessary.
Allocate cursors numbers for Queue and Distinct.
Allocate storage for the temporary storage mval.
Argument zFmt is a printf() style format string.
At compile time, the class is simply eliminated.
Avoid this possibility by unmapping the db here.
BS2000 uses the EBCDIC char set instead of ASCII
Begins an SHA1 operation, writing a new context.
Bitmask of FROM clause terms referenced by pExpr
Bitmasks for the operators on WhereTerm objects.
Branch to Thumb code has not been optimized yet.
Build a brand new string with the expanded token
Build a trigger step out of an INSERT statement.
But the caller cannot free this memory directly.
Call exprAnalyze on all terms in a WHERE clause.
Capitalize the first latter of the error message
Change rc to non-zero if a discrepancy is found.
Change the size of an existing memory allocation
Check for a test for recursion in a named group.
Check if there is a previous value to deallocate
Check to make sure the sqlite_stat1 table exists
Check whether TMP1 contains a newline character.
Clear (destroy) the BtShared.pHasContent bitvec.
Collating sequence with native encoding, or NULL
Compatibility with old code that looked in .mime
Configure the language id of a tokenizer cursor.
Continual stores does not cause data dependency.
Convert a string containing C character escapes.
Copy data from page to buffer (a read operation)
Copy path portion in place to avoid memory leak.
Copy the complete content of pBtFrom into pBtTo.
Copy the result of the function into register P3
Create multidimension array - recursion function
Cursor might also move if a btree is rebalanced.
Database link resource, use default transaction.
Default permissions when creating auto proxy dir
Delete existing record, then do INSERT or UPDATE
Delete the entry that the cursor is pointing to.
Delete the hash table and return the error code.
Destroy a cache allocated using pcache1Create().
Disable realpath cache if an open_basedir is set
Discard the contents of the pending terms table.
Do implicit use_result and then flush the result
Do no further checking in the pre-compile phase.
Don't set a timeout on startup, only per-request
Each page cache (or PCache) belongs to a PGroup.
Elements are compared by user supplied function.
Empty string has length of 0, encoded in 1 byte.
Est number of iterations of a query (10*log2(N))
Estimate the average size of a row for an index.
Even that has never been tested according to DB.
Except when the whole stack frame must be saved.
Fields that follow must be manually initialized.
Fill the index with data and reparse the schema.
Find the first character that has an other case.
First of nPk registers holding PRIMARY KEY value
First rowid on page indicated by previous field.
Flush any data currently held in-memory to disk.
For INTKEY tables, the intKey parameter is used.
For a normal halt, this should be SQLITE_OK (0).
For each entry in the regex array, get the entry
Free all memory allocations in the pParse object
Free all resources held by the schema structure.
Free an iterator allocated by walIteratorInit().
Free any allocations associated with the writer.
FuncDef wrapper for detachFunc() or attachFunc()
Function: gdAffineScale Set up a scaling matrix.
Get sort key, reallocating the buffer if needed.
Get the NAME attr (Single word attr, non-quoted)
Grab the monetary grouping data out of the array
Grow the Pager.aSavepoint array using realloc().
HALFWIDTH KATAKANA-HIRAGANA PROLONGED SOUND MARK
Hack for buggy IIS that sets incorrect PATH_INFO
Handle repeats after a class or a back reference
IB has a strange way of handling VARCHAR arrays.
Identifiers in expression are matched to tables.
If PATH already exists, this routine is a no-op.
If an OOM condition is encountered, return NULL.
If an OOM error occurs, set the error code in p.
If an error is found, the analysis is cut short.
If an error occurs, return an SQLite error code.
If any other error occurs, return SQLITE_SCHEMA.
If compiling with GCC 2, this file's not needed.
If condition (a) is not met, assume (b) is true.
If insufficient space is available, return NULL.
If one value is NULL, it is less than the other.
If possessive, we are then done (no backing up).
If possible, this is based on sqlite_stat1 data.
If requested, convert from truecolor to palette.
If set to false, any prefix indexes are ignored.
If str is not numeric string return number zero.
If the FuncDef is not ephermal, then do nothing.
If there are no matches, jump immediately to P2.
If there were no changes, this block is skipped.
If this is an "uninteresting picture" ignore it.
If we are returning a single result, just do it.
If we reach this point, flattening is permitted.
If we're out of colors, go for the closest color
If wrOnly is false then all cursors are counted.
Implementation of the language Header() function
Implementation of the sqlite_version() function.
In either case, the journal file can be deleted.
In extended mode, skip white space and comments.
In the second form, the primary key is (a,b,...)
In this case this value is all that is required.
In this state the integer just read was a docid.
Include os_common.h in the middle of mutex_w32.c
Index of first cell to the left of right sibling
Initialize a lookahead iterator for each phrase.
Initialize a preallocated WhereClause structure.
Initialize and deinitialize the mutex subsystem.
Initialize and shutdown the page cache subsystem
Insert an OP_Halt at the end of the sub-program.
Insert the new index entries and the new record.
Instead, we catch it when the OP_END is reached.
It contains service information about all pages.
It should be freed  when the expression node is.
It skips over things that do not influence this.
Least recently used entry has the smallest value
Left general category, right particular category
Let X be the first thread to enter this routine.
Load the built-in tokenizers into the hash table
Load the extension into this database connection
Load the statistics from the sqlite_stat4 table.
Make the IdChar function accessible from ctime.c
Make the error-limit table if we didn't already.
Make this EXPR node point to the selected column
Match characters up to the end of the reference.
Maximum size (in Mem3Blocks) of a "small" chunk.
Mem address which causes query abort if positive
Minimum number of regions required to be mapped.
Most Schema objects are associated with a Btree.
Move the cursor to the first entry in the table.
Move the page currently at pgnoRoot to pgnoMove.
Need to invoke convertCompoundSelectToSubquery()
No copyright info was found in the original bdf.
No, we aren't bothering to check IPv6 addresses.
No-op versions of all memory allocation routines
Now do the equal length scale and integer parts.
Number of bytes of the blob to include in output
Number of entries in the cursor RtreeNode cache.
Number of pages in the database according to hdr
OE_Abort for IMMEDIATE, OE_Rollback for DEFERRED
ORDER BY or GROUP BY or DISTINCT clause to check
OUT: Byte offset of end of token in input buffer
On error, error is filled in and -1 is returned.
One of TK_ALL, TK_UNION, TK_EXCEPT, TK_INTERSECT
One-time setup cost (ex: create transient index)
Only F-S dithering or no dithering is supported.
Only SLJIT_INT_OP or SLJIT_SINGLE_OP is allowed.
Only needed if the user requested a buffer size.
Only truncate if it is an in-memory sub-journal.
Only valid if cacheStatus matches Vdbe.cacheCtr.
Open the journal file if it is not already open.
Or, this symbol can be set manually, if desired.
Other cases already resolved by constant folding
Otherwise we must pick up the subject character.
Otherwise, fall through to the next instruction.
Otherwise, if successful, SQLITE_OK is returned.
Otherwise, the error code is propagated upwards.
PENDING_BYTE defines the beginning of the locks.
Permitted values of the SrcList.a.jointype field
Pointer to 1 byte past the end of *ppFrom buffer
Pointer to a string obtained from sqliteMalloc()
Populate the Fts5Config.zContentExprlist string.
Populate the register containing the index name.
Prepare to begin tokenizing a particular string.
Random access writes are not required by sqlite.
Read a resource from a thread's resource storage
Read in the first 8 bytes of the journal header.
Reads all the pending commands and executes them
Recursive divide and conquer multiply algorithm.
Recursive function, which scans prefix literals.
Register holding largest rowid for AUTOINCREMENT
Register that records whether NULLs exist in RHS
Release the memory used for the compiled pattern
Remember how much was scanned to save rescanning
Remove PCRE cache entries with inconsistent keys
Remove if there's nothing to do at request start
Remove the caseless flag for non-caseable bytes.
Reset the automatic extension loading mechanism.
Resolve names in table-valued-function arguments
Return 0 on success and 1 if there is a problem.
Return a 32-bit hash of the page data for pPage.
Return any I/O error from the restore operation.
Return info about what features are configured *
Return one of the SQLITE_ success/failure codes.
Return the address of the first operation added.
Return the peak depth of the stack for a parser.
Return true if it does and false if it does not.
Returning KERN_SUCCESS intercepts the exception.
Returns chartype in TMP1 and UCD offset in TMP2.
Returns the current ps_buffer value into string.
Right general category, left particular category
SEE ALSO XMLRPC_GetResponseFaultString () SOURCE
SIB byte required to avoid RIP based addressing.
Same for protocol, we don't support old protocol
See notes in update_box about scaling distances.
Seek the index cursor to the start of the range.
Set bit pgno of the BtShared.pHasContent bitvec.
Set of pages moved to free-list this transaction
Set the resolved resolution in the node's layout
Set the title string for subsequent allocations.
Setup Keys that will be used for all hmac rounds
Shortcut for the case when the freelist is empty
Shutdown TSRM (call once for the entire process)
Silently convert buffered to unbuffered, for now
Single-char upto sets the bit and tries the next
Size of the cell content on the main b-tree page
Skip to the start of the possible case mappings.
So do not set the "may-abort" flag in this case.
So there is no need to zero the journal  header.
So we have to do our own lookup to get env vars.
Sometimes we can just extend the original range.
Specify the activation key for a CEROD database.
Start with an empty image information structure.
Stemming never increases the length of the word.
Steps 3, 4, and 5 implemented by this subroutine
TMP2 which is set here used by OP_KETRMAX below.
TODO: Check if all of these are really required.
TODO: Find the ICU call which does this properly
TODO: These could be moved to MINIT and removed.
Table with characters for base64 transformation.
Temporarily holds the number of cursors assigned
Tends to be less accurate as distance increases.
The 0x02 means add pPage back to the dirty list.
The MergeEngine that the IncrMerger will control
The Name context of the SELECT statement is pNC.
The R parameter is only used for STAT3 and STAT4
The SELECT statement to be fixed to one database
The VDBE cursor number used to access this table
The VDBE is guaranteed to have at least 9 cells.
The affinities of A and B must be compatible 5a.
The argument to this macro should be a variable.
The asserts() that follow verify that assumption
The byte offset of the start of the page footer.
The callback function may have defined the class
The code requires a 32-bit integer type, though.
The connection is removed from the blocked list.
The cursor can be either for reading or writing.
The cursor's state is set to CURSOR_REQUIRESEEK.
The database connection that owns this statement
The database file on disk has not been modified.
The entire doclist will fit on the current leaf.
The entire output segment fits on a single node.
The entire poslist will fit on the current leaf.
The expression to code when the VDBE initializes
The final value of pp is undefined in this case.
The first index cursor is returned in *piIdxCur.
The following code executes when the parse fails
The foreign key is set for IMMEDIATE processing.
The function exists purely for its side-effects.
The function we are evaluating for match quality
The interface might change in incompatible ways.
The key for INTKEY tables, or nPayload otherwise
The length of the serialized data for the column
The limit is now strictly enforced at all times.
The list is connected by Trigger.pNext pointers.
The maximum number of opcodes in a VDBE program.
The next table maps tokens into fallback tokens.
The original heap-recursive code used longjmp().
The page to be fetched is determined by the key.
The pageDestructor() routine handles that chore.
The parser initially stores the operator with A.
The posspropstab table has four entries per row.
The register allocator depends on this property.
The search path is part of the HDF by convention
The solution is the BtShared.pHasContent bitvec.
The strings are already in the correct encoding.
The term to search for is passed in zTerm/nTerm.
The third parameter is passed NULL In this case.
The thread that will be using the new IncrMerger
The three output values will always be modified.
Then clear the column header cache on cursor P3.
Then output any substrings that were * captured.
There are also some static supporting functions.
There is one object of this type for each pager.
There must be exactly one reference to the page.
They differ in how much of the tree is measured.
This SQLite extension implements JSON functions.
This array lists the candidate colormap indexes.
This branch happens for multiple negative signs.
This facility is used for testing purposes only.
This function releases all the allocated frames.
This happens in function sqlite3PagerRollback().
This instruction makes a deep copy of the value.
This is a WONT FIX bug, at least for the moment.
This is a lot like misc/cgo/testcshared/main4.c.
This is a lot like misc/cgo/testcshared/main5.c.
This is a structure that the thread holds on to.
This is correct for Linux which has union semun.
This is part of the fts5_decode() debugging aid.
This is slightly inefficient, but still correct.
This is the general purpose conversion function.
This is used for testing the I/O recovery logic.
This iterator is already at EOF for this column.
This routine gets called when a rollback occurs.
This routine sets that result back to SQLITE_OK.
This value may be zero for the default behavior.
Token that describes the complete CREATE TRIGGER
True : This month, day, year arguments are valid
True for native byte-order, false for non-native
True if REPLACE conflict resolution might happen
True if opening an ephemeral, temporary database
Two NULL pointers are considered to be the same.
Unaligned read is unsupported or in 32 bit mode.
Unless it is empty, flush the hash table to disk
Use HTTP/1.1 with "Connection: close" by default
Users can do as they wish with explicit indices.
Usually the parent term is marked as TERM_CODED.
Variables in which to record status information.
Verify that the last entry really is an integer.
Verify the affinity and collating sequence match
We have already reached the end of this doclist.
We only have types for characters less than 256.
We only run if there's a width or height defined
Whatever is the last value is what should be set
When a newline is found, its length is returned.
Write out whether or not the image is interlaced
Write value iVal encoded as a varint to the PMA.
XXX: shouldn't this be the parent not the 'prev'
actor, used in conjunction with must understand.
alert if user is not set only if we are not root
allow string to handle large OID value correctly
array_intersect_assoc() or array_intersect_key()
as is the end, so the line never cuts the window
at this point path_translated will be set if: 1.
bEof: Set to true once iterator has reached EOF.
big5.c -  Oniguruma (regular expression library)
check for dates before SDN 1 (Nov 25, 4714 B.C.)
check for fault, which is a rather special case.
compares opcodes with allowing oc1 be _EX of oc2
compiler warns about "non-constant" initializer.
complain if this field doesn't allow NULL values
complete initialization of trait strutures in ce
copy contents uncompressed rather than lose them
copy real values from CV slots into symbol table
create an automation SafeArray from a PHP array.
create an environment using the character set id
curl-wrappers don't load data until the 1st read
currently letting libxml2 set the version string
declares can only be preceeded by other declares
delete watchpoint, recursively (and inclusively)
determine magic associated with soap array type.
do nothing, ignore these characters in the count
dont allow leading : without another : following
draw_bitmap - transfers glyph bitmap to GD image
eFileLock must be either NO_LOCK or SHARED_LOCK.
ext/phar has to load phar's metadata into memory
first time around -- clear initial gl_offs items
for php_memnstr, used by php_stream_get_record()
handle any left overs of files without new lines
if it doesn't fit in a long send it as a string.
ignore sequences of consonants with same soundex
init handler: allocate read buffer and open file
key is true to get the key or false to get data.
koi8.c -  Oniguruma (regular expression library)
leave the variant slot empty to simplify cleanup
main entry didn't match, flush its continuations
may or may not have Implicit Result Set children
mnd_free will reference LOCK_access and crash...
move the memory buffer by the size of the window
nLimit is set to -1 if there is no LIMIT clause.
not used    0x0010   // Was: SQLITE_IdxRealAsInt
offset to next ifd (points to thumbnail or NULL)
old calling convention, deprecated since PHP 4.2
or MOVE, MKCALENDAR, MKACTIVITY, MERGE, M-SEARCH
pData: Record containing the doclist-index data.
pEList is the SET clause of an UPDATE statement.
pLeaf: Buffer containing current leaf page data.
pass 4 - optimize INIT_FCALL_BY_NAME to DO_FCALL
posix monotonic clock - preferred source of time
previous namespace declarations were unbracketed
regBase+2 holds the second column, and so forth.
relative extended_value don't have to be changed
replace any in-string NUL characters with spaces
set all fd to -1 in order to ensure it's not set
set flag for new, improved array of objects list
set this link pointer to NULL in the transaction
set up error in case error handler is interested
set wrapper data to be a reference to our object
setup some data to pass to the callback function
sjis.c -  Oniguruma (regular expression library)
someone else has the lock when we are in NO_LOCK
starting a new format specifier, reset variables
store away errors and/or any intermediate output
this order must match the conversion table below
trigger error unless signal interrupt or timeout
try allocating this much, if not - try shrinking
typedef for the authorization callback function.
uPattern is an unescaped escape character, or 4.
update previously generated FREE/FE_FREE opcodes
upper or lower case string in place if required.
url is of the form "file:///path/to/Info.plist".
user specified file, perform open_basedir checks
utf8.c -  Oniguruma (regular expression library)
version byte at the front, and a null at the end
we copy original hostname for further processing
we do not want to process defaultEncoding's here
with Oracle, there is nothing special to be done
within cell range so no contribution to min_dist
xGeom and xQueryFunc are the callback functions.
zend_alter_ini_entry() is called for each entry.
"prototype" may be undefined if "scope" isn't set
************************* INI Settings/Handlers *
-*********************** End System Methods API *
A NULL and false or two NULLs give a NULL output.
A WAL always grows from beginning toward the end.
A number of Perl escapes are not handled by PCRE.
A range of characters can be specified using '-'.
A trigger is either a BEFORE or an AFTER trigger.
Absolute elements do not take part in that phase.
Activate assert() only if SQLITE_TEST is enabled.
Add entropy to s2 by calling gettimeofday() again
Advance pChild until it points to iLast or laster
Advance the iterator passed as the only argument.
All OP_Destroy operations occur on the same btree
All the rest should always be initialized to zero
Allocate space for a new sqlite3_backup object...
Always place pi if one predecessor (an if branch)
An ordinary table or view name in the FROM clause
Append the name of the path for element i to pStr
Array of WhereLoop objects implementing this path
As disgusting as on the darwin/386, darwin/amd64.
Assert()s verify that the computation is correct.
BS2000 has only a few fields in the rusage struct
Before using MustBeInt, make a copy of the value.
Block all signals to the exception handler thread
But seems it happens in extreme cases or doesn't.
But we are told that HPUX is not such a platform.
But we do not want these changes to be permanent.
But we track the other locking levels internally.
CR_NEW_STMT_METADATA makes the statement unusable
Calculate n -- the u and v split point in digits.
Calculates the byte length of the next character.
Cell pCell is destined for new sibling page pNew.
Change the size of an existing memory allocation.
Check if the root node now has exactly one child.
Check to see if we need to simulate an interrupt.
Common code for all repeated single-byte matches.
Compute the complete text of the CREATE statement
Construct the Index object to describe this index
Convert current hash item from UTF-16LE to UTF-8.
Convert current hash item from UTF-8 to UTF-16LE.
Convert display locale name from UTF-16 to UTF-8.
Convert possessive ONCE brackets to non-capturing
Copy data from buffer to page (a write operation)
Copy the contents of object (*pFrom) into (*pTo).
Create a mirror schema in the temporary database.
Create linked lists of SSA variables for each SCC
Database connection for reporting malloc problems
December 4, 1999  Ported to libgd by Pierre Joye.
Deleting this row means the whole table is empty.
Destroy a tokenizer allocated by unicodeCreate().
Detect wrong format of " inside of escaped string
Determine the auto-incr-merge setting if unknown.
Do format conversion placing the output in buffer
Do not do this if initialising a database schema.
Don't leave anything around in vm they could use.
Drop any table triggers from the internal schema.
Duplicate subject string for repeated replacement
END difference between normal normal fetch and _c
Each row extracted from Queue is output to pDest.
Empty packet will be sent and this loop will end.
End of loop to find second and subsequent matches
End of option value (if EOF is reached before EOL
Error: first report in this thread is method exit
Especially useful for base64 and datetime strings
Estimated rows in table - from sqlite_stat1 table
Everything above is part of the evaluation phase.
Expanded data destination object for stdio output
Expr.u.zToken is always UTF8 and zero-terminated.
Expression pExpr must be of type FTSQUERY_PHRASE.
FIXME: Use the openssl constants instead of enum.
Failed to compile, or error while post-processing
Fetch the integer off the end of the index record
Figure out how many columns of data are supplied.
Figure out if this is a leaf or an internal node.
Figure out where to write the new Expr structure.
Fill in any forward references that are required.
First try to append the term to the current node.
For each entry in the search array, get the entry
Forward declaration required by incrVacuumStep().
IN/OUT Pointer to array of length of data fetched
INSERT statements may not use any default values.
If P1 is not open then the behavior is undefined.
If SNI is explicitly disabled we're finished here
If a malloc fails, this function may return NULL.
If a memory allocation error occurs, return NULL.
If an OOM error occurs, SQLITE_NOMEM is returned.
If an OOM error occurs, set  the error code in p.
If an allocation fails, SQLITE_NOMEM is returned.
If an error has already occurred, this is a no-op
If an invalid limit index is supplied, report -1.
If any one branch matches, the assertion is true.
If both these operations are successful, proceed.
If it is already open, this  function is a no-op.
If it is currently memory mapped, unmap file pFd.
If no collation is found, leave an error message.
If non-NULL, points to sqlite3_vtab.base.zErrmsg.
If one is encountered, this indicates corruption.
If pFrom contains ephemeral data, a copy is made.
If so, try to remove a few timed-out connections.
If the cursor cache is stale, bring it up-to-date
If the input is not a keyword, TK_ID is returned.
If the locale is grandfathered, stop, no variants
If the output * vector wasn't big enough, say so.
If the pSeg iterator is already at EOF, return 0.
If there's nothing to read, wait in 10ms periods.
If true, create page if it does not exist already
If we disabled in (1), we'd get the wrong answer.
Implementation of the offsets() function for FTS3
Implementation of the snippet() function for FTS3
Implementation of the stat_get(P,J) SQL function.
In some rare ocasions we may need future patches.
In this case stop reading  the journal file here.
In this case the xDelete, if any, is not invoked.
In this case we cannot use an incremental phrase.
Include keywordhash.h in the middle of tokenize.c
Increment the reference count of an existing page
Infinity or NaN, convert to inf or nan with sign.
Initialize all term iterators in the NEAR object.
Initialize the shared memory if we're supposed to
Injects SNMP properties into object on first call
Interpret the given string as a temp db location.
Invalid parameters were passed to ldap_explode_dn
It can be omitted and everything will still work.
It is enabled using the SQLITE_ENABLE_FTS3 macro.
It is provide only to avoid breaking legacy code.
It's pointless to match character encodings here.
Jump here if the results are unknown due to NULLs
Large blocks are always aligned on page boundary.
Leave any error messages in the pParse structure.
Leaves are numbered sequentially starting from 1.
Load new statistics out of the sqlite_stat1 table
Load the doclists for tokens that are either:  a.
Load the full doclist for the phrase into memory.
M - Any values pushed by the current alternative.
MERGE_COUNT controls how often we merge segments.
Macros to Set(), Clear() and Test() cursor flags.
Make sure this is not an attempt to ALTER a view.
Make the new connection a child of the winShmNode
Mapping from ORDER BY terms to result set columns
Mark term iChild as being a child of term iParent
Mask of NEW.* columns accessed by BEFORE triggers
May destroy all locals and registers except TMP2.
Maybe we waste some space because of short jumps.
Method (2) offers a midpoint between (1) and (3).
Mixed allows both index and key/val combinations.
Must be a load instruction with immediate offset.
Must set PS module data(void **mod_data) to NULL.
NULL is returned if there is an allocation error.
Name context for processing aggregate information
Negative assert is stronger than positive assert.
Next execution will also need to resend the type.
Next fetch the relevant cert chain from the store
Next one may be an array or a list of sort flags.
Normalize string (converting it to UTF-16 first).
Note that the mapping is not necessarily ordered.
Now try to discover other details about the file.
Number of bytes available on the local btree page
Number of padding characters (total - input size)
Number of tables or subqueries in the FROM clause
Object used to represent an shared memory buffer.
One might also try: PROCESS_MODE_BACKGROUND_BEGIN
One of TK_DELETE, TK_UPDATE, TK_INSERT, TK_SELECT
One register assigned to each index to be updated
Only allocate new memory space when pBuf is NULL.
Only write cursors are counted if wrOnly is true.
Open and close a connection to a write-ahead log.
Open existing file, or create if it doesn't exist
Optimize the case of adding the range to the end.
Otherwise the caller will have set *pRes to zero.
Otherwise, allocate and return a new page buffer.
Otherwise, fall through to the next  instruction.
Otherwise, free the buffer and proceed to step 5.
Otherwise, return NULL to indicate a parse error.
Page pParent is an internal (non-leaf) tree page.
Pages are added to pDone as they are played back.
Persistent connections have private session pools
Preprocess format into formatcodes and formatargs
Print into memory obtained from sqlite3_malloc().
Pure red always maps to 6 in this implementation.
RTREE_GT or RTREE_GE,  or fallthrough of RTREE_EQ
Raise BASE to the EXPO power, reduced modulo MOD.
Read metadata only if there is actual result set.
Read part of the key associated with cursor pCur.
Read the meta-information out of a database file.
Read the next nByte bytes of data from the PMA p.
Register holding root page number for new objects
Register that is true if RHS contains NULL values
Remember the SQL string for a prepared statement.
Remember whether this is a variable length repeat
Remove the cell with index iCell from node pNode.
Reprepare only called for prepare_v2() statements
Resolve all names in the ORDER BY term expression
Restore the R registers that need to be reserved.
Return NULL if not found or if there is an error.
Return the number of phrases in expression pExpr.
Return the page number and the new database size.
Return true if and only if an opcode was removed.
Return true if it does match, or false otherwise.
Return true if pNew is to be preferred over pOld.
SELECT statement or RHS of INSERT INTO SELECT ...
SEND_UNPACK may acquire references into the array
SQLITE_NOMEM is returned if we run out of memory.
SQLite will unwind its stack and return an error.
STAT3 and STAT4 have a parameter on this routine.
Same logic, code as gcc_android_amd64.c:/inittls.
Scan the pattern, compiling it into the a vector.
Second, try to get a magic file from Common Files
See  function sqlite3Fts3Incrmerge() for details.
See also: Found, NotFound, SeekGt, SeekGe, SeekLe
See also: Found, NotFound, SeekGt, SeekGe, SeekLt
See also: Found, NotFound, SeekLt, SeekGe, SeekLe
See also: Found, NotFound, SeekLt, SeekGt, SeekLe
See comments with init_error_limit for rationale.
See function fts3PendingListAppend() for details.
See parse.y  construct "indexed_opt" for details.
Set pTC to point to the cheapest remaining token.
Set stack variable q to the close-quote character
Set this early so that early errors get offset 0.
Set this symbol to enable building on older macs.
Set up an alternate signal stack for this thread.
Should be enough for the metadata of a single row
Sign-extend on a right shift of a negative number
Skip over multiple "*" characters in the pattern.
Skip the following conflict logic if it does not.
Skip useless ZEND_RECV and ZEND_RECV_INIT opcodes
So we do not need to make a copy of the filename.
Some of the fields default to undefined and not 0
Start at the beginning and go until we hit offset
Step1: Search a zero byte (8 continous zero bit).
TODO: deduce HEADERLEN from size for uncompressed
TRUE after OP_ColumnName has been issued to pVdbe
Table of texts corresponding to POSIX error codes
Tells whether the capturing bracket is optimized.
Temporary databases cannot have _WAL journalmode.
Tests libgo.so to export the following functions.
Text of the CREATE TABLE or CREATE VIEW statement
The  second form attempts to change this setting.
The GLOB operator does not have an ESCAPE clause.
The HH, MM, and SS must each be exactly 2 digits.
The LIMIT clause will jump out of the loop for us
The OP_Column opcode can decode the record later.
The SnippetIter object has just been initialized.
The Vdbe parse-tree explainer is also found here.
The WHERE clause should use this specific cursor.
The buffer must be aligned to an 8-byte boundary.
The call assures that only valid opcodes are sent
The caller must be holding the appropriate mutex.
The code generated follows one of four templates.
The cursor is left pointing at a random location.
The database containing table being inserted into
The default setting of the auth function is NULL.
The error may not be safe to handle in user-space
The file mbfilter.c is included in this package .
The final value of *pp is undefined in this case.
The first leaf becomes a trunk page in this case.
The following are used by the fts3_eval.c module.
The following is executed when the parser accepts
The function takes a single parameter "keyClass".
The getput_arg_fast should handle this otherwise.
The main thread will append commands to this list
The name of the table/view the trigger applies to
The next line would break the image on writeback:
The pParent field points back to the parent page.
The padding is done by printing the character ch.
The page begins at offset *pOffset into the file.
The pager is used to access a database disk file.
The parent already computed us a width or height.
The parse context of the CREATE TRIGGER statement
The performance of this function is not critical.
The record created does not contain anything yet.
The remaining entries all point to query results.
The request was for a RESERVED or EXCLUSIVE lock.
The return value will be SQLITE_OK if successful.
The row that the VUpdate opcode will delete: none
The schema layer numbers meta values differently.
The second form is used for WITHOUT ROWID tables.
The state-number, or reduce action in SHIFTREDUCE
The string is not copied - the pointer is stored.
The tab_suffix table needs 2**GIFBITS characters.
The table pointer is always in native byte order.
The thread will append events to this linked list
The type must be a bitmask with a single bit set.
The user could have skipped binding - don't crash
The value is one of:  0 NONE 1 FULL 2 INCREMENTAL
The zName field holds the name of the VFS module.
Then the VMs internal change counter resets to 0.
There is one cursor per table in the FROM clause.
These are the funtions that are contained within.
Third-party implementations of AFP are available.
This can only be checked in single-threaded mode.
This case is handled differently from the others.
This covers the DEFINE "condition" automatically.
This escape is incompatible with PQescapeLiteral.
This file contains code that is specific to MSVC.
This function deserializes and returns the value.
This function is called after an "ALTER TABLE ...
This is a helper function for sqlite3BtreeLock().
This is a lot like misc/cgo/testcarchive/main2.c.
This is a lot like misc/cgo/testcarchive/main3.c.
This is more important that I originally thought.
This routine implements the DROP INDEX statement.
This should normally be UNICODE_STRING_MAX_CHARS.
This symbol is defined in ext/standard/config.m4.
This value is stored in stack  variable nLeafEst.
Those that follow are added in version 2 or later
Those that follow must honor the ORDER BY clause.
To discourage this, return a very high cost here.
True if statement may modify/insert multiple rows
Two versions of the same checksum are calculated.
USE_MATCH_RANGE_MUST_BE_INSIDE_OF_SPECIFIED_RANGE
Union of locks held by connections other than "p"
Update the PCache1.pSynced variable if necessary.
Update the global lock state and do debug tracing
Use PCRE to trim the header into the right format
Use the standard library for separate compilation
VDBE instruction address of the start of the loop
Verify correct alignment of TK_ and OP_ constants
Verify that the number of pages on the list is N.
WBMP may be smaller than 12 bytes, so delay error
WRITE_BACK must be the first, since it is a flag.
We must not delete any items in EG(zend_contants)
We need to do so explicitly for 10.2 and earlier.
We should look and see if we can fix that somehow
When the buffer fills up empty it and start over.
When there are any characters after the first NUL
With a style, so they won't overprint each other.
Write and decode big-endian 32-bit integer values
Write out the byte count to maintain header size.
Write the sentinel index as the last decomp node.
X509 resource created using openssl_read_x509() .
YYFINAL -- State number of the termination state.
YYNSTATE           the combined number of states.
YYRHS -- A `-1'-separated list of the rules' RHS.
accept string type since Oid type is unsigned int
already connected, we should close the connection
apply the Miyaguchi-Preneel compression function:
ascii.c -  Oniguruma (regular expression library)
bit 16 set iff "diff" was non-zero (on non-match)
by-ref constraints on return values are covariant
calculate strlen, which can be no longer than 100
case ZEND_ASSIGN_BW_XOR: case ZEND_ASSIGN_CONCAT:
clean up the fetch buffers if they have been used
conditional group contains more than two branches
convert to the encoding number and check encoding
copy the scoreboard not to bother other processes
count the max number of necessary fds for polling
create new file that holds the compressed version
delete old call_frame from previous stack segment
delete previous stack segment if it becames empty
desired position before position or error on tell
destroy the ast here, it might have been replaced
don't break the lock if the host id doesn't match
don't try to initialize JIT agent the second time
duplicate to make the stream za independent (esp.
enlarge the arrays for the already active threads
entity size is unbounded, we may need more memory
esstsett, thorn, n-tilde, c-cedilla, s-caron, ...
fault_string   application specific error string.
figure out how many UTF-8 characters are in zName
free the system buffer allocated by FormatMessage
fts5ExprNodeNext() calls fts5ExprNodeNextMatch().
gd 2.0.11: gdSeek returns TRUE on success, not 0.
generate an XMLRPC_REQUEST from the raw xml input
get response from server and update upsert values
handle situations where user turns the engine off
iTermIdx: Index of current term on iTermLeafPgno.
if SystemTimeToFileTime() fails, it returns zero.
if no script_encoding specified, just leave alone
if we are beyond our limit, then the loop is done
illegal character output function for conv-filter
invalid search type, but no need to complain here
it's a private property, so it can't be inherited
just two strings: use maximum performance version
key may be changed by zend_stream_open_function()
loop to search the first not undefined element...
make a fresh copy each time - strtok corrupts it.
move the non-benign sign extension flag to bit 16
negative value to tell zlib not to write a header
no need to calloc it, we overwrite all pxl anyway
no need to return exit_status of the last request
none of these are real files, so they don't exist
now walk the charset map and look for the codeset
number of rows where key is less than this sample
on error in the hash iterator above, error is set
pIn is a UTF-8 encoded string, nIn bytes in size.
pg_fetch_object() allowed result_type used to be.
recursively convert php values into xmlrpc values
recursively convert xmlrpc values into php values
render the string, offset origin to center string
res might be negative because the table is empty.
return info as a struct, to make expansion easier
rough mapping of xmlrpc fault codes to soap codes
run through the whole string, converting as we go
strptime() cannot handle it, so let IB have a try
test if enought char after the header name + ': '
the "target" block doesn't had any followed block
the points are on different parts of the curve...
these two are dummies and will be destroyed later
this is much more efficient with C99 snprintfs...
time( TIMESTRING, MOD, MOD, ...)  Return HH:MM:SS
try to lookup the table name in the resource list
update the column index on named bound parameters
we can't delete this in-memory until it is closed
we have to test if path is part of DOCUMENT_ROOT.
we must have at the very least phar://alias.phar/
we pass additional args to the respective handler
we use this to allow the child to inherit handles
we would result in an instable executor otherwise
when reading the whole file, check for CRC errors
xBestIndex - Analyze a WHERE and ORDER BY clause.
xRelease(int S):    Commit and close savepoint S.
xRowid - Return the current rowid for the cursor.
(5) tkTEMP      The "temp" or "temporary" keyword.
(Except, do not enforce this for imposter tables.)
(The "_LIMIT_" in the name is changed to "_MAX_".)
(double)0 In case of SQLITE_OMIT_FLOATING_POINT...
0 is the "halt" opcode and causes the test to end.
4x the size of current chunk in Mem3Block elements
A "NOT NULL" constraint has been seen on a column.
A pointer to the linked list of events to process.
A single VDBE is an opaque structure named "Vdbe".
A sub-routine used to implement a trigger program.
A tolerance has been implemented using GD_EPSILON.
Add connection db to the blocked connections list.
Add the PK key for this row to the temporary table
Additional methods may be added in future releases
Advance past the bit map, and act on what follows.
After 5 RETRYs, we begin calling sqlite3OsSleep().
All  fields of *pTask are zeroed before returning.
All characters are checked against the other side.
Allocate cursors for Current, Queue, and Distinct.
Allowed values for the NameContext, ncFlags field.
Allowed values for the unixFile.ctrlFlags bitmask:
Also move the environment to make additional room.
Always extract the argument as a "char *" pointer.
An assertion fails if the two counts do not match.
An index of zero will return a zero length string.
An open page cache is an instance of struct Pager.
Append content to pParse that will complete zPath.
Array of rootpage numbers for tables to be checked
Assign argvIndex values to each constraint in use.
Assume they want to commit whatever is outstanding
Attempt to store the results in register "target".
Begins an SHA224 operation, writing a new context.
Begins an SHA256 operation, writing a new context.
Begins an SHA384 operation, writing a new context.
Begins an SHA512 operation, writing a new context.
Both tables must have the same INTEGER PRIMARY KEY
Buffer for error messages, and its allocated size.
But allow the walk to continue with sibling nodes.
But do not free the associated  memory allocation.
But for maximum safety, mutexes should be enabled.
By scanning the contents of the FTS index, and  2.
Bytes of memory required to allocate the new cache
CHAR opcodes are used for exacts whose count is 1.
CREATE TABLE x(input, token, start, end, position)
Callback for tokenizing terms used by ParseTerm().
Can not use port/port.h macros as this is a c file
Case 1:  Reset the single schema identified by iDb
Change the 'auto-vacuum' property of the database.
Change the lock state for a shared-memory segment.
Change the string value of an sqlite3_value object
Char has only one other case, or UCP not available
Check for attempt to redeclare interface constants
Check for traits and proceed like with interfaces.
Check if any child key columns are being modified.
Check if the temp table already contains this key.
Check sanity of left child page for internal pages
Check there is enough space to append a new entry.
Check to see if the new index entry will be unique
Close an open database and invalidate all cursors.
Collating sequence must be the same on all columns
Completely delete zend_resource, if not referenced
Computes the Sun's ecliptic longitude and distance
Context pointer passed down through the tree-walk.
Copy code of reachable blocks into a single buffer
Create a new collating function for database "db".
Create the imposter table or tables (if required).
Curl Http Version constants (CURLOPT_HTTP_VERSION)
Current checkout, including internal fragmentation
Cursor number of cursor that does not need seeking
Declarations for functions used only in this file.
Decrement the ref-count on a virtual table object.
Default maximum size for persistent journal files.
Dispatched by RSHUTDOWN and by php_session_destroy
Do a memory allocation with statistics and alarms.
Do appropriate processing given the current state.
Do some paranoid checks to avoid integer overflow.
Do the actual manipulation of the life board in C.
Do up to nPg pages of automerge work on the index.
Drop the table and index from the internal schema.
Each object in the array is szEntry bytes in size.
Empty packet after MYSQLND_MAX_PACKET_SIZE packet.
Extract the next token from a tokenization cursor.
Find cached config entry: If not found, create one
Find implemented methods - SessionHandlerInterface
Find the next row in the Queue and output that row
First register in a range holding values to insert
Flip it back around into forward order and return.
For an XCLASS there is always some additional data
For portability, don't call this before execute().
For the SHARED lock, the PENDING will be released.
Frank assures us that the code here works for him.
FreeBSD and DragonFly floating point precision fix
GMST is then the sidereal time at Greenwich at any
Get performance boost if reporting is switched off
Get shared locks at the system level, if necessary
Get the indexed version instead of the normal one.
Helper function for fts3ExprIterate() (see below).
I simply fixed things to get them working for now.
If P2 is zero, then a read-transaction is started.
If USE_SIGN is false, just compare the magnitudes.
If WHERE_ONETABLE_ONLY is set, index cursor number
If all the seg-readers are at EOF, we're finished.
If both left and right are defined, then use left.
If either operand is NULL then the result is true.
If everything checks out, these routines return 0.
If flattening is attempted this routine returns 1.
If it does not look like a number, leave it alone.
If it is not possible, then that is not a problem.
If it is not, it is not possible to use any index.
If it starts with the magic string, then skip that
If it's ALT it is an alternation in a nested call.
If nBest is still 0, then the index must be empty.
If nTruncate is non-zero, this is a commit record.
If non-zero, replace first 4 bytes with this value
If none is found increment the constraint counter.
If not matched, restore the previous mark setting.
If not, see if we can set the PCRE_STARTLINE flag.
If pMem represents an an SQL-NULL value, return 0.
If register P1 is initially zero, then jump to P2.
If so, increase its reference count and return it.
If so, use that as name, and type as an attribute.
If that changes, this place will need some rework.
If the optimization cannot be used, 0 is returned.
If the stream ctx disables SNI we're finished here
Implementation of the sqlite3_pcache.xInit method.
Implementation of the sqlite_source_id() function.
In both cases the vdbe has already been allocated.
In other words, the busy handler is not reentrant.
In that case, just report a simple "syntax error".
In that case, we do not really need shared memory.
In this case see the discussion below for details.
In this case, the RHS is the ROWID of table b-tree
Include sqlite3rbu.h in the middle of sqlite3rbu.c
Include sqliteLimit.h in the middle of sqliteInt.h
Increment the max so the range is inclusive of max
Incremental merges happen nMin segments at a time.
Index of the database containing the table to lock
Infinity or Nan, convert to inf or nan like printf
Initialize all term iterators in the pNear object.
Initialize the contents of the SnippetIter object.
Insert the contents of cell pCell into node pNode.
Instead, the error code is returned to the caller.
Integration of ICU and SQLite collation sequences.
It cannot transition between SHARED and EXCLUSIVE.
It leads to a song and dance at the end of strtod.
It needs to happen before argv is used in any way.
It should raise error, when there is 3rd parameter
Iterate over the hash to construct the argv array.
Just do the same as found in PostgreSQL sources...
Left operands take precedence over right operands.
Load the next leaf page into the segment iterator.
Make pRoot, the root page of the b-tree, writable.
Make sure initialized even if FullPathname() fails
Make sure we don't go round the fork loop any more
Make the JSON in p the result of the SQL function.
Make the new connection a child of the unixShmNode
Map from parent key columns to child table columns
Mark node i of pParse as being a child of iParent.
Maximum error message length (in chars) for WinRT.
Might as well create the error-limiting table too.
Move the write position of the WAL back to iFrame.
NOTES WARNING*** This function is not thread safe.
Name of table that the key points to (aka: Parent)
Negative offset counts from the end of the string.
Neither quote character is included in the buffer.
No comp_func means we're doing pointer comparisons
Non-recursive mutex required to access this object
Normally, they would, yielding a fat-brush effect.
Note that zNum must contain exactly 19 characters.
Number of columns that show through to the output.
Number of errors encountered while resolving names
OUT: Set to true if constraint may cause a replace
OUT: Total number of pages available for recycling
Object store not available during request shutdown
Only do the safemode/open_basedir check at runtime
Only free statement if db-connection is still open
Optimize register allocation: use a real register.
Or to just after a linebreak for a multiline match
Otherwise fall back to the named semaphore method.
Otherwise returns NOT_AVAILABLE or NOT_INITIALIZED
Otherwise, carry on scanning after the subpattern.
Otherwise, request the page from the PCache layer.
Otherwise, the following function call is a no-op.
PTRMAP_ROOTPAGE: The database page is a root-page.
Pointer to space allocated by sqlite3BtreeSchema()
Populate the coverage-checking heap for leaf pages
Pre-initialize the runtime synchronization objects
Precompiled statements used by the implementation.
Private control structure number for microtasking.
Pseudo pass through to catch level validating code
RBU_PK_NONE:          Table has an implicit rowid.
Raw index records are transferred in the same way.
Read part of the data associated with cursor pCur.
Read, deserialize and return the structure record.
Recast strcpy to handle unsigned chars used below.
Record the instruction used to terminate the loop.
Refer to code and comments in where.c for details.
Register iOffset+1 is initialized to LIMIT+OFFSET.
Remove all records associated with segment iSegid.
Remove all redundant columns from the PRIMARY KEY.
Remove the redundant segments from the input level
Request permission to read the parent key columns.
Reset a JsonEachCursor back to its original state.
Reset the bracket count and the names_found field.
Resolve names in all CHECK constraint expressions.
Result of prior seek or 0 if no USESEEKRESULT flag
Return 0 on success and 1 if there are any errors.
Return TRUE if the resize occurs and false if not.
Return a pointer to the new tokenizer in *ppModule
Return the amount of memory currently checked out.
Return the number of microseconds  actually slept.
Return true if a particular Btree requires a lock.
Return with an error if the posted data is garbled
Right now, there isn't any reason not to allow it.
Right thing to do, but it breaks some legacy code.
Rotates an image by 90 degrees (counter clockwise)
SETNULL means that the foreign key is set to NULL.
SID constant is defined when non-cookie ID is used
SMALLEST extracts the least value from the RowSet.
SQLITE_BUSY is returned if the database is locked.
Search for a string in a fixed-length byte string.
Send Host: header so name-based virtual hosts work
Set replacement value to the one we got from array
Set the lower and upper bounds on docids to return
Set up pointers to the individual character tables
Set up the first character to match, if available.
Skip these, but we need to add in the name length.
So substr(x,1,1) returns the first character of x.
Some countries did not accept it until much later.
Some interfaces require a protected sqlite3_value.
Sort the list of pages in accending order by pgno.
Standard says more types possible but skip them...
Substitute case-sensitive (or lowercase) constants
Sync all the db files involved in the transaction.
TODO: Re-enable this once OCI provides capability.
TRUE if p is a lookaside memory allocation from db
Target address must be aligned to 64-byte boundary
The *-oal file is opened or created at this point.
The PGroup mutex must be held when accessing nMax.
The array is cleared after invoking the callbacks.
The assert() below verifies the previous sentence.
The attempt to extend the existing mapping failed.
The btree layer manages reference counting issues.
The cache must not perform any reference counting.
The collector should only be called by the master.
The contents of the page cache have been modified.
The database connection must not have been closed.
The declaration type for a ROWID field is INTEGER.
The default value is the full path to the archive.
The first four bytes contain the length of the key
The following was already done in fts5WriteInit():
The four core functions - F1 is optimized somewhat
The function pointer points to sqlite3BtreeNext().
The generator is already closed, thus can't resume
The generator object is stored in EX(return_value)
The index of the database the expression refers to
The journal file must be open when this is called.
The list of freeblocks must be in ascending order.
The mapping must be valid for at least nAmt bytes.
The number of rowset entries per allocation chunk.
The primary goals are portability and ease of use.
The results are de-ephemeralized as a side effect.
The return is the negated value of the frame size.
The return value is undefined in both these cases.
The root page of the b-tree now contains no cells.
The runtime signal handler will jump to this code.
The second form sets the database page size value.
The size is set to zero when the storage is empty.
The specific table containing the indexed database
The string may be treated as static by the caller.
The subquery whose WHERE clause is to be augmented
The xInit method initializes the memory allocator.
Then sort the list in order of current term again.
There are also other values that have to be saved.
There is a typedef for this structure in sqlite.h.
This C program generates the file cmplxdivide1.go.
This branch is also run for an in-memory database.
This ensures that the original pExpr is unchanged.
This file contains the implementation for TRIGGERs
This is a safe way to pass pointers back to ocaml.
This is a short table, so it is searched linearly.
This is done as part of the vtab xCreate() method.
This is equivalent to the Win32 Sleep() interface.
This macro is provided for backward compatibility.
This object stores information used by checkpoint.
This only allows setting execution bit, read/write
This only happens if we have a special test build.
This page will become the right-sibling of  pPage.
This particular implementation uses mmapped files.
This routine is never called in PAGER_ERROR state.
This routine is never used in single-threaded mode
This routine is the core allocator for Expr nodes.
This should only be the case for the first element
This version of SQLite only supports sqlite_stat3.
This will usually not destroy anything but decref.
To be implemented when we have more image formats.
To fully unlock the database, delete the lock file
To work around them, add a dummy OP_Variable here.
Total of all malloc calls - includes internal frag
Transient storage for serial_type in OP_MakeRecord
True exponent is either not used or is well-formed
True if REPLACE is used to resolve INT PK conflict
Truncate name to next format code or end of string
U+4D00-9FFF CJK Unified Ideographs (+ Extension A)
UCD_BLOCK_SIZE must be 128 (see the assert below).
Update current hash item with the converted value.
Use zTemp for any required temporary buffer space.
Used internally by sqlite3Fts3SegReaderXXX() calls
Value used to signify the end of an position-list.
Verify that the depth of all children is the same.
WRC_Prune         Do not descend into child nodes.
Warning, empty strings need to be passed as stream
We are forced to roll back the active transaction.
We cannot use TMP3 because of this allocate_stack.
We don't need to alloc unless we are in a meta tag
We need to advance the start offset, and continue.
We're in a PHP_INI_SYSTEM context, no restrictions
What to do in case of uniqueness conflict on iPKey
Wrapper around the pluggable caches xUnpin method.
Write out a Zero-length packet (to end the series)
Write the nRec value into the journal file header.
Written (or, at least, moved) 1999, Philip Warner.
XXX should go in the loop if size exceeds UINT_MAX
YYLEX -- calling `yylex' with the right arguments.
adjust how many args we have left and restart loop
allow faster access by updating key read into next
already in progress - just ignore duplicate signal
apply modification if it's not the first iteration
array_intersect_uassoc() or array_intersect_ukey()
auto-detect soft line breaks, found mac line break
calculate how long we need to wait in milliseconds
call it's stream_open method - set up params first
completely fill the hash, then just add it without
cp1251.c -  Oniguruma (regular expression library)
default location of JIT profiling agent on Android
do not install sigint handlers for remote consoles
don't want usernames and passwords floating around
enforce ZEND_MMAP_AHEAD trailing NULLs for flex...
ensure that we free any previous unfetched results
euc_jp.c -  Oniguruma (regular expression library)
euc_kr.c -  Oniguruma (regular expression library)
euc_tw.c -  Oniguruma (regular expression library)
first call without setting to initialize the timer
gd 2.02: whoops, was - b (thanks to David Marwood)
get the public keys we are using to seal this data
i.e. Check session data if new sid exists already.
idx_affinity is the affinity of an indexed column.
if name is an absolute filename then test directly
if there wasn't a hash collision, and this doesn't
incrAggFunctionDepth(pExpr,n) is the main routine.
io.c  Implements the simple I/O 'helper' routines.
io_dp.c  Implements the dynamic pointer interface.
it is always safe to cast an interface to IUnknown
koi8_r.c -  Oniguruma (regular expression library)
local filename, need to perform open_basedir check
make extra argv slots point at end_of_area (a NUL)
maybe shutdown method call exit, we just ignore it
not a X509 certificate, try to retrieve public key
now try again in create(write) mode and log errors
only get here if both points are inside the window
prevent any ".phar" without a stub getting through
raise error if it's not null and cannot be ignored
regenc.c -  Oniguruma (regular expression library)
regext.c -  Oniguruma (regular expression library)
reggnu.c -  Oniguruma (regular expression library)
resize buffer if it's much larger than the result.
restore the users auto-detect-line-endings setting
search for the file this metadata entry references
should be ELEM_ARRAY, but there is an extra level.
size should be between HT_MIN_SIZE and HT_MAX_SIZE
special case for when root element is not an array
spit out the first library error message, at least
sqlite3GetVdbe cannot fail: VDBE already allocated
statement, then this stores values to be inserted.
store the value into "lVal" member of the variant.
strip it down to the working directory "/path/to".
the mutex is released if any kind of error occurs.
the qualifiedName is a malformed qualified name 2.
to handle the format weekday + last/this/next week
translates xml soap dom to native data structures.
tricky little algorithm for backward compatibility
uPattern is to be handled as an ordinary character
utility function for xi_system_describe_methods_cb
we can achieve this without allocating more memory
we should never have mapping in persistent encoder
(2) SQLite never explicitly requests a pendig lock.
(However, an EBCDIC equivalent has now been added.)
-************************ End Serialization Funcs *
-************************ Introspection Utilities *
-- The first phoneme has to be processed specially.
2  means to try really hard to allocate a new page.
2.0: much easier when the destination is truecolor.
7) Append value if given 8) Append temporary stream
A '-' character at the end is treated as a literal.
A PWL file is personal word file one word per line.
A RowSet in an instance of the following structure.
A bitmap is an instance of the following structure.
A character may be followed by '-' to form a range.
A duplicate is made of any string or blob constant.
A flag is set so that the group can be made atomic.
A hot journal is one that  needs to be played back.
A macro used for invoking the codec if there is one
A tries to promote to reserved but is blocked by B.
Add a new element to the end of an expression list.
Add the match sets to the output array and clean up
Add this option / argument pair to the result hash.
After each schema change, the cookie value changes.
All of the usual printf() formatting options apply.
All threads share a single random number generator.
Allocate space to hold the change in document sizes
Allocate the sqlite3_value object using valueNew().
Allowed return values from sqlite3WhereIsDistinct()
Also sorry to break the enum principles here, BC...
Also use a  temp table in the case of row triggers.
Alternatively, if bExtend is true, extend the file.
An array of root pages numbers for individual trees
And the offset immediately following the term data.
Any new array elements are zeroed before returning.
Arguments pBlob/nBlob contain an "averages" record.
At the moment there is only a UTF-8 implementation.
Auto address (NULL) is the last option on the array
BEGIN difference between normal normal fetch and _c
BUGS Currently does little or no validation of xml.
Below, (bytes + read_bytes)  is pointer arithmetic.
Bits are: 0x01: Clear for root page, otherwise set.
Btree.inTrans may take one of the following values.
But it preserves the Mem.zMalloc memory allocation.
But node pLeft sometimes already has a node number.
But this does not work if either limit is negative.
But this might change in future releases of SQLite.
By default, ToASCII() uses transitional processing.
Calculate metonicCycle * HALAKIM_PER_METONIC_CYCLE.
Called by the parser to compile a DETACH statement.
Called during startup to register a UDF with SQLite
Called when the ctor was terminated by an exception
Cell content makes use of variable length integers.
Change the value of a Mem to be a string or a BLOB.
Check if a thread in this process holds such a lock
Check if any parent key columns are being modified.
Check if we already know which method we're calling
Check that the two values are in the correct order.
Code the current SELECT into temporary table "tab2"
Compute its corresponding numeric type, if has one.
Compute the value of nRec based on this assumption.
Copy any modified values to callers copy of variant
Create a list of user columns for the content table
Create a list of user columns for the virtual table
Create output image, 256 by 256 pixels, true color.
Create the destination temporary table if necessary
Cursor number of the temporary table holding result
Data is compared by using a user-supplied callback.
Decide whether some text looks like UTF-8 with BOM.
Declare and initialize constant integer 'isDirect'.
Detach the ORDER BY clause from the compound SELECT
Determine the average document (row) size in pages.
Disallow both ON and USING clauses in the same join
Discard numbers over the limit to avoid modulo bias
Disconnect from or destroy a statvfs virtual table.
Do not gather statistics on views or virtual tables
Do this now to avoid an oversize memory allocation.
Doing nothing at all also makes NORMAL the default.
ERROR: generated size does not match predicted size
Empty statements are not allowed prior to a declare
Erase the given database page and all its children.
Error detected by xRecordCompare (CORRUPT or NOMEM)
Even for zero size payload we have to send a packet
Exactly which is determined by the zUsage argument.
Extra argument values from a PrintfArguments object
FETCH_LIST on a string behaves like FETCH_R on null
Field iChng of the index being scanned has changed.
Find and return the schema associated with a BTree.
Find if Y M D falls in YearNumber Y+1, WeekNumber 1
First of nPk memory cells holding PRIMARY KEY value
Flags for determining allowed stream crypto methods
Flush the packet to disk, and reset the accumulator
For a two-way OR, attempt to implementation case 2.
For a user friendly message about environment setup
For binary data it is truncated to fieldsize bytes.
For mutual recursions we keep a chain on the stack.
For now, this only reverts archive comment changes.
For the purposes of this routine, disable the mutex
Free a page object allocated by pcache1AllocPage().
Free the phrase object passed as the only argument.
GC would cause such a reference in the root buffer.
Get the next client and their address (as a string)
Give the userfilter class a hook back to the stream
Handle multibyte character matching specially here.
Hence nBytes is always a non-negative power of two.
Hence the default is now to store 32 bits per Long.
INTERSECT_COMP_DATA_USER - array_uintersect_assoc()
IPTC International Press Telecommunications Council
If P1 is 0, then all SQL statements become expired.
If a copy is made, the original bucket is delref'd.
If a prior error occurred, report that error again.
If either operand is NULL then the result is false.
If everything is successful, SQLITE_OK is returned.
If field is NULL and HAS DEFAULT, should be skipped
If it's not available, we just use GetDiskFreeSpace
If lookaside is already active, return SQLITE_BUSY.
If non-zero, then URI handling is globally enabled.
If replace is an array and not a callable construct
If required, populate the overflow page-list cache.
If session then update session hash with new object
If so, set the return code to  SQLITE_CORRUPT_VTAB.
If such a row is not found,  decrement the counter.
If the OS does not have posix_fallocate(), fake it.
If the ZVAL is null then it should be bound as that
If the checksum cannot be verified return non-zero.
If the current leaf page is full, flush it to disk.
If the file does not already exist, this will fail.
If the node is dirty, write it out to the database.
If the socket was originally blocking, set it back.
If the vacuum has finished, jump to instruction P2.
If there are any differences, an error is returned.
If there is an ID and strict mode, verify existence
If there is no ID, use session module to create one
Implementation of the matchinfo() function for FTS3
Implementation of the sqlite3_pcache.xFetch method.
Implementation of the sqlite3_pcache.xRekey method.
Implementation of the sqlite3_pcache.xUnpin method.
Implementation of the total_changes() SQL function.
In case of an error, we should have place to put it
In other words, this:  SELECT DISTINCT xyz FROM ...
In practice the KeyInfo structure will not be used.
In that case, delete the subtrees pLeft and pRight.
In these routine, the letters are in reverse order.
In this case the auto-vacuum applies as per normal.
Include fts3_tokenizer.h in the middle of fts3Int.h
Initialize each of the component segment iterators.
Insert a new FuncDef into a FuncDefHash hash table.
Insert fake frame in case of include or magic calls
Instead, it is linked into the Vdbe.pDelFrame list.
Interpret the given string as a locking mode value.
It also contains definitions of "finder" functions.
It is always sent to PHP at the start of a request.
It is used by both pcre_exec() and pcre_def_exec().
It neither reads nor writes the sqlite_stat2 table.
It returns 1 if both of the following are true:  1.
It's not really clear how to get out of this state.
Jump destination for skipping partial index entries
Link the foreign key to the table as the last step.
Loop through table entries that match term pOrTerm.
Loosely based on a tempnam() implementation by UCLA
MEM cell holding data for the record to be inserted
Macro for setting individual bits in class bitmaps.
Macro to return the number of elements in an array.
Make our own copy that can persist after we return.
Make sure the last argument, if passed, is an array
Make the JsonNode the return value of the function.
Mapping from columns of pTab to entries in pChanges
Mark the VDBE as one that can only be run one time.
Memory allocation functions used throughout sqlite.
NATURAL joins also create extra WHERE clause terms.
Need to let pgm process this and the following args
Negative values for the firstchar and reqchar flags
NetBSD 6.0+ uses off_t instead of fpos_t in funopen
No foreign key violations are detected or reported.
Non-zero is returned if it does, or zero otherwise.
Not always defined in the headers as it ought to be
Number of columns must be the same in tab1 and tab2
Number of nested calls to the parser/code generator
OCI likes to stick non-terminated strings in things
Obtain a lock on the table whose root page is iTab.
Offset from the start of data to return bytes from.
On the off chance we were given nothing but crap...
Only a BTREE_SINGLE database can be BTREE_UNORDERED
Option for nontransitional processing in ToASCII().
Or, if it is too small to bother with, discards it.
Otherwise, if no such function exists, return NULL.
Otherwise, we look if we have a TimeZone identifier
Override file_exists(), is_file() and is_readable()
P2 is the number of columns in the ephemeral table.
P3 must be one of the PAGER_JOURNALMODE_XXX values.
PHP 7 is the minimum supported version for OCI8 2.1
Perform whatever processing is required and return.
Planning to make it even more clever in the future.
Pointer to TK_STRING expression with pattern prefix
Potential error situation - eg: no space on device.
Previously set handler must have been saved before.
Print into memory obtained from sqlite3_malloc()().
Print out information about all locking operations.
Print the value of a register for tracing purposes:
Process the LIMIT and OFFSET clauses, if they exist
Purge the range of registers from the column cache.
REQ_UNSET means "no char matching encountered yet".
Ran out of input before finding an opening bracket.
Read or write a four-byte big-endian integer value.
Read the next journal header from the journal file.
Reclaim all memory allocated by a JsonParse object.
Register P3 must not be one of the function inputs.
Register the r-tree module with database handle db.
Request a pointer to the required page from the VFS
Return TRUE if the word ends in a double consonant.
Return leaving the pointer at the terminating char.
Return the SQL associated with a prepared statement
Return the page-size in bytes used by the database.
Return the sector-size in bytes for an rbuVfs-file.
Rotates an image by 180 degrees (counter clockwise)
Rotates an image by 270 degrees (counter clockwise)
Round up a number to the next larger multiple of 8.
Rows are extracted from the Queue table one by one.
SEE ALSO XMLRPC_CleanupValue () XMLRPC_VALUE SOURCE
SQLITE_DEBUG - the sqlite3AssertMayAbort() function
SQLITE_OK is returned even if we reach end-of-file.
SRT_Set         The result must be a single column.
Scan a string up to width characters or whitespace.
Search for the index that has the lowest scan cost.
Second loop through list, now close all connections
See also: sqlite3FindCollSeq(), sqlite3GetCollSeq()
See comment in sqlite3.h (sqlite.h.in) for details.
See if the checksum matches the master journal name
See if we have an exact match, if so, we're done...
See sqlite3Init() below for additional information.
Set the pointer-map entry for the new sibling page.
Set the safety_level and pager flags for pager iDb.
Setup the CGI variables if this is the main request
Simple case - long that doesn't need to be rounded.
Size of this block (does not include this trailer).
Size of write ahead log header, including checksum.
Slap a null character on the end of the phoned word
So omit the OP_RealAffinity opcode if it is present
Special internal returns from the match() function.
Static mutexes are for internal use by SQLite only.
Support for multiple channels added (argb for now).
TODO: perform topological sort of cyclic call graph
TODO: put in negative code for non-persistent stubs
Table containing the REFERENCES clause (aka: Child)
Temporarily mark the end of the branch with OP_END.
Temporarily terminate the pattern while doing this.
That is all the insert routine needs to know about.
That is not the normal state of affairs, of course.
That should be handled by the client when fetching.
The  hash table will continue to function normally.
The "context" argument for an installable function.
The CHECK_PAGE macro takes a PgHdr* as an argument.
The CPU does not set flags if the shift count is 0.
The ORDER BY clause is ignored for all of the above
The P3 value is a hint to the btree implementation.
The Table object to which the virtual table belongs
The WHERE clause processing routine has two halves.
The author disclaims copyright to this source code.
The backup process p has already copied page iPage.
The caller has already promised not to write to it.
The cell may contain a pointer to an overflow page.
The conflict algorithm (OE_Abort, OE_Replace, etc.)
The ctype.h header is needed for non-ASCII systems.
The equivalent instruction for tables is OP_Insert.
The final value of *pbOk is undefined in this case.
The final value of piIdx is undefined in this case.
The first argument must be a nul-terminated string.
The first value is the number of rows in the index.
The function returns old value of location options.
The implementation of the sqlite_record() function.
The join operator is held in the entry to the left.
The last page can have as little as 1 byte of data.
The leaf flag means that this page has no children.
The list is kept in ascending order by pBt address.
The lock is held if and only if the lockfile exists
The master database table has a structure like this
The maximum number of arguments to an SQL function.
The minimum amount of free space that we have seen.
The number is always rounded up to a multiple of 2.
The pDirtyPrev pointers are corrupted by this sort.
The problem has been fixed with the "v2" interface.
The quality parameter for gd2 stands for chunk size
The scanner will be searching the WHERE clause pWC.
The size returned omits the 8-byte header overhead.
The symbol can be either a terminal or nonterminal.
The value is a string, and identifier, or a number.
The value returned is in allocations, not in bytes.
The xRename method for rtree module virtual tables.
The xUpdate method for rtree module virtual tables.
The year is divided into 12 months of 30 days each.
Then just as many characters of the MD5(pw,salt,pw)
There are Btree cursors associated with each table.
There can only be a single writer active at a time.
There is no sense in actually repeating assertions.
There's ABSOLUTELY NO WARRANTY, express or implied.
Therefore it is a fatal error if "trailer" is null.
These are used by GetDiskFreeSpaceEx, if available.
These two locals can be used by the current opcode.
This allows legacy scripts to be pharred unmodified
This call is to merge all segments at level iLevel.
This can help the subquery to run more efficiently.
This function is used to help parse position-lists.
This has the effect of erasing all imposter tables.
This instruction makes a shallow copy of the value.
This is a no-op if P1 is not currently in WAL mode.
This is also used to identify  appendable segments.
This means that locking does not occur under DJGPP.
This only applies to automatically created indices.
This pass only populates the Fts3PhraseToken array.
This routine is called after identifier resolution.
This routine is used for testing and analysis only.
Throw the exception in the context of the generator
Tishri 1 must never be Sunday, Wednesday or Friday.
To check alignment gcc has an appropriate operator.
To force any register to be an integer, just add 0.
Token types used by the sqlite3_complete() routine.
True if constraint checking is deferred till COMMIT
Try to avoid checking for flags, width or precision
UNUSED_DEST is not set when no flags should be set.
Update session data modification/access time stamp.
Use OP_RealAffinity to make sure it is really real.
Use parse_url - if it returns false, we return NULL
Use this for commenting out debug-print statements.
Usually only a few pages are meet either condition.
Verify class name before passing it to __autoload()
Verify the peer against using CA file/path settings
WH becomes W, WR becomes R W if followed by a vowel
We come here from BRAZERO with allow_zero set TRUE.
We don't need to handle soft partial matching case.
We just cut a block from the end of the free block.
We must try the original host and port information.
We only unroll the first 1-, 2-, and 3- byte cases.
We should always be able to reacquire the read lock
We try to avoid this by setting our own value first
We use this return value to alloc the final buffer.
Write this item into the set table with bogus data.
YYINITDEPTH -- initial size of the parser's stacks.
Yet, the previous php_rand only returns 31 at most.
`count` is actually the length of the payload data.
a xor reg, reg operation would overwrite the flags.
alpha 0 is opacity, so be sure to invert at the end
always copy the var, because we do many conversions
arguments after the file are considered script args
automatic allocateable buffer for additional header
bring the palette colors in im2 to be closer to im1
buffering wasn't enabled, there is nothing to flush
c) The old syntax supports the "-" token qualifier.
check for contiguous environ strings following argv
const char *fn: list of magic files and directories
convert JMPZ(X,L1), L1: JMPNZ(X,L2) to JMPZ(X,L1+1)
date( TIMESTRING, MOD, MOD, ...)  Return YYYY-MM-DD
desired becomes what we consumed this round through
determine if the file is a local file or remote URL
do first-time-only definition of bind/mapping stuff
extract API version, lowest nibble currently unused
figure out where the context is coming from exactly
find out the size of the file (verifying it exists)
first we check the hash for the hashed_details key.
flist is an array of mbfl_identify_filter instances
gb18030.c -  Oniguruma (regular expression library)
get field index if the field parameter was a string
get the significant edge points affecting the pixel
headers_lc is only created if we've a header at all
iLeafPgno: Current leaf page number within segment.
iTable is the page number of the root of the table.
if there was an error in the fetch then don't cache
ignore query string if sent by Apache (RewriteRule)
key is stored withOUT NUL val is stored WITH    NUL
load glyph image into the slot (erase previous one)
lookup_cv may be using another zend_string instance
make stream not being closed when the zval is freed
may not be initialized if file could not be created
negative value to tell zlib that there is no header
no docref given but function is known (the default)
now try to find an appropriate POST content handler
pToCol is a list of tables in the parent pTo table.
peak number of allocated chunks for current request
qualify the filename to prevent extraneous searches
regcomp.c -  Oniguruma (regular expression library)
regexec.c -  Oniguruma (regular expression library)
register the transaction in our own data structures
regposix.c - Oniguruma (regular expression library)
regtrav.c -  Oniguruma (regular expression library)
remeber the last restart time in the process memory
set this slot as free to avoid search on next alloc
simple way to get necessary buffer of required size
singleton at start of script, region , variant etc.
some drivers might need to describe the columns now
subpattern name is too long (maximum 32 characters)
there was a collision, check to see if it's already
this file is not in the phar, use the original path
this function doesn't check for too many parameters
unicode.c -  Oniguruma (regular expression library)
use the same stream for locking and database access
variable-argument wrapper around sqlite3VXPrintf().
volatile so we can gdFree it on return from longjmp
wrap internal function handler to avoid memory leak
xNext - Advance the cursor to the next row, if any.
zName must be a pointer to a nul terminated string.
zSql is a zero-terminated string of UTF-8 SQL text.
zend_hash_quick_update needs length + trailing zero
(5) Reclaim the memory allocated for storing labels.
0xdf, 0xb5 are lower case letter, but can't convert.
12/13/887605, greater value raises interger overflow
2.0.5: can't use gdTrueColorGetRed, etc with palette
2.0.9, Thomas Winzig: apply simple full transparency
4 bytes or less and value is in the dir entry itself
A malloc may have failed inside of the xFunc() call.
A new IdList is returned, or NULL if malloc() fails.
A success code from the prior execution is returned.
A typedef of this structure if found in sqliteInt.h.
A value of 1 means that auto-possessification is OK.
A zero entry means there is no possessified version.
Activation is only possible before the first Read().
Add the rowid of the row to be deleted to the RowSet
Advance PmaReader pReadr to the next key in its PMA.
All non-degenerate affine transforms are invertible.
Allocate a new segment-id for the structure pStruct.
Allocate match sets array and initialize the values.
Allocate nByte bytes of space using sqlite3Malloc().
Allocated size for registers must be divisible by 8.
Also, on reads, we may get this condition on an EOF.
Always follow with :N where N is the number of bits.
An SQLite error code is returned if an error occurs.
Argument apSegment is an array of nSegment elements.
Argument zTarget is the path to the target database.
Assume an indexed expression can always yield a NULL
At the moment, the size of pcre_study_data is fixed.
BRAPOSZERO occurs before a possessive bracket group.
Begin a transaction and increment the schema cookie.
Begins a ripemd128 operation, writing a new context.
Begins a ripemd160 operation, writing a new context.
Begins a ripemd256 operation, writing a new context.
Begins a ripemd320 operation, writing a new context.
Both operands use the same collating sequence OR 5b.
Call setsid so that we can use kill(0, SIGIO) below.
Called by the parser to compile an ATTACH statement.
Called from php_request_startup() for every request.
Cannot be both MEM_Int and MEM_Real at the same time
Character set tests (like isspace(), isalpha() etc.)
Check and see if the server even sent a xml document
Check for error during recursion and if found, bail.
Check that all undefined public option bits are zero
Check to see if a unixShmNode object already exists.
Clear the PGHDR_NEED_SYNC flag from all dirty pages.
Clear the content of node p (set all bytes to 0x00).
Close an iterator opened by sqlite3Fts5IndexQuery().
Close the cursors open on the table and its indexes.
Code that appears at the end of the integrity check.
Combination of OP_EXACT and OP_POSSTAR or OP_POSUPTO
Compare the OBJECT label at pNode against zKey,nKey.
Compilation failed: print the error message and exit
Convert fname from UTF-8 to Windows-friendly UTF-16.
Create the rootpage for the index using CreateIndex.
Currently iOff points to the first byte of a varint.
Decrement the count of locks against this same file.
Delete the underlying storage if deleteFlag is true.
Determine whether triggers are recursive by default.
Different systems want the buffer padded differently
Do various sanity checks on a single page of a tree.
Doclists hold docids and associated token positions.
Don't free ustr cause it's set in zstr without copy.
EOCD64 locator is before EOCD, so leave place for it
Each shared-memory region is szRegion bytes in size.
Ensures that we're allowed to call a private method.
EofA:    Called when data is exhausted from selectA.
EofB:    Called when data is exhausted from selectB.
Estimate the logarithm of the input value to base 2.
Exactly one of regOld and regNew should be non-zero.
Exit point for the then opcodes of this alternative.
Extract the rowid or primary key for the current row
FIXME: Be smarter about indexes that use expressions
FIXME: open must set valid PS(mod_data) with success
F_FULLFSYNC is currently only available on Mac OS X.
Fetch the typelibrary and use that to look things up
File Implementing the shared memory system for Hack.
Find the first occurrence of find in s, ignore case.
Find the largest relative level number in the table.
First check what mode we want (how many suggestions)
For  AND or OR nodes, it contains 2 or more entries.
For ONEPASS, no need to store the rowid/primary-key.
For a varray this is the maximum length of the array
For example, assuming that index p is on t1(a):  ...
For leaf nodes the integer is the rowid of a record.
For this reason the prefix is rather better cut off.
Free allocated data belonging to a glob_t structure.
Free an RbuState object allocated by rbuLoadState().
Free here what should not be seen by the next script
Free the list of sorted records starting at pRecord.
Fts5SegIter.rowid is set, but nPos and bDel are not.
Function call was converted into builtin instruction
GCC workaround for invalid code generation with -O2.
Generate code for all sub-queries in the FROM clause
Generate code that will increment the schema cookie.
Get a NULL terminated version of the new table name.
Get the last value and copy it into the return value
Given a key, returns the list of values bound to it.
Go through the string and quote necessary characters
However it does not work out of the box with zipvfs.
However, sometimes a fault is not necessarily fatal.
INPUTS value     The xml value who's ID we will set.
If *pArg is initially negative then this is a query.
If a decimal point/exponent is found, it's a double.
If an error occurs an SQLite error code is returned.
If an error occurs, set the Fts5Index.rc error code.
If an unlock is omitted, resources leaks will occur.
If file doesn't look like any sort of text, give up.
If in full-synchronous mode, sync the journal first.
If it actually is this, return a pointer to the ')'.
If it can, create one if one does not already exist.
If it is SAVEPOINT_ROLLBACK, the xRollbackTo method.
If it is the right size, return the recycled buffer.
If minimizing, keep trying and advancing the pointer
If no database changes have been made, return early.
If no error messages have been generated, output OK.
If no match is found, search the built-in functions.
If the cursor is not at EOF, read the next character
If the journal file is open, then it is "finalized".
If there was no return value then just skip fetching
If this fails, then there is no matching parent key.
Immediate constraints are usually handled similarly.
Implementation of the sqlite3_pcache.xCreate method.
Implementation of the sqlite3_pcache.xShrink method.
Implementation of the stat_init(N,K,C) SQL function.
Individual bits may be set or cleared one at a time.
Initialize a number NUM by making it a copy of zero.
Internal change requires this for API compatibility.
It also contains code to merge FTS3 b-tree segments.
It is Adar II or later - don't need the year length.
It no longer has relation with the database session.
It returns (0) if the input is not known to be JSON.
It will be used as an internal node of the new tree.
JPEG do we have the data area and what to do with it
Journal files begin with the following magic string.
Jump to the end of the loop if the LIMIT is reached.
Keep compiler happy by referencing function argument
Local variables: tab-width: 4 c-basic-offset: 4 End:
Logging is disabled if the function pointer is NULL.
Look ahead to get the available data amount to read.
Loop over the tables in the join, from left to right
Lucky us, we can free a bit of memory from the pool.
MSVC is picky about pulling func ptrs from va lists.
Make a local copy and adjust rve to be in terms of s
Make sure all objects are contained in this database
Make sure all the indices are constructed correctly.
Make sure the lock has been released before closing.
Mark non-alphanumeric ASCII characters as delimiters
Mark the page that is about to be modified as dirty.
MemTranslate() may return SQLITE_OK or SQLITE_NOMEM.
Move a statvfs cursor to the next entry in the file.
Must have at least one page for the WAL commit flag.
Must not find value when custom filter returns false
N1 is added to N2 and the result placed into RESULT.
New verbs may be added in future releases of SQLite.
Not originating in the ON clause of an OUTER JOIN 4.
Note: can_cache is called only for binary operators.
Now see if we need to remove any special characters.
Number of databases with an active write-transaction
Number of sorting key columns, including OP_Sequence
OVECTOR(1) contains the "string begin - 1" constant.
Obviously the CRT version will be useful more often.
On Unix use the (usual) TMPDIR environment variable.
Only built-in functions have access to this feature.
Only creates a single-dimensional array of variants.
Open a read-only cursor on the index being analyzed.
Open an ephemeral index to use for the distinct set.
Or, if an error occurs, return an SQLite error code.
Or, if writeOnly is false, all cursors are  tripped.
Otherwise it leads to false matches in memdup check.
Otherwise it returns with a value outside the range.
Otherwise we could have been able to skip that step.
Otherwise, just insert the unique subpattern number.
Otherwise, sync the database file for the btree pBt.
Otherwise, the following line sets YYVAL to garbage.
Output variable *ppStmt is set to NULL in this case.
PCRE might get stuck if the input buffer is too big.
Print out the compiled data if debugging is enabled.
Put sent value in the target VAR slot, if it is used
Read a string from the file descriptor and print it.
Read a varint from the stream of data accessed by p.
Read the schema information out of the schema tables
Read the varint and return the number of bytes read.
Reads the character type into TMP1, updates STR_PTR.
Record the trait from which this alias was resolved.
Relocate STACK from its old location to the new one.
Result set n + 1 is about the procedure call itself.
Return 0 for OFF, 1 for ON or NORMAL and 2 for FULL.
Return 1 if xInit was found on the list and removed.
Return SQLITE_OK on success, SQLITE_BUSY on failure.
Return TRUE if the named file is really a directory.
Return a 64-bit integer value for a query parameter.
Return a block of memory of at least nBytes in size.
Return a pointer to the data for the specified page.
Return non-zero if a memory allocation error occurs.
Return the affinity for a single column of an index.
Return the major token number for the symbol popped.
Return the serial-type for the value stored in pMem.
Return the size of the Nth element of the cell array
Return the total number of pages stored in the cache
Returning true might give a performance improvement.
Routines to read and write variable-length integers.
SCALE_MIN is to set the minimum scale of the result.
SEE ALSO XMLRPC_GetDefaultIdCaseComparison () SOURCE
SEE ALSO XMLRPC_ServerAddIntrospectionData () SOURCE
SEE ALSO XMLRPC_SetDefaultIdCaseComparison () SOURCE
SELECT statements to the left always skip this part.
SQLITE_NOMEM  is returned if a malloc attempt fails.
SQLite uses dynamic typing for the values it stores.
Search the pathlist for any of a list of font names.
See comments in sqliteInt.h for further information.
See the GNU General Public License for more details.
See ticket http://www.sqlite.org/src/info/f2369304e4
Seek back to the beginning and write the byte count.
Serialization is not supported for anonymous classes
Set stack entry to point to the newly created object
Set the BTS_SECURE_DELETE flag if newFlag is 0 or 1.
ShallowCopy only needs to copy the information above
Shift things around to insert the code if necessary.
Should build on just about anything with minor mods.
So go ahead and allocate enough space, just in case.
So quickly guess a minimum result size based on that
So row_packet's destructor function won't efree() it
So search forward to see where said rowid really is.
Some combination of MEM_Null, MEM_Str, MEM_Dyn, etc.
Step 1: Search the hash table for an existing entry.
Store the token type in *tokenType before returning.
Stub: create a watching thread for a given directory
Such that the comparison is always going to be false
Suppress duplicates for UNION, EXCEPT, and INTERSECT
Switch on next character until the end of the branch
TESTING  This algorithm has been tested in two ways.
TODO: enable it when enabling vista/2k8 mode in tsrm
Table of methods for MemJournal sqlite3_file object.
Test for forward reference or uncompleted reference.
The "rbu_control" column should have no type at all.
The EXCLUSIVE lock is not released before returning.
The allocation drivers implemented here always fail.
The arguments specify the block of memory to manage.
The b-tree layer then attempts a rollback operation.
The common case is for a varint to be a single byte.
The difference is only important to the update hook.
The doclist may or may not finish within the buffer.
The final result will be added to the first context.
The final value of *pbRes is undefined in this case.
The final value of *ppVal is undefined in this case.
The first  word of the document has a position of 0.
The first step is to get the stack status structure.
The following are used by the fts3_snippet.c module.
The following defines are used in implementing this.
The following sqlite3VtabRollback() call will do so.
The implementation is stolen from array_data_shuffle
The index created will become the PRIMARY KEY index.
The new VFS becomes the default if makeDflt is true.
The only consequence will be disabled optimizations.
The refcount is decremented in the persistent helper
The remainder of the node contains the node entries.
The result of the function is stored in register P3.
The symbolic label is really just a negative number.
The third literal is the lowercased unqualified name
The value of lengthptr distinguishes the two phases.
The values stored in the other columns are not used.
The zTerm buffer (size nTerm bytes) contains a term.
Then take the  2s complement of that positive value.
There is no way to tell if this is populated or not.
These cases better be left to handled by normal way.
These variables do not exist in a non-testing build.
They are dequoted before being added to the SrcList.
This block moves the pOrderBy down to the sub-query.
This branch also runs for files marked as immutable.
This call is a no-op if zTab is not a virtual table.
This can be used to implement an in-memory database.
This facility is an optional feature of the library.
This file contains code that is specific to Windows.
This function accepts a single argument of any type.
This function consumes at least one input character.
This function does a "phrase" merge of two doclists.
This function implements the build-in LIKE operator.
This function starts a write transaction on the WAL.
This includes negated single high-valued characters.
This indicates nothing more needs to be rolled back.
This is different from every other SQLite interface.
This is needed for dealing with backward assertions.
This is the xFilter interface for the virtual table.
This is used for both automatic and manual callouts.
This makes common insert operations slightly faster.
This makes the code easier to read during debugging.
This may lead to overlapping statement transactions.
This module implements an object we call a "RowSet".
This object is used by fts5_expr.c and fts5_index.c.
This routine does *not* accept hexadecimal notation.
This routine is used for testing and debugging only.
This setting has no effect when compiling for WinRT.
This structure also contains some state information.
This structure is opaque to the database connection.
This table may be real database table or a subquery.
This version of the memory allocator is the default.
Throw an error if any non-sense combination is used.
Throw an error if the JSON or any PATH is malformed.
Throw the exception in the context of the generator.
Thus it won't extend and rehash the hash constantly.
Tishri           The first month of the Jewish year.
True if we are evaluating an out-of-memory callback.
Try to expand the master using the newly freed chunk
Types and lists for handling lists of case mappings.
Unregister a VFS so that it is no longer accessible.
Unwind the stack and return the top-level walk call.
Use either INTEGER or REAL whichever is appropriate.
Utility routines for dealing with JsonString objects
VDBE cursor number of the pSub result set temp table
Values of mode other than 0-9 are treated as mode 0.
Verify that all NOT NULL columns really are NOT NULL
WRC_Continue      Continue descending down the tree.
We are not necessary in utf mode even in 8 bit mode.
We don't need to check for buffer overflow any more.
We first check for the minimum number of characters.
We now know closest, but first try to allocate exact
We only distinguish the MS extensions to ISO-8859-1.
When a rollback occurs, the value of K is decreased.
Without an ORDER BY, the Queue table is just a FIFO.
Without such a constraint, the table cannot operate.
Write page pPg onto the end of the rollback journal.
Write the master journal name into the journal file.
YYERROR is fine as it does not invoke this function.
ZEND_CLASS_DTOR may be used by standard PHP compiler
assume current mode has at most length 4 (e.g. wbn+)
avoid driver auto-translation: we'll do it ourselves
build the old simple array for imap_listsubscribed()
calculate the possible padding factor due to quoting
call dtor on the old element as in spl_ptr_llist_pop
called by PDO to fetch the next row from a statement
called by PDO to get a driver-specific dbh attribute
called by PDO to set a driver-specific dbh attribute
check if size_t can be safely casted to unsigned int
check if that addr is in a mprotect()'ed memory area
check if the same interned string was already stored
churn through str, generating array entries as we go
convert constant operands to strings at compile-time
create a copy of the lock path if the conch is taken
def could be empty, thus don't allocate on the root.
divide different length alternatives in look-behind.
don't colllect constants after unknown function call
ensure 2 pools do not use the same listening address
exponent has 7 bits, but 8 is the right value in b2d
extract key from cert, depending on public_key param
figure out docroot SCRIPT_FILENAME minus SCRIPT_NAME
force lock on db file or lck file or disable locking
frees all resources allocated for the current thread
from path and restrict it to be under dest directory
handle mixed syntax declaration or nested namespaces
iOff: Set to the current offset within record pData.
if not valid serialized data, it is a regular string
if not, it's certainly not an HTTP over fcgi request
imap_thread, stealing this from header cclient -rjs3
initialize font library and font cache on first call
initializing the special array for the return values
inittls allocates a thread-local storage slot for g.
internal error: unknown opcode in find_fixedlength()
iterator interface, c-level functions used by engine
library is already initialized, now init our request
link key to the same persistent script in hash table
lock semaphore now but bail out when already locked.
malformed JSON or PATH arguments result in an error.
max deflate size increase: size + ceil(size/16k)*5+6
more than just our fp resource is open for this file
no more data to decompress, and nothing was spat out
no value for mbstring.internal_encoding is given, 2.
now, perhaps, adjust the far end of the line as well
only allow abbreviating commands that can be aliased
pParse is uninitialized when this routine is called.
parse the string and save the extension in the array
pazCol:  Set to point to an array of *pnCol strings.
pcre_get_compiled_regex_cache has already sent error
pre 4.3 behaviour, shouldn't be used but provides BC
prevent double free if following loop is interrupted
print interbase error and save it for ibase_errmsg()
regerror.c -  Oniguruma (regular expression library)
regparse.c -  Oniguruma (regular expression library)
regposerr.c - Oniguruma (regular expression library)
reserve workspace for building each individual field
returns TRUE if a is an ID separator FALSE otherwise
since Zend auto allocates space for vars, this is no
something fishy, but allow it to come back as binary
sqlite3_step() should not be called again on the VM.
strdup because strtok(3) alters the string it parses
strtod for IEEE-, VAX-, and IBM-arithmetic machines.
syntax error in subpattern name (missing terminator)
the caller has apparently passed a connection-string
the entry has a path separator and is a subdirectory
the userfilter object probably doesn't exist anymore
this constructor shouldn't be called as it's private
try to see if the element already exists in the hash
two traits can't define the same non-abstract method
uPattern is an unescaped match-one character "_", 3.
uid_t can be signed or unsigned (generally unsigned)
using pre-9.0 syntax as PDO_pgsql is 7.4+ compatible
utf16_be.c -  Oniguruma (regular expression library)
utf16_le.c -  Oniguruma (regular expression library)
utf32_be.c -  Oniguruma (regular expression library)
utf32_le.c -  Oniguruma (regular expression library)
val now holds the lower bound of the coordinate pair
val now holds the upper bound of the coordinate pair
we already changed the value, free the changed value
we should introduce something like PARAM_PASSTHRU...
we've started allocating resources, goto from now on
(overwrite previously computed value if there is one)
*pRc is SQLITE_OK when this function returns, and  2.
-************************* End XMLRPC_REQUEST funcs *
/openbasedir/ and /openbasedir are the same directory
A backreference to group n is returned as negative n.
A column-list is terminated by either a 0x01 or 0x00.
A copy of the key is made if the copyKey flag is set.
A moment of convenience, a lifetime of compatibility.
A named index with an explicit CREATE INDEX statement
A type that is properly aligned for any stack member.
ATTN: key extraction must be the first thing to do...
Add an entry to one of the pending-terms hash tables.
Add entry to the chunk, preserving keys if necessary.
Add the last (match, offset) pair to the return value
Advance each level to the last entry on the last page
Advance the cursor to the next entry in the database.
All the work is done in function fts5VocabInitVtab().
Allocate the space required for the Stat4Accum object
Allocation granularity on Windows is typically 64 KB.
Also, it always expected to obtain an exclusive lock.
An attempt to set a limit smaller than -1 is a no-op.
An instance of this object is used for writing a PMA.
And now, just to make sure things don't run too fast.
Any B-Tree deeper than this will be declared corrupt.
Anything else does not or need not match a character.
Append N bytes of text from z to the StrAccum object.
As a last resort, return a non-persistent connection.
Attach the KeyInfo structure to all temporary tables.
Bad character set, but the user wants us to press on.
Before any PRIMARY KEY or UNIQUE keywords are parsed.
Both the input and output doclists are delta encoded.
Bump the 'curx' and 'cury' to point to the next pixel
But rather than start with 0 or 1, we begin with 'A'.
But that is a lot of wasted space on the left margin.
By default, ToUnicode() uses transitional processing.
Cache iterator functions if ArrayIterator or derived.
Can be removed once support for ocaml-4.01 is dropped
Can perform an operation using at most 1 instruction.
Clean up and return the number of values in the stack
Collects the calls until the function is not created.
Conditional block always has at most one alternative.
Construct a new Expr object from a single identifier.
Context object used by sqlite3Fts5StorageIntegrity().
Convert a sorted list of elements into a binary tree.
Convert strings in the specified array back to UTF-8.
Convert the inverted S-boxes into 4 arrays of 8 bits.
Convert to lower case for case-insensitive comparison
Convert to string, just the time to pick the 1st byte
Copyright (c) 2002-2015, Lite Speed Technologies Inc.
Copyright 2001-2004 Brandon Long All Rights Reserved.
Copyright 2003-2004 Brandon Long All Rights Reserved.
Create a gd-format image from the JPEG-format INFILE.
Create new entry if true and does not otherwise exist
Cut the allocated space into a free and a used block.
Deallocate internal memory used by a WhereLoop object
Decode the arguments passed through to this function.
Default number of rounds if not explicitly specified.
Delete the underlying  storage if deleteFlag is true.
Deprecated in favor of php_stream_copy_to_stream_ex()
Determine a "stack measure" for an arbitrary ADDRESS.
Disable RLB as we mostly have single-connection pools
Discard all data currently cached in the hash-tables.
Discard any data stored in the in-memory hash tables.
Discard the candidate path from further consideration
Discard the contents of the pending-terms hash table.
Discard the contents of the pending-terms hash-table.
Discard the scheme and authority segments of the URI.
Do key permutation and split into two 28-bit subkeys.
Do not repeat them so as not to clutter the error log
Each shared-memory region is szRegion  bytes in size.
Each symbol here is a terminal symbol in the grammar.
Escapes that need further processing, or are illegal.
Existing configuration options might be discontinued.
Figure out the db that the trigger will be created in
Files save handler closes open files and it's memory.
Finalize the statement passed as the second argument.
Find out how many processes are using this semaphore.
Find the value object that holds the new rowid value.
For a NOT node, this array always contains 2 entries.
For a forward assertion, we take the reqchar, if set.
For a non-repeating ket, just continue at this level.
For full prefix support, method (3) may be preferred.
Fortunately this doesn't actually matter in practice.
Free any old pages that were not reused as new pages.
Free memory previously obtained from sqlite3Malloc().
Free the phrase object passed as the second argument.
Full text of the relevant licenses is included below.
Functions used to obtain and release page references.
Gather statistics on the sizes of memory allocations.
Generate code that will erase and refill index *pIdx.
Get the first value and copy it into the return value
Get type of the previous char, and put it to LOCALS1.
Get weight of this magic entry, for sorting purposes.
Give a listing of the program in the virtual machine.
Grow the two buffers to pgsz + padding bytes in size.
Hence, the sqlite3BtreeUpdateMeta() call cannot fail.
Hint Zend how many elements we will have in the hash.
If P4 is not null then it is an error message string.
If a smaller cell does exist, pad it with 0x00 bytes.
If all arrays are empty we don't need to do anything.
If an IO error  occurs, an IO error code is returned.
If an OOM condition is encountered, NULL is returned.
If an OOM error occurs, leave an the error code in p.
If an error occurs, an SQLite error code is returned.
If changing the record number, delete the old record.
If everything goes as planned, SQLITE_OK is returned.
If it is a DELETE, pChanges is passed a NULL pointer.
If no SNI cert array is specified we're finished here
If no pending lock has been acquired, then acquire it
If path_translated is NULL, terminate here with a 404
If that was the last leaf node, break out of the loop
If the allocation succeeded, populate the new object.
If the column is modified, the value is 0 or greater.
If the function returned an error, throw an exception
If there is, then we consider this journal to be hot.
If this is a commit, update the wal-index header too.
Implementation of the json_array(VALUE,...) function.
Implementation of the sqlite3_pcache.xDestroy method.
In many cases, method (1) above is the best approach.
In that case, we allow yet more memory, just in case.
In this case abandon processing and return the error.
In this circumstance, Perl ignores the SKIP entirely.
Increase the reference count of a supplied page by 1.
Indices of 2 or more are used for attached databases.
Information was available, but we were denied access.
Initialize bulk memory to be a consistent Mem object.
Initialize in case this module hasn't been loaded yet
Initialize structure containing state of computation.
Initializing the tail of the buffer is not necessary.
It is Tishri or Heshvan - don't need the year length.
It returns the total number of pages in the database.
It's not really the closest* molad that we want here.
It's the md argument of match(), which never changes.
Legacy save handler may not support validate_sid API.
Length of element + equal sign + length of key + null
Locate symbol for the system pthread_create function.
Locking primitives for the proxy uber-locking-method.
Macros for looping over all elements of a hash table.
Macros to compute minimum and maximum of two numbers.
Make necessary adjustments to the CellInfo structure.
Make sure a mutex is held on the table to be accessed
Match a negated single one-byte character repeatedly.
Mixed key types: A string key is considered as larger
Move to next element closer to the head of the queue.
Named semaphore locking is only available on VxWorks.
New Rule: never repair potential malicious user input
No need to waste time with special character handling
No-op stubs to use when memory-mapped I/O is disabled
Normally, zero is written to this value at this time.
Not fully initialized object that is being cleaned up
Note that entries are added in order of increasing K.
Number of bytes of memory available to this allocator
Number of references to columns in other FROM clauses
ORA-00955: name is already used by an existing object
ORDER BY xyz  is transformed to:  SELECT xyz FROM ...
O_NOFOLLOW to prevent us from following evil symlinks
On Unix, the stack can be large, and this works fine.
Opcode: Vacuum * * * * *  Vacuum the entire database.
Open it and check if it points at the master journal.
Option for nontransitional processing in ToUnicode().
Or, if an error does occur, set *pRc to SQLITE_ERROR.
Or, if it fails, it returns INVALID_SET_FILE_POINTER.
Or, if the close-quote is not  found, -1 is returned.
Or, if zName is not a system table, zero is returned.
Other processes may hold and obtain new SHARED locks.
Otherwise, invoke it for the database named zDb only.
Otherwise, it switches the pager to PAGER_OPEN state.
Otherwise, scan the individual branches of the group.
P-box and S-box tables initialized with digits of Pi.
PATH_INFO and PATH_TRANSLATED should always be munged
PHP 5.2 is the minimum supported version for OCI8 2.0
POSIX named classes are supported only within a class
Parse a timezone extension on the end of a date-time.
Parse through the options, setting appropriate flags.
Passing a NULL pointer to sqlite3_free() is harmless.
Passing a zero or  negative value indicates no limit.
Points to the starting position of the current match.
Position the read cursor on the first sorted element.
Post handlers are stored in the thread-local context.
Prepare the option character and the argument string.
Queue cursor left on position found item else at end.
RBU_PK_EXTERNAL:      Table has an external PK index.
Read a 32-bit integer from the given file descriptor.
Read a specific resource from the thread's resources.
Recompute the master chunk as the largest free chunk.
Recursive vs non-recursive multiply crossover ranges.
Remove leading/training white spaces on search_string
Reset the SQL statement passed as the first argument.
Return 1 if database is read-only or 0 if read/write.
Return FAILURE for invalid key(non-existing session).
Return FALSE if the database is (in theory) writable.
Return NULL if there are no more matching WhereTerms.
Return TRUE if the database file is opened read-only.
Return the 'affinity' of the expression pExpr if any.
Return the ceiling of the logarithm base 2 of iValue.
Return the name of the first system call after zName.
Return the name of the i-th column of the pIdx index.
Return the rowid that the cursor currently points to.
Returns the hash table data if found and NULL if not.
Returns the next CRLF terminated line from the client
Routines to implement the count() aggregate function.
Routines used to compute the sum, average, and total.
Safe to add conntype_option, since 2 args was illegal
Search through to find the first varint with value 1.
See also: sqlite3LocateCollSeq(), sqlite3GetCollSeq()
Separate the UTF-8 code completely as that is tidier.
Set remaining X's to pid digits with 0's to the left.
Set the callback using SQLITE_TESTCTRL_VDBE_COVERAGE.
Set the time to the current time reported by the VFS.
Set up the default garbage collection implementation.
Setting the auth function to NULL disables this hook.
Setup information needed to write frames into the WAL
Setup the execution environment and spawn new process
Shift the decomps up by one if the codes don't match.
Skip over the drive spec (if any) so as not to change
Skip white space and pick up leading +/- sign if any.
So assume sqlite3GetVdbe() is always successful here.
So far no cases are known where it would be an issue.
So in this environment, uncomment the following line.
So there is no chance of overflowing the zOut buffer.
So, we use cfg_get_string here to check it this once.
Some Features: - output option for xml escaping data.
Some compilers like AIX, defines uchar in sys/types.h
Stack structures for CRAY-1, CRAY X-MP, and CRAY Y-MP
Subject to the following 3 conditions, Epinions, Inc.
Such small cells will be rare, but they are possible.
TBB: move this up so include files are not brought in
TODO - this code is stolen from execute() - see above
TODO: revisit this start size, may be its not optimal
Table of methods for JournalFile sqlite3_file object.
Test variable that can be set to enable WHERE tracing
Tests libgo2.so, which does not export any functions.
Thanks to Frank Warmerdam for pointing out the issue.
That is the largest legal value, divided by the base.
That method assumes that no backtracking is possible.
The "printf" code that follows dates from the 1980's.
The P1 parameter is not actually used by this opcode.
The PRIMARY KEY index may be  identified by the test.
The PTRMAP_XXX identifiers below are the valid types.
The SQLITE_Transitive optimization must be enabled 2.
The TEMP Schema is manually freed by sqlite3_close().
The _FILE_OFFSET_BITS macro must appear first in QNX.
The alpha channel is where it's really at these days.
The argument may be NULL, representing an empty list.
The built-in page cache is recommended for most uses.
The column value supplied by SQLite must be in range.
The content of each node is formatted as follows:  1.
The database filename "zFilename"   is UTF-8 encoded.
The default implementation uses Posix Advisory Locks.
The exception is if the tokenizer supports  synonyms.
The extra column whose name is the same as the table.
The file:// wrapper may have been disabled/overridden
The first 8 memory cells are used for the result set.
The first parameter is a pointer to an output buffer.
The first thread might call this routine recursively.
The key will be written into the parent of this node.
The lower level vfs will do the special RBU handling.
The next routine used only within assert() statements
The number of nonzero histogram cells within this box
The number of symbols on the RHS of the reduced rule.
The result of the aggregate is stored back into pMem.
The second argument is the name of the locale to use.
The second argument is the query expression to parse.
The second form sets the local page cache size value.
The server doesn't send sqlstate in the greet packet.
The shared memory will be simulated with heap memory.
The size chosen is a little less than a power of two.
The size of a Mem5Link object must be a power of two.
The sqlite3_aggregate_count() function is deprecated.
The stub *must* end with a call to __HALT_COMPILER().
The tables are built according to the current locale.
The threadid macro resolves to the thread-id or to 0.
There are a couple of different ways this can happen.
There are debugging versions and production versions.
These are from Wincrypt.h, they conflict with OpenSSL
Third, try to get magic file relative to dll location
This allows to be more defensive in such definitions.
This array defines hard upper bounds on limit values.
This can only happen with the table rooted at page 1.
This constant controls how often segments are merged.
This could be either a leaf node or an interior node.
This error will be extremely rare in general, though.
This flag can be set and cleared as often as desired.
This function applies a fossil delta patch to a blob.
This function is a wrapper around sqlite3WalFrames().
This how we recognize which colors are actually used.
This is done to protect the sqlite3.pDisconnect list.
This is useful for writable temp files like databases
This list holds all data associated with one session.
This loads from a file, a stack of x509/crl/pkey sets
This object describes the implementation of the loop.
This opcode invokes the corresponding xRename method.
This opcode invokes the corresponding xUpdate method.
This routine is called the when a VDBE tries to halt.
This routine is used inside assert() statements only.
This routine makes the necessary adjustment to 65536.
This routine might cause sub-bitmaps to be allocated.
This structure is the current state of the generator.
This time we set the flag for the keyword 'abstract'.
This version of SQLite does not support sqlite_stat2.
This was the 'else' case, we can't really 'detect' it
This works on just about every filesystem imaginable.
Thus for NULL and zero-length we are quite efficient.
Thus the default max embedded payload fraction is 64.
Thus the not-found jump of seekOp will never be taken
True to disable the incremental doclist optimization.
Try to catch bad usage without preventing flexibility
Try to restore access, modification times if read it.
Two lots of padding:  Pad the first block to 64 bytes
Type passed as 4th argument to SegmentReaderIterate()
UPDATE statements may not modify PRIMARY KEY columns.
User error handler may include() additinal PHP files.
User hasn't sent anything, we will send empty string.
Variable is not live, certainly won't benefit from pi
We do not use ZIP_FROM_OBJECT, zip init function here
We dup() here to avoid messing with the passed in fd.
We explicitly don't support UTF-8 delimiters for now.
We need to figure out the left/right padding lengths.
When not in UTF-8 mode, load a single-byte character.
Writes the data in one of the slots of the hashtable.
Zero the histogram or inverse color map, if necessary
ask the event module to add the fd from its own queue
b) The new syntax supports the AND and NOT operators.
but we now allow attributes on nodes with no value...
charset is indifferent, used cs_8859_1 for efficiency
check the indicator to ensure that the data is intact
check to make sure we are dealing with a regular file
constant expression should be always read context ...
conversion for CJK Unified Ideographs ext.B (U+2XXXX)
create list of files with index into original archive
dummy zval to pass to transliterator_object_construct
extend the sign bit if the comparison is to be signed
fetches the requested resource for the current thread
flush to commit data written to the fopencookie FILE*
found something, but it's not a connection, delete it
fts5YYNSTATE           the combined number of states.
i.e. if the following were coded:  OP_Destroy 4 0 ...
iRowidOff: Offset of last rowid written to data area.
if -r is on the command line more than once just quit
if multiple encodings specified, detect automagically
if we just compared std.properties, don't do it again
init empty string in case we don't find any char data
is_tar() -- figure out whether file is a tar archive.
iso8859_1.c -  Oniguruma (regular expression library)
iso8859_2.c -  Oniguruma (regular expression library)
iso8859_3.c -  Oniguruma (regular expression library)
iso8859_4.c -  Oniguruma (regular expression library)
iso8859_5.c -  Oniguruma (regular expression library)
iso8859_6.c -  Oniguruma (regular expression library)
iso8859_7.c -  Oniguruma (regular expression library)
iso8859_8.c -  Oniguruma (regular expression library)
iso8859_9.c -  Oniguruma (regular expression library)
members from the current class override trait methods
move shared_segments and shared_free to shared memory
multi-byte op code - auxiliary table chosen by prefix
multiple options specified as one (exclude long opts)
need to copy here since setlocale may change it later
one company doing so is very much envolved in JPEG...
only non-blocking reading, avoid non-blocking writing
otherwise there may be huge holes between two entries
overwrite Windows GDI define in case of windows build
pFrom contains an SQL NULL when this routine returns.
private key resource from openssl_get_privatekey() 2.
regsyntax.c -  Oniguruma (regular expression library)
restrict to the server/db in the .ini if in safe mode
sequences are properly displayed in the message body.
set whole-archive compression and type from parameter
stat is used, if it made here then the link is broken
statement are columns, then numeric affinity is used.
tclUtf.c --  Routines for manipulating UTF-8 strings.
the "target" block is not followed by current "block"
the compiler choked when i tried to make this a macro
then the pager object page size is set to *pPageSize.
these actions all expect different types of arguments
these functions operate on in-memory dynamic pointers
this is the case where we have less data than planned
this should be compatible with the standard zenderror
trim pointer so that its real and logical sizes match
true if it's ZEND_SEND_BY_VAL or ZEND_SEND_PREFER_REF
we work backwards so that we can use atoi more easily
when we handle prop put and get, this will look nicer
xRollbackTo(int S): Rollback to start of savepoint S.
xfer opt does not play well with PRAGMA count_changes
yes, tlsbase from mrc might not be correctly aligned.
yes, tlsbase from mrs might not be correctly aligned.
zend_resolve_path() replacement for PHP 5.3 and above
(6)  4 byte big-endian integer which is the page size.
(This defaults to 100 if the width can't be detected).
******** same issue about breakpoints in called frames
...Plus additional ranges in newer Unicode versions...
A "thread" can be created using sqlite3ThreadCreate().
A SHARED or greater lock is held on the database file.
A group of 3 or fewer free bytes is called a fragment.
A new lower limit does not shrink existing constructs.
A new zero-terminator is added to the dequoted string.
A position is the index of a word within the document.
A power failure could lead to corruption in this case.
A structure defining how to do GLOB-style comparisons.
A zero value for this integer is interpreted as 65536.
Add a whole list of operations to the operation stack.
Add an opcode that includes the p4 value as a pointer.
Adjust checksum to count the "chksum" field as blanks.
Advance each iterator that currently points to iRowid.
Advance node iterator pNode, part of expression pExpr.
Advance the LHS iterator to find the next row visited.
Advance the RHS iterator to find the next row visited.
Advance the cursor to the next element for json_tree()
All it does is declare the sqlite3IcuInit() interface.
All structure fields are set to zero before returning.
Allocate a new WhereLoop to add to the end of the list
Allocate and populate an sqlite3_index_info structure.
Allocate nByte bytes of memory using sqlite3_malloc().
An RBU target database may not be in wal mode already.
An optimisation would be to use a non-journaled pager.
Any errors cause an error message to be set in pParse.
Any number of callbacks may be registered at any time.
Apache will load, unload and then reload a DSO module.
Append the rest of the pattern after the closing brace
Argument pRight (but not pLeft) may be a null pointer.
BSD LICENSE Copyright (c) 2005-2013 Intel Corporation.
BUG: should also map here accented letters used in non
Break at the start and end of text (pretty obviously).
Bundles should be aligned modulo this number of bytes.
But the FuncDefs for built-in functions are read-only.
Calculate TS belonging to UTC 00:00 of the current day
Calculate the first block to use in the output segment
Calls the dtor of the previous context if there is one
Check for a supported opcode, and load its properties.
Check for either recursive or (simple and/or implicit)
Check if passed filename contains directory separators
Check if php_ini_file_name is a file and can be opened
Check if the current entries really are a phrase match
Class declaration must not extend traits or interfaces
Clean up the allocated argv and environ if applicable.
Clean up the rbu_tmp_xxx table for the previous table.
Common code for all repeated single-character matches.
Constantly allocating and deallocating brings nothing.
Copy the current sorter key into the memory cell pOut.
Create a SrcList structure containing the child table.
Create a tokenizer cursor to tokenize an input buffer.
Create the SELECT statement to read keys from data_xxx
Create the imposter table used to write to this index.
Creates a new file, only if it does not already exist.
Creates array of compositions from decomposition array
Current state, using numbers defined in header comment
Curve nid (numerical identifier) used for ASN1 mapping
DRCP: connection_class is an attribute of a connection
Deallocate the structure itself only if bFree is true.
Decode the position list tail at the start of the page
Destructor for mysqli entries in free_links/used_links
Discard the contents of the pending-terms hash tables.
Display a warning if we encounter an unknown modifier.
Does not implement telldir(), seekdir(), or scandir().
Doing both moves pPage to the front of the dirty list.
Don't update is_ref, or we will leak during conversion
EOF, or temporary end of data (for non-blocking mode).
Each byte is interpreted as an 8-bit unsigned integer.
Each open memory-journal is an instance of this class.
Each set of values is identified by a unique P4 value.
Else, if we got bytes back, check for possible errors.
End of sqlite3_vfs methods ***************************
Ensures that we're allowed to call a protected method.
Exactly two arguments must be passed to this function.
Fail for a valid opcode that implies no starting bits.
Figure out the type of table this step will deal with.
Fill in the ping_auto_globals_mask for the new script.
Find a unique file ID for the given absolute pathname.
Find end of next segment, copy tentatively to pathend.
Find the close bracket so we can overallocate the set.
Find the current time (in Universal Coordinated Time).
First check to see if the LHS is contained in the RHS.
Flush the contents of the pending-terms table to disk.
For each cursor required, also allocate a memory cell.
For hard partial matching, we then return immediately.
For joins of 3 or more tables, track the 10 best paths
For non-root nodes, the first 2 bytes are left unused.
For tiled fill, the use of a flag buffer is mandatory.
Form 2 analyzes all indices the single database named.
Free an allocated buffer obtained from pcache1Alloc().
Free the object when the reference count reaches zero.
Free up as much memory as possible from the page cache
Function: gdAffineIdentity Set up the identity matrix.
Functions used to query pager state and configuration.
Generate code that runs whenever the GROUP BY changes.
Here are the marker codes of interest in this program.
Here we go through the input arguments and parse them.
Higher characters U+00110000..U+001FFFFF are not used.
However, any backup in progress needs to be restarted.
However, it does not support prefix queries very well.
I do not know the significance of the constant 0xf000.
INPUTS fault_code     application specific error code.
If a memory allocation error occurs, NULL is returned.
If a memory allocation fails the SrcList is unchanged.
If an error occurs,  an SQLite error code is returned.
If an error occurs, return the appropriate error code.
If both iA1 and iB1 are non-zero, overflow will result
If both methods are private do not enforce a signature
If d is +-Infinity or NaN, then *decpt is set to 9999.
If it is set to  non-zero the new syntax is activated.
If it is, the error code will be set to SQLITE_LOCKED.
If it's a forward reference subroutine call, we can't.
If it's not, there isn't much we can do at this point.
If no error has occurred, return the calculated score.
If no problems are found, store a NULL in register P1.
If no such file descriptor is located, -1 is returned.
If pVtab is already in the aVTrans array, return early
If successful, leave *pRc set to SQLITE_OK and return.
If the sequence counter is currently zero, jump to P2.
If there is no variable with the given name, return 0.
If they are both enabled, then STAT4 takes precedence.
If this line is _longer_ than MAXLINELEN, remember it.
If this routine returns non-zero, the lock is retried.
If x is text, then we actually count UTF-8 characters.
Ignore any input table columns that begin with "rbu_".
Implementation of the sqlite3_pcache.xShutdown method.
Implementation of the sqlite3_pcache.xTruncate method.
In case the cursor has been used before, clear it now.
In other words, the soft heap limit  is advisory only.
In the compile phase, check for empty string matching.
In this case *pp is set to 0 and the function returns.
In this case this function runs a blocking checkpoint.
In this case we would like to delete the journal file.
In this case, errno is set appropriately (by fcntl()).
Index of VdbeCursor that writes the sqlite_stat1 table
Indicate a non-UTF class which was created by negation
Initialize a term iterator for each term in the phrase
Initialize any AUTOINCREMENT data structures required.
Initialize the auxiliary information for a disk block.
Int to accommodate truecolor single-color transparency
Invoke the tokenizer destructor to free the tokenizer.
It does not support ExtHeaders as defined in the spec.
It is modelled after the VACUUM command in PostgreSQL.
It is not used in production code, only for debugging.
It is the state of the database at an instant in time.
It only shows that we failed to detect any corruption.
Its used by just about every call to ts_resource_ex().
JCE: Arrange HAVE_LIBPNG so that it can be set in gd.h
Libmach-based disassembler for use in reference tests.
Limits in the regex override only if they are smaller.
List of nodes removed during a CondenseTree operation.
Local nicknames or unqualified names MUST NOT be used.
MULTI_QUERY support - eat up all unfetched result sets
Make sure at least one set of Win32 APIs is available.
Make sure every column of the PRIMARY KEY is NOT NULL.
Make sure the hard limits are set to reasonable values
Mark off any other ORDER BY terms that reference pLoop
Maximum number of prefix indexes on single FTS5 table.
May you share freely, never taking more than you give.
Modified to use Winsock (NOVSOCK2.H), at least for now
Modify the page-size after the cache has been created.
Mostly this is a container for one or more WhereTerms.
Normally, iSavepoint is greater than or equal to zero.
Not found, lookup by querying PostgreSQL system tables
Note that we really just look for LF terminated lines.
Note: In SSE3, we could also use MOVDDUP and MOVSLDUP.
Note: this code is harmless on little-endian machines.
Now handle repetition for the different types of item.
Opcode for update hook: SQLITE_UPDATE or SQLITE_INSERT
Open write cursors are moved to the root of the table.
Option to check if input conforms to STD-3 ASCII rules
Or else it will cause ORA-1406 error in OCIStmtExecute
Or, if an error  occurs, return some other error code.
Or, if the master chunk is not large enough, return 0.
Oracle doc says don't free Implicit Result Set handles
Otherwise the file would typically be slightly larger.
P1 can be either an ordinary table or a virtual table.
Page Allocation/SQLITE_CONFIG_PCACHE Related Functions
Populate the PagerSavepoint structures just allocated.
Pushing the constant pool into the instruction stream.
Register the ICU extension functions with database db.
Reload the table, index and permanent trigger schemas.
Remember reference counters before calling destructors
Remove connection p from the blocked connections list.
Remove the search point with the lowest current score.
Resize the block of memory pointed to by p to n bytes.
Resize the hash table by doubling the number of slots.
Return -1 if the column is not contained in the table.
Return 0 if the input is not a well-formed JSON array.
Return 1 if there is a parsing error and 0 on success.
Return SQLITE_ERROR if the finalizer reports an error.
Return SQLITE_OK if they do, or SQLITE_CORRUPT if not.
Return a 32-bit integer value extracted from a string.
Return a simple checksum value based on the arguments.
Return the index in pList of the identifier named zId.
Return the number of references to the specified page.
Return the number of unicode characters in the string.
Return the search point with the lowest current score.
Return the total number of outstanding page references
Return true if a memory cell is not marked as invalid.
Returns with error when an invalid argument is passed.
Routines for varint serialization and deserialization.
SQLite only considers US-ASCII (or EBCDIC) characters.
Search the UCD record for the character comes in TMP1.
See also: sqlite3LocateCollSeq(), sqlite3FindCollSeq()
Separate the left and the right query from one another
Session based file upload progress uses non-cookie ID.
Set iBestLvl to the level to read input segments from.
Set the error code of the destination database handle.
Set unused flag for all literals in the constant pool.
Set up for repetition, or handle the non-repeated case
Shared-memory regions are numbered starting from zero.
Show substrings stored in the output vector by number.
Since Grandfathered, no value, do nothing, retutn NULL
Skip over lookbehind and negative lookahead assertions
So we don't worry about memory barriers and such here.
So, we only lock if our first test of Inited was false
Sort by block number to traverse children in pre-order
Special values interpreted by sqlite3SegReaderCursor()
Start with the time of the first molad after creation.
Statements to read/write/delete a record from xxx_node
Such values can only be added to xmlrpc_vector_struct.
TODO: libedit doesn't seems to support coloured prompt
TUNING: Each index lookup yields 20 rows in the table.
Tells whether the starting offset is a target of then.
Terminator values for position-lists and column-lists.
Test that a SIGSEGV on this thread is delivered to us.
Test to see whether or not a table is a virtual table.
The INSERT primitive adds a new element to the RowSet.
The INSERT primitive might allocate additional memory.
The P4 value is used by sqlite3_bind_parameter_name().
The SQLITE_ColumnCache flag disables the column cache.
The VCS identifier (typically a git hash) of the build
The argument is a Parse object for the code generator.
The bit is set if the corresponding page is allocated.
The caller detects this and calls this function again.
The current thread will continue to use this snapshot.
The dist tool enables this by build flag when testing.
The entry from absolute  level :1 with index value :2.
The error has left the cache in an inconsistent state.
The first to increment to 1 does actual initialization
The fractional seconds FFFF can be one or more digits.
The function pointer points to sqlite3BtreePrevious().
The integer ROWID or key for the record to be inserted
The journal file may or may not be open at this point.
The jump is taken if the SQLITE_JUMPIFNULL bit is set.
The label can be used as the P2 value of an operation.
The left most table is the first entry in Select.pSrc.
The maximum length of a single SQL statement in bytes.
The mutexes still do not provide any mutual exclusion.
The number of digits after the decimal point is SCALE.
The number of elements in the column-list is returned.
The page cache will allocate instances of this object.
The password first, since that is what is most unknown
The read lock is released when all cursors are closed.
The record flows over onto one or more overflow pages.
The refinement below will clean this approximation up.
The returned slot is either free or points to the key.
The second block of free chunks is of the form u.list.
The size of file pTo may be reduced by this operation.
The stacks and their tools: 'yyss': related to states.
The stacks and their tools: `yyss': related to states.
The testcase() macro is only used by the amalgamation.
The type of type is determined by the flags parameter.
The varint is the number of bytes in the blob of data.
There are 3 kinds of storage implemented in this file.
There is a subtle but important optimization here too.
There is one unfortunate ambiguity, caused by history.
Therefore, don't ever reduce the length at this point.
These terms refer to registers in the virtual machine.
These versions of the macros use the stack, as normal.
This allows a 64-bit integer to be encoded in 9 bytes.
This column was already computed by the previous index
This file is part of the SQLite FTS3 extension module.
This file-control is intended for diagnostic use only.
This fixes PECL bug 15988 (sqlnet.ora not being read).
This function is not available on Windows CE or WinRT.
This function sets starting bits for a character type.
This function would be ineffective to do in JIT level.
This is a wrapper around "sqlite3_mprintf(zFmt, ...)".
This is just an arbitrary value for the fallback case.
This is much faster than scanning the entire 10MB WAL.
This is the default for temporary and transient files.
This is the easiest way to get RocksDB to perform well
This macro is for use inside assert() statements only.
This means restart was scheduled or is in progress now
This routine also generates code to check constraints.
This routine deallocates a previously allocated mutex.
This routine is a wrapper around sqlite3FindCollSeq().
This routine is never called after sqlite3RowSetNext()
This routine only work for pCur on an ephemeral table.
This routine returns the number of errors encountered.
This will release the write lock on the database file.
To do this, we maintain a count of executed SKIP_ARGs.
To prepend the new slots, the iStart value would be 0.
Transfer content from the second pLoop into the first.
True global resources - no need for thread safety here
Two NULL values are considered equal by this function.
Two-byte-character lead-byte followed by a trail-byte.
Undo any frames written (but not committed) to the log
Unless  activated, none of the SEE routines will work.
Unless an error is encountered, SQLITE_OK is returned.
Update the number of fragmented bytes within the page.
User supplied function is used for comparing the keys.
Using the values generated by patch_pc_relative_loads.
Valid values for the second argument to fts3SqlStmt().
Variables related to SQLITE_CONFIG_PAGECACHE settings.
ViewGetColumnNames() is a no-op if pTab is not a view.
We do not care about the actual results of the select.
We don't have specialized opcodes for this, do nothing
We invoke it once here to suppress a compiler warning.
We will just sit and wait forever on the IO operation.
When playing back page 1, restore the nReserve setting
Wrapper around OS specific sqlite3_os_init() function.
Write a 32-bit integer into the given file descriptor.
Z will strip everything after the first null character
allow blocking read() on pipes, currently Windows only
amai: Darrel Hankerson did the changes described here.
ask streams to give us a buffer of an appropriate size
attempt to handle extremely small/large numbers better
auto-detect soft line breaks, found network line break
buf may be NULL, if flags are set to indicate a flush.
case NORMALIZER_NONE: not allowed - doesn't make sense
caution: the Hebrew format produces non unique result.
check for its validity, if its valid pass it unchanged
children: return listening socket parent: never return
compile the regular expression from the supplied regex
controllen should be an unsigned with at least 32-bit.
convert chars to upper case and strip non-letter chars
copy the standard object handlers to you handler table
do the best we can to inform about the inner exception
don't colllect constants after any other function call
e.g. "NOT FOUND" we are not humans so just ignore this
eCreate defines what to do if the page does not exist.
each method can have its own parameters and visibility
ensure that we cancel the cursor from a previous fetch
ensure we have a clean kevents before calling kevent()
entry is deleted, but has not been flushed to disk yet
flags are identical, now the value needs to be checked
gdAffineexpansion: Find the affine's expansion factor.
here but this would make things only more complicated.
i.e. if the character is a lower-case ASCII character.
i386-specific debugger interface also amd64 extensions
if there is no path name after the file, do not bother
index of current array for PL/SQL or row index for SQL
iso8859_10.c -  Oniguruma (regular expression library)
iso8859_11.c -  Oniguruma (regular expression library)
iso8859_13.c -  Oniguruma (regular expression library)
iso8859_14.c -  Oniguruma (regular expression library)
iso8859_15.c -  Oniguruma (regular expression library)
iso8859_16.c -  Oniguruma (regular expression library)
mod_data, *key are guaranteed to have non-NULL values.
more general version: calc cost by ins/rep/del weights
move all chunks except of the first one into the cache
must be free before because references the memory pool
needs to be cleared, since any returned value is valid
no statistics , will be filled later if there are some
only check openbasedir for files, not for phar streams
open_basedir not set yet, go ahead and give it a value
p is left pointing to the byte after the list written.
read until we hit the position in which we were before
regversion.c -  Oniguruma (regular expression library)
rename on windows will fail if newname already exists.
returns     : True_ if found , False_ if not in queue.
sapi has not started, output to stdout instead of fcgi
should be big enough for most date formats and numbers
start of line is right of window - complement of above
tmp buffer to hold current processing string in utf-16
tolower() is used more often than toupper() by SQLite.
try to avoid the bug of testing an 8087 register value
verify the host name presented in the peer certificate
when removing this a lot of handlers need to be redone
zval_dtor() will handle also Unicode/Non-unicode mode.
(2) A constant pointer to this function named just "F".
*pnIndex is set to the number of elements in the array.
A MEM_Null value will never be passed to this function.
A complete page cache is an instance of this structure.
ANY LAMP GC  PC  SC ALNUM SPACE PXSPACE WORD CLIST UCNC
Accumulate the length for use in the pre-compile phase.
Acquire a page if it is already in the in-memory cache.
Add all SCC entry variables into worklist for narrowing
Add an opcode that includes the p4 value as an integer.
Advance the iterator for each token in the phrase once.
Advance to the position right after the last full match
Algorithm does not use IV, even though mode supports it
All elements are stored on a single doubly-linked list.
All it does is declare the sqlite3Fts3Init() interface.
All subsequent system locking operations become no-ops.
All users of the database must be able to share memory.
Allocate and populate the array of LcsIterator objects.
Allocate stack for the callback, which grows the stack.
Also NDIG must be reasonable smaller than NUM_BUF_SIZE.
An IPv6 enclosed by square brackets is a valid hostname
An extension does not necessarily have a version number
And *pnToken is set to the number of tokens in pPhrase.
And so on, until the contents of pMerger are exhausted.
Any cursors returned will have been opened for writing.
Any decent C compiler will add the constants at compile
Apart from that, there must be exactly two * arguments.
Apply advisory locks for all n bytes beginning at ofst.
As if it had just been returned by fts3tokOpenMethod().
As long as it's the case, it's just the constant limit.
Assign cursor numbers to the table and all its indices.
At that point the system has recovered  from the error.
At this point the schema may or may not be initialized.
Attempt to take an exclusive lock on the database file.
Based on IANA registry at the time of writing this code
Bind the current output segment id to the index-writer.
Boxes themselves can be contained within "super-boxes".
Bring in standard I/O and string manipulation functions
Build a mapping from subpattern numbers to their names.
But the main library does not want to redefine the API.
CURSOR_INVALID: Cursor does not point to a valid entry.
Certificate contexts used for server-side SNI selection
Change this structure only by using the routines below.
Check first byte for for xx00 000x (overlong sequence).
Check if the index cursor is past the end of the range.
Check on a Vdbe to make sure it has not been finalized.
Check session ID existence for use_strict_mode support.
Check that one of SQLITE_SYNC_NORMAL or FULL was passed
Check to collation names to see if they are compatible.
Clean up and return the number of elements in the stack
Clear the column names from every VIEW in database idx.
Code in "finally" blocks may modify temorary variables.
Compare the contents of the two buffers using memcmp().
Compute the diurnal arc that the Sun traverses to reach
Compute true coordinates of update box's origin corner.
Convert num to a base X number where X is a power of 2.
Convert the connection into a zombie and then close it.
Correct that as best we can: assume it's at least 1 MB.
Create the OCI environment separate for each connection
Current algorithm: mean weighted by pixels (not colors)
DBSETLDBNAME is only available in FreeTDS 0.92 or above
Delete all parts those are not in the "parts" attribute
Deleting the journal file here is an optimization only.
Destroy the part of winFile that deals with wince locks
Development versions may be changed from build to build
Disable MMAP on platforms where it is known to not work
Do additional sanity checking on the page in this case.
Do not search for an unused file descriptor on vxworks.
Do some paranoid checks for potential integer overflow.
Doing so will not cause any errors, but is inefficient.
Don't execute REFCURSORS or Implicit Result Set handles
EXCLUSIVE: An EXCLUSIVE lock precludes all other locks.
Each BTree is identified by the index of its root page.
Each page cache is an instance of the following object.
Either X and Y both have COLLATE operator or neither do
Enable or disable the shared pager and schema features.
Ensure that the preferred method is actually available.
Except, if the value is an SQL NULL, return  0 instead.
Exit the mutexes and free the backup context structure.
FIXME: This does not work with Sybase, but environ will
FOR BC reasons, this will always perform and then print
Figure out the total size of the current row in tokens.
Fill in the zName and zDb fields of the vtab structure.
Flush any data in the pending-terms hash table to disk.
Flush the contents of pendingTerms to level 0 segments.
For ARRAY and OBJECT types, the number might be larger.
For an UPDATE operation, this function is called twice.
For digits or letters, do an initial lookup in a table.
Free any overflow pages associated with the given Cell.
Free the expression object passed as the only argument.
Free the iterator object passed as the second argument.
Free up as much memory as possible from the page cache.
Generate code for the left and right SELECT statements.
Go through input array and add keys to the return array
Hence, the sqlite_stat4 format will be described first.
Here is what we do to obtain the number's magnitude: a.
However expected is that MINIT is enough in most cases.
I think that the description in 'asdef' is out of date.
If * further matching is needed, it will be done below.
If a memory allocation fails, SQLITE_NOMEM is returned.
If buffer is not null terminated, len *must* be passed.
If foreign-keys are disabled, this function is a no-op.
If n1 has more digits then n2, we now do that subtract.
If not an address, then try to resolve it as a hostname
If so, return without deleting the master journal file.
If that doesn't work, make a new memory block and copy.
If the connection is in WAL mode, this call is a no-op.
If the table or index is empty, jump immediately to P2.
If the value in register P1 is zero the result is NULL.
If there is a doclist-index, check that it looks right.
If there is no defined collating sequence, return NULL.
If this is successful, register the module with sqlite.
If we are not in a pool, we cannot expand this name now
If we have any lock, then the lock file already exists.
Implementation of the last_insert_rowid() SQL function.
Implementation of the sqlite3_pcache.xCachesize method.
Implementation of the sqlite3_pcache.xPagecount method.
In case this cursor is being reused, close and zero it.
In either case, invoke the notify callback immediately.
In most cases IS_TMP_VAR operand may be used only once.
In practice, most SQL never has more than 3 or 4 terms.
In the positive case, it can cause firstchar to be set.
In this case no foreign key functionality is available.
In this case the position-list is not populated at all.
In this case this routine will return a false-positive.
Infrastructure for working with persistent COM objects.
Inside chunk it's managed by pages of fixed size 4096B.
Instead, it should be called via macro osGetpagesize().
Instead, the term is inserted into the parent of pTree.
Interface to the rest of the where.c subsystem follows.
It is harmless to register the same VFS multiple times.
It is not a documented part of the tokenizer interface.
It is used to implement sqlite3ExprAnalyzeAggregates().
It is written out separately for speed and cleanliness.
It may fail, the destruction code must handle this case
JCE: arrange HAVE_LIBJPEG so that it can be set in gd.h
Jump to the this point in order to terminate the query.
Just in case inavlid locale e.g. '-x-xyz' or '-sl_Latn'
Last UPDATE used (for PK b-tree updates only), or NULL.
Less than 19 digits, so we know that it fits in 64 bits
Link the new savepoint into the database handle's list.
Make sure an empty php_ini_scanned_path ends up as NULL
Make sure jdmaster didn't give me a case I can't handle
Make sure that a SIGSEGV in Go causes a run-time panic.
Make sure the signature can't match by dumb luck -- TBB
Memory is retrived from OS by chunks of fixed size 2MB.
Multiple threads can run this routine at the same time.
Multiple variant values as variant0, variant1 ,variant2
NOTE: pad_char may be set to '0' because of the 0 flag.
Non-capturing possessive bracket with unlimited repeat.
Normal form variable, safe to read all data into memory
Not required due to the previous to assert() statements
Note that only the pointer (the 2nd parameter) matters.
Note that this code only handles characters in the BMP.
Now adjust all forward reference offsets for the group.
Now manipulate the actual database free-list structure.
Now pull in the remote sections into our address space.
Now scan remaining volume of box and compute population
Now the hard part -- adjusting rv to the correct value.
Number of bytes of the string text to include in output
Obtain a pointer to the iPage'th page of the wal-index.
Offset to linkage control of previous segment of stack.
On EBCDIC machines we also need to adjust the encoding.
Once this much has been released, the function returns.
Open the sub-journal, if it has not already been opened
Otherwise, *ppIdx  is set to point to the unique index.
Otherwise, THEN is passed back to an outer alternative.
Otherwise, if no OP_Explain is coded, zero is returned.
Otherwise, pPrev contains a copy of the  previous term.
Parameter zIn contains a rank() function specification.
Parameter zMaster is the name of a master journal file.
Ping loop: Ping and loop till we get a good connection.
Points to the structure shared across all PHP processes
Pre-existing files can be appended, truncated, or read.
Prevent reentrant calls to the same user ticks function
Print the SQL that was used to generate a VDBE program.
Prior to 8.13, all atomic groups were handled this way.
Put result from CTX in first 32 bytes following RESBUF.
Put result from CTX in first 64 bytes following RESBUF.
Query FTS for the tokenizer implementation named zName.
RBU_PK_IPK:           Table has an explicit IPK column.
Read a page from the write-ahead log, if it is present.
Read the serial types for the next element in each key.
Reg(P1) is updated with the number of errors remaining.
Remove connection db from the blocked connections list.
Report about uncaught exception in case of fatal errors
Report the current state of file logs for all databases
Reset string length, but don't free the reserved buffer
Reset the tokenizer cursor passed as the only argument.
Return 1 for an empty or  unrecognized string argument.
Return SUCCESS for valid key(already existing session).
Return a Found Redirect if one is not already specified
Return a copy of the value returned by sqlite3_reset().
Return a pointer to the allocated object to the caller.
Return an empty array in case no static variables exist
Return coordinate iCoord from cell iCell in node pNode.
Return the collation sequence for the expression pExpr.
Return the mutex associated with a database connection.
Return the number of JsonNode objects that are encoded.
Return the number of characters in the simplified name.
Return the size of an outstanding allocation, in bytes.
Return true if the page is already in the journal file.
Returns -1 if error or not in the open_basedir, else 0.
SQLITE_AFF_TEXT: Convert pRec to a text representation.
SQLite itself will never use anything near this amount.
Search for a recognized property name using binary chop
See also the "PRAGMA data_store_directory" SQL command.
See also the "PRAGMA temp_store_directory" SQL command.
Set up the lookaside buffers for a database connection.
Shared-memory regions  are numbered starting from zero.
So the new function is not good for anything by itself.
Starting offset of private data for capturing brackets.
Statements to read/write/delete a record from xxx_rowid
Step two, memcopy the values back into the shared heap.
Store the compiled pattern and extra info in the cache.
Swap the roles of aFrom and aTo for the next generation
Test if fcntl() is supported and use POSIX style locks.
The "onepass" strategy does not use an ephemeral table.
The OpenBSD ld.so(1) does not currently support PT_TLS.
The PgHdr1 header is a subclass of sqlite3_pcache_page.
The StatusDown() routine lowers the current value by N.
The caller should not try to modify the KeyInfo object.
The collision detection logic below can all be skipped.
The contents of the pager cache have not been modified.
The currently executing frame is stored in Vdbe.pFrame.
The data for the record immediately follows this header
The default configuration is limited to 512 stdio files
The entry in the union for base tokens is called "yy0".
The equivalent instruction for indices is OP_IdxInsert.
The exception is for applications that also use zipvfs.
The expression "A glob B" is equivalent to  "glob(B,A).
The expression is implemented using an OP_Param opcode.
The extra flags to use in calls to the Win32 heap APIs.
The following routine is called if the stack overflows.
The iIdxCur parameter is the cursor number of an index.
The input word *pz and zFrom are both in reverse order.
The last column is NULL to indicate the end of the row.
The length of data write will be between 1 and 9 bytes.
The most significant byte of the integer appears first.
The only sibling page is the right-child of the parent.
The ram filesystem has no write behind so it is ordered
The regex below is based on a regex by Michael Rushton.
The rest are extensions, not normally found in printf()
The root page of the PRIMARY KEY is the table root page
The row-trigger may have deleted the row being updated.
The server is 5.5.x and supports authentication plugins
The server needs this for simple flow control checking.
The set of routines that implement the simple tokenizer
The size of the heap after initialization of the server
The string is "OrpheanBeholderScryDoubt" on big-endian.
The total number of bytes in all fragments is recorded.
The user has issued a query of the form "MATCH '*...'".
The user might have not bound any variables for result.
The zDb variable is the name of the database (the "X").
The zTable variable is the name of the table (the "Y").
There are three possible representations of the bitmap.
There is a very low but non-zero probability of damage.
This allows Trigger structures to be retrieved by name.
This also limits the size of a row in a table or index.
This case is handled better by fast_forward_first_char.
This case runs if the aggregate has no GROUP BY clause.
This code copies current group by terms in b0,b1,b2,...
This function is always called by the main user thread.
This function is called from within the xFilter method.
This happens in both normal and exclusive-locking mode.
This information is used for testing and analysis only.
This instruction is often useful as a jump destination.
This is an SQLite module implementing full-text search.
This is essentially the class structure for tokenizers.
This is the second bug report from wireshark this week.
This is the top-level implementation of sqlite3_step().
This is usually the same  size as a single disk sector.
This memory allocator uses the following algorithm:  1.
This operation is protected by the STATIC_MASTER mutex.
This routine does per-connection function registration.
This routine is intended for testing and analysis only.
This routine is never called during trigger-generation.
This routine only deals with those that are not global.
This routine runs an extensive test of the Bitvec code.
This routine sets up a SELECT statement for processing.
This simplifies checking for an SQL NULL default below.
This structure is a subclass of sqlite3_rtree_geometry.
This way we don't need to touch the build system files.
This works regardless we have SLJIT_MEM1 or SLJIT_MEM0.
Three arguments are all strings: call them A, B, and C.
Thus, using it as a generic allocator is not suggested.
To match a '-', make it the last character in the list.
Try to allocate huge pages first to reduce dTLB misses.
Two of the file mapping APIs are different under WinRT.
UTF-8 has been restricted to max 4 bytes since RFC 3629
Use a tmpfile and copy the old streams contents into it
We make a simple difference and add the needed elements
We now have ecode pointing to the condition or callout.
When it *is* set, we substitute Unicode property tests.
When testing, keep a count of the number of open files.
XXX this should fit "most" NLS date-formats and Numbers
actually this should be return by ref but atm cannot be
all data in a persistent bucket must also be persistent
and exit because they do not present in at least one of
autoload_extensions is not initialized, set to defaults
cache where we started so we can parse after validating
check for error set during request parsing / generation
check force_cgi after startup, so we have proper output
check if the called method has been previous registered
check whether it is actually a private key if requested
convert the array data into something IB can understand
count the variables(separators) contained in the "res".
cut off trailing spaces, linefeeds and carriage-returns
dbFileSize is not used when rolling back a transaction.
delete any other parameter registered with this number.
do not use PHAR_GET_16 on either field of the next line
don't allow strange buffer overruns due to bogus return
don't bother doing an extended regex with just a number
don't let the child inherit the parent side of the pipe
dtor required to cleanup iterator related data properly
eMode is always INCRINIT_NORMAL in single-threaded mode
failure means that they don't get a stream to play with
for OCIBindByName (real "oci" names + short "php" names
for private and protected we need to unmangle the names
fork again, to avoid blocking because both pipes filled
fpm has not started yet, let use stdout instead of fcgi
full bitset of atomics from max sector size and smaller
gdImageStringFT -  render a utf8 string onto a gd image
guard against putting value of unknown type into vector
here accelerator is active but we do not hold SHM lock.
if pLimit is null, pOffset will always be null as well.
if the stream was wrapped, allow the wrapper to stat it
if we assign referenced variable, we should separate it
increment, check for overflow and undo increment if so.
isNot: This variable is used by function getNextNode().
keep the arg as binary, since the encoding is not known
maybe it would be better to create one for this purpose
no post handler registered, so we just swallow the data
on a walk, an empty string means top of tree - no error
pass input along, if it's the last handler in the stack
plain sockets only - let winsock handle the whole thing
probably a corrupted tar - so we will pretend it is one
respect inheritance, don't use spl_ce_RecursiveIterator
see Zend/tests/generators/aborted_yield_during_new.phpt
set remote flag to stop service shutting down upon quit
skip past protocol and :/, but handle windows correctly
some files have their values in other parts of the file
some tar programs store directories with trailing slash
store the new resource type in the resource sizes table
tests `c' and returns true if it is a special character
the wrapperdata is an array zval containing the headers
these globals used for forking children on unix systems
this block will not be used, delete all constants there
this is a url like "phar://blah.phar" with no directory
to maintain BC, we must return original string + ending
wait until something interesting happens in the socket.
we are running from shell and got filename was there 2.
we could use sizeof(stage3_table_be_apos_00000) as well
we store the signature followed by the signature length
we're executing the stub, which doesn't count as a file
zip_file_set_mtime.c -- set modification time of entry.
"x IN (SELECT ...)":  TUNING: the SELECT returns 25 rows
'*error_message' has to be passed around from php_mail()
(4) The inner query is the right operand of a LEFT JOIN.
(5)  4 byte big-endian integer which is the sector size.
(I'm not a big fan of non-obvious flow control macros ).
- if method or type already exists, it will be replaced.
42P05 means that the prepared statement already existed.
A NULL trace function means that no tracing is executes.
A PMA created at this point is known as a "level-0 PMA".
A RESERVED or greater lock is held on the database file.
A SrcList is returned, or NULL if there is an OOM error.
A cursor is opened, when more than zero columns returned
A delete marker is an entry with a 0 byte position-list.
A single FTS4 table may have multiple full-text indexes.
Advance the iterator object passed as the only argument.
Aliases which have not been applied indicate typos/bugs.
All are destroyed when the VM is halted (if not before).
All bits will be zero or one (since bit is zero or one).
All it does is declare the sqlite3RtreeInit() interface.
Allocate Floyd-Steinberg workspace if we didn't already.
Allocate space for the cursor, filter and writer objects
Allocate temporary space used by the merge-sort routine.
Allocate the new vtab object and parse the configuration
Allow digits after R to specify a specific group number.
Alpha blending should result in compositing against red.
An INDEXED BY clause specifies a particular index to use
An error message is left in pParse if anything is amiss.
Any changes made to the database are reverted by SQLite.
Append the new serialized varint to the end of the list.
As it is passed to us, we should not clean it ourselves.
At least one character must be matched from this opcode.
At present, just one of these tables is actually needed.
At this point argc can only be between 6 and PS_NUM_APIS
At this point we can freely use all temporary registers.
Attach subtrees pLeft and pRight to the Expr node pRoot.
Because there is no consistency, we will define our own.
Begin a write-transaction on the specified pager object.
Begin constructing a new table representation in memory.
But this implementation can be overridden at start-time.
Calculate output length and upper bound while processing
Can't use gmp_unary_opl here, because mpz_sgn is a macro
Caseful comparisons (includes all multi-byte characters)
Caseful matches, or not one of the multicase characters.
Cases that are likely to block provoke debugging output.
Character iIn and iIn+1 form an escaped quote character.
Check that flags is exactly equal to PHP_EXPUNGE or zero
Check to see if it is OK to read this particular column.
Come here from code above that handles a named recursion
Compare given strings (converting them to UTF-16 first).
Compute the parentage of all nodes in a completed parse.
Compute the revised record entries for indices as we go.
Construct an expression node for a unary prefix operator
Convert negative offset (counted from the end of string)
Convert soap xml dom to XMLRPC_VALUE, sans request info.
Copy of first rowid on page indicated by previous field.
Copy the remaining input hash entries to the output hash
Create a new node (a right-sibling of the current node).
Create the SELECT statement to read keys in sorted order
Cut the search len from haystack, equals to REG_STARTEND
Decrement the reference count on a vxworksFileId object.
Delete an entire SrcList including all its substructure.
Different Unix systems declare open() in different ways.
Digits are usually 0-9, so it is worth to optimize them.
Discard the entire contents of the in-memory page-cache.
Display 'On' for other SAPIs instead of STDOUT or STDERR
Don't use this, it is wrong for little endian encodings.
Enable server-side handshake renegotiation rate-limiting
End sqlite3_file Methods *******************************
Every one-row WhereLoop is automatically order-distinct.
Every page in the database contains 0 or 1 parent pages.
Example 1:  Consider a three-way compound SQL statement.
FIXME: how to pass method name if style is SOAP_DOCUMENT
Failure to call this function *will* cause memory leaks.
Figure out how many bytes are required by this new entry
Figure out which one and pick up the appropriate opcode.
Find implemented methods - SessionIdInterface (optional)
Find the best snippet of nFToken tokens in column iRead.
Find the splittable box with the largest (scaled) volume
Finds the slot corresponding to the key in a hash table.
First byte of gap between cell pointers and cell content
First, ensure the minimum number of matches are present.
Followed by (JOURNAL_HDR_SZ - 28) bytes of unused space.
For a detailed discussion of BTrees, refer to  Donald E.
For a rowid table, initialize the RowSet to an empty set
For index tables, pIdxKey is used and intKey is ignored.
For that reason, we will omit this optimization for now.
For the main database file, the database name is "main".
For the same reason the EP_Collate flag is not commuted.
Free the MergeEngine object passed as the only argument.
Function upper() converts its input to upper-case (ABC).
Function: gdAffineTranslate Set up a translation matrix.
Gather the results for matchinfo directives 'y' and 'b'.
Get file pointer corresponding to the pipe (file) opened
Go through the whole list, stopping if you find a match.
Greedy star operator (*) : Matching path: match happens.
However, it won't be unregistered until the script ends.
If PATH does not already exist, this routine is a no-op.
If already in the error state, this function is a no-op.
If an error occurs, *pRc is set to an SQLite error code.
If an error occurs, return the error code to the caller.
If creating a temp table, the name may not be qualified.
If newid is given, the session id is replaced with newid
If no match is found, the next outer context is checked.
If successful, open the master journal file for reading.
If such a lock is held, return non-zero, otherwise zero.
If that is not possible, then the backup cannot proceed.
If the ending delimiter is not found, display a warning.
If the index is unique, then the last integer will be 1.
If the journal is merely persistent, no reset is needed.
If the module has not been registered, return an  error.
If there is buffered data available, we check for a EOL.
If there is still no match, the next context is checked.
If there was no return value then just execute the query
If this is not the case, return an SQLITE_CORRUPT error.
If we didn't get any error, then let's return it to PHP.
If you change this value then also change bug24640.phpt.
If z is a NULL pointer, set pMem to contain an SQL NULL.
Implementation of the upper() and lower() SQL functions.
Implementation of the xBestIndex method for FTS3 tables.
Implementation of the xBestIndex method for FTS5 tables.
In both cases, a zero repeat forces firstchar to "none".
In dotfile locking, either a lock exists or it does not.
In other words, compute an approximation for 10*log2(x).
In standard SQL, such a table must be a simple name: ID.
In that cases, the constants below can be ORed together.
In this case free the pMerger argument before returning.
Information is passed back and forth as PgHdr1 pointers.
Initialize best-distance for each cell of the update box
Interpret the given string as an auto-vacuum mode value.
Invalidate the current position list for phrase pPhrase.
Invoke the xFileControl method on a particular database.
It does not make a copy of the position-list size field.
It is a no-op unless SQLITE_ENABLE_8_3_NAMES is defined.
It is assumed that it is not already a part of the list.
It might be the case that multiple tables are indexable.
It must be a mov operation, so tmp1 must be free to use.
It will be released when sqlite3DeleteIndex() is called.
Just in case the algo has internally allocated resources
Keep track of the mxChoice best paths at each generation
List may have been edited in place by fts3EvalNearTrim()
Locate either the insertion point or range for the code.
Locate the index named by the INDEXED BY clause, if any.
Look for an existing WhereLoop to replace with pTemplate
Make sure that there is at least one character in string
Make sure this analysis did not leave any unref() pages.
Match a bit-mapped character class, possibly repeatedly.
Mem is an opaque structure visible only within the VDBE.
Merge current hashtable with object's default properties
Merge the forest into a single sorted list on first call
Merge the two sorted lists p1 and p2 into a single list.
Must use gd_strtok_r becasuse strtok() isn't thread safe
NB: for PHP4 compat only, it should be using 'Z' instead
NOT NULL, CHECK, and UNIQUE constraints are all checked.
Need to work with reporter to figure out what goes wrong
New save handlers MUST use PS_MOD_UPDATE_TIMESTAMP macro
No timezone in struct, fallback to reference if possible
No-op versions of the explainXXX() functions and macros.
Nodes are loaded in chunks of FTS3_NODE_CHUNKSIZE bytes.
Not enough room in dst, add NUL and traverse rest of src
Number of tokens to shift before error messages enabled.
OBJECTS_FIXME: This whole extension needs going through.
Only the following values of flags are currently in use.
Opcode: Checkpoint P1 P2 P3 * *  Checkpoint database P1.
Or in a trigger one of the special names "old" or "new".
Or, if an error does occur, return an SQLite error code.
Or, if the iterator has reached EOF, set *pbEof to true.
Otherwise only allow 1 (enabled), and error on disabling
Overflow pages are allocated and filled in as necessary.
Parameter eLock must be either READ_LOCK or  WRITE_LOCK.
Parameter pEnd points 1 byte past the end of the buffer.
Part of the RBU implementation uses a custom VFS object.
Pass the expected checksum down to the FTS index module.
Perhaps even use queue itself to have a list of cursors.
Perl treats a hyphen as a literal in such circumstances.
PgHdr1 is an extension added by this module (pcache1.c).
Prior contents of pTo are freed before the copy is made.
Promote the newest segment on level  iLvl to level iTst.
Reached end of expression, either ')' or end of pattern.
Read and decode the "averages" record from the database.
Read field, leaving bptr pointing at start of next field
Read is required to make new session data at this point.
Refuse to load if this wasn't a threasafe library loaded
Register the fts3aux module with database connection db.
Register the fts3tok module with database connection db.
Release memory from the SQLITE_CONFIG_SCRATCH allocation
Remap to the palette available in the destination image.
Render a string given by "fmt" into the StrAccum object.
Reset a sorting cursor back to its original empty state.
Reset the code to MATCH_NOMATCH for subsequent checking.
Resolve the expressions in the LIMIT and OFFSET clauses.
Retries and formats text from the phpdbg help text table
Return 0 on success or non-zero if there are any errors.
Return TRUE if the given SQL string ends in a semicolon.
Return TRUE if the given btree is set to safety level 1.
Return TRUE if the given string is a row-id column name.
Return a meaningful error when no parameters were passed
Return number of matching commands from a command table.
Return status data for a single loop within query pStmt.
Return the register number where the results are stored.
Run the BEFORE and INSTEAD OF triggers, if there are any
SQLITE_OK is returned if the lock is added successfully.
SQLITE_SYNC_NORMAL means to do an ordinary fsync() call.
Save a little file size by not saving the alpha channel.
Scanner scans file for tokens and passes them to parser.
Search a FuncDefHash for a function with the given name.
See Sreedhar et al, "Identifying Loops Using DJ Graphs".
See the IJG JPEG library documentation for more details.
See the mkopcodeh.awk script for additional information.
Select a currently unused rowid for a new r-tree record.
Servers need to load and assign CA names from the cafile
Set a flag to cause another lookbehind check at the end.
Set the output variable to NULL in case an error occurs.
Set the pointer to the final character before returning.
Sets addr by hostname, or by ip in string form (AF_INET)
Setting the size limit to -1 means no limit is enforced.
Shrink it to actually-used volume and set its statistics
Shut-up the streams, they don't know what they are doing
Skip QD entries, they're only used by dn_expand later on
Skip over LBox (Which includes both TBox and LBox itself
Skip the conflict logic below if the rowid is unchanged.
So avoid calling fchown() if we are not running as root.
So jump over the coroutine implementation to address P2.
So the bitmap is usually sparse and has low cardinality.
So we cannot safely invoke alloca (N) if N exceeds 4096.
Space on the edges is half of the space between elements
Statements to read/write/delete a record from xxx_parent
Switch to a new external colormap between output passes.
THIS SOFTWARE IS PROVIDED BY THE NETBSD FOUNDATION, INC.
TUNING: Do not let the number of iterations go above 28.
That way, if no reads occur, no unnecessary I/O happens.
The MemPage.nFree field is invalidated by this function.
The P1 register is initialized to 0 by this instruction.
The WAL has been completely backfilled (or it is empty).
The backtrace functionality is only available with GLIBC
The caller is responsible for zeroing output parameters.
The column list has only names, not types or collations.
The first parameter (pDef) is a function implementation.
The following need to always initially be zero, however.
The iVersion value will increment whenever this happens.
The macros CAMLparam0 and CAMLlocal1 register the roots.
The modified database pages are written to a *-oal file.
The new record number is written written to register P2.
The only way to reach the limit is with sqlite3_malloc()
The original handler needs to be restored after pclose()
The page number identifies the parent page in the btree.
The remaining available space that needs to be allocated
The requested data is available in the in-memory buffer.
The results are guaranteed to appear in register target.
The return  value is a pointer to the Stat4Accum object.
The size of the pascal string length (sz) is 1, 2, or 4.
The sqlite3_status() routine needs access to this mutex.
The table conceptually has a number of rows and columns.
The table contains key/value bindings encoded in a word.
The testcase() macro is used to aid in coverage testing.
The trailing arguments are the usual subsitution values.
The word is too big or too small for the porter stemmer.
The zValue argument is the name of the directory to use.
There is a similar code in compile_bracket_matchingpath.
There is no prefix-length field for first term in a node
These macros define the alternative names that are used.
These messages are intended for debugging activity only.
These routines are used inside assert() statements only.
This code is heavily based on the PHP md5 implementation
This comes from various sources that like to contradict.
This feature is available in gcc versions 2.5 and later.
This function computes the Sun's position at any instant
This function is called to handle an FTS INSERT command.
This happens if it was written by an old version of FTS.
This heap is used for cell overlap and coverage testing.
This is needed for the argument to "PRAGMA index_xinfo".
This is preferable to generating a new  ephemeral table.
This is required before  writing data to the fts3 table.
This macro verifies that nothing like that ever happens.
This macro verifies that shallow copies are not misused.
This may be a compound name that includes namespace name
This may not be consistent with other numbering schemes.
This particular expression does not need to be expanded.
This routine does the first phase of a two-phase commit.
This routine is the inverse of sqlite3WhereClauseInit().
This routine is used only inside of assert() statements.
Thus, a proactive measure like this self-test is needed.
Unfortunately, doesn't behave the same way as fopen()...
Unless  activated, none of the CEROD routines will work.
Update all the previous opcodes to use the same variable
Use only function parameters passed from session module.
Use realloc() to expand the size of zBuffer if required.
Valid only after Fts3SegReaderStep() returns SQLITE_ROW.
Validate the CRC32 of a file opened from within the phar
Value for the first field of every RtreeMatchArg object.
Values passed as the 5th argument to allocateBtreePage()
Vdbe is guaranteed to have been allocated by this stage.
Walk all expressions associated with SELECT statement p.
We asked for one row, the next one should be EOF, eat it
We got an illegal character so we are done accumulating.
We have found the first match within the subject string.
We have to remember that there was XCLASS data, however.
We just return the 'wrong' day of week to be consistent.
We know that STR_PTR was stored on the top of the stack.
We need to manually convert to a pg native boolean value
We only want to know if the last command was successful.
We should already hold a lock on the database connection
We use a do-while loop so that we write at least 1 digit
When KEY_USER, the last parameter is always the callback
Write the contents of the page out to the database file.
XXX value should be parsed in the loop to exhaust size_t
a will not strip any trailing whitespace or null padding
accepts the data connection, returns updated data buffer
add shutdown function, removing the old one if it exists
add these numbers, I'll let the C compiler do it for me.
ask the event module to remove the fd from its own queue
buffer is not long enough to hold full output, double it
cast to size_t OK as the quantity is always non-negative
charset shouldn't matter, use ISO-8859-1 for performance
clause is as specified by the parameter to this routine.
close the statement here, the connection has been closed
construct the spb, hack the service name into it as well
constructor for a JsonEachCursor object for json_each().
constructor for a JsonEachCursor object for json_tree().
copied from sapi/cli/php_cli.c cli_register_file_handles
copy arguments back, they might be changed by references
display html formatted or only show the additional links
do funky checking whether the parsed date was valid date
do funky checking whether the parsed time was valid time
don't break the lock on short read or a version mismatch
during shutdown the symbol table table can be still null
empty variable name, or variable name with a space in it
errno isn't checked since we allow HUGE_VAL/INF overflow
falls back to UTF-8 if an unknown encoding name is given
file exists, but is either corrupt or not a phar archive
find the next available segment index at level iLevel+1.
first call without setting which to initialize the timer
first, try interpreting the address as a numeric address
for links to relative location, prepend cwd of the entry
force it to be a string and check if it refers to a file
get current working directory and prepend it to the path
growing the file does not occur until the write succeeds
if eocd values are 0xffff, we have to use eocd64 values.
in non-debug mode we have no problem with 0-length files
keep in mind that image_info does not store editor value
len       length of id string if known, or 0 if unknown.
map        - contains service information for each page.
maximum size before value is interpreted as a LONG value
nRec is the number of valid page entries in the journal.
operand of unlimited repeat could match the empty string
or anything at all really, so long as its got some text.
set flag for new, improved array of objects mailbox list
skip over the rest and go directly to additional records
skip symlink filename - we may add this support in later
source and destination must both be WITHOUT ROWID or not
suppress warning if this stream is not explicitly closed
the standard pack utilities do not accept standard input
this may not be safe to do, but could work and be useful
this was a DML or DDL query (INSERT, UPDATE, DELETE, ...
tokenize on the "_" or "-" and stop  at singleton if any
use_realpath is 0 in the call below coz path is absolute
whether to check CRC on EOF and return error on mismatch
will be freed by Zend, thus don't use the mnd_ allocator
"p" is NULL if this is the first term of the FROM clause.
(13)  The subquery and outer query do not both use LIMIT.
(2011-04-15) Do not do a full scan of an unordered index.
(2013-10-03) Do not count the entries in a partial index.
(One conditional branch based on password length remains.
- Copyright (c) 2008 Christos Zoulas All rights reserved.
- We emulate an or'ed type mask by querying type by type.
-*************************** Begin Serializiation funcs *
-*************************** Begin XMLRPC_REQUEST funcs *
1 means allocate a new page if space is easily available.
1st passed in rcx, 2nd argument passed in rdx, 3rd in r8.
A database containing an RBU update is an "RBU database".
A different comparison function for SegReader structures.
A function is valid if either xFunc or xStep is non-zero.
A list of varints, one for each subsequent termless page.
A prepared statement object  is the compiled object code.
A single token is the base case and the most common case.
A transaction must be active when this routine is called.
According to the information I was using, 2 measn meters.
Advance Pager.journalOff to the start of the next sector.
Advance each of the segments to point to the first docid.
All fields above are zeroed when the cursor is allocated.
Allocate cache slot to speed-up run-time class resolution
Allocate storage for the completed colormap, if required.
An implementation of the LockFile() API of Windows for CE
An implementation of the UnlockFile API of Windows for CE
An interior node encodes n terms separating n+1 subtrees.
And, even if it is not, it should not be too much slower.
Append the nul-terminated string zStr to the buffer pBuf.
Append version, passes, digest length, and message length
Argument zFmt is a sqlite3_mprintf() style format string.
Argument: the address of the base frame Returns:  nothing
Arguments:  c opcode Returns:    base opcode for the type
As of curl 7.11.1 this is no longer defined inside curl.h
At this point pParent may have at most one overflow cell.
At this point, pWLoop is a candidate to be the next loop.
Attempting to  do so results in an SQLITE_MISMATCH error.
Auxiliary functions needed by objects of 'Collator' class
COM_QUERY and COM_EXECUTE handle the responses themselves
Calculate the average document length for this FTS5 table
Calculate the length in bytes and the checksum of zMaster
Call the parser to process a CREATE TABLE, INDEX or VIEW.
Check for an Implicit Result Set on this statement handle
Check for special case that d is a normalized power of 2.
Check if disp_loc_name passed , if not use default locale
Check if the requested node is already in the hash table.
Check if this phrase descends from an OR expression node.
Check that there are at least nSavepoint savepoints open.
Check to see if pIndex uses the collating sequence pColl.
Check whether cache entry has expired and rescan if it is
Code the SELECTs to our left into temporary table "tab1".
Collect extensions with request startup/shutdown handlers
Construct an expression node for a unary postfix operator
Copy the b-tree node content from page pFrom to page pTo.
Could easily be further generalized to work with objects.
Coverage: it may be that this sqlite3_step() cannot fail.
Create a label to jump to when we want to abort the query
Deal with directionality codes introduced in Unicode 3.0.
Define various macros that are missing from some systems.
Detect quoted length and if we should use binary encoding
Determine if we need to parse the file or show the source
Determine whether or not this is a transaction savepoint.
Do not attempt to change the page size for a WAL database
Do the same as read() does, however not blocking forever.
Does not check for a previously opened phar in the cache.
Driver will replace this with other type if not possible.
Drop the database write lock and reacquire the read lock.
EUI-64 format: Four hexadecimal digits separated by dots.
Each RUN is allocated as a single or few following pages.
Each entry in the journal is an instance of the 8th item.
Earlier versions of SQLite used only methods (1) and (2).
Edit and rerun the script in at  ../tool/mkpragmatab.tcl.
Either way, clear the PGHDR_NEED_SYNC flag on  all pages.
Enabling mutexes incurs a measurable performance penalty.
End of the AFP lock implementation **********************
End of the NFS lock implementation **********************
Evaluate the expression and insert it into the temp table
Exit, the rest of the connect is in a different protocol.
Explicitly call the 64-bit version of lseek() on Android.
Expressions iterate through matching rows in docid order.
Fall back to using xRead/xWrite exclusively in this case.
Fetch the object (without resetting its last error code).
Fields below are only available in SQLite 3.8.2 and later
Fields below are only available in SQLite 3.9.0 and later
Figure out the root-page that the lock should be held on.
Filters are cleaned up by the streams they're attached to
Find the splittable box with the largest color population
Finish off a string by making sure it is zero-terminated.
First search the list for an existing lock on this table.
For a TEMP Schema, only the connection mutex is required.
For example, if the following SQL is executed:  CREATE ..
For internal nodes it is the node number of a child page.
GC for closed generators doesn't need an allocated buffer
Generate an ORDER BY or GROUP BY term out-of-range error.
Get the squares of the lengths of the segemnts AC and BC.
Get/set the size-limit used for persistent journal files.
Gets the next CRLF terminated line from the input buffer.
Go through input array and add values to the return array
Guard against putting a key/val pair into an array vector
HACK: allow setting of this node by passing an empty name
Here ends the implementation of all sqlite3_file methods.
Holds the available server ALPN protocols for negotiation
Hopefully this problem will be discovered during testing.
If  any are, then the constraint is considered satisfied.
If P1 is not currently open, this instruction is a no-op.
If a mutex is required for normal operation, allocate one
If aOp is not NULL it is assumed to contain  nOp entries.
If an error does occur, an SQLite error code is returned.
If an error does occur, then the b-tree cursor is closed.
If backslash is at the end of the pattern, it's an error.
If isIgnoreErrors is true, then a table is being dropped.
If it is a string or blob, try to convert it to a double.
If maximizing, find the longest string and work backwards
If no value is specified, all of the headers are removed.
If not in RBU_STAGE_OAL, allow this call to pass through.
If opening a non-empty database, check the text encoding.
If p2 is negative, return the p2 characters preceding p1.
If pSpace is already 8-byte aligned, nOff should be zero.
If pTab is already in the array, this routine is a no-op.
If so, and there are active VMs, then return SQLITE_BUSY.
If the 'x' expression is a column value, or the SELECT...
If the LHS is contained within the RHS then fall through.
If the SQLITE_STOREP2 bit of P5 is set, then do not jump.
If the WAL is not empty, return the size of the database.
If the allocation succeeds, zero it and return SQLITE_OK.
If the set contains no NULL values, then the result is 0.
If the workspace had to be expanded, free the new memory.
If there is a second table, add or remove it as required.
If there is any kind of error, return ((unsigned int)-1).
If there is space, set up the whole thing as substring 0.
If this is not a view, open the table and and all indices
If this is not the first segment, 'pseg' will be nonzero.
If we are at the end of the subject, give up immediately.
If we cloned a document then we must create new doc proxy
If we do it after free_reference/dtor then we might crash
Implementation of SQL scalar function rbu_fossil_delta().
In the second pass we must see if the name is duplicated.
Instead of doing that, set the cursor state to "invalid".
Internal data structure corruption will result otherwise.
It is useful to think of an sqlite3 pointer as an object.
It may not compile or execute correctly on other systems.
It must not return FAILURE for non-existent session data.
It will be moved back after the names have been resolved.
Just not compatible for extensions that need persistency.
Legacy save handler may not support update_timestamp API.
Like optimization range constraints always occur in pairs
Lock the virtual table so that it cannot be disconnected.
Locks held  by database connection db have been released.
Lookahead token as an internal (translated) token number.
Make stdin, stdout and stderr accessible from PHP scripts
Make sure colormap indexes can be represented by JSAMPLEs
May be NULL in which case the initial buffer is malloced.
May you find forgiveness for yourself and forgive others.
Mem.xDel is might not be initialized if MEM_Dyn is clear.
Modify the sqlite_master table to use the new table name.
N2 is subtracted from N1 and the result placed in RESULT.
NOTE: Return type is signed so we can return -1 on error.
NOTES all values are of type xmlrpc_type_empty until set.
Name of the connection operator, used for error messages.
Next is not allowed to follow SeekLT, SeekLE, or OP_Last.
Not last chunk, if the user asks for less, give it to him
Not sure what should be done here if it's a static method
Note that on Win32 CWD is per drive (heritage from CP/M).
Note: errorptr points to *previous* column's array entry.
Note: for global settings sake we check from root to path
Notwithstanding the foregoing, the authors grant the U.S.
OK, now we can get on with the real code of the function.
Object handlers for Transliterator class (and subclasses)
Once GCC version 2 has supplanted version 1, this can go.
Only one has a type declaration and the other one doesn't
Or, if an error occurs, an SQLite error code is returned.
Otherwise a new WhereLoop is added based on the template.
Otherwise,  if the allocation fails, return SQLITE_NOMEM.
Otherwise, we need to find the next part of the namespace
Our little 7-bit alpha channel trick costs us a bit here.
P4 is a pointer to the VM containing the trigger program.
PDO error (if any) has already been raised at this point.
POSIX.1, 6.x most I/O functions already supported by PHP.
PS(id) may be changed by calling session_regenerate_id().
PS_* functions are called as follows with standard usage.
PTRMAP_BTREE: The database page is a non-root btree page.
Promote any segments that should be promoted as a result.
Query status information for a single database connection
Rather than swallow a surrogate, just stop if we hit one.
Read the page-size and sector-size journal header fields.
Record the fact that we want to lock a table at run-time.
Reparse everything to update our internal data structures
Replace with NULL if there's nothing to do at request end
Retrieve unencoded data that is found before encoded data
Return 0 if the two expressions are completely identical.
Return SQLITE_ERROR if the time and date cannot be found.
Return an 1-based index of the matching result-set entry.
Return an error code to the caller if an IO error occurs.
Return the N-dimensional volumn of the cell stored in *p.
Return the collating function associated with a function.
Return the full pathname of the underlying database file.
Return the text of a syntax error message on a JSON path.
Return true if fsync() calls are disabled for this pager.
SQLITE_ACCESS_READONLY: Return 1 if the file is readable.
SQLT_CHR is the default value when type was not specified
See `fsnotify_win/fsnotify.ml` for a general description.
See sqlite3Update() documentation of "pChanges" argument.
SegmentAlignment.swift import SpriteKit and calls Test().
Set the magic to VDBE_MAGIC_RUN sooner rather than later.
Set the new 'max-root-page' value in the database header.
Sets addr by hostname, or by ip in string form (AF_INET6)
Since Grandfathered , no value , do nothing , retutn NULL
Since a system call has failed, errno should be non-zero.
So redefine fcntl() to be something that always succeeds.
So the result will be either the default value or a NULL.
Space for the eventually created colormap is stashed here
Split name into class/namespace and method/function names
Such interned strings are shared across all PHP processes
TODO check if handling other error codes would make sense
TODO: add a test to check if we really have zvals here...
TODO: birdstep_fetch_into(), Check all on real life apps.
Temporarily encoding the needs_control_head in framesize.
Terwilliker Jehosophat Aloysius Monstrosity Animal Beast.
The alert stack is cleared after imap_alerts() is called.
The commit and rollback hook callbacks are not reentrant.
The default value for the second argument to matchinfo().
The differences are in the way that file locking is done.
The divider cells have already been removed from pParent.
The error stack is cleared after imap_errors() is called.
The final value of *pazDequote is undefined in this case.
The first op2_len bytes of result will still be the same.
The first page of each chunk is reseved for chunk header.
The full-path is written to this buffer before returning.
The function returns only the integer part of the number.
The generator is already closed, thus can't send anything
The implementation of the rbu_target_name() SQL function.
The key with be for index pIdx which is an index on pTab.
The last capture is a local variable even for recursions.
The list of lengths is terminated by a zero length entry.
The old colset object (if any) is not freed in this case.
The only error that can occur here is a malloc() failure.
The operands are usually destroyed by the opcode handler.
The ordering is a comma delimited list of provider names.
The pVal argument is known to be a value other than NULL.
The page and offset from which the current term was read.
The page size must be a power of 2 between 512 and 65536.
The pointer points at the next overflow page in the list.
The progress callback will be invoked every nOps opcodes.
The request could not be fulfilled using a freelist slot.
The returned buffer is allocated using sqlite3DbMalloc().
The signal trampoline expects the TLS slots to be zeroed.
The specific row is identified by the iBlockid parameter.
The terminating NOTACHAR is copied form the clist itself.
The use of a stale cache can lead to database corruption.
The user error handler failed, use built-in error handler
The value of NN appears to give the best results overall.
The value stored in the RBU_STATE_STAGE column is eStage.
The xUpdate method will do a DELETE or an INSERT or both.
The zType is a word like "NULL" or "closed" or "invalid".
There are assert() statements in the code to verify this.
There is also a guard word at the end of the MemBlockHdr.
There is an  upper bound on the size of allocated memory.
There must be some entry before the one we want to delete
This code used to be part of the tokenizer.c source file.
This file contains only code for the core SQLite library.
This file was autogenerated by the MultiStage2.py script.
This is a helper function for rbuObjIterCacheTableInfo().
This is like Close() followed by Init() only much faster.
This is limited to  some extent by SQLITE_MAX_SQL_LENGTH.
This is safe since there is always at least one byte free
This is the code number for the token at this stack level
This is the reason this function may return SQLITE_NOMEM.
This is the xFilter implementation for the virtual table.
This is where control jumps back to to effect "recursion"
This module contains the external function pcre_config().
This prevents us from starting PHP until the second load.
This routine calls the finalize method for that function.
This routine checks to see if pExpr appears in any index.
This routine implements the OP_Vacuum opcode of the VDBE.
This routine is only used from within assert() statements
This routine only runs while holding the checkpoint lock.
This routine should be called right after sqlite3_open().
This routine will take ownership of the allocated memory.
This section is performed when method enter event occurs.
This structure consists mostly of methods for the module.
This structure is used to store a section of a Jpeg file.
This turns on the following extra special behaviour:  3a.
Use the VAX insv instruction to insert each code in turn.
Use the built-in recursive mutexes if they are available.
Used to block signals during execution of signal handlers
Usually this is the size field of the position list data.
Valid sqlite3_blob* handles point to Incrblob structures.
Variable DUMMY1 is initialized to a negative value above.
Vector size is maintained by queue during add/remove ops.
Verify that no lookaside memory was used by schema tables
WHEN_WE_NEED_TO_CHECK_WHETHER_COMPRESSION_WORKS_CORRECTLY
We do not trust systems to provide a working fdatasync().
We have not grown past twice the size of the initial size
We have to call shutdown callback it to free TS resources
We know at this place that *p is no delimiter, so skip it
We need to fixup the parameter numbers on the parameters.
We recommend keeping 6 bits for G and 5 each for R and B.
We're at the end of the level "cont_level" continuations.
We've run out of replacement strings, so use an empty one
Whichever it was, this module duplicates the  limitation.
Writers normally append new frames to the end of the WAL.
You have to take care and efree() the buffer on your own.
__dtoa() doesn't allocate space for 0 so we do it by hand
allow_string - is_a default is no, is_subclass_of is yes.
and instruct fetch to fetch waiting piece into our buffer
buffer to store 'indexes' which will be passed to 'qsort'
bytecnt checks are to be kept for PHP, see cve-2014-3538.
character appears in non-ISO extended ASCII (Mac, IBM PC)
check blacklist right after ensuring that file was opened
copied from php-src/main/snprintf.c and slightly modified
ctors only have a prototype if it comes from an interface
data phars need only contain a single non-"." to be valid
dblib do not return more than this length from text/image
destructor for the manifest hash, frees each file's entry
do nothing, the iterator always points to the top element
eg: when describing a table that contains an enum column.
ensure heartbeat is not lower than FPM_PCTL_MIN_HEARTBEAT
ensure the header is only sent if user_agent is not blank
first open readonly so it won't be created if not present
for compatibility with CGI (do not generate HTTP headers)
gd_security.c  Implements buffer overflow check routines.
glob(3) -- a superset of the one defined in POSIX 1003.2.
handler for situations where there is no source file, ex.
if turned on - check the compiled script ADLER32 checksum
if we are not initializing, build the sqlite_master entry
is not in hashtable, thus, function is not to be excluded
iterate_upper_bound points beyond the last expected entry
ldap_init() is deprecated, use ldap_initialize() instead.
leading '..' must not be removed in case of relative path
leave a empty object, will be dtor later by CLONE handler
leave yield from mode to properly allow finally execution
len       length of val string if known, or 0 if unknown.
link the transaction into the connection-transaction list
localtime  Assuming the current time value is UTC (a.k.a.
map the modified-base64 character `c' to its 64 bit value
mixed is probably closest thing we have to compound type.
most general version: calc cost by user-supplied function
need to copy to strip leading "/", will get touched again
needs to be malloc (persistent) - GD will free() it later
note the extra 4 space index in because of the extra ****
output any remaining errors at their original error level
private or protected property access outside of the class
re-calculate the manifest location to simplify later code
remove xinclude processing nodes from recursive xincludes
reserve space for arguments, local and temorary variables
sas: Works for me on Linux 2.0.36 and FreeBSD 3.0-current
search in the timeout queue for the next timer to trigger
set the filter property, this will be used during cleanup
since tm_wday starts from 0 whereas ICU WDAY start from 1
so we don't do this when the string is sufficiently long.
sqlite3MallocDisallow() increments the following counter.
strip trailing whitespaces if we have not done so already
the destination weighting is substantially reduced as the
the headers define the proto without the flags parameter.
this global stores the global cached pre-parsed manifests
totalSubs  The number of variables that will be required.
try with a non-escaped URI this may be a strange filename
used to check if script restored to SHM or process memory
we already know we can retrieve the phar if we reach here
we can keep this entry, the file that refers to it exists
we convert numbers to integers and treat them as a string
we need to reset the sse here as unixtime2gmt modifies it
www., wiki., windows., master., and others, I guess pecl.
zend_str_tolower_copy won't necessarily set the zero byte
zero for the background color, nothig gets outside anyway
"Color Image Quantization for Frame Buffer Display", Proc.
"readonly" is not a valid option for the "mode" parameter.
(1) START     At the beginning or end of an SQL statement.
(The choice of 16 is arbitrary, but let's stick to it now.
(d) if DELETEONCLOSE is set, then CREATE must also be set.
* - does not expose SOAP-ENV:Header to application at all.
0xaa, 0xb5, 0xba are lower case letter, but can't convert.
1st passed in rdi, 2nd argument passed in rsi, 3rd in rdx.
2) The current terms (if any) are compared using memcmp().
@return void       This function does not return anything.
A false positive, however, can result in the wrong answer.
A tree of these objects forms the RHS of a MATCH operator.
A value of 0 used to mean that the limit was not enforced.
ABLEFTHENDEFERRABLELSEXCEPTRANSACTIONATURALTERAISEXCLUSIVE
According to spec, this is only recommended, not required.
Activate ini entries with values from the user config hash
Add a new column to the table currently being constructed.
Addison-Wesley Publishing Company, Reading, Massachusetts.
Adjust numbers and allocate storage and initialize fields.
All of the above are free to ignore their ORDER BY clause.
Allocate an Expr node which joins as many as two subtrees.
Allocate and return a buffer at least nByte bytes in size.
Also consider the unlikely of possibility of a write block
An EXCLUSIVE or greater lock is held on the database file.
An in-memory journal file should only ever be appended to.
And for both UPDATEs and DELETEs all fields are collected.
And, ensure that the referenced method is resolvable, too.
Another opcode follows immediately after the last operand.
Any deferred constraint violations have now been resolved.
Any other return is either a match, or some kind of error.
Append N copies of character c to the given string buffer.
Append a sequence number so that all entries are distinct.
Appends any supported element to the end of the collection
Array szCell contains the size in bytes of each such cell.
Assert that column iCol of statement pStmt is named zName.
Assign VdbeCursor index numbers to all tables in a SrcList
Avoid sprintf, as that infringes on the user's name space.
Both  provide read/write access to the contents of *pHash.
Both calls and BPr instructions shall not pass this point.
Both the original table entry and all indices are removed.
Buffer object for the incremental building of string data.
But a NULL pointer always differs from a non-NULL pointer.
But so far, none of that has been implemented in the core.
But these numbers are not part of the result table itself.
Cache the chunk_size to avoid recalling OCILobGetChunkSize
Cache used by auxiliary functions xInst() and xInstCount()
Call recursively to fill in all the descendants of node i.
Call the user's traceback function and then call sigtramp.
Change the comment on the most recently coded instruction.
Character bitsets can also be compared to certain opcodes.
Check that the CTE name is unique within this WITH clause.
Check that there isn't an ORDER BY without a LIMIT clause.
Check the exponent for scale digits and convert to a long.
Check to see if the new rowid already exists in the table.
Cleans up the mapped region of the specified file, if any.
Compare the two values using the collation sequence pColl.
Comparison is as follows:  1) EOF is greater than not EOF.
Compose a tcl-readable representation of expression pExpr.
Compute the set of tables that might satisfy cases 1 or 3.
Convert a 64-bit IEEE double into a 64-bit signed integer.
Convert the final space to a newline when logging to file.
Corruption can follow a power failure in this case anyway.
Default to the current year if year parameter is not given
Define these in the PHP7 tree to make merging easy process
Delete a virtual table handle allocated by fts5InitVtab().
Did parent received exit signals SIG_TERM/SIG_INT/SIG_QUIT
Discard segments that do not contain our argument address.
Do not deviate from the formatting style currently in use.
Don't use IN(...) in case SQLITE_OMIT_SUBQUERY is defined.
Drop all triggers associated with the table being dropped.
Each occurrence of the * pattern causes a recursion level.
End of the flock lock implementation *********************
End of the no-op lock implementation *********************
FTS5 then queries the index for each synonym individually.
Fetch jit auto globals used in the script before execution
Fetch the object (without resetting its last error code ).
Find if Y M D falls in YearNumber Y-1, WeekNumber 52 or 53
First run uses custom filter, second run uses bloom filter
For ON UPDATE, construct the next term of the WHEN clause.
For a docid lookup, this routine simply sets the EOF flag.
For any other minimum, carrying on will result in NOMATCH.
For each subpattern, insert it into the appropriate array.
For each subpattern, insert it into the subpatterns array.
For example, (E) above is indexable on tables P, Q, and R.
For more details see the comment where this table is used.
For traits this check is delayed until after trait binding
Force fmt to a valid value since we don't return anything.
Free the configuration object passed as the only argument.
Get/Create intermediate arrays for multidimensional arrays
HTML_ENTITIES (actually, any non-zero value for 1st param)
Handle the special case of extending the range on the end.
Hence the pSpace buffer must be at least 13 bytes in size.
Hence, for maximum binary portability you should omit LFS.
III) The hashtable that maps string keys to string values.
If SQLITE_OK is returned, it means that access is allowed.
If a transaction is still open on the Btree, roll it back.
If an error occurs, an error code is left in Fts5Index.rc.
If an error occurs, write an error message into *pzErrMsg.
If any phrase is not a match, break out of the loop early.
If defined as non-zero, auto-vacuum is enabled by default.
If either  argument is an SQL NULL, then NULL Is returned.
If either *pbEof or *pRc are set, return a non-zero value.
If found, set *piRead to the frame that contains the page.
If how is SHUT_RD,  further receptions will be disallowed.
If iLevel is -ve, then all data in all segments is merged.
If it isn't compile_and_cache_file() changes the flag to 0
If madvise is available, we release the unnecessary space.
If negative, reduce the rule which number is the opposite.
If negative, reduce the rule whose number is the opposite.
If neither of the above apply, the page is safe to update.
If no test above fails then the indices must be compatible
If not building as part of the core, include sqlite3ext.h.
If the constraint is satisfied, leave *peWithin unchanged.
If the database is not initialized, it is initialized now.
If the input FuncDef structure is ephemeral, then free it.
If the operator is UNION ALL, then duplicates are allowed.
If the reneg_limit_callback returned true don't auto-close
If xInit is not on the list, then this routine is a no-op.
Implementation of the "simple" full-text-search tokenizer.
Implementation of the sqlite_compileoption_get() function.
In default (Perl) mode, it is treated as a data character.
In fact, the value ESC_g is returned only for these cases.
In other cases, the error is returned to the b-tree layer.
In some cases, the call to btreeMoveto() below is a no-op.
In some places we need to check if the number NUM is zero.
In some places we need to check if the number is negative.
In the former case, we do not have to allocate any handles
Inidcates the distacne the autofocus camera is focused to.
Initialize the upper limit on the number of worker threads
Inputs: A pointer to the function used to allocate memory.
It is simple, and it seems to work, and it is pretty fast.
It looks ahead to see if it really is a quantifier or not.
It must be the case that N is sufficient to make a Rowset.
It records whether the operating system is Win9x or WinNT.
It returns true if such a lock exists and false otherwise.
It's also only valid for Great Brittain and it's colonies.
Keys and elements are compared by user supplied functions.
Length of an instruction word Both for mips-32 and mips-64
Lower the locking level on file descriptor id to locktype.
Make sure the TEMP database is open and available for use.
Make the page containing the entry to be deleted writable.
Map only part of SHM to have access opcache shared globals
Maximum number of PMAs that a single MergeEngine can merge
Merge two position-lists as required by the NEAR operator.
Must be called after the hack server is done initializing.
NOTE: - Save handlers _MUST_NOT_ change/refer PS() values.
Needle doesn't occur, shortcircuit the actual replacement.
New error codes may be added in future versions of SQLite.
No need to  search for a matching row in the parent table.
Nominal steps between cell centers ("x" in Thomas article)
Non-composite foreign keys do not require the aiCol array.
Note that the virtual term must be tagged with TERM_VNULL.
Note that this function is called only for ANY or ANYCRLF.
Now persistent_script structure is ready in process memory
Number of registers (some are magic, such as network I/O).
OUT_CHAR is the actual routine for writing the characters.
Obtain the BtShared mutex associated with B-Tree handle p.
Offset is set zero to mark that this bracket is still open
Omitted if no overflow  Overflow pages form a linked list.
Opcode: Once P1 P2 * * *  Check the "once" flag number P1.
Operand-sized immediate (no sign extension unless 64 bits)
Or if a trigger program throws a  RAISE(IGNORE) exception.
Order of Phis is importent, Pis must be placed before Phis
Otherwise the initialization process would never complete.
Otherwise, flush the current node of layer iLayer to disk.
Otherwise, if no OOM error occurs, it is set to SQLITE_OK.
Otherwise, set *ppFd to 0 and return an SQLite error code.
Otherwise, the original owner will not be able to connect.
Output parameter *ppSegcsr is set to 0 if an error occurs.
Put buffered data together with inbound for a single block
Raise warning and return NULL by checking client_encoding.
Recover the wal-index by reading the write-ahead log file.
Remember to change this if the number of directives change
Resolve ties by choosing the entry with the smallest area.
Retrieve the next token from the tokenizer cursor pCursor.
Return NULL if zName is not a recognized system call name.
Return SQLITE_ERROR if the time and date  cannot be found.
Return the address of the next instruction to be inserted.
Return the pathname of the journal file for this database.
Return-path, Received, Date, From, Subject, Sender, To, cc
Returns 0 if things went well, nonzero if errors occurred.
Round up a request size to the next valid allocation size.
Routines to implement min() and max() aggregate functions.
Rowids are inserted into the RowSet in an arbitrary order.
SQLITE_OK is returned on success, otherwise an error code.
Same as READ_UTF8() above but without the zTerm parameter.
Search forward to find the page containing the last rowid.
Sessions for non-persistent connections should be dropped.
Set iTrunk to the index of the first free-list trunk page.
Set up the default and non-default settings for greediness
Should be calloc, as mnd_calloc will reference LOCK_access
Shutdown scanner/executor/compiler and restore ini entries
Similarly, the idxFlags field was added for version 3.9.0.
Space to hold the returned string is obtained from malloc.
Special handling is require for CREATE TRIGGER statements.
Specifically, the pager jumps into the ERROR state if:  1.
TEST checks to see if an element is already in the RowSet.
TODO: curl based streams probably support file:// properly
TUNING: For simple queries, only the best path is tracked.
Take advantage of short-circuit false optimization for AND
Test the existence of or access permissions of file zPath.
That is, the match must be before or at the first newline.
The "type" of connection pointer is given as the argument.
The 0x01 bit means first remove pPage from the dirty list.
The SQLITE_THREADSAFE macro must be defined as 0, 1, or 2.
The btree.c module deals with pointers to MemPage objects.
The caller has already promised not to write to that page.
The choices are  SQLITE_MUTEX_OMIT         No mutex logic.
The cost of a TEST using the same batch number is O(logN).
The current language id is stored in variable iPrevLangid.
The following macro is used to suppress compiler warnings.
The fractional seconds extension (the ".FFF") is optional.
The function returns the number of successful conversions.
The highwater mark is meaningless and is returned as zero.
The integer parser token codes are reused as opcodes here.
The interfaces above must be called in a particular order.
The journal file must be open when this routine is called.
The label could point the address after the constant pool.
The local_size is already adjusted by the saved registers.
The longest property name we use in an uploaded file array
The only difference being the specification of leap years.
The pArg from the previously registered trace is returned.
The page size can be any power of 2 between 512 and 65536.
The pointer map is used to locate the parent page quickly.
The pool of bytes for shared locks begins at SHARED_FIRST.
The range may have an upper bound, a lower bound, or both.
The registers begin with iDest and increase consecutively.
The start of buffer (a/n) contains the start of a doclist.
The target is relative to the link itself, not to the CWD.
The wal-index is broken into pages of WALINDEX_PGSZ bytes.
The win32 namespace will cut off trailing dots and spaces.
There is a slight redundancy here but we can live with it.
These codes are defined in a range that can be tested for.
These flags control aspects of the operation of the btree.
This branch happens only when content is on overflow pages
This call frees resources allocated by sqlite3MutexInit().
This call is a no-op if table pTab is not a virtual table.
This file contains code use to manipulate "Mem" structure.
This file contains the C functions that implement mutexes.
This file modified from sources for imap4 for use in PHP 3
This function allocates memory by calling sqlite3Malloc().
This function does the work for an sqlite3rbu_step() call.
This function gathers 'y' or 'b' data for a single phrase.
This function is called recursively in many circumstances.
This function is called to check for left recursive calls.
This function is only used as part of assert() statements.
This implementation does not actually create a new thread.
This is never the case when building a production library.
This is, in fact, what happens in single threaded systems.
This means that a SQL string of all whitespace is invalid.
This memory file is tagged "reserved" but not "committed".
This only occurs if compiled with -DSQLITE_ENABLE_COSTMULT
This only works for chunks that are currently checked out.
This requires that the combining class codes are the same.
This routine adds a new term to the end of the expression.
This routine does NOT free the Select structure passed in.
This routine is a no-op if the shared-cache is not enabled
This routine is used only from within assert() statements.
This should be a pointer obtained from sqlite3ParserAlloc.
Thus the characteristics of the randomization are the same
Truncate the in-memory database file image to nPage pages.
Try to find out if this is an anchored regular expression.
Trying to clean up the stack may not be safe in this case.
Type of the array "element" for the bitmap representation.
UNIQUERYWITHOUTERELEASEATTACHAVINGROUPDATEBEGINNERECURSIVE
Unbind the value bound to variable i in virtual machine p.
Update the maximum rowid for an autoincrement calculation.
Use the common basic header info to make the image object.
Use the original text of the column expression as its name
Used for readdir() on an opendir()ed phar directory handle
VS2012 strftime() returns number of characters, not bytes.
Variable iNewStart now contains the first valid leaf node.
Verify that the MergeEngine is assigned to a single thread
WHERENAMEAFTEREPLACEANDEFAULTAUTOINCREMENTCASTCOLUMNCOMMIT
We have already increased count by 1 in pgsql_stmt_fetch()
We have to free the previous contents of user's bound vars
We need a : prefix to resolve a name to a parameter number
We shouldn't have unconstructed objects in the first place
We will have to generate an ephemeral table to do the job.
We've run out of replacement strings, so use an empty one.
Write a pointer to the next unread byte back into *pzNext.
XISTSAVEPOINTERSECTRIGGEREFERENCESCONSTRAINTOFFSETEMPORARY
__unset handler is called with one argument: property name
a file or directory exists in a sub-directory of this path
added by gerrit thomson to fix ldap_add using ldap_mod_add
allocate space for the values as part of this modification
bad error in module startup - no way we can live with this
before beginning of unix epoch or behind end of unix epoch
by subtracting or adding even multiples of 360.0 until the
check to see if the connection is still in place (lurcher)
contradictory, it is very practical:  instead of computing
convert the 7-bit alpha channel to an 8-bit alpha channel.
could be POLLERR or POLLHUP but can't tell without probing
create new backup in a directory specified by DBBackupPath
default to 'openssl.cnf' if no environment variable is set
default transaction is not a registered resource: clean up
destroys stack frame, therefore makes core dumps worthless
directory exists, or is a subdirectory of an existing file
empty length - we've validated start, we can return "" now
ensure everything was compile-time evaluated at least once
fatal errors are real errors and cannot be made exceptions
first fetched OID is out of subtree, fallback to GET query
first of two- or four-byte char or second of two-byte char
for OCINewDescriptor (real "oci" names + short "php" names
han2zen() was derived from han2zen() written by Ken Lunde.
helper function to open an internal file's fp just-in-time
icu default locale - locale has no effect on this iterator
if signature matched, no need to check CRC32 for each file
if the user has configured who they are, send a From: line
in case we need to try again for an :auto: named lock file
initialize a few bytes in the case the next function fails
iterate through element attributes, pick out useful stuff.
jan  feb  mar  apr  may  jun  jul  aug  sep  oct  nov  dec
jan  feb  mrt  apr  may  jun  jul  aug  sep  oct  nov  dec
let's see if this string has a matching dsn in the php.ini
okay, the connection is open and the server is still alive
pExpr points to an expression which implements a function.
pMem must be either a string or blob if bPreserve is true.
php_set_cookie(name, value, expires, path, domain, secure)
pre-readonly check, we need to know if this is a data phar
ridiculous size not allowed for index.php startup filename
searching for UTF-32 specific byte orders, so this will do
sha512 crypt has the maximal salt length of 123 characters
shared can just be set because we always have an exclusive
shutdown_executor() takes care of its own bailout handling
some records are fetched already, shut down further lookup
sqlite3StartTable() gets called first to get things going.
takes a cmsghdr, not a msghdr like from_zval_write_control
the status code isn't changed by a fatal error, so fake it
then use that to figure out the offset for day 1 of week 1
this is so callers can decide if they should free the X509
this should NOT be done in php_rshutdown_session_globals()
this version of PCRE is not compiled with PCRE_UCP support
use emalloc() for large values, use static array otherwize
use the original file or directory name as it wasn't found
we correct SCRIPT_NAME now in case we don't have PATH_INFO
we differ here with the TCL implementation in allowing for
we've reached here - the phar exists and is a regular phar
when in read only mode try to use existing .lck file first
(Quite possibly there is only one such image in existence.)
-**************************** End Introspection Utilities *
4) Calls sqlite3rbu_close() to close the RBU update handle.
40 Bytes should be more than enough for this format string.
A WAL connection is always in one of the first four states.
A call to vdbePmaReaderNext() is still required to do that.
A height of zero means all data is stored on the root node.
A repeat minimum of 1 is optimized into some special cases.
A tokenizer instance is required to actually tokenize text.
A transaction must be started before executing this opcode.
Access to Element node is implemented as a convience method
Access to the winShmNode object is serialized by the caller
Advance the iterator to the next coalesced phrase instance.
Advance the snippet iterator to the next candidate snippet.
All centennial years are leap years in the Julian calendar.
Allocate a MultiSegReader for each token in the expression.
Allocate a buffer large enough for an Fts3Cursor structure.
Allocate a new RtreeSearchPoint and return a pointer to it.
Allocate a thread local storage slot for the thread "stack"
Allocate memory that is to be used and released right away.
Allocate space for a file-handle and open a temporary file.
Also locate the cells in pParent  that divide the siblings.
Also, if required, register the rbu_delta() implementation.
Analyze the ORDER BY clause in a compound SELECT statement.
And equality constraints on the hidden "languageid" column.
And we recursively call the layout algorithm for this child
Any non-numeric characters that following zNum are ignored.
Argument  pSrc is the full-name of the table being altered.
Array szCell  contains the size in bytes of each such cell.
As the PDO emulation does not return it, we skip it as well
Assert that the caller has opened the required transaction.
Assert that the pointer X is aligned to an 8-byte boundary.
Assertion failure occures if an invalid argument is passed.
Assume the stream is temporarily or permanently out of data
At the moment the pointer size is always equal to sljit_sw.
At this point all signals are blocked, so there is no race.
Attempt to parse the given string into a julian day number.
Before calling sqlite3ExprDelete(), set the EP_Static flag.
Both II and III resolve hash collisions via linear probing.
But modify the name by adding an "sqlite_altertab_" prefix.
But this subroutine works for any value of nEq including 0.
CONFLICTCROSSCURRENT_TIMESTAMPRIMARYDEFERREDISTINCTDROPFAIL
Check for conditions that warrant removal of the hash entry
Check that sqlite3VdbeUsesBtree() was not called on this VM
Common code for all repeated single character type matches.
Compute (square of) distance from minc0/c1/c2 to this color
Compute alternate SHA256 sum with input KEY, SALT, and KEY.
Compute alternate SHA512 sum with input KEY, SALT, and KEY.
Compute obliquity of ecliptic (inclination of Earth's axis)
Configure the text that the regular expression operates on.
Construct a new expression node and return a pointer to it.
Convert this string to a double and write it into *pResult.
Copy nPage pages from the source b-tree to the destination.
Create the shadow table named zPost, with definition zDefn.
Create the whole "CREATE TABLE" statement to pass to SQLite
De-reference and close our copy of the shared memory handle
Deallocate all memory associated with a WhereOrInfo object.
Defined in this way, GMST0 will increase with about 4 min a
Delete all information from a single table in the database.
Determine required destination buffer size (pre-flighting).
Do not allow any kind of write-lock on a read-only database
Do not use the 4 neighbors implementation with small images
Dummy: Used for writing to a phar directory (i.e. not used)
Each call returns the next one, updating the start address.
Each instruction is an instance of the following structure.
Each list is terminated by a POS_END (0) or POS_COLUMN (1).
Each subbitmap handles up to iDivisor separate values of i.
Either value may be -1, indicating that cursor is not used.
Empty classes are allowed in JavaScript compatibility mode.
End of the dot-file lock implementation *******************
End of the proxy lock implementation **********************
Evaluate a view and store its result in an ephemeral table.
Everything works find if the following memset() is omitted.
FIXME: This might need to be changed to ZSTR_EMPTY_ALLOC().
FROMFULLGLOBYIFISNULLORDERESTRICTRIGHTROLLBACKROWUNIONUSING
Figure out what action to take in case of a rowid collision
Finally, jump back to the beginning of the executable code.
Find the  spot on the list where iStart should be inserted.
First ensure that *all* child nodes are constant and by-val
Flush any data cached by the writer object to the database.
For a MATCH search, this will be the next row that matches.
For a ZERODATA table, the pData and nData are both ignored.
For each MATCH_ONE, skip one character in the  test string.
For many things, we may have leading zeros in a number NUM.
For these machines you must define RIGHT_SHIFT_IS_UNSIGNED.
Form pixel value + error, and range-limit to 0..MAXJSAMPLE.
Free all memory allocations associated with the tree pTree.
Free an allocated buffer obtained from sqlite3PageMalloc().
Functions used to manage pager transactions and savepoints.
Generate code to remove the index and from the master table
Get rid of this when OpenBSD has proper support for PT_TLS.
Get the current used size of the three stacks, in elements.
Global variables in pcache1 need to be protected via mutex.
Handle the special case of adding another range on the end.
Helper functions to obtain and relinquish the global mutex.
However, the syntax has been checked to ensure that the ...
I changed it to only consider routeable addresses as valid.
INPUTS none RESULT pointer to global server, or 0 if error.
If *pRc is initially non-zero then this routine is a no-op.
If P4 is NULL then all index fields have the affinity BLOB.
If SQLITE_ABORT is returned, clean-up the statement handle.
If a EXPO is not an integer, only the integer part is used.
If a NUM2 is not an integer, only the integer part is used.
If an error does occur, some other error code is  returned.
If an error has already occurred, this function is a no-op.
If an error occurs, free all memory associated with pParse.
If both are strings, compare using the collating functions.
If either the P1 or P2 text are NULL then store NULL in P3.
If exFlag is true, then acquire at least an EXCLUSIVE lock.
If hit the end of the group (which could be repeated), fail
If it is large enough, this function writes it out to disk.
If it is, return the action, otherwise return YY_NO_ACTION.
If newname is given, the save path is replaced with newname
If no data has been written to disk, then do not do so now.
If no error occurs, this function returns the patched blob.
If not already recovering from an error, report this error.
If op is SAVEPOINT_BEGIN, the xSavepoint method is invoked.
If pszEst is not NULL, store an estimate of the field size.
If so, generate a special OP_PROP item instead of OP_CHARI.
If the STATIC_MEM mutex is not already held, obtain it now.
If the child node is now at EOF, so is the parent AND node.
If the first argument was constant then bit 0 of P1 is set.
If the subquery gives a constant result, then iTable is -1.
If we succeeded in making the shared memory handle, map it.
If we time out, or we have an error report that back to PHP
If you declare any globals in php_enchant.h uncomment this:
If zFilename is NULL then an ephemeral database is created.
If zWhere is NULL, delete the entire contents of the table.
Implementation of the "unicode" full-text-search tokenizer.
Implementation of the json_object(NAME,VALUE,...) function.
Implementation of the scalar function icu_load_collation().
Implementation of the special optimize() function for FTS3.
Implementation of the sqlite_compileoption_used() function.
In fact, it can be used as a standalone dom implementation.
In this case the journal file should be closed and deleted.
Including the return address saved by the call instruction.
Increment the value just read and write it back to byte 24.
Initialize and deinitialize the operating system interface.
Inside a class (and only there) it is treated as backspace.
It  is not considered an error if the iterator reaches EOF.
It frees the memory allocated for the tokenizer hash table.
It is Tevet, Shevat or Adar I - don't need the year length.
It is the responsibility of the caller to set it correctly.
It loops through all the opcodes and fixes up some details.
Iterator pIter currently points to a valid entry (not EOF).
Let N be the number of rows and M be the number of columns.
Locate and return an entry from the db.aCollSeq hash table.
Lock the destination database, if it is not locked already.
Look up every table named in the FROM clause of the select.
Magic IV for 64 Blowfish encryptions that we do at the end.
Mapping of byte from char (8bit) to long for machine endian
MemPage.isInit is marked  "MUST BE FIRST" for this purpose.
Most of this code adapted from hphp/util/embedded-data.cpp.
Move the iterator to the next entry at or following iMatch.
Move the newly created element to the head of the hashtable
Mutex to control access to the memory allocation subsystem.
No UTF-8 support, or not in UTF-8 mode: count is byte count
None of the existing best-so-far paths match the candidate.
Normally, this function sets *pbDone to 1 before returning.
Note that there is no code from the gd package in this file
Number of bits that are set - only valid for aHash element.
Older versions of SQLite used an optional THREADSAFE macro.
On ASCII machines, this is just an upper-to-lower case map.
On success, *ppVal is made to point to the extracted value.
On the first call to sqlite3_step(), pSub will hold a NULL.
Once this is done the transaction is irrevocably committed.
One or more calls to MsrIncrNext() may also have been made.
Only OCI_RESULT_TYPE_SELECT is supported by Oracle DB 12cR1
Opcode 5 works on the linear array only, not on the Bitvec.
Or there is a transaction open on the destination database.
Otherwise, if an error occurs, return an SQLite error code.
Otherwise, return a copy of the second parameter, iDefault.
Otherwise, set *pp to NULL and return an SQLite error code.
PENDING_LOCK may not be passed directly to sqlite3OsLock().
Parse times of the form HH:MM or HH:MM:SS or HH:MM:SS.FFFF.
Prev is not allowed to follow SeekGT, SeekGE, or OP_Rewind.
Print a summary line giving, the command, its alias and tip
Process LEN bytes of BUFFER, accumulating context into CTX.
Provides leaky bucket handhsake renegotiation rate-limiting
RSA_PKCS1_OAEP_PADDING is recommended for new applications.
Re-enable the lookaside buffer, if it was disabled earlier.
Read a regular token using the sqlite3_tokenizer interface.
Read the first token from the nul-terminated string at *pz.
Register built-in functions used to help read ANALYZE data.
Replace with NULL if there's nothing to do at request start
Require a write-lock on the table to perform this operation
Rerun the compilation of a statement after a schema change.
Reset the working variable associated with each extraction.
Resolve all names for all expression in an expression list.
Result set can follow UPSERT statement, check server_status
Return 1 if *YYMSG is not large enough to hold the message.
Return SQLITE_OK if successful, or an error code otherwise.
Return TRUE if the iCol-th column of index pIdx is NOT NULL
Return a JsonNode and all its descendents as a JSON string.
Return a NULL pointer if any kind of error was encountered.
Return non-zero if a read (or write) transaction is active.
Return the global mutex used by this PCACHE implementation.
Return the new maximum, which might be less than requested.
Return the number of bytes required to encode v as a varint
Run a checkpoint on the Btree passed as the first argument.
Run a separate WHERE clause for each term of the OR clause.
SEE ALSO XMLRPC_RequestNew () XMLRPC_CleanupValue () SOURCE
SQLITE_MUTEX_NOOP         For single-threaded applications.
SQLITE_OK is returned if everything goes according to plan.
SQLite processes all times and dates as julian day numbers.
Save the positions of all other cursors open on this table.
Save the positions of any other cursors open on this table.
Second and subsequent calls to xMutexInit() must be no-ops.
See comments in hh_add about its similar construction here.
See the GNU Lesser General Public License for more details.
See the header comment  above sqlite3ExprDup() for details.
Set isHighlight to true if this term should be highlighted.
Set the character tables in the block that is passed around
Set the pointer-map entries for all children of page pPage.
Skip partial indices for which the WHERE clause is not true
Skip the first 3 bytes to emulate the file type examination
So do not try to make this is into a redefinable interface.
So we either have to look for one or the other, never both.
Space should have already been reserved using growVTrans().
State information local to the memory allocation subsystem.
Store the ones-complement of the P1 value into register P2.
Such expressions could be omitted from the code completely.
TODO this function should be part of either Zend or PHP API
Table for handling escaped characters in the range '0'-'z'.
Take a shared-cache advisory read-lock on the parent table.
Test installing a signal handler before the Go code starts.
The  left-hand child may be either a phrase or a NEAR node.
The "-z" option of "file" is the reason for this ugly code.
The P1 cursor must be for a real table, not a pseudo-table.
The PCache mutex must be held when this function is called.
The PGroup mutex must be held when this function is called.
The caller is responsible for freeing the memory when done.
The entry in the union for base tokens is called "fts5yy0".
The estimate is scaled so that the size of an integer is 1.
The first matching command is returned as an OUT parameter.
The following fields are only available in 3.8.11 and later
The following routine generates the code needed to do that.
The journal file must be open when this function is called.
The longest string dtoa can return is about 751 bytes long.
The loop below will correct for any error in this estimate.
The maximum number of terms in a compound SELECT statement.
The minimum amount of initialization feasible is performed.
The nFreeSlot and pFree values do require mutex protection.
The next iteration of the do-loop balances the parent page.
The next three routines implement inverse colormap filling.
The parser calls this routine in order to create a new VIEW
The pcache1Fetch() wrapper invokes the appropriate routine.
The reference count is a 16-bit field, initialized to zero.
The regPrev register set holds the previously output value.
The regions in the following copy operation cannot overlap.
The return value might be uninitialized if an error occurs.
The roles of pLower and pUpper are swapped for a DESC index
The rowid at the end of the index entry is ignored as well.
The second argument is a mask containing EXPRDUP_XXX flags.
The size of the bitmap is fixed when the object is created.
The size of the buffer used by sqlite3_win32_write_debug().
The statement transaction is never a top-level transaction.
The subsequent "OP_Destroy 5 0" would hit a free-list page.
The szMalloc field holds the correct memory allocation size
The time interval specified 1,000,000 or more microseconds.
The to-table need not exist when the from-table is created.
The trunk has no leaves and the list is not being searched.
The unlockBtreeIfUnused() call below will unlock the pager.
The value is considered true if it is numeric and non-zero.
The value of N is stored in the MergeEngine.nTree variable.
The xConnect() and xCreate() methods for the virtual table.
There is no need to sync the file following this operation.
These file mapping APIs are common to both Win32 and WinRT.
These two variables are set by every call to backup_step().
Think of each SQL statement as a separate computer program.
This feature is included to help prevent writer-starvation.
This file is part of the Independent JPEG Group's software.
This function detects multiple/malformed multiple newlines.
This function is only used as part of assert()  statements.
This function is used to merge two position lists into one.
This function is used to set the schema of a virtual table.
This function is used to write a single varint to a buffer.
This handle is reused by subsequent calls to this function.
This is a prerequisite for invoking  sqlite3InitCallback().
This is the implementation of the sqlite3_vfs.xRead method.
This leaves the right side of the tree somewhat unbalanced.
This might fail due to a race or other transient condition.
This might return NULL if the file has not yet been opened.
This portion of the namespace is reserved for internal use.
This regex does not handle comments and folding whitespace.
This routine does a complete check of the given BTree file.
This routine is provided for historical compatibility only.
This statement is so common that it is optimized specially.
This table contains bit maps for various character classes.
Three-byte-character lead byte followed by two trail bytes.
Throws an Exception in case the given method does not exist
Thus, it is only those at the end that need unsetting here.
Try to obtain a lock of type locktype on the database file.
Use the sqlite3OsUnlock() routine to lower a locking level.
Verify that all of the variable were assigned exactly once.
Verify that an index entry exists for the current table row
We don't perform any cleanup, if dirdepth is larger than 0.
We haven't enough information to catch that case precisely.
We need to check both the hash and the address of the data.
We use non-nested macros with expansion, as VC has problems
We want to capture the peer cert even if verification fails
We won't convert it into_DO_FCALL to emit error at run-time
When the user specifically sets a value for width or height
Where to coninue if an alternative is successfully matched.
Write transactions are not possible on a read-only database
XXX 5.14 at least introdced 100 ns intervals, this is to do
You cannot change from static to non static and vice versa.
a bit of a hack this, but it's needed for COM array access.
a character width specification, to be more consistent with
additional term is there to amortize the cost of compaction
after our pointer arithmetic jump back to the first element
anything other than 0 is considered to be a valid timestamp
avoid reference counting in debug mode, thus do it manually
bold on/off has zero print width so line count is unchanged
bom or wchar detection is prior to 'script_encoding' option
both script and internal encodings are incompatible w/ flex
cURL destructors should be invoked only by last curl handle
check out bom(byte order mark) and see if containing wchars
check whether its last access was more than maxlifetime ago
chngToIN holds a set of tables that *might* satisfy case 1.
create a copy of the lock path _only_ if the conch is taken
don't set FALSE because that's not the way it was before...
ensure we have a clean epoolfds before calling epoll_wait()
eof if we are out of bytes, or if we hit the final boundary
error already emitted, but let's emit another more relevant
estimate number of entries, can't be certain with tar files
first care about all methods to be flattened into the class
forward declarations for static (non public, non api) funcs
from this point further, shared memory is supposed to be OK
function    : Q_Previous  purpose     : Opposite of Q_Next.
get error text into buffer and escape for html if necessary
get the id from a specified key or create new shared memory
hankaku kana to zenkaku katakana and glue voiced sound mark
if we failed to get the lock then someone else must have it
in case of unhandled exception return to upward catch block
jumping to next on NZ - can follow to it and jump only on Z
jumping to next on Z - can follow to it and jump only on NZ
libmysql API docs say it should be so for SELECT statements
make sure we are at the right location to read the manifest
make the path lowercase on Windows, for case insensitivity.
mxPathname is the maximum length of a pathname in this VFS.
new_num allocates a number and sets fields to known values.
no needs to adjust *high, *high is used as range check only
now we are dealing with regular files, so look for metadata
now we have the directory we can look how long it should be
open file pointers refer to this fp, do not free the stream
otherwise we just have one last element to add to the array
pFile is a file that has been opened by a prior xOpen call.
previously SQLITE_CONFIG_CHUNKALLOC 12 which is now unused.
remove this from the new phar if deleted, ignore if mounted
replace the path info with the real path of the opened file
stat an opened phar file handle stream, used by phar_stat()
szMaster is the size (in Mem3Blocks) of the current master.
the final case - the start of the line is inside the window
the parser would return 1 (failure), we can bail out nicely
the supposed free slot is not, let's search for a free slot
this is either a brand new phar or a default stub overwrite
this is too tricky to try to handle, so divide and conquer:
this version of PCRE is not compiled with PCRE_UTF8 support
we are leaving group now: that means we cannot find the key
we use persistent resources for the driver connection stuff
we've found an extension that ends at a directory separator
write out the PNG header info (everything up to first IDAT)
xBestIndex inserts its results into the **Outputs** fields.
"Gaps" are set to -1 dynamically instead (this fixes a bug).
'Fix' the table name to this db before looking up the table.
'Z' iz not supported anymore and should be replaced with 'z'
*  However, there is a complication concerned with newlines.
*piPos contains the value of the previous entry in the list.
+  The value of the token stored at this level of the stack.
+build darwin dragonfly freebsd linux netbsd openbsd solaris
2.0.16: Paul den Dulk found an occasion where total can be 0
A "column-list" is the set of positions for a single column.
A 32-bit varint is used to store size information in btrees.
A NULL profile function means that no profiling is executes.
A fatal error / die occurred during the generator execution.
A new entry is made in iTab if the current N values are new.
A variable-length integer may not be more than 9 bytes long.
Access to the unixShmNode object is serialized by the caller
Add MEM_Str to the set of representations for the given Mem.
Add the upper and lower mappings for a title case character.
Advance the iterators until they all point to the same rowid
After seeking the cursor, the vdbe executes an OP_ResultRow.
All memory allocations sizes are rounded up to a power of 2.
All other VFS should return SQLITE_NOTFOUND for this opcode.
Allocate and return a pointer to a new sqlite3_value object.
Allocate memory for the destination buffer for normalization
Allocate nArg registers to martial the arguments to VUpdate.
Allocate or deallocate a block of nReg consecutive registers
Allocate the hash table if it has not already been allocated
Allowed flags for the 3rd parameter to sqlite3FindInIndex().
Also, this function is implemented using reference counting.
Any attempt to use a tripped cursor will result in an error.
Append the prefix-compressed term and doclist to the buffer.
Architectures with no complicated addressing modes supported
As it happens, the pending terms table is always empty here.
Attempt an incremental merge that writes nMerge leaf blocks.
Build the special-case PHP_SELF variable for the CGI version
Build the special-case PHP_SELF variable for the CLI version
But a 64-bit integer can be used at compile-time if desired.
But it is the best that can be done under the circumstances.
But we want to make maximum use of the bits in our bitmasks.
Calculate the IDF (Inverse Document Frequency) for phrase i.
Carve a piece off of the end of the mem3.iMaster free chunk.
Check that the first field in the block is the magic number.
Check that this pattern was compiled in the correct bit mode
Check to see if column iCol of the given statement is valid.
Check to see the left operand is a column in a virtual table
Code an OP_Expire to invalidate all pre-compiled statements.
Code an OP_Once instruction and allocate space for its flag.
Code the OP_Affinity opcode if there is anything left to do.
Compile pattern and display a warning if compilation failed.
Completely initialize event data to prevent valgrind reports
Compute error fractions to be propagated to adjacent pixels.
Compute the Year, Month, and Day from the julian day number.
Compute the representative color for each box, fill colormap
Configuration settings for an individual database connection
Convert as much of the string as we can and ignore the rest.
Convert parsed currency to UTF-8 and pass it back to caller.
Convert strings in the specified array from UTF-8 to UTF-16.
Create the DELETE statement to write to the target PK b-tree
Create the INSERT statement to write to the target PK b-tree
Create/Connect to the underlying relational database schema.
Cut edge points to fit in filter window in case of spill-off
Deallocate all memory associated with a WhereAndInfo object.
Defines the interface to tokenizers used by fulltext-search.
Delete the index entries associated with the current record.
Destroy phar's in shutdown, here we don't care about aliases
Determine if doclists may be loaded from disk incrementally.
Duplicate the command as processing downwards will modify it
ERROR:  insert command gives an output larger than predicted
Empty the output buffer --- called whenever buffer fills up.
Encoding -- determine the character encoding of a text file.
Encoding declarations must already be handled during parsing
FILEHANDLEID() takes an sqlite3_file struct as its argument.
Fetch by Row: array will contain one sub-array per query row
Fill the input buffer --- called whenever buffer is emptied.
Find if Y M D falls in YearNumber Y, WeekNumber 1 through 53
First copy the root, then field by field adjust the pointers
Flags that make up the mask passed to sqlite3PagerAcquire().
For MATCH_NOMATCH, carry on with the alternatives, as usual.
For an INTKEY table, only the nKey value of the key is used.
For every character in the password add the entire password.
For that reason, we always use the nRec value in the header.
Form 3 analyzes all indices associated with the named table.
Format and write a message to the log if logging is enabled.
Fortunately, SEEK_SET is defined to be zero by the standard.
Free is possible because the user could have lost reference.
Free the expression node object passed as the only argument.
Function: gdAffineRotate Set up a rotation affine transform.
Future versions of SQLite may add additional static mutexes.
Generate a human-readable explanation of an expression list.
Generate a human-readable explanation of an expression tree.
Generate code for an unconditional jump to instruction iDest
Generate code that will do an analysis of an entire database
Generate code to destroy the database record of the trigger.
Generating CHECK constraints or inserting into partial index
Get the digits of the integer part and push them on a stack.
Given a type-library, merge it into the current engine state
Handle a single character that has more than one other case.
However, the bit map we are constructing is for byte values.
However, this can be changed by setting the PCRE_UCP option.
I'll fix it when I decied how to support user defined types.
I'm not sure what there parser is doing to make this happen.
IEEE 802 format: Six hexadecimal digits separated by colons.
If a suitable file descriptor is found, then it is returned.
If an error has  already occurred, this function is a no-op.
If an existing hash entry cannot be found, create a new one.
If browser_name is omitted or null, HTTP_USER_AGENT is used.
If how is SHUT_WR, further transmissions will be disallowed.
If it's not a backwards reference, the dummy number will do.
If it's not a signed or unsigned number, treat it as a name.
If nLoop is zero, then there are no FROM terms in the query.
If no encoder function was specified, return the data as-is.
If one is found, this vfs will operate in pass-through mode.
If pMem is already a double or an integer, return its value.
If pTab is really a view, make sure it has been initialized.
If successful, set pnMax to this value and return SQLITE_OK.
If the FULLFSYNC failed, fall back to attempting an fsync().
If the cell content will fit on the page, then put it there.
If the db handle must hold the connection handle mutex here.
If the filename starts with "." or "/", the path is ignored.
If the parent row can be found, no  special action is taken.
If this is a "NEAR" keyword, check for an explicit nearness.
If we get here, they have the same number of integer digits.
If we have not seen this color before, find nearest colormap
If we see any continuations at a higher level, process them.
If zName is NULL, the upper layer is requesting a temp file.
Implement a memory barrier or memory fence on shared memory.
In 8 bit, non-UTF mode, OP_CLASS and OP_NCLASS are the same.
In UTF8 mode, the result is in characters rather than bytes.
In all other cases, we have to make another call to match().
In case it failed, no data will be read (better than block).
In this case it should be freed along with the Parse object.
Initialize global handles if they weren't initialized before
It is needed if the Table object  contains lookaside memory.
It is the  responsibility of the caller to set it correctly.
It would not be unreasonable to make this value much larger.
Iterate through the phrases in the expression to count them.
Iterator pMulti currently points to a valid entry (not EOF).
Length of an instruction word Both for sparc-32 and sparc-64
Look up that table in the symbol table and return a pointer.
Make it so the fetch occurs on the first Implicit Result Set
Make sure sufficient number of registers have been allocated
Make sure we're dealing with strings and do the replacement.
Many (perhaps most) of these colors will remain marked open.
Mark all temporary registers as being unavailable for reuse.
Memory is not available in the SQLITE_CONFIG_PAGECACHE pool.
Module initialization routine for 2-pass color quantization.
New memory is allocated from the first available free block.
No need to skip more bytes - we know it's a 1-byte character
Not the best thing, but in practice it should be good-enough
Now deal with various "verbs" that can be introduced by '*'.
ONEPASS_SINGLE: One-pass approach - at most one row deleted.
On iOS, Go tests and apps under development are run by lldb.
On way to solve this is to just re-allocate the buffer size.
One of the journals pointed to by the master journal exists.
Only check if utf8 string is valid, and compute utf16 length
Or if P4 is blank, use the string returned by sqlite3_sql().
Otherwise, attempt to obtain the lock using sqlite3OsLock().
Otherwise, treat the ORDER BY term as an ordinary expression
Otherwise, use a recursive call to add the additional range.
P4 contains a pointer to the name of the table being locked.
PAGERID() takes a pointer to a Pager struct as its argument.
POTENTIAL PROBLEMS  The rename() call might not be portable.
PTRMAP_FREEPAGE: The database page is an unused (free) page.
Parse the fts3 query expression found in buffer z, length n.
Performed when YYTABLE doesn't specify something else to do.
Populate the structure pointed to by pCell with the results.
Process NATURAL keywords, and ON and USING clauses of joins.
Process the ORDER BY clause for singleton SELECT statements.
REINDEXEDESCAPEACHECKEYBEFOREIGNOREGEXPLAINSTEADDATABASELECT
Read the values returned by the SELECT into local variables.
Recursive calls to this routine should not block, of course.
Regardless of mxPage, return the current maximum page count.
Release all dynamic resources held by node-reader object *p.
Remember the current position, and return the MATCH_KETRPOS.
Replace any previously installed collation sequence factory.
Restore original chunk size now that we're done with headers
Return NULL if the column has no default collating sequence.
Return SQLITE_OK on success or SQLITE_NOMEM if malloc fails.
Return a nul-terminated copy of the string indicated by pIn.
Return a pointer to the root of the constructed binary tree.
Return an empty array if this class implements no interfaces
Return the current time as a Julian Day number in *pTimeOut.
Return the number of bytes currently allocated at address p.
Return true if the iterator reaches EOF, or false otherwise.
Rotation is separate from addition to prevent recomputation.
SRT_Mem         Only valid if the result is a single column.
SSTH Exception: IS_LONG may be accepted instead as IS_DOUBLE
Save the best color numbers (plus 1) in the main cache array
Second and subsequent SMALLEST primitives are constant time.
See sqlite3ExprAnalyzeAggregates for additional information.
See the ticket:  http://localhost:591/sqlite/info/ff5be73dee
Set rCostIdx to the cost of visiting selected rows in index.
Set the error code in the database handle to the same value.
Set the number of backtrace levels kept for each allocation.
Set values to reset to if this is followed by a zero repeat.
Simplest way of expressing aperture, so I trust it the most.
So the assertTruncateConstraint() call is no longer correct.
So we deal with that case by considering the UTF-8 encoding.
Space to hold the KeyInfo structure is obtained from malloc.
Specs dictate that they are both type XML_DOCUMENT_TYPE_NODE
String wasn't interned but we will use it as interned anyway
Substitute the rowid (column -1) for the INTEGER PRIMARY KEY
Table.iPKey is set to -1 if there is no INTEGER PRIMARY KEY.
That concludes the basic part of this demonstration program.
The POS_COLUMN or POS_END terminator is not copied into *pp.
The Prev opcode is only used after SeekLT, SeekLE, and Last.
The actual computation according to FIPS 180-2:6.2.2 step 3.
The actual computation according to FIPS 180-2:6.3.2 step 3.
The allocation is relinquished before this function returns.
The argument is the number of microseconds we want to sleep.
The btreeInitPage() call has already validated the freelist.
The data is the value MEM_Blob stored in register number P2.
The duplicates that this creates do not  cause any problems.
The error has already been written into the pDestDb  handle.
The existence of a lock directory implies an EXCLUSIVE lock.
The file is compiled on its own as part of the PCRE library.
The file is guaranteed to be nByte bytes or smaller in size.
The first argument, pCur, is a cursor opened on some b-tree.
The following comment and code was inserted in January 1999.
The format of each doclist index leaf page  is:  Flags byte.
The higher bits represent the key, the lower ones the value.
The journal file format is as follows:   (1)  8 byte prefix.
The next 31 bits encode the key the lower 31 bits the value.
The one bit that is set will correspond to the common table.
The optimization is also always enabled for temporary files.
The original idea for these functions came from Scott Wimer.
The other statements may still be reading from the database.
The output struct is copied, and may be freed by the caller.
The pTable and pDatabase parameters are NULL for subqueries.
The pager is always 'purgeable' (not an in-memory database).
The remainder of this procedure cleans  up the shared-btree.
The result is NULL if the arguments are equal to each other.
The returned color is always in the ARGB format (truecolor).
The routine below is shamelessly, gloriously floating point.
The same locking strategy and byte ranges are used for Unix.
The second argument is the associated aggregate-info object.
The second is the page number to look up in the pointer map.
The sentinel at the end of the array is the max index value.
The tables it expects to find are described in sqlite3rbu.h.
The term to be appended is passed via arguments zTerm/nTerm.
There are several special subcases when the minimum is zero.
This allows the structure contents to be more easily edited.
This check may only be performed if the hash table is empty.
This error is caught long before control reaches this point.
This file contains code associated with the ANALYZE command.
This file contains code for a set of "printf"-like routines.
This file defines various limits of what SQLite can process.
This file is only useful for some really internal stuff, eq.
This function is mutually recursive with the function above.
This function is only used as part of an assert() statement.
This function is the opposite of macro FTS5_SEGMENT_ROWID().
This function is used by both blob_open() and blob_reopen().
This function is used to read a single varint from a buffer.
This function makes use of the internal SNMP object fetcher.
This function queries the database for a table of that name.
This imply that only LIBXML_STATIC_FOR_DLL is supported ATM.
This index implies that the DISTINCT qualifier is redundant.
This is a no-op unless the  shared-cache feature is enabled.
This is the  the same as binding a NULL value to the column.
This loop also drops the divider cells from the parent page.
This macro is used by various functions that merge doclists.
This module is generated by the maint/MultiStage2.py script.
This module is only called on query plans that use an index.
This opcode is used to implement the integrity_check pragma.
This routine allocates the Stat4Accum object in heap memory.
This routine goes through and adds the types and collations.
This routine has no effect on existing database connections.
This routine is called after all opcodes have been inserted.
This routine is called when an operation failed with a lock.
This routine just records the fact that the lock is desired.
This routine might return non-zero for equivalent ExprLists.
This routines provide no mutual exclusion or error checking.
This section is run by the right-most SELECT statement only.
This should never happen as closures will always be callable
Thomas in chapter III.1 of Graphics Gems II (James Arvo, ed.
To update the set of pragmas, edit that script and rerun it.
Tokenize the text passed via the second and third arguments.
Trying to read or write past the end of the data is an error
Tuneable horizontal and vertical resolution in dots per inch
Update the schema version field in the destination database.
Use standard C library malloc and free on non-Apple systems.
Use strict check to verify return value of internal function
We could handle PHP_MODE_PROCESS_STDIN in a different manner
We know that there is at least one byte left in the subject.
We need the child table as a SrcList for sqlite3WhereBegin()
When a process first reads the schema it records the cookie.
Write nBuf bytes of random data to the supplied buffer zBuf.
XXX: This will crash, because we will null also the methods.
Zero is returned when the input date is detected as invalid.
allocate the requested size (could be only partially filled)
atexit() handler in the DB2/AIX library segfaults in PHP CLI
be ignored on reading because it is being generated anyways.
but that could cause some E_NOTICE and also damn long lines.
callback for documentation generation should it be requested
comments    : This uses the cursor for the current position.
comments    : see Q_Sort for description of 'Comp' function.
compression is better then 2:1, need to allocate more memory
convert JMPZ_EX(X,L1), L1: JMPNZ_EX(X,L2) to JMPZ_EX(X,L1+1)
copy all elements of first array that are not in exclude set
dll was already loaded, no need to do it for the second time
either the conch didn't match or we need to create a new one
else we risk a stack overflow upon next run (when clean'ing)
ensure to close syslog not to interrupt with PHP syslog code
entire file is bzip-compressed, uncompress to temporary file
entire file is gzip-compressed, uncompress to temporary file
free new true color buffer (y is not allocated, have failed)
frees all resources allocated for all threads except current
gd_gd2.c  Implements the I/O and support for the GD2 format.
get a pointer to the haystack taking into account the offset
hankaku kana to zenkaku hirangana and glue voiced sound mark
http://xmlrpc-epi.sourceforge.net/specs/rfc.fault_codes.php.
if it starts with file:// interpreted as path to key file 4.
if parts of the stream can't be written, purge it completely
if save path is an empty string, determine the temporary dir
inheritance ensures the class has necessary userland methods
insert into hash, return error on existence or memory issues
its maximum squared-distance to any point in the update box.
map the low 64 bits of `n' to the modified-base64 characters
mod_data, *key, *val are guaranteed to have non-NULL values.
need more data before we can push data through to the stream
needed because recv/read/gzread doesnt put a null at the end
no extension detected - instead we are dealing with an alias
now pull out members of data and set them in the stat buffer
now suck data from the stream and stick it into the database
now we have the "connection" lets call the DataSource object
php_auto_globals_create_files() might have already done that
pm.start_servers, pm.min_spare_servers, pm.max_spare_servers
printwbmp --------- print a WBMP to stdout for visualisation
saves one function call if zend_execute_internal is not used
search the list of easy handles hanging off the multi-handle
seek to max comment length + end of central directory record
simulate multiple hosts by creating unique hostid file paths
some software does not count the length bytes of COM section
sqlite3SelectDup() is sometimes called with a NULL argument.
the qualifiedName has a prefix and the  namespaceURI is null
though not all OSes support sockaddr_in used in IPv6 sockets
thus we need to keep the pointer to the hashtable for safety
use temporary *overriden HashTable to detect hidden conflict
we don't work with *stream but need its value for comparison
we end up here if none of the switch cases handled the field
we have to initialize the rest to get the updated max length
we need to create an object and load using OleLoadFromStream
we shouldn't free this particular cert, as it is a resource.
we track data dependencies only insight a single basic block
when not in read mode or failed to open .lck file read only.
zip_file_get_offset.c -- get offset of file data in archive.
(if we neglect aberration, which amounts to 20 seconds of arc
*pnBytes should be set to the length of this buffer in bytes.
- In case of PHP_DNS_ANY we use the directly fetch DNS_T_ANY.
2.0.12: detect bad truecolor .gd files created by pre-2.0.12.
2.0.12: support truecolor properly in .gd as well as in .gd2.
2.0.22: very basic support for reading CMYK colorspace files.
A VACUUM cannot change the pagesize of an encrypted database.
A VFS that fails to zero-fill short reads might seem to work.
A new entry is created in the SrcList even if pTable is NULL.
A new month was started when the new moon was first observed.
A read or a write lock can be taken depending on isWritelock.
Add a docid/column/position entry to a PendingList structure.
Additional records associated with authoritative name servers
Advance *pz to point to the first character past the integer.
Advance the first term iterator in the first phrase of pNear.
After being freed, memory should neither be read nor written.
Allocate or return the aggregate context for a user function.
Allocates the necessary number of zval slots to keep the rope
Allowed values for second argument to pcacheManageDirtyList()
Allowed values for the flags parameter to sqlite3PagerOpen().
Also we'd have to make that one argument passed by reference.
An instance of this object represents a single database file.
An object of type Fts5SegWriter is used to write to segments.
And few applications need more than about 10 or 20 variables.
And the xSavepoint() method  flushes the pending terms table.
Argument pLevel describes a strategy for scanning table pTab.
Argument pList points to a position list nList bytes in size.
As an optimization, omit trailing SQLITE_AFF_BLOB affinities.
As the buffers have been freed, we should go back to PREPARED
Auxiliary functions needed by objects of 'Spoofchecker' class
Because someone thought this was a good place to put timeval.
But as N is rarely more than 1, this should not be a problem.
But there are some negative values that have special meaning:
COM_STMT_SEND_LONG_DATA doesn't acknowledge with an OK packet
Called when we are unable to satisfy an allocation of nBytes.
Change the limit on the number of pages allowed in the cache.
Check if an existing function is being overridden or deleted.
Check that the virtual-table is not already being initialized
Check to make sure we are not going to go past the ExifLength
Clamp the rest to final out value (which is (MAXJSAMPLE+1)/8)
Convert "PRAGMA journal_mode" into "PRAGMA main.journal_mode"
Convert "nnn" to an integer and use it as the variable number
Converts a Unix timestamp value into broken down time, in GMT
Convinient way to handle error messages from the SMTP server.
Copy the data from the source page into the destination page.
Create the rbu_tmp_xxx table and the triggers to populate it.
Creates the lock file and any missing directories in lockPath
Delete any triggers created to implement actions for this FK.
DetectKanjiCode() derived from DetectCodeType() by Ken Lunde.
Different identity, we need a new impersontated token as well
Do an authorization check using the code and arguments given.
Do not allow non-admin users to modify the schema arbitrarily
Each call to this function appends a single varint to a list.
Establish a read-lock on the table at the shared-cache level.
Every thread initializes with a stack of size INIT_TOP_STACK.
Expressions of the form "X op Y" are converted into "Y op X".
Extract the iCol-th column from the nRec-byte record in pRec.
FALSE - The DBG_ calls won't be traced, TRUE - will be traced
FF, GG, HH, and II transformations for rounds 1, 2, 3, and 4.
Failure to do this would result in crashes in error scenarios
Finally, if an error does occur, return an SQLite error code.
Finding the first day of the year is the most difficult part.
Flags that may be passed as the third argument to xTokenize()
For DETACH, set it to false (expire all existing statements).
For WAL mode, OFF continues to mean that no syncs ever occur.
For a  leaf node, the doclist is passed as aDoclist/nDoclist.
For compatibility reason, implemeted interface is not checked
Generate a human-readable description of a the Select object.
Generate code for a single equality term of the WHERE clause.
Get the RtreeNode for the search point with the lowest score.
Handle special arg '*' for all codes and check argv overflows
Head and tail of a linked list of all outstanding allocations
Hence, the record number for the table must be allocated now.
I have given them names, to make them stand out more clearly.
I'll opt to apply to XHTML 1.0 the same rules as for XML 1.0.
IEEE 802 format: Six hexadecimal digits separated by hyphens.
If -1 is returned, the buffer is left in an  undefined state.
If P5 is zero, then the cursor is left in an undefined state.
If an open cursor was using this page a problem would  occur.
If an unqualified name is a function/const alias, replace it.
If checking an assertion for a condition, return MATCH_MATCH.
If delete_old_session is set to true, remove the old session.
If it has multiple other cases, return its case offset value.
If it returns non-zero, then the operation should be retried.
If it succeeds then it invokes globexp1 with the new pattern.
If its bigger than 4 bytes, the dir entry contains an offset.
If nEq is 0, then *pnOut is the number of  rows in the index.
If newname is given, the module name is replaced with newname
If no matching winShmNode currently exists, create a new one.
If no name is given, simply return the first VFS on the list.
If one has been configured, invoke the rollback-hook callback
If pNew is still NULL, try to create an entirely new mapping.
If scenario (a) caused the error then things are not so safe.
If script was not found or invalidated by validate_timestamps
If so, generate a special OP_NOTPROP item instead of OP_NOTI.
If so, it needs to jump back to the matching path eventually.
If subpatterns array has been passed, fill it in with values.
If the QUERY_SCAN flag is set, all other flags must be clear.
If the UPTO is just for 1 instance, we can use QUERY instead.
If the transaction counter is modified, record that fact too.
If there are active savepoints, open the sub-journal as well.
If this is a REPLACE, first remove the current entry (if any)
If we are unable to rollback, quit and return the error code.
Immediately following the wal-header are zero or more frames.
Implementation of the TRIM(), LTRIM(), and RTRIM() functions.
Implementation of the non-aggregate min() and max() functions
In multi-threaded environments, we have to init thread safely
Increment the value stored in the P2 operand of the OP_Rowid.
Initialize iLast, the "lastest" rowid any iterator points to.
Instead modify the script and run it to regenerate this code.
Interface routines refer to a Mem using the name sqlite_value
Interface to automatically generated code in fts5_unicode2.c.
It is assumed that the caller has allocated sufficient space.
It is not an error if a value cannot be extracted from pExpr.
It is the responsibility of the caller to eventually free it.
It returns 0 if the division is ok and the result is in QUOT.
It then dequotes any of the strings that appear to be quoted.
Just to make sure the prototypes match the actual definitions
Let N be the total amount of memory available for allocation.
Let's not measure the text if we already know both dimensions
Make lowercase for easy comparison against 'standard' headers
Make sure the sort order is compatible in an ORDER BY clause.
Mark the database file just opened as an RBU target database.
Needed for restoring the STR_PTR before the next alternative.
No new record numbers are allowed to be less than this value.
Note that the generated buffer will not contain a methodCall.
Note that this is a temporary hack that should be fixed soon.
Note that zip- based phar archives cannot support signatures.
Now search for a zipvfs instance lower down in the VFS stack.
Number of rows already processed for the current table/index.
Objects are rarely larger than 2MiB limit of a 3-byte varint.
On exit, it is on the final character of the escape sequence.
Only perform conversion if variant not already of type passed
Only some operating systems (e.g. Solaris) use the -R option.
Opcode: NullRow P1 * * * *  Move the cursor P1 to a null row.
Open a statement transaction if the table is a virtual table.
Otherwise this case would be handled by the normal code path.
Otherwise, append an entry to the hint stored in blob *pHint.
PCRE_DEBUG is not defined when building a production library.
PHP-5.4 and above return "double", but we use 1 sec precision
PRAGMA index_xinfo (newer version with more rows and columns)
PagerRollback() is a no-op if called in READER or OPEN state.
Performed when YYTABLE does not specify something else to do.
Perhaps the caller will want to call strcmp to break the tie.
Private interfaces - callable only by other where.c routines.
Process all the continuations of that match before returning.
Read (and consume) the next character from the input pattern.
Read bytes from *pz and convert them into a positive integer.
Reading the hostname and its optional non-default port number
Register a function to be invoked when a transaction commits.
Release the session (stubs are filtered out at the beginning)
Remove a trigger from the hash tables of the sqlite* pointer.
Remove trailing zeros and the "." if no digits follow the "."
Resize the hash table so that it cantains "new_size" buckets.
Return 0 if it is not open, or non-zero (but not 1) if it is.
Return 0 on success and an error code if anything goes wrong.
Return SQLITE_OK on success and SQLITE_NOMEM on an OOM error.
Return a  pointer to a buffer containing that representation.
Return the number of terms in the iPhrase'th phrase in pExpr.
Return the value of a status counter for a prepared statement
Rosh Ha-Shanah   The first day of the Jewish year (Tishri 1).
Rowid iRowid has just been appended to the current leaf page.
SQLITE_OK is returned if the segment is updated successfully.
SYNONYM SUPPORT  Custom tokenizers may also support synonyms.
Save previously registered signal handlers into orig_handlers
Search for existing entry and if it does not exist create one
Set all the parameters in the compiled SQL statement to NULL.
Side effects: May set php_error based on abnormal conditions.
Similarly, the last 6 months do not change from year to year.
Since sunset varies, the day is assumed to begin at 6:00 P.M.
Six static mutexes are used by the current version of SQLite.
So if this routine fails, the database should be rolled back.
So isInit must not be set until the very end of this routine.
Sort entries into the forest on the first test of a new batch
Stack address function for a CRAY-1, CRAY X-MP, or CRAY Y-MP.
Step 3: Abort if createFlag is 1 but the cache is nearly full
Store a pointer to the memory block in global structure mem3.
Store the maximum page count after the change in register P2.
Subterms pOne and pTwo are contained within WHERE clause pWC.
TODO: For xConnect(), it could verify that said tables exist.
TODO: Only the OS can help to determine the correct fpu type.
Tables of names of POSIX character classes and their lengths.
Test normalization of string (converting it to UTF-16 first).
The  argument N is a bitmask of optimizations to be disabled.
The 0 digit has special meaning at the beginning of a number.
The FULL option is disallowed if the omitFull parameter it 1.
The Fts5ExprPhrase.poslist buffers are populated accordingly.
The Next instruction will work, but not the Prev instruction.
The ONEPASS_DESIRED flags never occurs together with ORDER BY
The calling function should invoke SQLITE_MISUSE immediately.
The context function, used when tracing back C calls into Go.
The cookie mask contains one bit for each database file open.
The different uses might require different sized allocations.
The extra release would affect badly the free_stack(2) above.
The first argument is a file-handle open on a temporary file.
The first page of the wal-index must be mapped at this point.
The following code executes when a syntax error first occurs.
The following code should catch this problem at compile-time.
The following operations are also performed by this function.
The following procedure is an attempt to make it work better.
The hash table might fail  to resize if sqliteMalloc() fails.
The key will be incremented on first use, so it'll start at 0
The last field of the index should be an integer - the ROWID.
The last rowid in the doclist may not be on the current page.
The last statement or normal query result will close it then.
The list of all parents for child Table X is held at X.pFKey.
The match succeeded, but the output vector wasn't big enough.
The maximum number of cells on a single page of the database.
The mutex on database handle db should be held by the caller.
The number of levels of backtrace to save in new allocations.
The pointer p is currently at the last byte of the character.
The position lists may or may not be edited if 0 is returned.
The program should be interrupted before this sleep finishes.
The right-hand input doclist is overwritten by this function.
The right-hand side (RHS) is an array of zero or more values.
The single-byte matcher means we can't proceed in UTF-8 mode.
The value of the INTEGER PRIMARY KEY column is always a NULL.
The value returned indicates how well the request is matched.
Then set pReadr2 to the next PmaReader to compare to pReadr1.
Then the contents of the journal are flushed out to the disk.
There will simply be a standard struct with 2 child elements.
Therefore all non-root nodes must contain at least 3 entries.
Therefore, op1 won't become the result so we have to free it.
These are definitions of bits in the WhereLoop.wsFlags field.
These are rewritten as a subquery:  SELECT * FROM (SELECT ...
This call creates the initial structure and averages records.
This case occurs after failing to recompile an sql statement.
This file contains code used to implement the PRAGMA command.
This file contains code used to implement the VACUUM command.
This function modifies the data stored as part of that entry.
This is done as part of the xConnect() and xCreate() methods.
This is needed to make RSAREF happy on some MS-DOS compilers.
This is only used if the SQLITE_CHECK_PAGES macro is defined.
This is the difference - make a file based on size of chunks.
This is used to test if a segment is an "appendable" segment.
This loop runs once for each leaf in the tree of eType nodes.
This minimizes the number of malloc calls made by the system.
This really never should happen except in a corrupt database.
This routine implements the second phase of a 2-phase commit.
This routine is called once for each row in the result table.
This routine must be called before  making changes to a page.
This source file is part of the Swift.org open source project
Those operator always uses word arguments without write back.
Throws an Exception in case the given function does not exist
Throws an Exception in case the given property does not exist
Thus NDEBUG becomes an opt-in rather than an opt-out feature.
Thus, correcting target_len so it's suddenly don't overflown.
To avoid losing the reference in that case we work on a copy.
To be safe, we will stick with the (slightly slower) fsync().
Try all three types of maps, but start with the specified one
Try to back-off and guess if this is the last block allocated
Unconditionally destroy existing array -- possible dirty data
Update any backup objects copying the contents of this pager.
Use custom function to get replacement string and its length.
Used by readers to open (lock) and close (unlock) a snapshot.
Using both tmp register is better for instruction scheduling.
Usually the path zFilename should not be a relative pathname.
Value constant during a single query - might change over time
Variables used only by sqlite3Fts5PoslistIterXXX() functions.
Was sqlite3_global_recover(), but that function is deprecated
We assume this is a transient condition, so return WAL_RETRY.
We do not want this code to appear when assert() is disabled.
We only allow comparing string to prevent unexpected results.
We want to preserve the original bind type given by the user.
We won't apply some optimization patterns for such variables.
We're done with the handle, so close it if we just opened it.
When the locking level reaches NO_LOCK, delete the lock file.
WinCE has no concept of a relative pathname, or so I am told.
Without truecolor this results in far too many color indexes.
Would use scope_identity() but it's not implemented on Sybase
Write the master journal data to the end of the journal file.
Write the root page number of the new table into register P2.
XML_XINCLUDE_END node will be a sibling of XML_XINCLUDE_START
XXX this probably can be improved with some number of retries
by the way: some of those companies changed their code now...
collapse adjacent stars to one, to avoid exponential behavior
continue resolution anyway but don't save result in the cache
create a fake palette and check for single-shade transparency
create new interning string in shared interned strings buffer
disable certain classes and functions as requested by php.ini
for compatibility with CGI (do not chdir to script directory)
for now interned strings are supported only for non-ZTS build
free error string received during previous iteration (if any)
gd_getin -------- Wrapper around gdGetC for use with readwbmp
give them back the address of the start offset they requested
hash as used in CA directories to lookup cert by subject name
if it is there, and if the haystack is ascii, we are all done
if there's no sa_len, assume the ifr_addr field is a sockaddr
in case of unhandled exception return to upward finally block
in non-OOP version, accept both a transliterator and a string
initialization part - the functions have not been loaded yet.
just in case long path gets truncated and not null terminated
just in case there's a class with a zillion characters in it.
libedit don't need this call which set the tty in cooked mode
load the palette and mark all entries "open" (unused) for now
minimum number of decimal digits to distinguish double values
move extra args into separate array after all CV and TMP vars
nReader is automatically rounded up to the next power of two.
number of fonts cached before least recently used is replaced
or colorindex for foreground of BW images (defaults to black)
phonize one letter We don't know the buffers size in advance.
php_stream_to_zval() does, add_next_index_resource() does not
post-process REQUEST_URI and retrieve the actual request URI.
ps_buffer here is a static const array of size PS_BUFFER_SIZE
read-only access is allowed to magic files in .phar directory
restore the in-string key, doesn't need null-termination here
the function is meant to process only entries from same group
these should force the client to close the file and reconnect
unset the associated relaxNG context and schema if one exists
we have to initialized the rest to get the updated max length
zend_stream_open_function() replacement for PHP 5.3 and above
'reloading' and 'finishing' can be overridden by 'terminating'
'unsigned char' is promoted to 'int' when passed through '...'
(4) Initialize the p4.xAdvance pointer on opcodes that use it.
(e.g. Memcache) It must set number of records deleted(nrdels).
*pIdx is set to the index of the new array entry in this case.
2.05: remap to the palette available in the destination image.
@todo Find a method to determine why php_url_parse_ex() failed
A BTREE_SINGLE database is always a temporary and/or ephemeral
A b-tree rebalance will be required after deleting this entry.
A faster alternative is to write 0xFFFFFFFF to the nRec field.
A frame is only valid if the page number is creater than zero.
A hyphen followed by a POSIX class is treated in the same way.
A mask of which bits have predefined values for each pipeline.
A pseudo-table is a single-row table implemented by registers.
A single subterm might be a set of AND-connected sub-subterms.
A value of 1 sets the object to use the  compile time default.
Add the table to the in-memory representation of the database.
Adjust the denominator in case of integers and add the number.
All elements of the list should belong to the same connection.
All fields in this structure are accessed under sqlite3.mutex.
All other pointer map entries have already been taken care of.
Allocate a bitvec to use to store the set of pages rolled back
Allocate heap space to hold an Index object with nCol columns.
Allocate memory for the regex stack on the real machine stack.
Also, the _USE_32BIT_TIME_T macro must appear first for MinGW.
An UPDATE statement against pTab is currently being processed.
An imposter table is required in all cases except RBU_PK_VTAB.
An rbu VFS is implemented using an instance of this structure.
Any lock, or no lock at all, may be held on the database file.
Any tables that the SrcList might point to are not duplicated.
Append N bytes from zIn onto the end of the JsonString string.
Applying the inverted matrix will restore the original values.
As follows: 1: the *-rbu file is currently under construction.
At this point, rrc will be one of MATCH_ONCE or MATCH_NOMATCH.
Avoid confusion from exponents so large that e might overflow.
BETWEENOTNULLIKECASCADELETECASECOLLATECREATECURRENT_DATEDETACH
Based on GD.pm code by Lincoln Stein for interfacing to libgd.
Basic functionality so children can call parent::toUCallback()
But returning an incorrect 0 or 1 could lead to a malfunction.
Called by the IJG JPEG library upon encountering a fatal error
Calling this routine with a NULL cursor pointer returns false.
Change the maximum number of in-memory pages that are allowed.
Change the value of the P4 operand for a specific instruction.
Check any rowid-less pages that occur before the current leaf.
Check that each phrase in the nearset matches the current row.
Check that the internal nodes of each segment match the leaves
Check that the pointer pOld points to a valid, non-free block.
Check to see if we should honor DESC requests on index columns
Checks for any conflicts regarding the output handler to start
Choose split point along selected axis, and update box bounds.
Common case: early out without every having to acquire a mutex
Conversion to double is to see if value is too big for a long.
Convert pMem so that it has types MEM_Real or MEM_Int or both.
Convert to equatorial rectangular coordinates - x is unchanged
Copy data from a buffer to a page, or from a page to a buffer.
Copy the values stored in the VdbeFrame structure to its Vdbe.
Copyright (c) 1999,2000 by the PHP3 internationalization team.
DB2NOEXITLIST env variable prevents DB2 from invoking atexit()
Deal with UTF characters that take up more than one character.
Declarations used for tracing the operating system interfaces.
Do some work towards applying the RBU update to the target db.
Don't resolve paths which contain protocol (except of file://)
Each bucket points to a spot in the global doubly-linked list.
Each entry in a RowSet is an instance of the following object.
Each table contains data for 128-255 symbols from ASCII table.
Enable to check that the allocation could destroy temporaries.
End of Unique File ID Utility Used By VxWorks ****************
Entries are added to  this list using sqlite3Fts3DeferToken().
Evaluate the current GROUP BY terms and store in b0, b1, b2...
Even if the match is empty, we need to reset the control head.
Fast path for looking up the resources for the current thread.
Finish committing the transaction to the destination database.
Finish the loop through table entries that match term pOrTerm.
First pass calculates a safe size for the pretty print version
First try to find another RBU vfs lower down in the vfs stack.
For IN operators or if an error occurs, the return value is 0.
For SCI you encode the S, then have to remember to skip the C.
For SRT_Output, results are stored in a sequence of registers.
For a duplicated named group, OP_DNREF and OP_DNREFI are used.
For an error that occurs before that point, jump to error_out.
For example those parameters only used in assert() statements.
For example, the right-most sibling might be completely empty.
For non-COND brackets, we modify the BRA code and use KETRPOS.
For the ucal_setDateTime() function, this is the 'date'  value
For them, possessive_quantifier is always FALSE at this stage.
Free all PgHdr objects stored in the Pager.pMmapFreelist list.
Full-text search using a MATCH operator on a non-docid column.
GCC might have just copying the problem from a prior compiler.
GIF(sm) is a Service Mark property of CompuServe Incorporated.
Gcc gets the wrong answer for NaN/0 unless both sides are NaN.
Generate a subroutine that will reset the group-by accumulator
Given an allocation, find the MemBlockHdr for that allocation.
Handle non-C99 snprintfs (requires extra malloc/free and copy)
Handle possessive capturing brackets with an unlimited repeat.
Hence, they can always be passed into sqlite3_uri_parameter().
I.e., the caller must still be able to filter directories out.
IMMEDIATEJOINSERTMATCHPLANALYZEPRAGMABORTVALUESVIRTUALIMITWHEN
If N is exceeds the number of available subterms, return NULL.
If a PENDING lock is obtained instead, immediately release it.
If a child of a vector is free'd first, results are undefined.
If a free segment id cannot be found, SQLITE_FULL is returned.
If a transaction is active an attempt is made to roll it back.
If an error occurs, return NULL and leave a message in pParse.
If both values are numeric, then a numeric comparison is used.
If dequote is true, then the token (if it exists) is dequoted.
If iBase is negative, then allocate the next available cursor.
If it does not work, then fallback to named semaphore locking.
If it exists, we pass the data immediately back to the caller.
If it has not already been created, create the rbu_state table
If it is 0, then the mask returned applies to the old.* table.
If it is not writable, generate an error message and return 1.
If mapping failed, close the shared memory handle and erase it
If nRowEst is zero and there is an ORDER BY clause, ignore it.
If newname is given, the session name is replaced with newname
If pFile holds a lock on a conch file, then release that lock.
If pList is initially NULL, then create a new expression list.
If persistent, the streams register it in EG(persistent_list).
If shifting by a negative amount, shift in the other direction
If so, leave *ppIdx  and *paiCol set to zero and return early.
If successful, the  transaction is committed before returning.
If temporary directory is changed, then invalidateTempStorage.
If the SQLITE_AFF_MASK is 0x00, then numeric affinity is used.
If the bCommit flag is true, also close any open blob handles.
If the default value is NULL, the action is the same as ABORT.
If the maximum is unlimited, set a repeater in the final copy.
If the next character is '+', we have a possessive quantifier.
If the requested page is already in the cache, it is returned.
If the root node is the parent of the leaves, iRoot will be 1.
If the statement is successfully recompiled, return SQLITE_OK.
If the value in  register P1 is zero, then the result is NULL.
If user requests interlace, translate that to progressive JPEG
If you don't pass a namespace uri, then you can't set a prefix
In non-UTF-8 mode, the two bit maps are completely compatible.
In other words, ALWAYS and NEVER are added for defensive code.
In that case keys may not be written in strictly sorted order.
In the case of a zero minimum, the first one was set up above.
In this case SQLITE_NOMEM is returned and *ppStmt set to NULL.
In this encoding mb-trail bytes doesn't mix with single bytes.
Initialize the contents of sLocal to avoid a compiler warning.
Initialize the output variables to -1 in case an error occurs.
Instead, the canonical data storage is a covering index btree.
Internal/core SQLite code should call sqlite3TransferBindings.
It doesn't seem worth having a separate .h file just for this.
It is already known that pMem contains an unterminated string.
It is left uninitialized so that multiple parsers can coexist.
It is not considered an error code if an iterator reaches EOF.
It is written so that NUM and RESULT can be the same pointers.
It may remain unchanged, or it may be set to an invalid value.
It returns true if the two strings are equal, otherwise false.
It should be deleted using sqlite3Fts3ExprFree() in this case.
It will be automatically closed when the last lock is cleared.
Iterate through all dirty pages currently stored in the cache.
JIT decreases this value less frequently than the interpreter.
JPEG 2000 components can be vastly different from one another.
Label resolution and unwinding adjustments happen in pass two.
Low level access to the FTS index stored in the database file.
Lower the locking level on file descriptor pFile to eFileLock.
MD5C.C - RSA Data Security, Inc., MD5 message-digest algorithm
Macros make the argument variables come from the current frame
Mapping failed, wait for mapping object to get freed and retry
Mark a page as unpinned (eligible for asynchronous recycling).
Maximum number of instructions in a bundle (2 for X, 3 for Y).
Maybe the row it was pointed to was deleted out from under it.
Multi-threaded programs that use this may experience problems.
NOTE: The naming of these userland functions was quite unlucky
Need a clean separation whether it's a remote or local prompt.
Never set both isSaveLeft and isExact for the same invocation.
New path replaces the prior worst to keep count below mxChoice
New run-time limit categories may be added in future releases.
No need to check the return value, if we failed then whatever.
Non-truecolor case, restored to its more or less original form
Not appropriate for html_entity_decode/htmlspecialchars_decode
Not multiline mode: start of subject assertion, unless notbol.
Nothing else can go wrong, so otherwise SQLITE_OK is returned.
Obtain a reference to the root node to initialize Rtree.iDepth
Omit this section if SQLITE_ENABLE_LOCKING_STYLE is turned off
Opcode:  Goto * P2 * * *  An unconditional jump to address P2.
Open the database handle and attach the RBU database as "rbu".
Open the dynamic library located at zPath and return a handle.
Optimizing character pairs, if their difference is power of 2.
Or insert a No-op and add the comment to that new instruction.
Otherwise an overriding method in a child class may be called.
Otherwise, return an SQLite error code and set ppPage to zero.
Overwrite cell iCell of node pNode with the contents of pCell.
POSIX.1, 4.5.1 time() - Get System Time already covered by PHP
Parse a cell content block and fill in the CellInfo structure.
Perform addition: N1 is added to N2 and the value is returned.
Put the 64-bit file length in *bits* at the end of the buffer.
Really this is more of a scheduler yield than an actual delay.
Register a new auxiliary function with global context pGlobal.
Register a new collation sequence with the database handle db.
Register built-in functions used to help implement ALTER TABLE
Remove trailing white space and nulls chars from unpacked data
Retain the highest bracket number, in case resetting was used.
Return SQLITE_NOMEM if a malloc fails, or SQLITE_OK otherwise.
Return the estimated number of output rows from a WHERE clause
Return the number of times sqlite3MemMalloc() has been called.
Return true if the floating point value is Not a Number (NaN).
Rollback any active transaction and free the handle structure.
Routine to transform a unixFile into a proxy-locking unixFile.
SQLite is careful to deallocate every mutex that it allocates.
SSA construction, Step 1: Propagate "def" sets in merge points
Search for an existing entry that matching the canonical name.
See the sqlite3BitvecBuiltinTest() for additional information.
Set the sort order for the last element on the given ExprList.
Set up the changed option bits, but don't change anything yet.
Similar padding is added in the fts3DoclistOrMerge() function.
Simple soundex algorithm as described by Knuth in TAOCP, vol 3
So that buffer is not  available for use within this function.
So there might be multiple references to the returned pointer.
Subsequent arguments vary depending on the configuration verb.
Such tables require special handling during INSERT processing.
Suppose the result table is stored in an array names azResult.
Suppress the first OFFSET entries if there is an OFFSET clause
TODO: could expand this to make a callback into PHP user-space
Test a C thread that calls sigaltstack and then calls Go code.
That means that we always use the same random number sequence.
That table and column will be recorded in iCursor and iColumn.
The 'span' of the expression is required by pragma table_info.
The .gd format is not intended to be a general-purpose format.
The Accelerator is disabled, act as if without the Accelerator
The Expr.x union is never used at the same time as Expr.pRight
The GetProcAddressA() routine is only available on Windows CE.
The Next opcode is only used after SeekGT, SeekGE, and Rewind.
The P3 register is updated with the ' generated record number.
The byte offset to the first freeblock is given in the header.
The callback is invoked once for each token in the input text.
The comments within this routine usually assume glob matching.
The conch file contains the header, host id and lock file path
The correct "ANSI" way to do this is to use the intptr_t type.
The current value for the constraint is left in register iReg.
The database file must  already be opened on connection pDbFd.
The dbSize, dbOrigSize and dbFileSize variables are all valid.
The default socket location is sometimes defined by configure.
The expression is true if the LHS is contained within the RHS.
The first argument is the text of a CREATE TRIGGER  statement.
The following block runs if pExpr is the root of a NEAR query.
The following block sets the new values of Mem.z and Mem.xDel.
The internal __COMPILER_HALT_OFFSET__ is prefixed by NULL byte
The internal databases can be given the large, default limits.
The length is cached so we don't need to ask Oracle every time
The loaded doclist does not take deferred tokens into account.
The mutexes implementation cannot be overridden at start-time.
The next iteration of the do-loop will balance the child page.
The next two lines ignore swap of low- and high-order 2 bytes.
The pNext field points to the NameContext in the parent query.
The packing above might be so out of balance as to be illegal.
The parent key is a composite key that includes the IPK column
The position list belonging to document  (Fts5SegIter.iRowid).
The register P3 contains the maximum number of allowed errors.
The snippet() and offsets() functions both return text values.
The tab_prefix table is the same size and type as the codetab.
The total delay time before giving up is less than 10 seconds.
The two subterms are in disjunction - they are OR-ed together.
These routines attempt to convert the value where appropriate.
This allows us to walk up the BTree from any leaf to the root.
This block calculates the checksum according to the FTS index.
This block serves no purpose other than to invoke the asserts.
This callback is called whenver an FSEvents watch is triggered
This file contains code used to help implement virtual tables.
This file contains the public interface for the RBU extension.
This function computes GMST0, the Greenwich Mean Sidereal Time
This function is used to help iterate through a position-list.
This function may be used as part of assert() statements only.
This function reduces any angle to within the first revolution
This is a threadsafe build, but strerror_r() is not available.
This is called as part of an incremental checkpoint operation.
This is delayed until the first time the database is accessed.
This is similar to "bitmap indices" in other database engines.
This is successful most of the time (about 9 times out of 10).
This means that non-unique keys can generate multiple matches.
This minimizes wasted space in power-of-two memory allocators.
This more than covers the period when the calendar was in use.
This number is used to fill in empty slots of the hash  table.
This object is used in only one place in the SQLite interface.
This one works on sqlite3_value*,  not the internal Mem* type.
This routine frees the space the sqlite3_get_table() malloced.
This routine is only be called from within a read transaction.
This should be a pointer obtained from sqlite3Fts5ParserAlloc.
This works as long as this function is not used for streaming.
Those operators always uses word arguments without write back.
Throws an Exception in case the given extension does not exist
To be order-distinct, the columns must be UNIQUE and NOT NULL.
To save initial string length after scanning to first variable
Tokenizer implementations will typically add additional fields
Unmap any pages of the existing mapping that cannot be reused.
Update the db file change counter via the direct-write method.
Update the page-size to match the value read from the journal.
Use this routine to reset the Mem prior to insert a new value.
Used by extra internal tests only run if NDEBUG is not defined
Used to enforce uniqueness in a CREATE UNIQUE INDEX statement.
We have    * compiled a pattern, and performed a single match.
We have to back up and restore  EG(current_execute_data) here.
We might as well use the "version()" function as a substitute.
We need to copy the data from the buffers which we will clean.
We think we might have a free slot, try to atomically grab it.
We won't try to free something of we don't have loop variable.
We'll change its size and try creating palette versions of it.
When Pack_32 is not defined, we store 16 bits per 32-bit Long.
Whether to preserve keys while copying to the new array or not
Write the folded case of the last character read to the output
YYCHAR is either YYEMPTY or YYEOF or a valid lookahead symbol.
YYMINORTYPE        is the data type used for all minor tokens.
YYSTACKDEPTH       is the maximum depth of the parser's stack.
a space or some other separator character, we simply skip over
add ability to load xpm files to gd, requires the xpm library.
all IS_TMP_VAR and IS_VAR variable numbers have to be adjusted
at 0h UT (i.e. the sidereal time at the Greenwhich meridian at
beginning of struct, see main/streams/plain_wrapper.c line 111
browser data defined in startup phase, eagerly loaded in MINIT
certpbe (default RC2-40) keypbe (default 3DES) friendly_caname
check if caller says we must understand something in a header.
checking whether the following line is part of a folded header
convert justwrote to an integer, since normally it is unsigned
create and sort array with pointers to the target_hash buckets
escapedlen returned by PQescapeBytea() accounts for trailing 0
fill epoll struct the same way we did in fpm_event_epoll_add()
first, we have to get the size of all the elements in the hash
generally not thread safe, but it *is* thread safe under win32
grab element attributes up front to save redundant while loops
if we are applying case conversions on column names, do so now
inherited members are overridden by members inserted by traits
interfaces aren't really implemented, so we create a new table
is consitent with the way -R works where the stdin file handle
isc_drop_database() doesn't invalidate the transaction handles
major problem re-opening, so we ignore this file and the error
must be called ONLY after SUCCESSFUL accelerator_shm_read_lock
mysql_native_password only works with SCRAMBLE_LENGTH scramble
nOp is guaranteed to be less than or equal to 1024/sizeof(Op).
no need to destroy/free zres -- it's NULL in this circumstance
numVars    The number of variables passed to the scan command.
open failed w/out notice (turned to exception due to EH_THROW)
otherwise, make sure that we don't close the FILE* from a cast
pConchPath is set to NULL if a memory allocation error occurs.
pPayload is a pointer to data stored on database page pDbPage.
php arrays have no distinction between array and struct types.
php_serach_array() body should be in some ZEND_API function...
reads an ftp response, returns true on success, false on error
remember whether this entire phar was compressed with gz/bzip2
removes all empty text, comments and other insignoficant nodes
restore the original locking context and pMethod then close it
return old context, so caller can restore it when they're done
sends an ftp command, returns true on success, false on error.
set this to 1 so that we know, it was set through this method.
should have allocated TRAVERSE_FOR_ENTITIES_EXPAND_SIZE(olden)
someone needs to make this look more like stream_socket_select
statement, then this stores a pointer to the SELECT statement.
str1 is string but not numeric string just convert it to utf8.
this is not good enough - seek succeeds even on truncated tars
this should never happened (just to suppress compiler warning)
try to determine the index by looking in the named_params hash
try to match the database file R/W permissions, ignore failure
we can change the type so long as nothing is currently stored.
we have valid persistent_script, so it's safe to free op_array
we should set it to -1 to know, that it's just not initialized
we're only interested in parameters for prepared SQL right now
where (GMST0) is the GMST last time UT was 0 hours, one simply
xColumnCount(pFts): Return the number of columns in the table.
xpgSize is guaranteed to be at least one larger than objIndex.
"old"-style: setting - 2 chars of salt key - up to 8 characters
******************************** Module Setup and Destruction *
******************************** Userspace exported functions *
+build cgo +build darwin dragonfly freebsd linux netbsd solaris
- uglier and more complex than I like to see for API functions.
06/2000 -- danda -- played with expat-ensor from www.ensor.org.
2005-07-08  The author disclaims copyright to this source code.
2007 May 1  The author disclaims copyright to this source code.
2007 May 6  The author disclaims copyright to this source code.
2007 May 7  The author disclaims copyright to this source code.
2011-07-09  The author disclaims copyright to this source code.
2013-11-12  The author disclaims copyright to this source code.
2015-03-02  The author disclaims copyright to this source code.
2015-06-06  The author disclaims copyright to this source code.
2015-06-08  The author disclaims copyright to this source code.
2015-08-12  The author disclaims copyright to this source code.
A docid is the unique integer identifier for a single document.
A minimum allocation is an instance of the following structure.
A record is an object that contains one or more fields of data.
A result table might consist of one or more memory allocations.
A single byte is required for the output string nul-terminator.
Access the static variable through a macro for SQLITE_OMIT_WSD.
Add a flag to INIT_ARRAY if we know this array cannot be packed
Add a single new WhereTerm entry to the WhereClause object pWC.
Add for any character in the key one byte of the alternate sum.
Additional entries are made on the AggInfo object as necessary.
Additionally, a macro named "winIoerrCanRetry2" may be defined.
Also note that entries are collated in alphabetic order on key.
An abstract type for a pointer to an IO method finder function:
And discarded whenever xRollback() or xRollbackTo()  is called.
And each index consists of multiple levels ("relative levels").
And for every TABLE.* insert the names of all columns in TABLE.
And what is supposed to go as user interaction, error log, etc.
Assign a bit from the bitmask to every term in the FROM clause.
At this point we know the final size and margin of the element.
Auxiliary functions needed by objects of 'Transliterator' class
Bits of the addRemove argument determines what operation to do.
But we have other optimizations in mind to deal with that case.
Calculate the return value, which is the maximum ovector value.
Call the collation factory to see if it can supply us with one.
Capturing brackets cannot be optimized if callouts are allowed.
Channel libxml file io layer through the PHP streams subsystem.
Check section 6 of rfc 822 http://www.faqs.org/rfcs/rfc822.html
Check to see if another process is holding the dead-man switch.
Checks for runs when THRESHOLD/2 pairs compare with same sense.
Checks if a constant (like "true") may be replaced by its value
Close all of the cursors that were opened by sqlite3WhereBegin.
Compare the entries pointed to by two Fts3SegReader structures.
Compute a string that describes the P4 parameter for an opcode.
Compute the complete text of the CREATE VIRTUAL TABLE statement
Data is coming from a SELECT or from a multi-row VALUES clause.
Declare that a function has been overloaded by a virtual table.
Default values for second and subsequent columns need to match.
Define the parameters of the hash tables in the wal-index file.
Delete the given Select structure and all of its substructures.
Discard stack segments which do not contain the target address.
Do not attempt to write if database file has never been opened.
Do not delete the table until the reference count reaches zero.
Don't try to destroy implicitly opened transaction from list...
EX(return_value) keeps pointer to zend_object (not a real zval)
Each increase in level represents exponentially more documents.
Each recursive mutex is an instance of the following structure.
End of the named semaphore lock implementation ****************
End of the posix advisory lock implementation *****************
Ensure that this marker is SIZ (as is mandated by the standard)
Example: the row for WORD contains ucp_L, ucp_N, ucp_P, ucp_Po.
FIXME:  Be smarter about omitting indexes that use expressions.
FIXME: not sure why this is needed but removing it breaks tests
Failure to set the bits in the InJournal bit-vectors is benign.
Fallback to the normal code path if an unsupported flag is set.
Find the end of dst and adjust bytes left but don't go past end
For an ordinary non-repeating ket, just continue at this level.
For index b-trees, it is the root page of the associated table.
For perfect rounding, must get sin(a + pi/4) and sin(a - pi/4).
For write modes close data stream first to signal EOF to server
Free a MatchinfoBuffer object allocated using fts3MIBufferNew()
Free a PendingList object allocated by fts3PendingListAppend().
Function sqlite3TableLock() is used to add entries to the list.
Gamma is ignored, and there is no support for text annotations.
Generate code for the SELECT statement given in the p argument.
HACK: See zlib/examples/zpipe.c inf() function for explanation.
Handles properly formed UTF-8 characters between 0x01 and 0x7F.
Hash and comparison functions when the mode is FTS3_HASH_BINARY
Hash and comparison functions when the mode is FTS3_HASH_STRING
However, pReadr itself is not set up to point to its first key.
However, we assume that what we are passed is a compiled regex.
I still use the compareAndSwap to assert this invariant though.
I've also made it reentrant and made a number of other changes.
If AUTOVACUUM is disabled then a zero is stored in register P2.
If N is positive then that is the number of pages in the cache.
If a temporary file is requested, it is not opened immediately.
If an IO error within this function, an error code is returned.
If an error occurs here, do not delete the master journal file.
If any row exist in the result set, record that fact and abort.
If anything  goes wrong, the transaction on pTo is rolled back.
If either are defined, also define SQLITE_ENABLE_STAT3_OR_STAT4
If heap validation should fail, an assertion will be triggered.
If it is not, then the cursor acquired will not work correctly.
If it is, return the action, otherwise return fts5YY_NO_ACTION.
If nArg is -2, then the first valid function found is returned.
If no commits have occurred since the last call, then return 0.
If refsign is not negative, it means we have a number in recno.
If the Pager.noSync flag is set, then this function is a no-op.
If the argument is NULL, the return value is the string "NULL".
If the function is not a LIKE-style function then return FALSE.
If the match fails at the newline, later code breaks this loop.
If the molad occurs on or after noon, Tishri 1 must be delayed.
If the sector size isn't a multiple of 512 then it isn't valid.
If the shared-memory file has not yet been opened, open it now.
If the wal-index header is successfully read, return SQLITE_OK.
If there are no active cursors, it also releases the read lock.
If there are no inequality constraints, then N is at least one.
If there is a transaction in progress, this routine is a no-op.
If there is not enough free space in pNode, return SQLITE_FULL.
If this is a DELETE or UPDATE operation, remove the old record.
If this is the first node in the tree, the term is added to it.
If this was page 1, then restore the value of Pager.dbFileVers.
If virtual-tables are in use, this is not just an optimization.
Images with more than 8 bits per channel are reduced to 8 bits.
Immediate is prefered as second argument by most architectures.
Implementation for palette images can be done at a later point.
In other words, each wal-index is opened only once per process.
In other words, the cursor is configured to use Next, not Prev.
In other words, the cursor is configured to use Prev, not Next.
In some rare cases destructors of regular arrays may be changed
In that case, the error code and message may or may not be set.
In the future, we'll allow someone to register an error handler
In the pre-compile phase, we don't actually do the replication.
Info from: http://sc.openoffice.org/compdocfileformat.pdf  N.B.
Initialize a tokenizer iterator to iterate through column iCol.
Initialize the error-limiting transfer function (lookup table).
Invoke the VDBE coverage callback, if that callback is defined.
It is provided to support rare applications with unusual needs.
It is therefore fortunate that  this circumstance cannot arise.
It will be automatically closed  when the last lock is cleared.
It's okay to return an empty array if no filters are registered
Key1 and Key2 do not have to contain the same number of fields.
LOCKFILE_FAIL_IMMEDIATELY is undefined on some Windows systems.
Last filter returned data via PSFS_PASS_ON Do something with it
Load the content of the sqlite_stat1 and sqlite_stat3/4 tables.
Log the error, but continue normal operation using xRead/xWrite
Macro used to suppress compiler warnings for unused parameters.
Make a copy of a string in memory obtained from sqliteMalloc().
Make output image interlaced (progressive, in the case of JPEG)
Make space in the table and break the loop for an earlier name.
Memory cell pMem contains the context of an aggregate function.
Memory is allocated in chunks so most INSERTs do no allocation.
Memory streams use a dynamic memory buffer to emulate a stream.
Merge two lists of pages connected by pDirty and in pgno order.
Most functions are just 'wrappers' for standard file functions.
Move to the next entry that matches the configured constraints.
Move to the next matching rowid that occurs at or after iMatch.
NOTE: Default php_session_create_id() does not check collision.
No terminator (POS_END or POS_COLUMN) is written to the output.
No-op to set a breakpoint on, immediately after the real chdir.
On Windows, we expect regular chgrp to fail silently by default
On Windows, we expect regular chown to fail silently by default
One or more of the following warnings have already been issued.
Only allow sensible combinations of bits in the flags argument.
Only decimal digits ('0'..'9') may be part of an integer value.
Only keep closing bracket on same line for empty arrays/objects
Opcode: CollSeq P1 * * P4  P4 is a pointer to a CollSeq struct.
Or, if there is no stat3/stat4 data, using some other estimate.
Otherwise return +left or -right depending on which is defined.
Otherwise update the main code pointer to the end of the group.
Otherwise, any existing buffer is freed and the pointer copied.
Otherwise, if pgno is not in the wal file, set *piRead to zero.
Otherwise, use the explicitly specified behavior for the index.
PCRE_EXTRA enables extensions to Perl in the matter of escapes.
PS_OPEN_FUNC()  - Create module data that manages save handler.
PTRMAP_PTROFFSET returns the offset of the requested map entry.
Pointer p currently points at the first byte of an offset list.
Pointers to instances of struct Trigger are stored in two ways.
Pop the current state because it cannot handle the error token.
Push a new event in the shared list and wakeup the OCaml thread
Put the 128-bit file length in *bits* at the end of the buffer.
Record a pointer to the logger function and its first argument.
Records are always returned in ascending order of (name, path).
Refer to ICU documentation for the differences between the two.
Registered as a destructor function with sqlite3_set_auxdata().
Release the semaphore if it has been acquired but not released.
Remember the earliest consulted character for partial matching.
Reset the cursor to the same state as rtreeOpen() leaves it in.
Result is -1 if the field is invalid (all blank, or non-octal).
Return 2 if the required number of bytes is too large to store.
Return SQLITE_OK if successful, or an SQLite error code if not.
Return TRUE if the WHERE clause returns rows in ORDER BY order.
Return a pointer to static memory containing an SQL NULL value.
Return a pointer to the WalCkptInfo structure in the wal-index.
Return a pointer to the WalIndexHdr structure in the wal-index.
Return a pointer to the page, or 0 if the page is not in cache.
Return a sanitized version of the sector-size of OS file pFile.
Return either SQLITE_OK (zero) or SQLITE_IGNORE or SQLITE_DENY.
Return the name of a directory in which to put temporary files.
Return the size of the database in pages (or zero, if unknown).
Return the total number of segments in index structure pStruct.
Return true if currently inside an sqlite3_declare_vtab() call.
Returns the connected (or connecting) socket, or -1 on failure.
Returns the previously defined error handler, or false on error
SEE ALSO XMLRPC_RequestSetError () XMLRPC_RequestFree () SOURCE
SQLite is strongly typed, but the typing is dynamic not static.
Same as above, except that this implementation works for WinRT.
Search for equality and range constraints on the "term" column.
See documentation on OP_CreateTable for additional information.
Set thread local storage to this new thread resources structure
Setting the busy_timeout to 0 or negative disables the timeout.
So we have to link generator call frame with caller call frame.
So, the SQL statements:  A LIKE B  is implemented as like(B,A).
Sub-iterator iChanged of iterator pIter has just been advanced.
TESTING  This algorithm has been tested from the year 4713 B.C.
TESTING  This algorithm has been tested from the year 4714 B.C.
Take actions at the end of an API call to indicate an OOM error
Temporary Function aliases until the next major upgrade to PHP.
Test to see if the iRowid value appears anywhere in the forest.
Thanks to Robin Houston for the original version of this logic.
The "break" point is here, just past the end of the outer loop.
The API routine is partially broken on filenames ending ".com".
The MSVC CRT on Windows CE may not have a localtime() function.
The MSVCRT has malloc_usable_size(), but it is called _msize().
The NN naming schemes are  used by the test_multiplex.c module.
The P5 arguments are taken from register P2 and its successors.
The backup API copies the content of one database into another.
The cell-pointers and other fields of the page are not updated.
The character or character type itself comes last in all cases.
The current change-counter cookie value in the  target db file.
The dimensions can never be smaller than the padding and border
The following are the meanings of bits in the Expr.flags field.
The following two checks can be removed once we drop XP support
The following version of unixSectorSize() is optimized for QNX.
The function blobGrowBuffer() is used to extend the allocation.
The high-order bit is set if any column after the 64th is used.
The mempool allocator is activated by calling sqlite3_config().
The methods above are in version 1 of the sqlite_module object.
The pointer map entries for all these pages need to be changed.
The pointer returned in pzBuf must be freed via sqlite3_free().
The results are returned according to the SelectDest structure.
The second argument (ecode) being NULL triggers this behaviour.
The set of routines that implement the porter-stemmer tokenizer
The sz parameter is the number of bytes in each lookaside slot.
The target database name of the table  currently being written.
The vdbe layer will read data directly from the in-memory list.
The yDbMask datatype for the bitmask of all attached databases.
The zParam argument is the name of the query parameter we seek.
This avoids the need for a mutex lock and our hashtable lookup.
This calculation is done here to simplify allocation elsewhere.
This call must be made after a call to sqlite3VdbeSetNumCols().
This causes problems for the sqlite3_bind_parameter_name() API.
This file contains code used to implement incremental BLOB I/O.
This function is called after a transaction has been committed.
This function is equivalent to the standard isspace() function.
This function is only ever used as part of assert() conditions.
This function should be called by the user for any method once.
This function would be simpler if it recursively called itself.
This happens if the user has supplied a token such as "ORacle".
This is part of an SQLite module implementing full-text search.
This is set during a rollback or by user request, respectively.
This is used to force 8-byte alignment on 64-bit architectures.
This is used when sorting records for a CREATE INDEX statement.
This line is to test that doing so does not cause any problems.
This might be necessary when compiling for Delphi, for example.
This routine can be overridden using the xSetSysCall interface.
This routine frees the BLOB that is returned by geomCallback().
This routine generates code that opens the sqlite_statN tables.
This routine just removes the reference to the cell from pPage.
This should be called once for each prior call to btreeGetPage.
This value is beyond our precision, so rounding it is pointless
This vtab delivers always results in "ORDER BY term ASC" order.
Under memory stress, invoke xStress to try to make pages clean.
Unix cannot, but some systems may return SQLITE_FULL from here.
Update the string pointer to point  just after the number read.
Verify the validity of the current character as a base-2 digit.
WARNING: This macro is not compatible with the strcmp() family.
We break it out in an effort to keep the code better organized.
We cannot get connection as NULL or as a stub in this function.
We could not restore it to the original state in case of error.
We currently do not have stub support for non-persistent conns.
We currently don't early-bind classes that implement interfaces
When the reference count reaches zero the structure is deleted.
WinRT has no way to convert a relative path to an absolute one.
Without a decimal point, PHP treats a number literal as an int.
Write out extension for transparent colour index, if necessary.
Write the estimated row count into *pnRow and return SQLITE_OK.
Write to the last byte of each newly allocated or extended page
Write() can  only occur in between Init()/Reset() and Rewind().
XXX all the crypt related APIs work with int for string length.
XXX: the constant "20" was determined purely on the heuristics.
You must start a transaction  before starting a subtransaction.
after T_HALT_COMPILER collect the next three non-dropped tokens
allow extension to proclaim compatibility with any Zend version
an argument is not allowed for (*ACCEPT), (*FAIL), or (*COMMIT)
another quickie macro to make defining similar functions easier
avoid infinity recursion, by taking handler from nested closure
check for limits of field_ind if the field parameter was an int
check if ZCG(function_table) wasn't somehow polluted on the way
dec  jan  feb  mrt  apr  may  jun  jul  aug  sep  oct  nov  dec
don't initialize is_null and length to 0 because we use ecalloc
dtoa for IEEE arithmetic (dmg): convert double to ASCII string.
fill pollfd with the same informations as fpm_event_devpoll_add
fill the output sqlda with information about the prepared query
flush the file handle, so any remaining data is synched to disk
go through the sorted array and delete duplicates from the copy
how many dimensions we are indirecting to get into this element
if the conch isn't writable and doesn't match, we can't take it
if the pointers match then only subtract the length of the path
l_in, r_in, l_out, and r_out are in pseudo-"big-endian" format.
link field is null-terminated unless it has 100 non-null chars.
little mini hack so that we can use this code from the dbh ctor
multi char folded code is not head of another folded multi char
must be error since parameters are only allowed after mediatype
need to just run handler if we're inactive and getting a signal
op_arrays are allocated on arena, so we don't have to free them
open Backup Engine that we will use for backing up our database
overwriteable ini defaults must be set in phpdbg_ini_defaults()
pList is a list of names  of columns that form the primary key.
php_magic_database is a const, performing writes will segfault.
pointer to globals allocated in SHM and shared across processes
print php interbase module error and save it for ibase_errmsg()
return_value is IS_NULL for no more data and an array for data.
sanity check for the case where the constant is already defined
see if it makes sense to use simple division to round the value
set the individual row_pointers to point at the correct offsets
should be after 0x8 because swedish_ci is the default collation
should be after 0x9 because general_ci is the default collation
since 5.0.3, the default for this option is 0 if not specified.
the same check, but with a call to DBA_ID_DONE before returning
this is padding to get CreateInstance into the correct position
timestamp is just the timestamp when this was added to the phar
to properly compress, we have to tell zlib to add a zlib header
try to find if we already have this link in our persistent list
uchar_pos is the 'nth' Unicode character position of the needle
uses constants declared in soap.c to determine ssl uri protocol
we should be already be in non blocking mode for network socket
when a filter needs feeding, there is no brig_out to deal with.
when we request only the header, don't fail even on error codes
xEof - Return true if the cursor is at EOF, or false otherwise.
"pNew" is a pointer to the hash table that is to be initialized.
*pp is then set to point 1 byte past the end of the read varint.
0xdf, 0xaa, 0xb5, 0xba are lower case letter, but can't convert.
2004 May 22  The author disclaims copyright to this source code.
2004 May 26  The author disclaims copyright to this source code.
2005 May 25  The author disclaims copyright to this source code.
2006 June 7  The author disclaims copyright to this source code.
2006 Oct 10  The author disclaims copyright to this source code.
2008 Jan 22  The author disclaims copyright to this source code.
2008 May 26  The author disclaims copyright to this source code.
2008 May 27  The author disclaims copyright to this source code.
2008 Nov 28  The author disclaims copyright to this source code.
2009 Nov 12  The author disclaims copyright to this source code.
2009 Oct 23  The author disclaims copyright to this source code.
2011 Jan 27  The author disclaims copyright to this source code.
2012 May 24  The author disclaims copyright to this source code.
2012 May 25  The author disclaims copyright to this source code.
2013 Apr 22  The author disclaims copyright to this source code.
2014 Jun 09  The author disclaims copyright to this source code.
2014 May 31  The author disclaims copyright to this source code.
2015 May 08  The author disclaims copyright to this source code.
2015 May 30  The author disclaims copyright to this source code.
A complete hash table is an instance of the following structure.
A coordinate can be either a floating point number or a integer.
A non-zero result is something that can be returned immediately.
A single WAL can and usually does record  multiple transactions.
A stack overflow can result if the number of terms is too large.
A successful evaluation of this routine acquires the mutex on p.
A write-transaction must be opened before calling this function.
Add  entries from various fields of the obtained parsed_calendar
Advance YYPTR to a properly aligned location for the next stack.
Advance the iterator passed as an argument to the next position.
All default VFSes for unix are contained in the following array.
All outstanding pages are invalidated and their memory is freed.
All such objects are stored as part of the Fts5Global.pAux list.
All such objects are stored as part of the Fts5Global.pTok list.
Allocate and initialize the hash-table used to store tokenizers.
Allocate the mutex and register the new VFS (not as the default)
An EXCLUSIVE_LOCK is obtained by locking all bytes in the range.
An attempt is made to find NN siblings on  either side of pPage.
An automatic index created by a PRIMARY KEY or UNIQUE constraint
An instance of the following structure stores a database schema.
And so long as the db is not a  temporary or in-memory database.
Anything else is just an item with no data, but possibly a flag.
Append formatted text (not to exceed N bytes) to the JsonString.
Argument pColDef contains the text of the new column definition.
Arguments pBlob/nBlob contain a serialized Fts5Structure object.
As a special case, all 8 bytes of the 9th byte are used as data.
Auxiliary functions needed by objects of 'NumberFormatter' class
Base64 is useful for transferring binary data, such as an image.
BtCursor.info is a cache of the information in the current cell.
Buffer (a/n) is assumed to contain a list of serialized varints.
But for internal pages, that has not yet been done, so do it now
But if the cursor backup was successful, jump immediately to P2.
CALENDAR OVERVIEW  Julius Caesar created the calendar in 46 B.C.
COMMIT disables the bumpalong, but otherwise behaves as NOMATCH.
Calculate the estimated cost based on the flags set in idxFlags.
Calculate the time of the starting molad for this metonic cycle.
Call fstat() to figure out the permissions on the database file.
Cause any pending operation to stop at its earliest opportunity.
Change the size to which the WAL file is trucated on each reset.
Changes in the GROUP BY are detected by the previous code block.
Check if any of the key columns in the child table row are NULL.
Check if there exists a MATCH constraint - even an unusable one.
Check that the column is not part of an FK child key definition.
Check the integrity of the freelist or of an overflow page list.
Choices include no escaping, entity escaping, or CDATA sections.
Clear any existing type flags from a Mem and replace them with f
Code constant expressions that where factored out of inner loops
Copy the environment variables in preparation for the spawn call
Created and expanded in order as the characters are encountered.
Current algorithm: by population for first half, then by volume.
Declare 'index' which will point to sort key in sort key buffer.
Delete aliases to phar's that got kicked out of the global table
Do nothing if the other case range is within the original range.
Drop every cache entry whose page number is greater than "pgno".
Except see the bug regarding a race condition php_sysvsem_get().
Except, promote as many  segments as possible to level iPromote.
External API function used to create a new virtual-table module.
FIXME: Read file names and sort them to prevent non-determinism.
Figure out the number of pages needed to hold all b.nCell cells.
First, the terminals, then, starting at YYNTOKENS, nonterminals.
For long words without digits, 10 bytes are taken from each end.
For production code the yytestcase() macro should be turned off.
For this implementation we'll use the highest depth encountered.
For tracing reduce actions, the names of all rules are required.
Generate code that executes if the new index entry is not unique
Generate code to remove the table from the master table on disk.
HAVE_MREMAP defaults to true on Linux and false everywhere else.
Have to increase the number, so we can send correct number back.
However control may currently be delegated to another generator.
However, it is created first, so we have to allow memory for it.
Identify column names if results of the SELECT are to be output.
If *pRc is non-zero when this function is called, it is a no-op.
If P5 is non-zero, then recursive program invocation is enabled.
If a constraint fails, then the appropriate action is performed.
If a schema error occurs, call sqlite3Reprepare() and try again.
If an error does occur, the final value of *piRead is undefined.
If an error occurs, leave an error code in the Fts5Index object.
If anything goes wrong, an error message is written into pParse.
If anything goes wrong, set an error in the database connection.
If both operands are NULL then the result of comparison is true.
If it is a keyword, the token code of that keyword is  returned.
If it is not already valid, call btreeParseCell() to fill it in.
If it returns 0, the operation aborts with an SQLITE_BUSY error.
If matching is caseless, upper and lower are converted to alpha.
If no alias was passed in, then it can match either and be valid
If no error occurs, return this value and set *pRc to SQLITE_OK.
If no suitable space can be found on the free-list, return NULL.
If no zContent option was specified, fill in the default values.
If opening an attached database, the encoding much match ENC(db)
If reading entire image is requested, read the rest of the data.
If result of assert is unused, result of check is unused as well
If script is found then validate_timestamps if option is enabled
If successful, object pConfig is updated and SQLITE_OK returned.
If successful, write this value to *pnPage and return SQLITE_OK.
If successful, zero the memory before returning a pointer to it.
If the IOCAP_SEQUENTIAL device flag is set this is not required.
If the bundle is valid as is, perform the encoding and return 1.
If the close fails, we pause for 100 milliseconds and try again.
If the cursor already points to the last entry, this is a no-op.
If the exec call supplied NULL for tables, use the inbuilt ones.
If the file is a temp-file has not yet been opened, open it now.
If the pager is in the error state, return an error immediately.
If the pattern was studied, a minimum subject length may be set.
If the term has an alias, then pAlias points to the alias token.
If the transition out of exclusive-mode is successful, return 1.
If the useJournal flag is clear, the journal-mode must be "OFF".
If there are no alternatives, it points to the end of the group.
If there are no matches, set the Node.bEof flag to indicate EOF.
If there is a gap, that gap is added to the fragmentation count.
If this is an INSERT or UPDATE operation, insert the new record.
If this routine returns an error, the value of *pp is undefined.
If we are drawing this AA, then redraw the border with AA lines.
If we get this far, it means we need to compute the table names.
In both cases, the original bucket is unlinked from its brigade.
In other words, if the cursor is already open, do not reopen it.
In the case of reqchar, save the previous value for reinstating.
In this case just update the pager cache, not the database file.
In this case run the balancing algorithm on the leaf node first.
In this case the caller must call sqlite3DbFree(db, ) on *pzErr.
In this case the user is required to provide a rowid explicitly.
In those cases,  the bitmap becomes dense with high cardinality.
Initialize memory that will be converted into a BtCursor object.
Initialize the MemPage.pBt and MemPage.aData elements if needed.
Initialize the MergeEngine object passed as the second argument.
Initialize the iterator structure passed as the second argument.
Insert or replace a WhereLoop entry using the template supplied.
Intermediate negative values can mess this computation otherwise
Invoke a virtual table constructor (either xCreate or xConnect).
It does not unlink the table data structure from the hash table.
It is important that it is created as an auto-vacuum capable db.
It is not used  when opening a hot journal file to roll it back.
It is now impossible to match real values against php constants.
It performs a single unit of work towards an incremental vacuum.
It's easier to write this out separately than try to macrify it.
It's probably "Too many connections, which has SQL state 08004".
Iterate through input hash and create a sort key for each value.
Iterator pIter currently points to the first rowid in a doclist.
Iterator pIter currently points to the first rowid of a doclist.
Just don't forget to remove the Bcc: from the header afterwards.
Later code assumes the PRIMARY KEY contains no repeated columns.
Limit the error using transfer function set by init_error_limit.
Load the entire doclist for the phrase into memory in this case.
Look to see if there is an existing winShmNode that can be used.
Lower values have a higher precedence (i.e. group more tightly).
Make sure "isView" and other macros defined above are undefined.
Make sure all writes to a particular file are committed to disk.
Make sure there is no ORDER BY or LIMIT clause on prior SELECTs.
Mappings of bytes from longs (32bit) for all endian environments
Mappings of bytes from quads (64bit) for all endian environments
Maximum number of prepared UPDATE statements held by this module
Maybe it's better to compile the file instead of just searching,
Most ideas are taken from jemalloc and tcmalloc implementations.
Must be called by every worker before any operation is performed
NB this routine will return a single null entry for a blank line
NULL is also returned if the system call is currently undefined.
Nearly all instructions are unmovable in the following sequence.
No other args are permitted here as there is no interactive mode
None of the remaining opcodes are required to match a character.
Note that ICU uses int32_t as string length and PHP uses size_t.
Note: This list isn't exhaustive, but should cover common cases.
On Windows we don't have ability to extend huge blocks in-place.
One of the following two instructions is replaced by an OP_Noop.
Open a read-only cursor, execute the OP_Count, close the cursor.
Open the shared-memory area associated with database file pDbFd.
Option to allow processing of unassigned codepoints in the input
Otherwise, an SQLite error code is returned and *pp is set to 0.
Otherwise, if an error occurs, an SQLite error code is returned.
Otherwise, if the allocation succeeds, (*pRc) is left unchanged.
P2 is an address to jump to if the filtered result set is empty.
Pop all X509 from Stack and free them, free the stack afterwards
Prior versions of SQLite will not understand those serial types.
Push an empty string, so that we at least have an xslt result...
Rather than swallow random bytes, just stop if we hit a bad one.
Read the master journal name from the journal, if it is present.
Release all resources associated with an sqlite3_backup* handle.
Return SQLITE_OK on success or some other error code on failure.
Return a JSON array that contains all values given in arguments.
Return a human-readable name for a constraint resolution action.
Return the name of the table from which a result column derives.
Return the number of wildcards that can be potentially bound to.
Return the page number associated with frame iFrame in this WAL.
Return the size of the header added to each page by this module.
Return true if the prepared statement is in need of being reset.
SQLITE_OK is returned if the operation is successfully executed.
SSTH Exception: IS_LONG may be accepted as IS_DOUBLE (converted)
Save the earliest consulted character, then skip to next op code
Save the position, write the index, restore position (paranoia).
Search for the end of the position list within the current page.
See comments at user semantic actions for why this is necessary.
See comments on  sqlite3WhereBegin() for additional information.
Session is now taken from the session pool and attached and open
Set idxFlags flags for all WHERE clause terms that will be used.
Set pipe mode according to type -- for now allow only "r" or "w"
Set the SQLITE_PTRSIZE macro to the number of bytes in a pointer
Set the executed flag to 0 to reallocate columns on next execute
Set the flag to indicate that at least one PMA has been written.
Set the maximum page count for a database if mxPage is positive.
Set the right-child pointer of pParent to point to the new page.
Shift all entries before the current one up by one to make room.
Show to the user what changed and delete watchpoint upon removal
Since major is a function on SVR4, we cannot use `ifndef major'.
So, the SQL statements:  A LIKE B  is implemented as like(B, A).
Some databases require a sequence or table name to be passed in.
Some functionality has been removed (MIME and file attachments).
Step 2: If the page was found in the hash table, then return it.
Structure for remembering the local variables in a private frame
Structure to save state of computation between the single steps.
Sync the journal file and write all dirty pages to the database.
THOUGHT:  It would be nice if, rather than having things like...
TODO: This definition is just included so other modules compile.
The Pager.eState variable stores the current 'state' of a pager.
The RowSet.pForest value points to the head of this forest list.
The SET expressions are not actually used inside the WHERE loop.
The actual function that does the work of creating a new module.
The application does not need to worry about freeing the result.
The child1 and child2 terms were added by the LIKE optimization.
The current implementation interprets "LIMIT 0" to mean no rows.
The datatype ynVar is a signed integer, either 16-bit or 32-bit.
The first and the last character of a label must be alphanumeric
The functionality of sqlite_stat3 is a superset of sqlite_stat2.
The highest number for a valid UTF-8 first byte is in fact 0x3d.
The implementation of user-defined scalar function fts5_rowid().
The label should be resolved using sqlite3ResolvePartIdxLabel().
The log message is stored in a fixed-length buffer on the stack.
The main routine for background threads that write level-0 PMAs.
The number of bytes of available key/data is written into *pAmt.
The offset will always be the same for converting to title case.
The output stack uses the rest of htab, and contains characters.
The pAppData is a pointer to a pointer to the "finder" function.
The pCtx argument  is actually a pointer to the Pager structure.
The pcache.c and pager.c modules deal pointers to PgHdr objects.
The requested data is not all available in the in-memory buffer.
The result is the first argument if the arguments are different.
The result is the version of the SQLite library that is running.
The sqlite_stat4 table contains multiple entries for each index.
The tricky bit is figuring out the pointer to return in *pzTail.
The value is considered false if it has a numeric value of zero.
The wal-index is divided into pages of WALINDEX_PGSZ bytes each.
The zFilename argument is the path to the database file to open.
The zWhere string must have been obtained from sqlite3_malloc().
Then,  right before it exits, the thread itself sets bDone to 1.
There are three possible strategies, in order of preference:  1.
There has not been an opportunity to transition to WAL mode yet.
These are "char *" because they are passed to the outside world.
These locks will not be released until the connection is closed.
These pointer sized fields temporarly stores internal variables.
These versions of the macros manage a private stack on the heap.
This also transfers the open file pointer, if any, to the entry.
This block of memory will be freed before this function returns.
This code aims to be a full-featured C implementation of XMLRPC.
This code is common to both the zero and non-zero minimum cases.
This ensures that each node is stored on a single database page.
This file contains code that is specific to Wind River's VxWorks
This function is called at the start of every write transaction.
This function is called by the parser to process a string token.
This function is only called from within an assert() expression.
This function merges two sorted lists into a single sorted list.
This is an original closure object and __invoke is to be called.
This is correct for Solaris 2.6 which does not have union semun.
This is only present if SQLITE_OMIT_BUILTIN_TEST is not defined.
This is the number of concurrent requests, equals FCGI_MAX_CONNS
This is used for SELECT statements inside the body of a TRIGGER.
This may be the first character of a range, so don't add it yet.
This part ensures also, that no drive letter traversing happens.
This particular file implements the generic tokenizer interface.
This routine is called to do the work of a DROP TABLE statement.
This routine is invoked after an error occurs in an OS function.
This routine never allows a UTF16 surrogate value to be encoded.
This routine should not be called if a prior error has occurred.
This routine should only be called once in the life of a RowSet.
This section of code's only "output" is via assert() statements.
Two conditions must be met before writing to the database files.
Undo any changes made by applyAffinity() to the input registers.
Use sqlite3EndTable() to add the view to the SQLITE_MASTER table
Utility routines for dealing with JsonNode and JsonParse objects
Utils can still be used even if SLJIT_CONFIG_UNSUPPORTED is set.
We can easily detect direct recursion, but not mutual recursion.
We can never assign a width smaller than the padding and borders
We used to use IDispatch for this, but it would not always work.
When gd 1.x was first created, floating point was to be avoided.
When resolving names, the inner-most  context is searched first.
When the schema cookie changes, record the new cookie internally
Within the  WHERE constraint, it searches for the following:  1.
Works for both absoulte and relative addresses (immediate case).
Worse, if the original is deallocated, the copy becomes invalid.
Write a string containing the final journal-mode to register P2.
Write the extra pages and truncate the database file as required
add_property_zval increments the refcount which is unwanted here
all remaining bits on the current unsigned char are set to zero.
apply aliases which have not alias name, just setting visibility
below the horizon, and also selects whether this altitude should
check for fault, in which case, there is no intermediate element
check if the library is already in the cache by getting its name
create a new path by replace the trailing '-conch' with '-break'
datetime( TIMESTRING, MOD, MOD, ...)  Return YYYY-MM-DD HH:MM:SS
don't initialize buffer and buffer_length because we use ecalloc
don't use emit_op() to prevent automatic live-range construction
expects interface to be contained in ce's interface list already
freewbmp -------- gdFrees up memory occupied by a WBMP structure
gd_putout --------- Wrapper around gdPutC for use with writewbmp
if fg is specified by a negative color idx, then don't antialias
if we are making a request, we want to use the methodname as is.
if you pass a listen port, we will read and write on listen port
in this case we don't want to pop anything of the argument-stack
inheritance ensures the class has the necessary userland methods
note that the quality of the randomness doesn't matter that much
now generate the new WHERE rowid IN clause for the DELETE/UDPATE
object handles are identical, apparently this is the same object
or if the sub-request environment differs from the main-request.
pPage is the leaf page which is the right-most page in the tree.
pad with zero bits to complete (N*WBLOCKBITS - LENGTHBITS) bits:
pv prints a character array as if it was a string of bcd digits.
reduce buffer memory consumption if possible, to avoid a realloc
right now this function is used for non static method lookup too
sql variables union used for convert and binding input variables
sqlite3VdbeSorterRewind()     Sort all content previously added.
sqlite3_step() is called again to retrieve the next row of data.
stream_seek is not implemented, so disable seeks for this stream
support windows drive letters as in: file:///c:/somedir/file.txt
the input is near, e.g., twice the smallest denormalized number.
there are cases where the length reported by mysql is too short.
this file is not in the current directory, use the original path
this is now the new location of the file contents within this fp
three functions for attribute base modifications, gerrit Thomson
unixify the path back, otherwise non zip formats might be broken
usableSpace: Number of bytes of space available on each sibling.
used to close fd's in the range 3.255 here, but it's problematic
virtual codepoint values for invalid encoding byte 0xfe and 0xff
we assume that LOBs are binary and don't need charset conversion
we do have getter - fail and let it try again with usual get/set
we need filename and lineno for both execute and function probes
we need to determine if the enclosure is 'real' or is it escaped
we were opened as a plain file descriptor, so we need fdopen now
we'll only need this when we have persistent statements, if ever
with the special exception on linking described in file LICENSE.
xFilter - Initialize a cursor to point at the start of its data.
2003 April 6  The author disclaims copyright to this source code.
2004 April 6  The author disclaims copyright to this source code.
2005 May 23   The author disclaims copyright to this source code.
2006 July 10  The author disclaims copyright to this source code.
2006 June 10  The author disclaims copyright to this source code.
2007 June 22  The author disclaims copyright to this source code.
2008 June 13  The author disclaims copyright to this source code.
2008 June 18  The author disclaims copyright to this source code.
2009 March 3  The author disclaims copyright to this source code.
2010 July 12  The author disclaims copyright to this source code.
2012 July 21  The author disclaims copyright to this source code.
A chunk is two or more blocks that is either checked out or free.
A cursor is a pointer into a single BTree within a database file.
A total of "amt" bytes are read or written beginning at "offset".
According to c-client docs (internal.txt) this shouldn't be used.
All WhereTerms are collected into a single WhereClause structure.
Allow PHP 5.3 branch to be used in PECL for 5.x compatible builds
AltB, AeqB, and AgtB jump to either L2 or to one of EofA or EofB.
An oversized q is possible when quorem is called from bigcomp and
Array used to collect case mappings before adding them to a list.
As there may be shallow copies of this value, make it a soft-NULL
As time goes by, we may be able to get more clever at doing this.
Assert that the upper layer has set one of the "file-type" flags.
At the end we or the result into the bit map that is being built.
Auxiliary functions needed by objects of 'MessageFormatter' class
BUG: currently, this only prints something if there is a value...
Bail if the queue is empty or if we are already playing the queue
Begin a loop that will extract all source rows in GROUP BY order.
Both data and keys are compared by using user-supplied callbacks.
But btree.c is getting too big and we want to break it down some.
But if the cursor advance was successful, jump immediately to P2.
But it also reduces the size of the library by 738 bytes on ix86.
But there are serious downsides:  (1)  There is zero concurrency.
But to preserve backwards compatibility we continue to accept it.
But wait:  there are yet more problems with POSIX advisory locks.
By default, RBU uses the default VFS to access the files on disk.
Can this be bundled with other instructions (almost always true).
Cells are stored in the cell content area at the end of the page.
Characters that may appear in the second argument to matchinfo().
Check if data must be read/written to/from the btree page itself.
Check that a start_offset points to the start of a UTF character.
Check that zKey/nKey is larger than the largest key the candidate
Compute the Hour, Minute, and Seconds from the julian day number.
Compute true coordinates of update box's upper corner and center.
Constants to be used with deref-parameter in php_ldap_do_search()
Convert a string representation of a base(2-36) number to a long.
Convert a string representation of a base(2-36) number to a zval.
Convert the given register into a string if it isn't one already.
Copy the filename and any query parameters into the zFile buffer.
Create a new sqlite3_value object, containing the value of pExpr.
Currently there is only one such flag - SQLITE_INDEX_SCAN_UNIQUE.
Delete flag makes the iterator delete the current element on next
Delete the transient table structure associated with the subquery
Determine how many of the segments actually point to zTerm/nTerm.
Do not bother with a bulk allocation if the cache size very small
Do not ever re-use any error number, because they are documented.
Each string is the name of the corresponding column in table xxx.
Except, if pTree is a root node, do not write it to the database.
FIX ME: It would be better if sqlite3_snprintf() could do UTF-16.
FIXME: some locale free implementation is really required here,,,
Figure out how many memory cells we will need then allocate them.
Fill the inverse-colormap entries in the update box that contains
Finially, delete what is left of the subquery and return success.
For example, consider table t1(a,b,c,d,e,f) with index i1(a,b,c).
For now, this simply calls the internal sqlite3ErrStr() function.
Forward references to VFS helper methods used for temporary files
Free any prior content in *pz and replace it with a copy of zNew.
Function: gdImageThresholdCrop Crop an image using a given color.
Functions that return pointers to these methods are also created.
Get a list of all dirty pages in the cache, sorted by page number
Got a good connection - update next_ping and get out of ping loop
Handling bracketed expressions is probably the most complex part.
Hence compatible candidate WhereLoops never have a larger rSetup.
Here is the full add routine that takes care of negative numbers.
Here we check to see if it's alright to ourselves to be unloaded.
I was writing for Unix, so I just let it call itself recursively.
IN/OUT parameter (*pa) points to a position list n bytes in size.
If 2nd param is NULL, use internal row counter to access next row
If P2 is true, roll back any currently active btree transactions.
If SPACE is non-zero, we must output one space before the number.
If SQLite a built-in statement cache, this wouldn't be a problem.
If an existing TriggerPrg could not be located, create a new one.
If base is a power of 2, the returned value will always be exact.
If both operands are NULL then the result of comparison is false.
If limit is positive only limit number of components is returned.
If necessary, remove sample iMin to make room for the new sample.
If not null, *rve is set to point to the end of the return value.
If one cannot be found, return without  generating any VDBE code.
If pMem represents a string value, its encoding might be changed.
If storage does not need manual GC, it may return SUCCESS simply.
If successful, return a pointer to the new sqlite3_backup object.
If the MEM_Null flag is set, then the value is an SQL NULL value.
If the P1 index entry is less than the key value then jump to P2.
If the auth function returns SQLITE_DENY, then generate an error.
If the blob has already been allocated, it is returned as normal.
If the column contains fewer than P2 fields, then extract a NULL.
If the conversion to a gmp number fails, the macros return false.
If the first part of a qualified name is an alias, substitute it.
If the first temporary PMA file has not been opened, open it now.
If the index is 0xffff, then there are no nodes for the property.
If the iterator is not at a real match, skip forward until it is.
If the iterator reaches EOF, set *pbEof to true before returning.
If the output is destined for a temporary table, open that table.
If the page was not in the hash table and createFlag is 0, abort.
If the parameter is zero, then URI handling is globally disabled.
If there is an overlap, that means bytes are used multiple times.
If this constraint is not satisfied, set *peWithin to NOT_WITHIN.
If this fails (picked up above) we advance to the next character.
If this is the case, clear the mallocFailed flag and return NULL.
If using custom function, copy result to the buffer and clean up.
If we reach this point, it means the two subterms can be combined
If you compile on Red Hat 7.2 without this option, LFS is enable.
In other words, delimiters all must have values of 0x7f or lower.
In other words, each log-summary is opened only once per process.
In some places we need to check if the number NUM is almost zero.
In that case, each connection has it own instance of this object.
Initialize memory locations used by GROUP BY aggregate processing
Invoke  the busy callback if the lock is currently not available.
Invoke the destructor function associated with FuncDef p, if any.
Invoke this routine to register the "dbstat" virtual table module
It gets harder and harder to shut off unwanted compiler warnings.
It is not possible to lower the locking level one step at a time.
It should be updated if more commands are added to this function.
It still points to the same term though - just a different rowid.
Jump to cont to go immediately to the next iteration of the loop.
Locate the table into which we will be inserting new information.
Look for a magic "hhi" elf section and read it out, if it exists.
Make a copy of the entire SELECT statement that defines the view.
Make sure a corrupt database has not given us an oversize header.
Make sure the new file size is written into the inode right away.
Map some rows of pixels to the output colormapped representation.
Mappings of bytes from shorts (16bit) for all endian environments
Neither capturing brackets nor recursions are found in the block.
Neither file is allowed to grow to more than mxSz bytes in  size.
No E box is used, as it's replaced by some ANDs, shifts, and ORs.
Nor will it ever be greater than the actual length of the string.
Now add the remaining fraction part and equal size integer parts.
Now loop through the file and do the magic quotes thing if needed
Oid is unsigned int, we don't need this code, where LONG is wider
One or more records packed end-to-end in order of ascending keys.
Only alphabetic characters and underscores need to be translated.
Opcode: Close P1 * * * *  Close a cursor previously opened as P1.
Option to check for whether the input conforms to the BiDi rules.
Or we reference multiple rows using a "rowid IN (...)" construct.
Otherwise ties are broken by biased rounding (add half and chop).
Otherwise, if the cells are added successfully, zero is returned.
Otherwise, set the flag and fall through to the next instruction.
Otherwise, the length of the string is determined using strlen().
Our custom signal handler that calls the appropriate php_function
PARAMETERS: PS_CLOSE_ARGS in php_session.h RETURN VALUE: SUCCESS.
PCRE does not allow closing square brackets in POSIX class names.
PS_CLOSE_FUNC() - Clean up module data created by PS_OPEN_FUNC().
Preset error values: no error propagated to first pixel from left
REMEMBER TO ADD MIME-TYPE TO FUNCTION php_image_type_to_mime_type
Read a lookahead token if we need one and don't already have one.
Regardless of the value of mxPage, return the maximum page count.
Resize an allocation previously obtained from sqlite3MemMalloc().
Resolve path relatively to state and put the real path into state
Results: Returns non-zero if the character matches the given set.
Return SQLITE_OK if everything works, or an error code otherwise.
Return SQLITE_OK if successful or an SQLite error code otherwise.
Return SQLITE_OK on success  or some other error code if we fail.
Return TRUE if the name zCol occurs anywhere in the USING clause.
Return the most recent error code generated by an SQLite routine.
Return the number of days between jan 01 1601 and jan 01 of year.
SQLITE_TEST_REALLOC_STRESS is generally used during testing only.
SUMMARY:  Formatting is important to scripts that scan this file.
Search for source array matching the host from configuration_hash
Search for source array matching the path from configuration_hash
See http://msdn.microsoft.com/en-us/library/a442x3ye(VS.80).aspx.
See the OpenRead opcode documentation for additional information.
Set the Expr.nHeight variable using the exprSetHeight() function.
Short-circuit: if no callback and only one array, just return it.
Skip backwards passed any trailing 0x00 bytes added by NearTrim()
So invoke the destructor, then set the value to a 64-bit integer.
So we must not search for built-ins when creating a new function.
Some allocators round up to a larger multiple or to a power of 2.
Sometimes, utf8mb4 is just utf8 but the old charsets are utf8mb3.
Special case: A DELETE without a WHERE clause deletes everything.
Such groups are non-capturing and are not assertions of any kind.
TODO revisit this and check if a workaround available and needed.
TODO(shess) Only used for SQLITE_OK and SQLITE_DONE at this time.
TODO: - allow index or array of indeces - replace path - patterns
TODO: check .ini setting here and apply user-defined input filter
That will provide the minimum length (when no recursion happens).
The IN operator must be implemented as a sequence of comparisons.
The KeyInfo structure for an index is cached in the Index object.
The base frame is on the machine stack, and so must not be freed.
The behavior is undefined if the mutex  is not currently entered.
The co-routine is the common header to the 3rd and 4th templates.
The content of that one row is the content of memory register P2.
The cursor must have been opened by a prior call to porterOpen().
The cursor must have been opened by a prior call to simpleOpen().
The delta_output_size() routine will determine this size for you.
The difference is important when using a pointer to the function.
The element we are about to add would make us go to the next line
The expected number of collisions  prior to finding a match is 1.
The first 8 bytes are  a header that is not returned to the user.
The first argument is 1 + max(fd1, fd2, ..., fdn) because reasons
The first char may be unset for an unanchored pattern, of course.
The first is the blob to patch and the second the patch to apply.
The following macro is therefore used to contain that setup code.
The following value as a destructor means to use sqlite3DbFree().
The formatting of the code in this file is, therefore, important.
The group mutex must be released before pcache1Alloc() is called.
The implementation of user-defined scalar function fts5_decode().
The integer range is limited by the machine's int representation.
The main terms index for language-id 0 is allocate values 0-1023.
The module will be unloaded automatically when the process exits.
The original argv is then 'clobbered' to store the process title.
The parent page is the page that contains a pointer to the child.
The pointer is always the first 4 bytes of the page in this case.
The proxy locking style is intended for use with AFP filesystems.
The rtree may have between 1 and RTREE_MAX_DIMENSIONS dimensions.
The string passed via zFunc is used as part of the error message.
The string will be freed automatically when the table is deleted.
The two limit values override the defaults, whatever their value.
The update proceeds in three stages:  1) The database is updated.
The wal-index is broken into 32KB pages numbered starting from 0.
There is support for caseless matching if UCP support is present.
These tables are also required by pcretest in 16- or 32-bit mode.
They are retained for backwards compatibility but are now no-ops.
They mainly fill in the desired values for the reference altitude
This AST kind is only used for temporary nodes during compilation
This constant is the maximum value SQLite will choose on its own.
This ensures that filters do not corrupt areas of constant color.
This expression is a "*" or a "TABLE.*" and needs to be expanded.
This file contains definitions of global variables and constants.
This function frees the memory that was obtained by pcre_study().
This function implements the FTS3_MATCHINFO_LCS matchinfo() flag.
This function is called before attempting a hot-journal rollback.
This function may be called exactly once on each virtual machine.
This function returns the associated lowercase journal-mode name.
This hint is not guaranteed to be accurate but it is often close.
This is done before calling sqlite3PcacheMakeDirty() on the page.
This is for big-endian machines only, PPC and Sparc specifically.
This is the "user callable" routine to compare numbers N1 and N2.
This is the implementation of generic hash-tables used in SQLite.
This is used by the built-in min(), max() and nullif() functions.
This is usually true, but there are the following exceptions:  1.
This is verified by code inspection and by running with Valgrind.
This module does not use actually lemon, it uses a custom parser.
This routine is usually quick, but can be N**2 in the worst case.
This routine resolves each term of the clause into an expression.
This section will be null unless lemon is run with the -m switch.
This should normally be UNICODE_STRING_MAX_CHARS * sizeof(WCHAR).
This value may be NULL meaning that name is of the form Y.Z or Z.
To avoid excess churning of page 1, the update only happens once.
Try to ORDER BY the result set to make distinct processing easier
Userspace Filters using ambiguous wildcards could cause problems.
Using this cache reduces the number of calls to btreeParseCell().
Usually, this object is created and deleted automatically by RBU.
Values used as part of the flags argument passed to IndexQuery().
We can "compress" the constant pool by discarding these literals.
We could probably use something smarter, but this is fast enough.
We do not use XMLWRITER_FROM_OBJECT, xmlwriter init function here
We only search for a middle character if there is no range check.
We remove common factors of powers of 2 from relevant quantities.
We revisit it when we process the corresponding TERM_VIRTUAL term
We try EPSV first, needed for IPv6 and works on some IPv4 servers
We use use saturating conversion to emulate strtol()'s behaviour.
We want to break any ties in favor of green, then red, blue last.
We want to execute the next two loops one per line with flex-wrap
Whitespace never causes a state transition and is always ignored.
YYTRANSLATE(YYLEX) -- Bison symbol number corresponding to YYLEX.
You can specify a range like 'a..z', it needs to be incrementing.
absolute file uris - libxml only supports localhost or empty host
allocate storage for the parameter, keyed by its "canonical" name
and make it a warning in the exif_process_IFD_TAG which is called
check if file is too new (may be it's not written completely yet)
check the integer part and the equal length part of the fraction.
don't inline this, want to debug it easily, will inline when done
for these types, an empty string can be handled like a NULL value
if allow_self_signed is set, make sure that verification succeeds
if content-type is not yet set, set it and activate the converter
includes handler to validate object state when retrieving methods
increment the result length by how much we've added to the string
json_set(JSON, PATH, VALUE, ...)  Set the value at PATH to VALUE.
last character cannot be -, unless explicitly allowed by the user
leafData:  1 if pPage holds key+data and pParent holds only keys.
notices are no errors and are not treated as such like E_WARNINGS
overwriteable ini defaults must be set in sapi_cli_ini_defaults()
reads a line the socket , returns true on success, false on error
return true if number and no extra non-whitespace chracters after
returns     : True_ if init successful else False_  comments    :
sanity check the stream: it can be either read-only or write-only
sapi has started which means everyhting must be send through fcgi
set the maximum number of bytes we're allowed to read from buffer
set up the cursor library, if needed, or if configured explicitly
sqlite3VdbeSorterReset()      Refurbish the VdbeSorter for reuse.
statement, then this stores the column-names to be inserted into.
they gave us a string, but LOBs are represented as streams in PDO
used to close fd's in the 3..255 range here, but it's problematic
vsnprintf NUL terminates the buf and writes at most n-1 chars+NUL
we are checking for existence of a file within the relative path.
we must have at the very least phar://alias.phar/internalfile.php
"Bounds for Some Functions Concerning Dynamic Storage Allocation".
(3) A shared lock is always held when a reserve lock is requested.
(Adapted from an algorithm from the comp.graphics.algorithms FAQ.)
- 4 bytes: Number of records in journal, or -1 no-sync mode is on.
0xff is legal padding, but if we get that many, something's wrong.
128 is safe here, the specifier in snprintf isn't longer than that
16 seems to be somewhat of a sweet spot for insertion performance.
2004 April 13  The author disclaims copyright to this source code.
676 different possibilities with 7 or more X's, 26 with 6 or less.
A fancier test would sometimes let us do this for larger i values.
A read transaction may be active (but a write-transaction cannot).
Add a segment iterator for the current contents of the hash table.
Add increments of 5 weekdays as a week, leaving the DOW unchanged.
Add the new BtShared object to the linked list sharable BtShareds.
Advance ecode past the callout, so it now points to the condition.
All elements of the hash table are on a single doubly-linked list.
All resources associated with the specified cache should be freed.
All that is left to do here is free the sqlite3_backup  structure.
All we have to do is adjust our internal record of the lock level.
All writing and syncing of journal and database data has finished.
Allocate a new page object initially associated with cache pCache.
Allocate space for both the pJournal and pMaster file descriptors.
Allocating stack, returns with PCRE_ERROR_JIT_STACKLIMIT if fails.
Allowed values for sqlite3_rtree_query.eWithin and .eParentWithin.
An ORDER/GROUP BY clause of more than 63 terms cannot be optimized
Analyze a term that consists of two or more OR-connected subterms.
And the last byte of the free-block must lie on the database page.
Apart from that there seems no need for zend_ini_deactivate() yet.
Append a rowid and position-list size field to the writers output.
Append a string to the string-buffer passed as the first argument.
Argument pCtx is actually a pointer to a struct of type MatchInfo.
Arguments aIdx, aCell and aSpare all point to arrays of size nIdx.
Arrange for P1 to move so that it points to the rowid given by P2.
As all the PCRE_ERROR_xxx values are negative, we can use 0 and 1.
As the tile image can contain the same color as the color to fill.
Attempt to omit tables from the join that do not effect the result
Auxiliary functions needed by objects of 'IntlDateFormatter' class
Avoid a warning indicating that sqlite3Fts5ParserTrace() is unused
Before returning, page pTo is reinitialized using btreeInitPage().
But _XOPEN_SOURCE define causes problems for Mac OS X, so omit it.
But because the dummy.opcode is 0, dummy will never be written to.
But now it has been modified by a transaction on the source pager.
But there might be additional triggers on pTab in the TEMP schema.
Call a Go function that will call a C function to send us a SIGIO.
Call sqlite3WalkExpr() for every expression in Select statement p.
Called by probability (session.gc_probability/session.gc_divisor).
Case 3:  We have an inequality comparison against the ROWID field.
Check if we need to decode utf-8 parser output to another encoding
Check the leaf RTree cell given by pCellData against constraint p.
Clear any and all virtual-table information from the Table record.
Code an OP_Halt due to UNIQUE or PRIMARY KEY constraint violation.
Column.zType, Column.zColl, and other fields of Column are zeroed.
Common part of zend_add_literal and zend_append_individual_literal
Compilers may complain that mem1.u.i is potentially uninitialized.
Compute a string for the "comment" field of a VDBE opcode listing.
Compute the message schedule according to FIPS 180-2:6.2.2 step 2.
Compute the message schedule according to FIPS 180-2:6.3.2 step 2.
Convert OP_Column opcodes to OP_Copy in previously generated code.
Convert and copy the JIT offset vector to the offset_vector array.
Creating a virtual table invokes the authorization callback twice.
DP - Data Processing instruction (use with EMIT_DATA_PROCESS_INS).
Default session id char validation function allowed by ps_modules.
Delete all information from the single table that pCur is open on.
Do salting for crypt() and friends, and XOR with the permuted key.
Do the commit only if all databases successfully complete phase 1.
Don't keep default properties in GC (thry may be freed by opcache)
Else, we verify that the given object is an instance of the class.
Enable imposter mode only when the schema has already been parsed.
Encoding is handled from the encoding property set on the document
Failure to heed these warnings can lead to unpredictable behavior.
Filter out attempts to run UPDATE or DELETE on contentless tables.
For an internal node, both aDoclist and nDoclist must be passed 0.
For temporary files the effective sector size is always 512 bytes.
Free an Fts3MultiSegReader allocated by fts3TermSegReaderCursor().
Free the position-lists accumulated for each deferred token above.
Fully expand all decompositions before generating the output file.
Function fnmatch() as specified in POSIX 1003.2-1992, section B.6.
Functions called by the storage module as part of integrity-check.
Generate a CREATE TABLE statement appropriate for the given table.
Generate a subroutine that outputs a single row of the result set.
Handle special case write when we're returning the entire transfer
Hash doesn't exist so it must have been an invalid protocol scheme
Hence, a negative P2 value is a label that has yet to be resolved.
However explicitly setting the value to 0 ensures the first value.
However, new applications should avoid the use of these functions.
I think encoding and options should be arguments of this function.
IN_INDEX_INDEX_ASC  - The cursor was opened on an ascending index.
IN_INDEX_INDEX_DESC - The cursor was opened on a descending index.
If TEMP was specified, then the trigger name may not be qualified.
If an IO error occurs, an SQLITE_IOERR_XXX error code is returned.
If it returns NULL that means that a mutex could not be allocated.
If maximizing, find the longest possible run, then work backwards.
If no suitable temporary file directory can be found, return NULL.
If one value is a number and the other is not, the number is less.
If recovery is known to be running, convert BUSY to BUSY_RECOVERY.
If so, then these routines will not always work correctly on HPUX.
If so, write the entry for the overflow page into the pointer map.
If still no ini file found, search for php.ini file in search path
If the end of the  doclist-index page is reached, return non-zero.
If the range is given as strings, generate an array of characters.
If the result register is not a temporary, then set *pReg to zero.
If the sqlite_statN tables do not previously exist, it is created.
If the string can be stored without allocating memory, then it is.
If the value in register P1 is  NULL, then a NULL is stored in P2.
If there are any write-transactions at all, invoke the commit hook
If there is no such term in the index, the iterator is set to EOF.
If there's no object associated then there's nothing to dispose of
If this is a no-op implementation, implement everything as macros.
If we are in a UTF mode, it may be a multi-unit literal character.
If we get this (the above doesn't check) then we'll retry as well.
If we have not seen this color before, find nearest colormap entry
If we reach this point, that means the transformation is required.
If we see whitespace in the format, skip whitespace in the string.
If zFilename is ":memory:" then  all information is held in cache.
In other words, return TRUE if no sync() occurs on the disk files.
In that case lookup is done by a linear search of the global list.
In this case zWhere is passed to sqlite3DbFree() before returning.
Initialize the malloc() system and the recursive pInitMutex mutex.
It has one position 70 (72-2) and then terminates with the 0 at K.
It is a good idea to use alloca(0) in your main control loop, etc.
It is included for historical compatibility and is not documented.
It is only useful if invoked immediately after the main database i
It is:  Rowid, as a varint Position list, without 0x00 terminator.
It should be passed some bitwise combination of the PAGER_* flags.
Keep advancing iterators until they all point to the same document
Kill this branch of the original AST, as it was already destroyed.
Language 1 indexes are allocated immediately following language 0.
Later accel_getcwd() can use stored value and avoid getcwd() call.
Load original PNG, which should contain alpha channel information.
Make a range of all surrogates and assume some default properties.
Make sure X is always used by clearing the EP_Collate flag from Y.
Make sure that any level 0 "default" line is last (if one exists).
Make them sufficiently negative to avoid the external error codes.
Map the requested memory region into this processes address space.
Move the cursor to point to the root page of its b-tree structure.
Must set non-NULL session data to (zend_string **val) for SUCCESS.
No constraint handling mode except for "OR ROLLBACK" is supported.
No page with a page-number greater than this value is played back.
Not sure if this is correct (never seen float used in Exif format)
Note that this also affects what script_path_translated points to.
Now get result of this (32 bytes) and add it to the other context.
Now get result of this (64 bytes) and add it to the other context.
Only blend with different colors that aren't the dont_blend color.
Opcode: Expire P1 * * * *  Cause precompiled statements to expire.
Open a file descriptor to the directory containing file zFilename.
Otherwise, if pKeyInfo is NULL, the caller expects a table b-tree.
Otherwise, set *pzErr to an error message and return SQLITE_ERROR.
Overwrite the passed-in value for subpatterns with an empty array.
Page iter.iLeaf must now be the rightmost leaf-page in the segment
Parameter zName points to a UTF-8 encoded string nName bytes long.
Please keep the same order as in fpm_conf.h and in php-fpm.conf.in
Predefined entities will expand unless no cdata handler is present
Provide the ability to override linkage features of the interface.
RESTRICT, SETNULL, and CASCADE actions apply only to foreign keys.
RESULT XMLRPC_VALUE - newly created value, or NULL if fatal error.
Rate-limit client-initiated handshake renegotiation to prevent DoS
Recursion either matches the current regex, or some subexpression.
References to objects are treated as if the reference didn't exist
Regular CHUNKs reserve a single page at start for special purpose.
Remember, zeros on the end of num2 are wasted effort for dividing.
Remove the memory data structures associated with the given Table.
Removes an entry, either by actually removing it or by marking it.
Return FALSE if no lock is ever required since it is not sharable.
Return SQLITE_OK if successful, or an SQLite error code otherwise.
Return a pointer to the new and completely uninitialized objected.
Return a pointer to the right-most SELECT statement in a compound.
Return either SQLITE_OK or an error code (usually SQLITE_CORRUPT).
Return the number of changes since the database handle was opened.
Return true if the iterator is at EOF or if an error has occurred.
Return true if the iterator passed as the only argument is at EOF.
Return value is an array mapping phar index to actual files added.
Returns -1 on failure, or non-negative file descriptor on success.
Returns SUCCESS/FAILURE and sets *len to the number of bytes moved
SOAP client calls this function to parse response from SOAP server
SQLITE_MUTEX_PTHREADS     For multi-threaded applications on Unix.
SQLite never tries to read past the end of a rollback journal file
SQLite supports many different ways to resolve a constraint error.
Save the flag and make sure then next arg is not the current flag.
See the header comment on "btreeInt.h" for additional information.
Set *ppModule to point at the implementation of the ICU tokenizer.
Set the EP_FromJoin property on all terms of the given expression.
Set the value of the SQL statements only variable to integer iRow.
Set zIdx to point to a nul-terminated string containing this name.
Shared library endings to try if zFile cannot be loaded as written
Should we send the entire path in the request line, default to no.
Simple division can't be used since that will cause wrong results.
So a malloc failure  during a hash table resize is a benign fault.
So call pager_error() on the way out to make any error persistent.
So to avoid this error, zero the first 4 bytes of temp space here.
Some utility routines for the divide:  First a one digit multiply.
Sort callback for sorting entries by "strength" (basically length)
Space to hold the returned string is obtained from sqlite3_malloc.
Special case of a FROM clause subquery implemented as a co-routine
Specifically, all but the last digit is 0 and the last digit is 1.
Step the cursor to the back to the previous entry in the database.
Suppress an incorrect diagnostic about yylval being uninitialized.
TODOs: Implement DeltaE instead, way better perceptual differences
Take steps to avoid spinning forever if there is a protocol error.
Temporary files are be deleted automatically when they are closed.
Tests whether the immediate can be stored in the 12 bit imm field.
That is, push the lookahead token onto the stack and goto state N.
The MEM_Int and MEM_Real  flags may coexist with the MEM_Str flag.
The SQLITE_NOTNULL flag is a combination of NULLEQ and JUMPIFNULL.
The VDBE should have been allocated before this routine is called.
The Win32 native heap cannot be modified because it may be in use.
The backtrack path must check whether there is a next alternative.
The complex case - There is a multi-file write-transaction active.
The constant is also hardcoded in cmd/ld/pe.c (keep synchronized).
The cookie changes its value whenever the database schema changes.
The first integer in this list is the number of rows in the index.
The first metonic cycle starts with Jewish year 1, or 3761/60 B.C.
The following function deletes the value associated with a symbol.
The following object holds a copy of the wal-index header content.
The following testcase is true for indices with redundant columns.
The format for sqlite_stat2 is recorded here for legacy reference.
The key and data for any entry are combined to form the "payload".
The new object will use the pointer pData, obtained from xFetch().
The pager never allocates the pages involved in locking therefore.
The problem here is that cp1252 looks like SJIS for certain chars.
The problem here is that cp1254 looks like SJIS for certain chars.
The purpose of this limit is to prevent various integer overflows.
The remaining code is the reference MD5 code (md5c.c) from rfc1321
The result that is returned from the executed PHP code is ignored.
The results of using the PMA-writer after this call are undefined.
The return value is the total number  of bytes of memory released.
The returned indicate the current (possibly updated) journal-mode.
The second (same disclaimer) contains the size of position list 1.
The second argument contains the URI (or non-URI filename) itself.
The serial type is an 8-byte unsigned integer, stored as a varint.
The synopsis of the meanings of the various limits is shown below.
The threshold is in a macro that can be changed at configure time.
The threshold method works relatively well but it can be improved.
The underlying xFileControl method might also return SQLITE_ERROR.
Then if successful also mark the local connection as being locked.
These are all operators that are of interest to the query planner.
This  function does not actually modify the database file on disk.
This NaN test sometimes fails if compiled on GCC with -ffast-math.
This error condition is now caught prior to reaching this function
This implies that the pager state should either be OPEN or READER.
This is a no-op if database iDb is not currently open in WAL mode.
This is the "reserved" space that is sometimes used by extensions.
This is the implementation of the page cache subsystem or "pager".
This is used by an assert() statement at the end of this function.
This one checks the error value, destroys object and returns false
This routine acts recursively on all subqueries within the SELECT.
This routine checks to see if pExpr is an equivalence relation: 1.
This structure contains the complete state of the virtual machine.
Thus we need to do part of what it does or Zend will report leaks.
Tokenizer callback used by implementation of highlight() function.
Transfer all bindings from the first statement over to the second.
Try to get the list of substrings and display a warning if failed.
Try to load demoin.png and paste part of it into the output image.
URL encode session_name and id because they might be user supplied
Valid values for the second argument to sqlite3PagerLockingMode().
Virtual table implementations will typically add additional fields
We can only reach this point when reading a corrupt database file.
We can reuse a temporary table generated by a SELECT to our right.
We don need to copy the data from the buffers which we will clean.
We initialize x by assigning it a pointer to the dlsym() function.
We will atomically increment *heap every time we want to allocate.
We will need an XCLASS if data has been placed in class_uchardata.
We'll fall back to strtol, since that's what we used to do anyway.
Which action to take is determined by the overrideError parameter.
With IEEE arithmetic, ties are broken by the IEEE round-even rule.
With dotfile locking, we really only support state (4): EXCLUSIVE.
Workaround for calling the internal _chkstk() function on Windows.
all other styles use the locking context to store the db file path
before unloading, display all remaining bad function in the module
check for japanese chars in CJK Unified Ideographs ext.B (U+2XXXX)
determine required length for the buffer (includes NUL terminator)
determining element's name is a bit tricky, due to soap semantics.
different names for subpatterns of the same number are not allowed
don't optimise if it should produce a runtime numeric string error
either when xmlrpc_server_destroy is called, or when request ends.
for now, just ignore it - __set should take care of warnings, etc.
for systems that need to override reading of environment variables
from here on, only map the possible characters in the ASCII range.
fts5YYMINORTYPE        is the data type used for all minor tokens.
fts5YYSTACKDEPTH       is the maximum depth of the parser's stack.
get_iterator has to be assigned *after* implementing the inferface
if exponent, scale significand as appropriate and store in result.
if it is a column containing "long" data, perform late binding now
if the alias is stored we enforce it (implicit overrides explicit)
if the user has configured who they are, send that as the password
ii) call OCIAttrGet for each probe definition that uses client_id.
internal error: previously-checked referenced subpattern not found
it then calls the corresponding PHP function to handle the method.
memrchr is a GNU specific extension Emulate for wide compatibility
nMaxDepth is the maximum allowable depth of the balanced sub-tree.
no need to close the transliterator manually on construction error
pPrev is the expression node most recently inserted into the tree.
registers all functions in *library_functions in the function hash
reset these because despite the error the filter may be used again
returns     : True_ if success else False_ if unable to push data.
sections_str DOES start with , and SPACES are NOT allowed in names
sqlite3FkOldmask()  - Query for the set of required old.* columns.
startup after we get the above ini override se we get things right
this long winded copy allows compatibility with older PHP versions
use arch (the basename for the archive) for fname instead of fname
verify that all abstract methods from traits have been implemented
we don't use strtol because we don't want to allow negative values
we get here when the last filter in the chain has data to pass on.
we've found this file, don't re-check include_path or run realpath
- 4 bytes: Sector size used by the process that wrote this journal.
1 + 4 (id) + 2 (field_c) + 2 (param_c) + 1 (filler) + 2 (warnings )
2.0.15: moved down below declarations to satisfy non-C++ compilers.
2007 August 14  The author disclaims copyright to this source code.
2007 August 15  The author disclaims copyright to this source code.
2007 August 22  The author disclaims copyright to this source code.
2007 August 27  The author disclaims copyright to this source code.
2007 August 28  The author disclaims copyright to this source code.
2008 August 05  The author disclaims copyright to this source code.
2008 August 16  The author disclaims copyright to this source code.
2008 August 18  The author disclaims copyright to this source code.
2008 October 7  The author disclaims copyright to this source code.
2010 August 30  The author disclaims copyright to this source code.
2014 August 11  The author disclaims copyright to this source code.
2014 August 30  The author disclaims copyright to this source code.
A function that loads a shared-library extension then returns NULL.
A read-lock must be held on the pager when this function is called.
Access to this variable is protected by SQLITE_MUTEX_STATIC_MASTER.
Actual recursions cannot be fixed length, but subroutine calls can.
Add the lower and title case mappings for the upper case character.
Add the upper and title case mappings for the lower case character.
Added support for reading as well as support for 'tell' and 'seek'.
All coordinates within a single R-Tree are always of the same time.
All other methods must be threadsafe in multithreaded applications.
Allocate a cursors for the main database table and for all indices.
Allocate a new  page that will become the new right-child of pPage.
Allocate space for storing pointers to input arrays and sort flags.
Allocate the result now as it is needed for the reading of metadata
Also used by Apple systems if SQLITE_WITHOUT_ZONEMALLOC is defined.
An attempt to access them will result in a segfault or malfunction.
An exponent is not allowed until there has been at least one digit.
An sqlite3_value object may be either "protected" or "unprotected".
Any reqchar setting must remain unchanged after any kind of repeat.
Argument z points to a buffer containing n bytes of text to append.
Attempt to destroy and recreate our isolated Win32 native heap now.
Before a background thread is launched, variable bDone is set to 0.
Bits are: 0x01: Clear if leaf is also the root page, otherwise set.
Check if there are (nSnippet+nDesired) or more tokens in zDoc/nDoc.
Check that the array is in order and contains no duplicate entries.
Close a handle opened by an earlier call to sqlite3Fts5IndexOpen().
Code which gets here is using a wrongly built opcode such as RECV()
Compute the absolute value of a 32-bit signed integer, of possible.
Compute the cutoff value between legal numbers and illegal numbers.
Convert a UTF-16 string in the native encoding into a UTF-8 string.
Could not find an existing table or index to use as the RHS b-tree.
Create a new cursor for the BTree whose root is on the page iTable.
Default maximum size of memory used by memory-mapped I/O in the VFS
Disable  WHERE clause terms made redundant by the index range scan.
Do not call it before copying, otherwise a reference may be leaked.
Doing so may cause the parent page to become overfull or underfull.
Dummy: Used for flushing writes to a phar directory (i.e. not used)
Each database connection is an instance of the following structure.
Enable SQLITE_ENABLE_EXPLAIN_COMMENTS if SQLITE_DEBUG is turned on.
End the loop over all WhereLoops from outer-most down to inner-most
Ensure these symbols were not defined by some previous header file.
Ephemeral Table objects are created for all FROM-clause subqueries.
Ergo, although the code below looks incorrect, it's actually right.
FTS3_HASH_BINARY        pKey points to binary data nKey bytes long.
Factor out the code of the given expression to initialization time.
Fetch by columns: array will contain one sub-array per query column
Figure out the name of the primary key index for the current table.
Find out what action to take in case there is a uniqueness conflict
Firebird allows SQL statements up to 64k, so bail if it doesn't fit
First search for a match amongst the application-defined functions.
Flags allowed as part of the 4th argument to SegmentReaderIterate()
Flush any buffered data to disk and clean up the PMA-writer object.
Flush any data stored in the in-memory hash tables to the database.
Flush the contents of the pending-terms hash-table to the database.
For a table with implicit rowids, append "old._rowid_" to the list.
For all aliases with an explicit class name, resolve the class now.
For example, suppose a SrcList initially contains two entries: A,B.
For non-duplicate names, give an error if the number is duplicated.
For traits self etc refers to the using class, not the trait itself
Free all resources owned by the object indicated by argument pTask.
Free the contents of the With object passed as the second argument.
From this point on down, the normal indentation rules are restored.
Fsync the rollback journal before writing this page to the database
Generate code to take the intersection of the two temporary tables.
Heavy optimization for situations where input string is 1 byte long
However, you don't know it in advance, so it must always be called.
IMP: R-25361-16150 This function is omitted from SQLite by default.
If an IO error occurs, then the IO error is returned to the caller.
If an error occurs, an error code other than SQLITE_OK is returned.
If it does not and there is not enough space left to add one, fail.
If it is, return a pointer to the Mem for the value of that column.
If it's not a resource its a string containing the filename to open
If last members of struct lconv equal CHAR_MAX, no grouping is done
If loading from memory, set the base reference uri for the document
If pnChange is not NULL, then table iTable must be an intkey table.
If return_value is not null, store values into it according to HOW.
If successful, the EXCLUSIVE lock is not released before returning.
If the cursor does not yet have a statement handle, obtain one now.
If the cursor is not pointing to a valid entry, *pSize is set to 0.
If the database is a WAL database, then the WAL connection is open.
If the date is already on the appropriate weekday, this is a no-op.
If there are no active VMs, invalidate any pre-compiled statements.
If we are the only user, then take this opportunity to set the max.
Important: 's_headers_almost_done' must be the last 'header' state.
In that case you'll probably want to tweak the histogram sizes too.
In that case, also set YYMSG_ALLOC to the required number of bytes.
In the case someone doesn't read all the lines this will save time.
Increment the "number of sequential leaves without a term" counter.
Instructions after the current alternative is successfully matched.
Invoke SQLITE_FCNTL_MMAP_SIZE based on the current value of szMmap.
Invoke any destructors registered for collation sequence user data.
It  cannot be dropped as there are currently active SQL statements.
It is assumed that the cell content has been copied someplace else.
It is assumed that the page is not already a part of the free-list.
It is not possible to enable both STAT3 and STAT4 at the same time.
It is retained in the header file for backwards compatibility only.
It was coded primarily to act as a go-between for expat and xmlrpc.
Macro likely() surrounds a boolean expression that is usually true.
Make sure the database schema is loaded if the pragma requires that
Make sure zData points to enough of the record to cover the header.
MoveFileEx returns 0 on failure, other way 'round for this function
NOTE: Evaluation of the c argument should not have any side-effects
NOTES SEE ALSO xml_elem_free () xml_elem_free_non_recurse () SOURCE
New VFSes can be registered and existing VFSes can be unregistered.
No collation sequence of this type for this encoding is registered.
Note that entity tables are defined in terms of unicode code points
Note that there may be an auto-callout at the start of a condition.
Note that we always assume the path is not empty and nul terminated
Nothing actually happens until the cursor is used to read a record.
Now into new section that parses buf for delimiter/enclosure fields
Now loop over all cells in box, updating distance per Thomas method
Number of Blowfish rounds, this is also hardcoded into a few places
Number of child processes that will get created to service requests
Open a shared-memory area associated with open database file pDbFd.
Other keys are matched again the table on the first len characters.
Otherwise fall back to the default logging location, if we have one
Otherwise the pager should have already dropped back to OPEN state.
Otherwise, if an error occurs, *pRc is set to an SQLite error code.
Otherwise, if no IO or malloc errors  occur, SQLITE_OK is returned.
Otherwise, it points to an array of flags nTblCol elements in size.
Outside a character class, the digits are read as a decimal number.
POSIX.1, 4.6.1 getenv() - Environment Access already covered by PHP
Rather than swallow a low surrogate, just stop if we hit a bad one.
Reassign page numbers so that the new pages are in ascending order.
Request the current charset, or it will be reset to the system one.
Resolve names in the SELECT statement p and all of its descendants.
Retrieve a pointer to a static mutex or allocate a new dynamic one.
Return FALSE if there is no chance that the expression can be NULL.
Return SQLITE_OK if  successful, or an SQLite error code otherwise.
Return SQLITE_OK if successful or an error code if an error occurs.
Return TRUE if the cursor is not pointing at an entry of the table.
Return a KeyInfo structure that is appropriate for the given Index.
Return an error code if an error occurs (SQLITE_NOMEM is possible).
Return the device characteristic flags supported by an rbuVfs-file.
Return the name of the database from which a result column derives.
Return zero if this query needs the  general-purpose query planner.
Returns the base opcode for repeated single character type opcodes.
Returns the previously defined exception handler, or false on error
SEE ALSO XMLRPC_SetValue* XMLRPC_CreateValue* XMLRPC_Append* SOURCE
SQLITE_MUTEX_W32          For multi-threaded applications on Win32.
SQLite never uses the database page that contains the pending byte.
SQLite sets the dataOnly flag if the size of the file is unchanged.
Safe to call as if the resource were freed then doc pointer is NULL
Sanity check: Assert that the IntValue is non-negative if it exists
Scan and parse any .ini files found in scan path if path not empty.
See comments above the sqlite3Fts3ReadBlock() function for details.
See comments surrounding function rbuSetupCheckpoint() for details.
See if it's a branch to an ancestor on the dominator spanning tree.
See sljit_emit_enter and sljit_emit_op0 if you want to change them.
See the ../tool/spaceanal.tcl script for an example implementation.
Seed the search with a single WherePath containing zero WhereLoops.
Set and get the suggested cache-size for the specified pager-cache.
Set variable i to the maximum number of bytes of input to tokenize.
Short circuit portscan, we're dealing with an IPv6 embedded address
Skip any MATCH_ALL or MATCH_ONE characters that follow a MATCH_ALL.
Skip any whitespace This is much faster than the isspace() function
So add the EP_Collate marker on X to cause it to be searched first.
So omit the rest of the file if PRAGMAs are omitted from the build.
So this opcode can cause persistent changes to registers P1 and P3.
Start YYX at -YYN if negative to avoid negative indexes in YYCHECK.
Substitute case-sensitive (or lowercase) persistent class constants
Table to translate from particular type value to the general value.
Test a register to see if it exceeds the current maximum blob size.
That table is guaranteed to be a b-tree table, not a virtual table.
The "to" table is the table that is named in the REFERENCES clause.
The SQLite core reserves all opcodes less than 100 for its own use.
The TryEnterCriticalSection() interface is only available on WinNT.
The array and its contents are allocated using a single allocation.
The below are erroneous inputs, so NULL return is expected/required
The caller must position the cursor prior to invoking this routine.
The conditions tested below might not be true in a corrupt database
The dbSize, dbOrigSize and dbFileSize variables may not be trusted.
The file header points to the first in a linked list of trunk page.
The following from FF's DBUG library, which is in the public domain
The following tokens are significant:  (0) tkSEMI      A semicolon.
The function for reporting virtual-machine related events to VTune.
The margin length is the sum of the objects size in each dimension.
The methods above are in versions 1 and 2 of the sqlite_vfs object.
The only difference will be a combined handling of them in the end.
The operator for aggregate functions is changed to TK_AGG_FUNCTION.
The period of this function is equal to the product of both primes.
The position list data  immediately follows the key data in memory.
The program argument is an array of integers that defines the test.
The return value is a string that may be interpreted as a Tcl list.
The return value is the number of bytes read from the input buffer.
The sSort.addrSortIndex variable is used to facilitate that change.
The schema-cookie is usually only manipulated internally by SQLite.
The size of the maximum gap between one aligned stack and the next.
The string will be the same as the name of the error code constant.
The tbl column is the name of the table to which the index belongs.
The time string can be omitted as long as there is a year and date.
The value can only be set if the database has not yet been created.
The value returned is the number of bytes written to pOut (if any).
The values are bound to the statements parameters before returning.
The year and date can be omitted as long as there is a time string.
There are three levels:  OFF       sqlite3OsSync() is never called.
There are usually 10 rows in the sqlite_stat2 table for each index.
There can be an arbitrary number of sqlite_stat4 entries per index.
There was a sign extension bug in older revisions of this function.
There were no digits at all so scanning has failed and we are done.
Therefor we cannot use MYSQLI_LLU_SPEC and must use MYSQLI_LL_SPEC.
These 4 rules can delay the start of the year by as much as 2 days.
These are the bits that determine if a bundle is in the X encoding.
These typedefs might change for architectures where the sizes very.
This a limit imposed by the use of 16-bit offsets within each page.
This array holds the actually closest colormap index for each cell.
This branch is taken when the xShmMap() method returns SQLITE_BUSY.
This file contains an implementation of the "dbstat" virtual table.
This file contains code used to implement mutexes on Btree objects.
This file contains the common header for all mutex implementations.
This file implements a tokenizer for fts3 based on the ICU library.
This first part MUST match the declaration of interface IDispatchEx
This function is called to drop a trigger from the database schema.
This function is only called right before committing a transaction.
This is controled by special insert command 'test-no-incr-doclist'.
This is required in case this connection creates the database file.
This is the information used by the action routines in the grammar.
This is the only routine that will increase the value of nBackfill.
This isn't really needed until pass 2, but again it is FAR storage.
This just creates a place-holder record in the sqlite_master table.
This loop runs once for each entry in the blocked-connections list.
This only seems to happen on 32bit systems with large file support.
This opcode removes that entry from the  index opened by cursor P1.
This routine is used for expressions that are used multiple  times.
This routine processes the join information for a SELECT statement.
This should be invoked at the conclusion of each write-transaction.
This should be the only routine in this file with external linkage.
This special processing mode is used only for OR clause processing.
This speeds up loading large records that span many overflow pages.
This structure is used for saving digits in the conversion process.
Throws an Exception in case the given Zend extension does not exist
Throws an Exception in case the given class constant does not exist
To do not bloat normal filling code I added a 2nd private function.
To update on each new cURL release using src/main.c in cURL sources
Try to flatten subqueries in the FROM clause up into the main query
Try to write in a value to indicate that the data is being written.
Two bytes are required in the output buffer for the nul-terminator.
Unless an error has occurred, register numbers are always positive.
Unlink generator call_frame from the caller and backup vm_stack_top
Unroll 1 to 3 byte UTF-8 sequences, use loop to handle longer ones.
Update the contents of the rbu_state table within the rbu database.
Update the pointer-map and meta-data with the new root-page number.
Using the _msize() function also requires the malloc.h header file.
VDBE branch coverage testing only works with an amalagmation build.
Version of sqlite3_free() that is always a function, never a macro.
We compute the squared-c0-distance term, then add in the other two.
We could initialize it, as shown here, to silence those complaints.
We had 3 instrs of which the first 2 can't live in the same bundle.
We know nothing about other code points, because we have no tables.
We need to do this after normalisation otherwise we can't get "24H"
We will allocate the table only if there are any named subpatterns.
When floating-point is omitted, double and int64 are the same thing
When it is called, *pp1 and *pp2 must both point to position lists.
When this is called the journal file for pager pPager must be open.
With the flag set, NULL and false should be returned, respectively.
Write iAmt bytes of content into the WAL file beginning at iOffset.
XXX disabling default magic loading so the compiled in data is used
XXX: this needs to be optimized to work with blocks of 'safe' chars
allocate a smaller buffer to keep around for smaller "long" columns
automagically determine output serialization type from request type
check if we have a valid host, if we don't reject the string as url
check to make sure that the year does not exceed 4 digits in length
check we are at the beginning of the stack, but after argument RECV
dbPath is a string buffer at least MAXPATHLEN+1 characters in size.
do not log errors for .lck file while in read ony mode on .lck file
don't set U_ILLEGAL_ARGUMENT_ERROR to allow fetching of inner error
fills the required data structure with information about the events
find the largest array index, and assert that all keys are integers
force out a line while stepping so the user knows what is happening
fts3_unicode2.c (functions generated by parsing unicode text files)
function    : Q_Tail  purpose     : locate cursor at tail of queue.
gd 2.0.2: watch out for negative indexes (thanks to David Marwood).
global representing whether the BistroJavaCollector can't be loaded
i.e. PS(id), PS(session_status), PS(mod) and any other PS() values.
iIdxCur is always set if to a positive value if ONEPASS is possible
if the query isn't supported by the protocol, fallback to emulation
ldap_simple_bind_s() is deprecated, use ldap_sasl_bind_s() instead.
libmysql just moves to the end, it does traversing of a linked list
libmysql's documentation says it should be so for SELECT statements
most people will use this one when calling socket() or socketpair()
mysqlnd_result_unbuffered::fetch_row() expects this to be not NULL.
name requires runtime resolution, need to check non-namespaced name
not much we can do if chmod fails except make the whole commit fail
origin and buffer available, so lets come up with the error message
parameters  : queue pointer  returns     : pointer to data element.
returns     : boolean - True_ is at head else False_  comments    :
returns a pointer to the byte after the last valid character in out
strtod() will return the nearest possible FP value for that string.
success, leave return_value as it is (set by create_transliterator)
swap contexts buffers, unless this is the last handler in the stack
that didn't work, so try and get something from the network/wrapper
this will enforce compatibility in .12 version (broken after .11.2)
those constants/functions are only available in libzip since 0.11.2
to provide context for calling into the next filter from user-space
try to read up to maxlen length bytes while we don't find the delim
use a 0 second timeout when checking if the socket has already died
with ioctlsocket, a non-zero sets nonblocking, a zero sets blocking
"old"-style, "reasonable" invalid salts, UFC-crypt behavior expected
(1) We never move from unlocked to anything higher than shared lock.
(2006-02-16:)  The enc value can be or-ed with SQLITE_UTF16_ALIGNED.
* The rationale here is to assist users in finding help on commands.
0 is not a legal page number and page 1 cannot be an  overflow page.
1.0e+22 is the largest power of 10 than can be  represented exactly.
2003 January 11  The author disclaims copyright to this source code.
2003 October 31  The author disclaims copyright to this source code.
2007 October 14  The author disclaims copyright to this source code.
2008 December 3  The author disclaims copyright to this source code.
2008 October 07  The author disclaims copyright to this source code.
2008 October 28  The author disclaims copyright to this source code.
2009 January 28  The author disclaims copyright to this source code.
2010 February 1  The author disclaims copyright to this source code.
2015 January 12  The author disclaims copyright to this source code.
A convenience macro that returns the number of elements in an array.
A return value of 1 indicates that the connection is to be destroyed
A structure to store values read from the rbu_state table in memory.
A value of 0 means that no trigger programs at all  may be executed.
All keys from this input segment have been transfered to the output.
All other licensing and usage conditions are those of the PHP Group.
All other nodes in the table must be the same size as the root node.
Also allocate a cursor number to use for scanning indexes (iIdxCur).
Also speculatively allocate space for a new winShmNode and filename.
An array of sets of matches for each subpattern after a global match
An expression of the form ID or ID.ID refers to a column in a table.
An instance of this structure holds the ATTACH key and the key type.
And check that its depth does not exceed SQLITE_FTS3_MAX_EXPR_DEPTH.
And if the journal-mode is "OFF", the journal file must not be open.
Append a record of the current state of page pPg to the sub-journal.
Apply posix advisory locks for all bytes from ofst through ofst+n-1.
Argument eOp must be either SAVEPOINT_ROLLBACK or SAVEPOINT_RELEASE.
Argument:   the error number Returns:    pointer to the error string
Before populating the accumulator registers, clear the column cache.
But each instance of this object points to the same BtShared object.
CASE variable will be deleted later by FREE, so we can't optimize it
Calculate the 'docid' delta value to write into the merged  doclist.
Calculate the size of the offsets array, and allocate memory for it.
Can't support UCP unless PCRE has been compiled to include the code.
Can't support UTF unless PCRE has been compiled to include the code.
Check if the output file is full or if the input has been exhausted.
Check persistent connections and do the necessary actions if needed.
Check that the new column is not specified as PRIMARY KEY or UNIQUE.
Check to see if this declare is preceeded only by declare statements
Classes with traits are handled exactly the same, no early-bind here
Clean up a VDBE after execution but do not delete the VDBE just yet.
Compute the number of pages based on the remaining size of the file.
Compute the size of the data block for storing the compiled pattern.
Convert a floating point number to a string formats 'f', 'e' or 'E'.
Current versions of SQLite ignore any errors  returned by xCommit().
DELETE      deferred    Decrement the "deferred constraint counter".
DELETE      deferred    Increment the "deferred constraint counter".
Delete any previous value and set the value stored in *pMem to NULL.
Don't loop indefinitely in non-blocking mode if no data is available
Each entry is three values long, one value for each color component.
Each token coming out of the lexer is an instance of this structure.
Else this is a rollback operation, playback the specified savepoint.
Extension loading should only be enabled for when we attempt to load
Extract a 2-byte big-endian integer from an array of unsigned bytes.
Fill in the Pager.zFilename and Pager.zJournal buffers, if required.
Find out which shared locks are already held by sibling connections.
First try to decide what to do without reference to lookahead token.
Following are some macros around the "workhorse" function __daylen__
For EBCDIC, the rules are more complex but have the same end result.
For a K-column index, there will be K+1 integers in the stat column.
For example, if zType is 'BLOBINT',  SQLITE_AFF_INTEGER is returned.
For non-negative values of P4 only the lower 4 bits are significant.
For position independent code, t9 must contain the function address.
For production code the fts5yytestcase() macro should be turned off.
Formatting escapes and wrapping text in a string before printing it.
Free any SQLite statements used while processing the previous object
Free up as much memory as we can from the given database connection.
Generate code to extract the value of the iCol-th column of a table.
Generate the beginning of the loop used for WHERE clause processing.
Get the single byte that remains after the file type indentification
I think this is a bad design in general even if it has some reasons.
IMPLEMENTATION-OF: R-26000-56589 The xShutdown() method may be NULL.
INSERT      deferred    Decrement the "deferred constraint counter".
INSERT      deferred    Increment the "deferred constraint counter".
If  argument bNC is true, then the SQLITE_FUNC_NEEDCOLL flag is set.
If HAVING is present but there is no ORDER BY, we will get an error.
If P4 is not specified then memcmp() is used to compare text string.
If SQLITE_Vacuum is set, then the destination table is always empty.
If X is true and assert() is enabled, then the return value is true.
If a HAVING clause is present, then there must be a GROUP BY clause.
If a NULL pointer is passed as an argument this function is a no-op.
If an OP_Explain opcode is added to the VM, its address is returned.
If an error occurs, *ppPager is set to NULL and error code returned.
If an error occurs, return an SQLite error code (i.e. SQLITE_NOMEM).
If an error occurs, the appropriate error code is written into *pRC.
If an out-of-memory allocation occurs, then free the old allocation.
If argument bFromValid is zero, then pNode is advanced exactly once.
If either expression is NULL, then just return the other expression.
If it is a valid frame, fill *piPage and pnTruncate and return true.
If it is not finished, but no error occurred, SQLITE_OK is returned.
If not reached end of pattern on success, there's an excess bracket.
If one buffer is a prefix of the other, it is considered the lesser.
If running in direct mode, write the contents of page 1 to the file.
If shared memory could not be created, then close the mutex and fail
If successful, set *peType to the output value and return SQLITE_OK.
If the "i" parameter is out of range, then SQLITE_RANGE is returned.
If the MEM_Term flag is also set, then the string is nul terminated.
If the P1 index entry is greater than the key value then jump to P2.
If the SET_FULLSYNC macro is not defined above, then make it a no-op
If the address is -1, then return the most recently inserted opcode.
If the cursor is changed, the value of register P2 will then change.
If the cursor requires seeking (bSeekRequired flag is set), seek it.
If the requested page is not already in the pager cache return NULL.
If the statement completed successfully, invoke the profile callback
If the subpattern has no firstchar, set "none" for the whole branch.
If the word was quoted, *pbQuoted is also set to 1 before returning.
If there are less that (P2+1)  values in the record, extract a NULL.
If this is a problem for you, do not use the interface at this time.
If we compiled with the SQLITE_NO_SYNC flag, then syncing is a no-op
If we had a thumbnail in a SUB_IFD we have ANOTHER image in NEXT IFD
In either case leave an error message in pParse and return non-zero.
In that case, it might take longer than normal for the lock to free.
In the real compile phase, there is some post-processing to be done.
Including a description of file format and an overview of operation.
Initialize the contents of the unixFile structure pointed to by pId.
Insert the i-th overflow cell before the aiOvfl-th non-overflow cell
Instead of a true 3-D array, we use a row of pointers to 2-D arrays.
Instead, this function serves only to release outstanding resources.
It creates the environment variables that indicates call graph mode.
It has been modified to return the converted value as a * parameter.
It is also needed by FTS3 when FTS3 is included in the amalgamation.
It is required to set a temporary folder on Windows Runtime (WinRT).
It registers several user-defined scalar functions useful with FTS5.
It's supposed to return an array of property names to be serialized.
Iterate through the contents of the WAL, copying data to the db file
Journalmode changes can only happen when the database is unmodified.
Jump to here if the sqlite3_interrupt() API sets the interrupt flag.
Load and activate user ini files in path starting from DOCUMENT_ROOT
Loop through all columns of the table being considered for snippets.
Make nMaxCells a multiple of 4 in order to preserve 8-byte alignment
Make this function work for a regex with integers either byte order.
Maximum length (in bytes) of the pattern in a LIKE or GLOB operator.
Move data out of a btree key or data field and into a Mem structure.
Move page iDbPage from its current location to page number iFreePage
Move the iterator passed as the only argument to the previous entry.
New configuration options may be added in future releases of SQLite.
Next is all token values, in a form suitable for use by makeheaders.
No attempt is made to lock the database file for reading or writing.
Note that RowKey and RowData are really exactly the same instruction
Nothing (not even the first header) has been written to the journal.
Now let's read from the wire, decompress it and fill the read buffer
Omit this entire file if SQLITE_ENABLE_UNLOCK_NOTIFY is not defined.
Only a single process can read or write the database file at a time.
Only return NULL if allocating a new page is effectively impossible.
Open an Fts3MultiSegReader to scan the doclist for term zTerm/nTerm.
Or if it is the default DESC, numerically smaller rowids are larger.
Or return -1 if p is not a floating point value between 1.0 and 0.0.
Otherwise, the snippet is shifted by the number of tokens available.
Otherwise, zero the 28-byte header at the start of the journal file.
P1 is the memory location that is the accumulator for the aggregate.
Prepare the SQL statement in buffer zSql against database handle db.
Query the hash table for a doclist associated with term pTerm/nTerm.
Re-insert the contents of any underfull nodes removed from the tree.
Recompute all indices of pTab that use the collating sequence pColl.
Remove the deleted foreign keys from the Schema.fkeyHash hash table.
Resolve the column names in all the expressions in the WHERE clause.
Return 1 if they differ only by a COLLATE operator at the top level.
Return SQLITE_OK if successful, or an error code if an error occurs.
Return SQLITE_OK on success or an error code if anything goes wrong.
Return an integer value representing the precedence of the operator.
Return meta information about a specific column of a database table.
Return the bits for this operand to be ORed into an existing bundle.
Return the number of references to the page supplied as an argument.
Return the rowid of the entry that the iterator currently points to.
Return the sum of the reference counts for all pages held by pPager.
Return true if the cursor was opened using the OP_OpenSorter opcode.
Returns non-zero if the specified path name should be used verbatim.
Rewind the VDBE back to the beginning in preparation for running it.
SQLITE_OK is returned if successful, otherwise an SQLite error code.
SQLITE_OK is returned on success, or an SQLite error code otherwise.
SSA construction, Step 2: Phi placement based on Dominance Frontiers
See if there are any named substrings, and if so, show them by name.
Set the EP_Reduced, EP_TokenOnly, and EP_Static flags appropriately.
Set the LIKEOPT flag on the 2-argument function with the given name.
Shrink the min/max bounds of a box to enclose only nonzero elements,
Since this is repeated in exif_process_IFD_TAG make it a notice here
So it's very easy to determine the CHUNK owning the certain pointer.
Space to hold the returned string is obtained from sqlite3_malloc().
Store the conch filename in memory obtained from sqlite3_malloc64().
TODO(shess) This needs expansion to handle UTF-8 case-insensitivity.
Test operations are about 100 times more common that set operations.
Test that the "totals" (sometimes called "averages") record looks Ok
The 0x7ffff00 limit term is explained in comments on sqlite3Malloc()
The CGI RFC allows servers to pass on unvalidated Authorization data
The Fts3Cursor.eSearch member is always set to one of the following.
The Pager.errCode variable is set to something other than SQLITE_OK.
The StatusUp() routine can accept positive or negative values for N.
The WhereClause structure is filled with pointers to subexpressions.
The Windows VFS uses native malloc() and free() for some operations.
The afpLockingContext structure contains all afp lock specific state
The argument is of type (void **) - an array of two (void *) values.
The byte immediately before the last 0x00 byte has the 0x80 bit set.
The caller will call this function again with the correct page-size.
The code is a duplicate of a code in the last range, so just return.
The comparison of the keys is performed by a user supplied function.
The correct SQL-92 behavior is for the LIKE operator to ignore case.
The error code range 0x10000 0x10100 are reserved for Transliterator
The first argument is a pointer to a Pager object (cast as a void*).
The first element in the list is the most recently opened savepoint.
The first page is called page 1, the second is page 2, and so forth.
The flags parameter contains a combination of the EXPRDUP_XXX flags.
The following are only used if the FTS5_SEGITER_REVERSE flag is set.
The following code modifies the sqlite_master table to reflect this.
The following functions are used to register the module with SQLite.
The hash table consists of HASHTABLE_NSLOT 16-bit unsigned integers.
The input word is copied into the output with US-ASCII case folding.
The maximum length of an e-mail address is 320 octets, per RFC 2821.
The offset  is the offset of the first rowid in the current doclist.
The parser calls this routine when it recognizes an ANALYZE command.
The second parameter (pExpr) is the first argument to this function.
The sqlite3_os_end() routine undoes the effect of sqlite3_os_init().
The statement is compiled and executed using database connection db.
The two fields form a double-linked list of chunks of related sizes.
The unused blocks are stored in a chain list pointed by free_blocks.
The userdata is 0x1 for left trim, 0x2 for right trim, 0x3 for both.
The value returned is the maximum number of pages in the page cache.
The zeroblob(N) function returns a zero-filled blob of size N bytes.
There is some controversy about what the correct behavior should be.
They are on different cache lines because we modify them atomically.
They are read by calls to backup_remaining() and backup_pagecount().
This API is not used by any PHP modules including session currently.
This can only  happen if there was no previous entry for this token.
This code does the right thing for R,G,B or B,G,R color orders only.
This code is perf sensitive, please check the perf before modifying.
This constant should already be defined (in the "WinNT.h" SDK file).
This file contains code for the "fts3tokenize" virtual table module.
This file contains the C functions that implement mutexes for Win32.
This file implements an external (disk-based) database using BTrees.
This function is called to rollback a transaction on a WAL database.
This function is called to rollback or release (commit) a savepoint.
This function is called when Btree p is concluding its  transaction.
This is a default version of the tables that assumes ASCII encoding.
This is almost always 512 bytes, but may be larger for some devices.
This is not a problem, as the column type of "t1.col" is never used.
This is really just the default value for the max_page_count pragma.
This is the header file for information that is private to the VDBE.
This is the implementation of the  fts5_api.xFindTokenizer() method.
This is the routine that actually formats the sqlite3_log() message.
This is true even if this routine fails to allocate a new WhereTerm.
This makes balancing the tree following the delete operation easier.
This needs changing if the code behind ZEND_VERIFY_RESOURCE changed.
This opcode will cause other virtual machines to be created and run.
This prevents it from  generating a large journal using a temp file.
This routine "expands" a SELECT statement and all of its subqueries.
This routine is the only routine in this file with external linkage.
This routine returns 0 on success and non-zero on any kind of error.
This routine returns the value of the zParam parameter if it exists.
This version of "lempar.c" is modified, slightly, for use by SQLite.
This version of the memory allocation is for use by the application.
To do everything in integer math, we must use integer scale factors.
Tokenization callback used when inserting tokens into the FTS index.
Use Go to start 4 goroutines each of which handles 1/4 of the board.
Use libxml functions otherwise its memory deallocation is screwed up
Use pPgOld as the original page since it has already been allocated.
VAX exponent range is so narrow we must worry about overflow here...
We can't allow to set connection options for persistent connections.
We cannot be in random rowid mode if this is an AUTOINCREMENT table.
We compact the heap when it gets twice as large as its initial size.
We don't have to restore the control head in case of a failed match.
We need to know how many there are in order to distribute the space.
We use a chained sequence of blocks that actually live on the stack.
We want to use the A in "A glob B" to test for function overloading.
What to ideally do for truecolor images depends, alas, on the image.
When dftables is run, it creates these tables in the current locale.
affinityStr stores a static string suitable for P4 of OP_MakeRecord.
after this point, we can't free env without breaking the environment
apprentice - make one pass through /etc/magic, learning its secrets.
break missing *intentionally - the assign_op's may only optimize op2
called by zip_discard to avoid operating on file from closed archive
check for japanese chars in compressed mapping area: U+1E00 - U+4DBF
check for the old child and whether the new child is already a child
check if callback is called from include_once or it's a main request
check whether the trait method fulfills the inheritance requirements
combinedLCG() returns a pseudo random number in the range of (0, 1).
current_date()  This function returns the same value as date('now').
current_time()  This function returns the same value as time('now').
even though lval is declared as unsigned, the value may be negative.
failed to decompress the file, will try reading the rest of the file
first 256 bits for first character, and second 256 bits for the next
for resulting hash we'll assign new hash keys rather then reordering
free the allocated space for passing field values to the db and back
gd_topal, adapted from jquant2.c  Copyright (C) 1991-1996, Thomas G.
if requested, return an unmolested (magic removed) copy of the value
if we stripped out all the '/' and still didn't find a valid path...
init_working_dir sets the current working directory to the app root.
initialize a phar_archive_data's read-only fp for existing phar data
input: an XMLRPC_VALUE representing a fault struct in xml-rpc style.
json_extract(JSON, PATH, ...)  Return the element described by PATH.
length is the number of bytes in the string (bytes, not characters).
look for a potential boundary match, only read data up to that point
mach_clock also should be re-initialized in child process after fork
mount an absolute path or uri to a path internal to the phar archive
now we need to find the end of the chunk the user wants us to return
pTab is a pointer to a Table structure representing a virtual-table.
pTo is the name of the table referred to (a.k.a the "parent" table).
parses soap arrayType attribute to generate an array_info structure.
procmask to protect handler_defer as if it were called by the kernel
sqlite3FkActions()  - Code triggers for ON UPDATE/ON DELETE actions.
store reference to allow cross-references between different elements
this algo is the only one known to me that works well on all systems
this allows support for RecursiveDirectoryIterator of subdirectories
unregister functions, so that they don't linger for the next request
use non-persistent if allowed number of persistent links is exceeded
we already were inside restart this means it's not safe to touch shm
we can skip this cause it was (effectively) done above in calc'ing s
we need to "flush" the stream to save the newly deleted file on disk
we use "jmp_hitlist" to avoid infinity loops during jmp optimization
(4)  Set all columns of the PRIMARY KEY schema object to be NOT NULL.
(And of course isn't safe on any arch that requires memory barriers.)
-********************************* End XMLRPC General Options funcs *
2.0.16: Optimization by Ilia Chipitsine -- don't waste time offscreen
2002 February 23  The author disclaims copyright to this source code.
2003 September 6  The author disclaims copyright to this source code.
2005 February 15  The author disclaims copyright to this source code.
2005 November 29  The author disclaims copyright to this source code.
2008 February 16  The author disclaims copyright to this source code.
2008 November 05  The author disclaims copyright to this source code.
2009 November 25  The author disclaims copyright to this source code.
2010 February 23  The author disclaims copyright to this source code.
2013 November 25  The author disclaims copyright to this source code.
A pointer to this structure is stored in the sqlite.aFunc hash table.
A process may only obtain a RESERVED lock after it has a SHARED lock.
A statement sub-transaction is implemented as an anonymous savepoint.
Accept negative position if length of search string can be determined
Add a new CHECK constraint to the table currently under construction.
Additional columns are used only as parameters to aggregate functions
After this routine returns, the root page is empty, but still exists.
All token types in the generated fts5parse.h file are greater than 0.
All we have to do here is record the root page number for that index.
An option value of 1 removes vertical space and 2 removes underscore.
And if an IO error occurs while doing so, then corruption may follow.
Another thread is (in the process of) initializing the static mutexes
Any prior string or blob content in the pMem object may be discarded.
Array for converting from half-bytes (nybbles) into ASCII hex digits.
As a contributor, you agree to allow your code to be used under both.
As a special case, alloca(0) reclaims storage without allocating any.
As a user of this code you may choose to use it under either license.
As well as the main term index, there may be up to 31 prefix indexes.
Assumed in this encoding, mb-trail bytes don't mix with single bytes.
At least one non-EOL character following, so don't need to encode ws.
At the start of the loop, c contains the first byte of the character.
At this point, if the literal was an integer, the parse is  finished.
Attempt to extract a value from pExpr and use it to construct *ppVal.
Attempt to set the maximum database page count if mxPage is positive.
Borrow that ord_needle buffer to avoid repeatedly tolower()ing needle
Brand new connection: Init and update the next_ping in the connection
By calling fflush(3), this data is send to the kernel using write(2).
CWD and include_path don't matter for absolute file names and streams
Callback must accept two strings and return an integer (as strcmp()).
Casting is different from applying affinity in that a cast is forced.
Check if another file-handle holds a RESERVED lock on an rbuVfs-file.
Close a handle opened by an earlier call to sqlite3Fts5StorageOpen().
Close a tokenization cursor previously opened by a call to icuOpen().
Compare the contents of the pLeft buffer with the pRight/nRight blob.
Compile the UTF-8 encoded SQL statement zSql into a statement handle.
Compound SELECTs that have an ORDER BY clause are handled separately.
Convert a BLOB literal of the form "x'hhhhhh'" into its binary value.
Copyright (c) 1983, 1993 The Regents of the University of California.
Copyright (c) 1987, 1993 The Regents of the University of California.
Copyright (c) 1988, 1993 The Regents of the University of California.
Copyright (c) 1989, 1993 The Regents of the University of California.
DELETE      immediate   Decrement the "immediate constraint counter".
Detects if the character and its othercase has only 1 bit difference.
Determine the number of integers in the buffer returned by this call.
Determine which nop opcode is used for padding and should be skipped.
Determine which, if any, tokens in the expression should be deferred.
During translation, assume that the byte that zTerm points is a 0x00.
EVIDENCE-OF: R-44885-25196 Value is an 8-bit twos-complement integer.
Each range has a combining class which means each entry is a 3-tuple.
Each serialized value consists of a 'serial-type' and a blob of data.
Emulator for BSD openlog() routine Accepts: identity options facility
Ensure the table name matches database name and that the table exists
Enter the mutex on every Btree associated with a database connection.
Estimate the location of a particular key among all keys in an index.
FIXME: mod_data(data) should not be NULL (User handler could be NULL)
Fill in the names of the columns of the view in the pTable structure.
Find implemented methods - SessionUpdateTimestampInterface (optional)
Float to string conversion may be affected by current locale setting.
Follows parameter metadata, we have just to skip it, as libmysql does
For an ATTACH statement, set P1 to true (expire this statement only).
For some reason you have to re-enable this callback every bloody time
Forward references to VFS helper methods used for memory mapped files
Generate code into the current Vdbe to evaluate the given expression.
Given an OCaml string, returns the 8 first bytes in an unsigned long.
However, if op is SAVEPOINT_ROLLBACK, then iSavepoint may also be -1.
However, in JavaScript compatibility mode, the length passed is zero.
However, normally we don't expect an error message, thus we continue.
However, the format of 5-byte and 6-byte characters is still checked.
I have chosen to use the spellings found in the Encyclopedia Judaica.
INSERT      immediate   Decrement the "immediate constraint counter".
If *pRc is not SQLITE_OK when this function is called, it is a no-op.
If X is true and assert() is disabled, then the return value is zero.
If an OOM error occurs, *pRc is set to SQLITE_NOMEM before returning.
If an error occurs, Fts5Index.rc is set to an appropriate error code.
If an error occurs, an error code is returned and *pp is set to NULL.
If an error occurs, some other SQLite error code is returned instead.
If iUseFlag is less than or equal to zero, the subroutine is a no-op.
If it does not, then the BTS_PENDING flag may be incorrectly cleared.
If it finds some mandatory character(s), we are done for this branch.
If it was compressed, then the fp does not refer to the original file
If nIn is non-negative, then it is the length of the string in bytes.
If none of the above, then the result destination must be SRT_Output.
If one blob is a prefix of the other, then the shorter is the lessor.
If one value is a string and the other is a blob, the string is less.
If recursive mutexes are not available, then we have to grow our own.
If something goes wrong while this is happening we don't really care.
If successful, set *ppLeaf to point to the node and return SQLITE_OK.
If such a lock is already held, no locking  functions need be called.
If the database is already nBytes or larger, this routine is a no-op.
If the parameter does not exist, this routine returns a NULL pointer.
If the returned value is SQLITE_DONE, xQueryPhrase returns SQLITE_OK.
If there are no more entries in the doclist, set pOffsetList to NULL.
If this where not the case, on of the following assert()s would fail.
If we're going to overwrite the argv area, count the available space.
If zName is specified, operate on only the one system call specified.
Implementation of the scalar function fts3_tokenizer_internal_test().
In both cases, backtracking will then try other alternatives, if any.
In that case, don't check for expected tokens because there are none.
In these cases the parameters are named as per the usual conventions.
In this case the  contents of the entire transaction are rolled back.
In this case the return value of this  function should never be used.
In this case, *pzErrmsg may also be set to point to an error message.
Increase the size of the memory allocation for StrAccum if necessary.
Increment register P1 regardless of whether or not the jump is taken.
Index 0 is an index of all the terms that appear in the document set.
Initialize the temporary index cursor just opened as a sorter cursor.
It  invokes callbacks registered with sqlite3_wal_hook() as required.
It merely prevents new constructs that exceed the limit from forming.
Let's going ahead and wind anything in the buffer through this filter
Multiline mode: start of subject unless notbol, or after any newline.
My intuition is that this might extend through 2x or 4x the pagesize.
NULL may be accepted only by nullable hints (this is already checked)
New option added for Z to remain in-line with the Perl implementation
Not supplying an error message will have no adverse effect on SQLite.
Not sure which smartass came up with this idea in the first though :)
Notice the difference between moveToLeftmost() and moveToRightmost().
Obtain all b-tree mutexes before making any calls to BtreeRollback().
On VxWorks, a unique file id must be based on the canonical filename.
On those systems, sqlite3_mutex_try() will always return SQLITE_BUSY.
One usually wants to use hw.acctivecpu for MT decisions, but not here
Option to check for whether the input conforms to the CONTEXTJ rules.
Or if the contents do not match, set *pbOk to false before returning.
Other than this, session module may call any PS_*_FUNC() at any time.
Otherwise, the entire doclist is loaded into memory within this call.
Otherwise, the semantics would be subtly different from IN or NOT IN.
Otherwise, up to three octal digits are read to form an escaped byte.
Otherwise, we have our own implementation that works on most systems.
Otherwise, we need to wait again (up to time_left or we get an error)
P4 is a pointer to the FuncDef structure that specifies the function.
PREPARATION  An "RBU update" is stored as a separate SQLite database.
Parameter eMode is one of SQLITE_CHECKPOINT_PASSIVE, FULL or RESTART.
Possessifying an EXACT quantifier has no effect, so we can ignore it.
Prepare a statement used to insert rows into the "rbu_tmp_xxx" table.
Previous block size: 0 - This is the first block of the memory chunk.
Print out aliases for all commands except help as this one comes last
Read each varint and append its string representation to buffer pBuf.
Read the rowid (the last field in the record) and store it in *rowid.
Record the number of times that we do a normal fsync() and  FULLSYNC.
Report two lines per PC returned by traceback, to test more handling.
Reset stream's internal read buffer since the filter is "holding" it.
Resolve an expression that was part of an ATTACH or DETACH statement.
Return SQLITE_OK on success and SQLITE_ERROR if something goes wrong.
Return SQLITE_OK on success or an error code is something goes wrong.
Return a JSON object that contains all name/value given in arguments.
Return a list of all dirty pages in the cache, sorted by page number.
Return one of the SQLITE_ error codes to indicate success or failure.
Return the amount cell p would grow by if it were unioned with pCell.
Return the best representation of pMem that we can get into a double.
Return the bitwise-OR of all Expr.flags fields in the given ExprList.
Return the total number of references to all pages held by the cache.
Returns 0 if successful, 1 if successful and wrote ZIP64 extra field.
Returns the character that should be used as the directory separator.
SEE ALSO XMLRPC_ServerFindMethod () XMLRPC_ServerCallMethod () SOURCE
See documentation for the highlight() auxiliary function for details.
See if we can find a fixed set of initial characters for the pattern.
See source code comments for  a detailed description of each routine.
See the header comments on that procedure for additional information.
Set bit count to 0 and buffer to mysterious initialization constants.
Set len to the maximum number of bytes required in the output buffer.
Set nByte to the number of bytes required to store the expanded blob.
Should be a power of 2, and ideally, evenly divide into BITVEC_USIZE.
Since the flags should be set, we just fallback to the register mode.
So if the power fails at the wrong moment they might get out of sync.
So really the only thing this code accomplishes is to quieten purify.
State:       **  SEMI  WS  OTHER  EXPLAIN  CREATE  TEMP  TRIGGER  END
Struct for holding a composition pair, and array of composition pairs
Temporarily end the regex in case it doesn't exist before this point.
Test to make sure the linear array exactly matches the Bitvec object.
That detail is handled by the outer sqlite3_step() wrapper procedure.
That seems acceptable to me, to avoid making this code hard to follow
The "vfs" in the name of the object stands for "virtual file system".
The argument to this macro is a file descriptor (type sqlite3_file*).
The backup module in backup.c maintains the content of this variable.
The best (lowest cost) WherePath at the end is the chosen query plan.
The bitmask datatype defined below is used for various optimizations.
The bracket content will be checked by the OP_BRA/OP_CBRA case above.
The code is similar to the above, without the capturing complication.
The code starts after the real_pcre block and the capture name table.
The column list presumably came from selectColumnNamesFromExprList().
The escape character string must consist of a single UTF-8 character.
The following code is adopted from the PostgreSQL's ps_status(.h/.c).
The following macro defines an initializer for an sqlite3_vfs object.
The following structure contains information used by the sqliteFix...
The following structure contains pointers to all SQLite API routines.
The generated code will increase the file format number if necessary.
The indices for graph, print, and punct are needed, so identify them.
The input, pIn, is a binary tree (or subtree) of RowSetEntry objects.
The integer query plan parameter to xFilter is stored in register P3.
The journal file does not need to be synced following this operation.
The macro MEMDB is true if we are dealing with an in-memory database.
The memory for the returned string is obtained from sqlite3_malloc().
The new WhereTerm object is constructed from Expr p and with wtFlags.
The newPgno argument is the page number of the child page to move to.
The number of rows between the two bounds is then just iUpper-iLower.
The only argument is a pointer to a function which works like malloc.
The output of the recursive-query is added back into the Queue table.
The requested region is not mapped into this processes address space.
The response will be serialized into XML and sent back to the client.
The resulting hash value must land between 0 and (HASHTABLE_NSLOT-1).
The return value is guaranteed to lie between 32 and MAX_SECTOR_SIZE.
The same callback makes sure the doclists are loaded for each phrase.
The select-id identifies which query or subquery the loop is part of.
The simplest is just to forbid invalid filenames, which is done here.
The trick is to disable as much as we can without disabling too much.
The value passed as the second argument to this function is optional.
The zerodata flag means that this page carries only keys and no data.
Then  return SQLITE_OK and return without populating BtShared.pPage1.
There are two copies of the header at the beginning of the wal-index.
There is one additional integer in the list  for each indexed column.
These function declarations are missing from the IMAP header files...
They are equal up to the last part of the equal part of the fraction.
They are evaluated once and the results of the expression are reused.
This *is* propagated back out of a recursion, for Perl compatibility.
This cell will replace the cell being deleted from the internal node.
This code was modified from code based on code written by Jarle Aase.
This constant should already be defined (in the "WinDef.h" SDK file).
This entry point is equivalent to the `crypt' function in Unix libcs.
This file implements an object that represents a fixed-length bitmap.
This function allocates a new level iLevel index in the segdir table.
This function copies a single captured substring into a given buffer.
This function is a helper function for sqlite3Fts3EvalTestDeferred().
This function is called to obtain a shared lock on the database file.
This function is used by the implementation of the IN (...) operator.
This function takes responsibility for eventually freeing the buffer.
This implementation is meant to be fast, but not as fast as possible.
This information is used by the xBestIndex methods of virtual tables.
This is a structure that holds all the context the main thread needs.
This is either EXPR_FULLSIZE, EXPR_REDUCEDSIZE or EXPR_TOKENONLYSIZE.
This is here to suppress warnings from the GCC cpp's -Wunused-macros.
This is not correct any more, depends on what compare_func is set to.
This later form is used for name resolution with nested FROM clauses.
This optimization is particularly useful at making VACUUM run faster.
This routine computes the value of m for the first i bytes of a word.
This routine is a Walker callback for "expanding" a SELECT statement.
This routine is the only routine in this file with external  linkage.
This routine should be invoked only after sqlite3PcacheFetch() fails.
This routine works only for pages that do not contain overflow cells.
This test function is not currently used by the automated test-suite.
Throw an error if either the JSON or PATH inputs are not well-formed.
Triggers may access values stored in the old.* or new.* pseudo-table.
Try to insert a new prerequisite/cost entry into the WhereOrSet pSet.
Unpack the record and then call BtreeMovetoUnpacked() to do the work.
Update: I talked with Cokus via email and it won't ruin the algorithm
Used internally as comparison routine passed to zend_list_del_element
We do have to hash non-persistent connections, and reuse connections.
We do the ping in php_oci_create_session, no need to ping again below
We don't have control whether max_length will be used, unfortunately.
We don't want to have an arbitrary limit in the size of the password.
We have to do some funky casting in order to initialize those fields.
We have to initialize zBuf to prevent valgrind from reporting errors.
We'll clear 'no' once we know the user has made a reasonable request.
With a covering index, the original table never needs to be accessed.
Write a 32-bit integer into a string buffer in big-endian byte order.
Yet another problem:  LinuxThreads do not play well with posix locks.
Zero all counters associated with the sqlite3_stmt_scanstatus() data.
adjust x0 to be on the left boundary (ie to be zero), and y0 to match
break missing *intentionally* - the assign_op's may only optimize op2
calculate how many required args are at the end of the specifier list
called by PDO to retrieve information about the fields being returned
cksum3 is calculated based on the entries extracted by these queries.
destruct the function also, then - we have allocated it in get_method
if not and the object implements Countable we call its count() method
if the stream doesn't directly support stat-ing, return with failure.
incorporated from D.J.Bernstein's cdb-0.75 (http://cr.yp.to/cdb.html)
index of leftmost source unsigned char containing data (1 to 8 bits).
initializing something before the DLL even is available to be called.
it's possible pemalloc returns NULL instead of causing it to bail out
n - The block is used at the moment, and the value contains its size.
nReader may not exceed SORTER_MAX_MERGE_COUNT even after rounding up.
now remove this transaction from all the connection-transaction lists
offset and amt determine what portion of the data or key to retrieve.
on zvals: handle references, if recursive also objects and arrays ...
only perform the check if the msgno is a message number and not a UID
pCur might be pointing to text obtained from a corrupt database file.
pCur points at an index entry created using the OP_MakeRecord opcode.
padding for return value from compile_length_cclass_node() to be fix.
parameters  : 'queue' pointer  returns     : pointer to data at head.
parse extra config from args array, promote this to an extra function
remember the event place in the fd list and suppose next slot is free
result goes to TMP_REG2, so put result can use TMP_REG1 and TMP_REG3.
returns a failure code and creates an exception if there was an error
sending SIGINT then provides a decent way of shutting down the server
signature checked out, let's ensure this is the last file in the phar
sqlite3SafetyCheckOk() requires that the db pointer be valid for use.
the next line seems false but here IFDlength means length of all IFDs
use SEEK_CUR to allow emulation in streams that don't support seeking
use dummy scope if we're binding an object without specifying a scope
we are going to write a new APP13 marker, so don't output the old one
wildcard, if present, must only be present in the left-most component
'--' indicates end of args if not followed by a known long option name
(2)  There is a single global PGroup that all PCaches are a member of.
(8)  The subquery does not use LIMIT or the outer query is not a join.
) FUNCTION Add (append) a series of existing XMLRPC_VALUE to a vector.
2001 September 15  The author disclaims copyright to this source code.
2001 September 16  The author disclaims copyright to this source code.
2001 September 22  The author disclaims copyright to this source code.
2006 September 30  The author disclaims copyright to this source code.
28: Checksum-2 (second part of checksum for first 24 bytes of header).
A delete specifies a single argument - the rowid of the row to remove.
A jump is made to P2 if the result set after filtering would be empty.
A linked list of the following structures is stored at BtShared.pLock.
A macro to hint to the compiler that a function should not be inlined.
Add a new instruction to the list of instructions current in the VDBE.
Add constraints to reduce the search space on a LIKE or GLOB operator.
Advance each segment iterator until it points to the term zTerm/nTerm.
After removing the cell, adjust the r-tree data structure if required.
After the journal is finalized, the pager moves to PAGER_READER state.
After the merge, all segment blocks from the merged level are deleted.
Allocate and return a new IncrMerger object to read data from pMerger.
Allocation inside RUNs implemented using linked list of free elements.
An SQL user-function registered to do the work of an ATTACH statement.
An SQL user-function registered to do the work of an DETACH statement.
Applications are strongly discouraged from using this global variable.
Arguments aIdx, aDistance and aSpare all point to arrays of size nIdx.
Arguments:   none Returns:     pointer to the contiguous block of data
As a result, only the day number of the start of the year is required.
Attempting to deallocate a static mutex results in undefined behavior.
Both of these can be found by considering only the corners of the box.
But support for LinuxThreads was dropped beginning with version 3.7.0.
But there might be a LIMIT clause, in which case the order does matter
By default, for compatibility with Perl, they are treated as literals.
CAPI3REF: Custom Page Cache Object  The sqlite3_pcache type is opaque.
Cache of the server supported datatypes, initialized in handle_factory
Called from a non-http wrapper with http proxying requested (i.e. ftp)
Check again, the original check might have not known the protocol name
Check for repeating a recursion without advancing the subject pointer.
Check that the results returned for ASC and DESC queries are the same.
Check the internal RTree node given by pCellData against constraint p.
Checking for permitted and forbidden duplicates has already been done.
Compile the UTF-16 encoded SQL statement zSql into a statement handle.
Compose and prepare an SQL statement to loop through the content table
Convert the JsonNode pNode into a pure JSON string and append to pOut.
Copy the contents of the node stored on pRoot into the new child page.
Create a new ephemeral function definition for the overloaded function
Currently the only  meaningful value to insert is the text 'optimize'.
Cursors can also point to virtual tables, sorters, or "pseudo-tables".
Don't put MAGIC constant - it likely points to a file within MSys tree
Each foreign key constraint is an instance of the following structure.
Each one can be either an array or a sort flag which follows an array.
Each unixShmNode object is connected to a single unixInodeInfo object.
Element has children, thus a vector, or "compound type" in soap-speak.
Else will try to reuse lookahead token after shifting the error token.
Emulator for BSD syslog() routine Accepts: priority message parameters
Enter and leave a mutex on a Btree given a cursor owned by that Btree.
Every SQLite table must have either BTREE_INTKEY or BTREE_BLOBKEY set.
Every one-row WhereLoop will have the WHERE_ONEROW bit set in wsFlags.
Expression p should encode a floating point value between 1.0 and 0.0.
Fill ib_link and trans with the correct database link and transaction.
Find out if the previous and current characters are "word" characters.
For a rowid table, *piDataCur will be exactly one less than *piIdxCur.
For each phrase node found, the supplied callback function is invoked.
For non-possessive ONCE brackets, all we need to do is to set the KET.
For some opcodes, there are special alternative opcodes for this case.
For the back references, the values are negative the reference number.
For this routine, we assume the UTF8 string is always zero-terminated.
Free a doclist-index iterator object allocated by fts5DlidxIterInit().
Free any cursor components allocated by sqlite3VdbeSorterXXX routines.
Function: gdAffineInvert Find the inverse of an affine transformation.
GD 2.0 supports RGBA truecolor and will read and write truecolor PNGs.
Get the error code from SSL, and check to see if it's an error or not.
Given the name of a database file, compute the name of its conch file.
Gobble up the first bareword or quoted word from the input buffer zIn.
Here code is inserted which will be executed whenever the parser fails
Here is the full subtract routine that takes care of negative numbers.
I exclude vertical tab because it never seems to be used in real text.
If  this call returns SQLITE_NOTFOUND, then the RBU vfs is not in use.
If X is false and assert() is disabled, then the return value is zero.
If an OOM error occurs, store an error code in pParse and return NULL.
If an error does occur, then the final value of piOffset is undefined.
If an error occurs, leave an error code and message in the RBU handle.
If an error occurs, set *pRc to an SQLite error code before returning.
If any actual data is acquired, retval will be set to appropriate type
If changing into or out of WAL mode the procedure is more complicated.
If flattening is not attempted, this routine is a no-op and returns 0.
If it fails then it tries to glob the rest of the pattern and returns.
If it is a RELEASE, then destroy the savepoint being operated on  too.
If it is open, sync the journal file before calling UnlockAndRollback.
If no level with at least nMin segments can be found,  set nSeg to -1.
If no such buffer exists, this function falls back to sqlite3Malloc().
If not fully qualified and not an alias, prepend the current namespace
If one is present, it is removed and the encoding of the Mem adjusted.
If recursive mutexes are not available, we will have to build our own.
If register P1 is initially zero, leave it unchanged and fall through.
If set, call the external function that checks for stack availability.
If something is wrong, you might want to restore data from last backup
If the NEAR expression does not  match the current row, 0 is returned.
If the error is an unrecognized modifier, no error is written to pCtx.
If the group is preceded by OP_BRAZERO, convert this to OP_BRAPOSZERO.
If the index name was unqualified, check if the table is a temp table.
If the integer is an alpha-numeric  unicode code point, 1 is returned.
If the subquery is the right term of a LEFT JOIN, then do not flatten.
If the value in register P3 is not NULL, then this routine is a no-op.
If there is an error in the Parse structure, set the return code to 1.
If this block is freed, we still have (allocated_size / 2) free space.
If this is the case and an allocation fails, SQLITE_NOMEM is returned.
If this trigger has been fired before, then pRt  is already allocated.
If we had a pure transparency color, add it as the last palette entry.
If we have matched an empty string, mimic what Perl's /g options does.
Inspired by "How to Print Floating-Point Numbers Accurately" by Guy L.
It is an error if leaf iLeafPgno does not exist or contains no rowids.
It is considered impossible for an index to use more than 1024 levels.
It is illegal to drop a table if any cursors are open on the database.
It is only legal to reduce a pristine expression tree from the parser.
It is reported that an attempt to close a handle might sometimes fail.
It is valid for a JP2 file to contain multiple individual codestreams.
It might be a big thing to extend, thus just a local handling for now.
Let the row packet fill our buffer and skip additional malloc + memcpy
Libcurl commit d021f2e8a00 fix this issue and should be part of 7.28.2
Look at this function as an iterator on the mbi integers it spits out.
Loop through all the foreign key constraints that refer to this table.
MAP_FIXED leads to discarding of the old mapping, so it can't be used.
Make sure no sibling connections hold locks that will block this lock.
Must make sure nOverflow is reset to zero even if the balance() fails.
No need for _r variant, return of __toString should always be a string
Note that I.1 and D.1 are very similar operations, as are I.2 and D.2.
Note that phpdbg_help_text is not assumed to be collated in key order.
OK to convert here since if str_len were big, convert above would fail
ONEPASS_MULTI:  One-pass approach - any number of rows may be deleted.
Often, sample i of each block of N effective samples has (i+1) fields.
On exit, it is pointing at the final character of the escape sequence.
One slot of the outer query (the middle slot) is used by the subquery.
Only one of SQLITE_ENABLE_STAT3 or SQLITE_ENABLE_STAT4 can be defined.
Or, if the EXCLUSIVE lock cannot be obtained, SQLITE_BUSY is returned.
Other things people escape, but shouldn't need to, so we disallow them
P5 is a value between 0 and 4, inclusive, that modifies the P4 string.
Parameter op is always either SAVEPOINT_ROLLBACK or SAVEPOINT_RELEASE.
RIGHT_SHIFT provides a proper signed right shift of an INT32 quantity.
Reads the currently executed file (a phar) and registers its manifest.
Reduce its size to account for the portion used by the new allocation.
Remove newlines and spaces from start and end php_trim will estrndup()
Repeatedly select and split the largest box until we have enough boxes
Restore the state of the PRNG to the last state saved using PRNG_SAVE.
Return SQLITE_OK if the database is still were it ought to be on disk.
Return a pointer to the appropriate hash function given the key class.
Return a pointer to the symbol zSymbol in the dynamic library pHandle.
Return false if we cannot complete the proof or if pE2 might be false.
Return the column of index pIdx that corresponds to table column iCol.
SQLITE_OPEN_EXCLUSIVE is used to make sure that a new file is created.
Savepoints are added to the list by the vdbe OP_Savepoint instruction.
Scan past any delimiter characters before the start of the next token.
Set *ppData to point to the Fts5Bm25Data object for the current query.
Set the Expr.nHeight variable in the structure passed as an  argument.
Set the name of the idx'th column to be returned by the SQL statement.
Set the span of pOut to be the identifier that created the expression.
Set this global variable to 1 to enable tracing using the TRACE macro.
Set variable iNext to the next available segdir index at level iLevel.
Setting persistent WAL mode causes those files to persist after close.
Setting this variable to zero causes the module to use the old syntax.
Shorthand for starting a new tree item that consists of a single label
Shows sorted patterns list in the order which is used for the matching
Similarly, if the 'magic' value is invalid, ignore the whole WAL file.
Since we successfully read a char above, partial matching must occure.
So the condition described in the above paragraph is not assert()able.
Special handling of subjectAltName, see CVE-2013-4073 Christian Heimes
Structure containing global configuration data for the SQLite library.
That may overflow, in which case new memory is obtained from malloc().
The  value returned is a copy of the second argument to this function.
The "wsdAutoext" macro will resolve to the autoextension state vector.
The BTREE_OMIT_JOURNAL and BTREE_SINGLE flags are added automatically.
The array contains one element for each matchable phrase in the query.
The block header contains the size of the previous and the next block.
The cache of the wal-index header must be valid to call this function.
The caller will detect the syntax error and return a detailed message.
The cell pointer array begins on the first byte after the page header.
The cursor might point to an entry that comes before or after the key.
The debugger uses a task-level exception handler to intercept signals.
The first entry is used to cache the RtreeNode for RtreeCursor.sPoint.
The first few calls to sqlite3OsSleep() have a delay of 1 microsecond.
The first pass, m always is 0, so no_read becomes 1 in the first pass.
The instruction is recorded as an instance of the following structure:
The integrity-check code calculates the same checksum in two ways:  1.
The last packet will have 'eof' set If PS, then no result set follows.
The linker sets this automatically on iOS 8+,  but we deploy to iOS 7.
The name of this file under configuration management is "sqlite.h.in".
The pArg from the previously registered  profile function is returned.
The page is written into the  main journal or sub-journal as required.
The return value is the actual number of bytes of randomness obtained.
The rollback journal is composed of a linked list of these structures.
The second block of a chunk is user data if the chunk is checked  out.
The subquery uses a single slot of the FROM clause of the outer query.
The tables herein are needed only when UCP support is built into PCRE.
The terms of a FROM clause are contained in the Select.pSrc structure.
The total length cannot exceed 253 characters (final dot not included)
The verification will be done in runtime by ZEND_VERIFY_ABSTRACT_CLASS
The winShmMutexHeld() must be true while reading or writing this list.
Theoretically, the stream is borked, so all further reads should fail.
There are actually several different VFS implementations in this file.
There are three kind of children, non flexible, flexible and absolute.
These aliases are provided in order to maintain forward compatibility.
They are used to implement the scalar SQL function rbu_fossil_delta().
This P3 mechanism is used to help implement the AUTOINCREMENT feature.
This becomes the SrcList in the recursive call to sqlite3WhereBegin().
This behavior is undocumented and Bison users should not rely upon it.
This code uses unstructured "goto" statements and does not look clean.
This file contains 2-pass color quantization (color mapping) routines.
This file contains the C functions that implement mutexes for pthreads
This frees all memory that the RowSet has allocated over its lifetime.
This function changes all write-locks held by Btree p into read-locks.
This function does not contribute anything to the operation of SQLite.
This function is implemented as two separate routines for performance.
This function is used to populate an allocated Fts3TokenAndCost array.
This function updates the bounding box cells in all ancestor elements.
This holds good for NetWare too, both for Winsock and Berkeley sockets
This interface used to be the only way to cause a checkpoint to occur.
This is an optimization - the correct answer should result regardless.
This is the "abnormal" table for EBCDIC systems without UTF-8 support.
This is the implementation of the  fts5_api.xCreateTokenizer() method.
This object represents a single thread of control in a sort operation.
This routine is a no-op if the database schema is already initialized.
This routine is called when the corresponding SQL function is deleted.
This software is provided "as is" without express or implied warranty.
This software is released under the GNU Lesser General Public License.
This usually happens when a function is called via a function pointer.
This variable may only accessed while the STATIC_MASTER mutex is held.
Transfer the FROM clause terms from the subquery into the outer query.
Try to return memory used by the pcache module to the main memory heap
VFSes that do not need this signal should silently ignore this opcode.
Virtual stack - the struct is used as a virtual stack for each thread.
We allocate new temporaries for values that need to relive FAST_CALLs.
We don't have to destroy all zvals if they cannot call any destructors
We don't need to keep the STR_PTR, only the previous private_data_ptr.
We may eventually want to use this information, but def it out for now
We save the position of DO_FCALL for convenience in find_live_range().
We want to shift the pointer pSpace up such that it is 8-byte aligned.
When match() is called in other circumstances, don't add to the chain.
Whichever key is smaller, the aTree element is set to the index of it.
Write code to erase the table with root-page iTable from database iDb.
Write the serialized data blob for the value stored in pMem into  buf.
Writes a buffer directly to a stream, using multiple of the chunk size
additional functions for attribute based modifications, Gerrit Thomson
apply_config() needs r in some cases, so allocate server_context early
as far as streams are concerned, we are now at the start of the stream
avoid BC break, if functions list is empty, will return an empty array
called by PDO to execute a statement that doesn't produce a result set
could support old APIs but need check for ldap_modrdn2()/ldap_modrdn()
depending on the source EOL the out str will have all CR/LF duplicated
determine if a string represents a soap type, as used in element names
enumerate implemented interfaces and pick the one as indicated by sink
grow the buffer if required TODO: this can fail for persistent streams
if param_type is PDO_PARAM_ZVAL the driver has to provide correct data
if we couldn't destruct cleanly, mark all objects as destructed anyway
if we make it to this point, we must provide a value for the parameter
in concatenated header, don't include Layout.h it's already at the top
let STDOUT function as STDERR, just in case writing to STDOUT directly
loop through all the provided arguments and set dpb fields accordingly
maxLocal is the maximum amount of payload to store locally for a cell.
maximum valid width for wbmp (although 127 may be a more accurate one)
mysql_stmt_close() clears errors, so we have to store them temporarily
nBytes is always a value obtained from a prior call to memsys5Round().
no length supplied or length is too big, return the rest of the string
no supported SAPI found - disable acceleration and stop initialization
nop is not necessary here, since the sub operation has no side effect.
nothing to do if the path is NULL, :auto: or matches the existing path
only free decode if it was allocated by rfc822_qprint or rfc822_base64
only one FD is necessary at startup for the master process signal pipe
oops, too many signals for us to track, so we'll forget about this one
pLeaf is the iSeq'th leaf to be added to the tree, counting from zero.
perform the conversion and then pass the request on to the innerstream
realloc if the estimate was way overill Arbitrary cutoff point of 4096
retrieve a phar_entry_info's current file pointer for reading contents
scan through our columns for a piecewise column with a matching handle
so that other process won't try to force while we are busy cleaning up
test.bash looks for "PASS" to ensure this program has reached the end.
testing basic case with no iterate_upper_bound and no prefix_extractor
this archive has no open references, so emit an E_STRICT and remove it
use OID suffix (`index') for keys in array output mode in WALK  method
zIn is a UTF-16 encoded unicode string at least nChar characters long.
"yymajor" is the symbol code, and "yypminor" is a pointer to the value.
(b)  The page was a freelist leaf page at the start of the transaction.
*pRc is *not* set if a parse error (failed to find close quote) occurs.
+build cgo +build darwin dragonfly freebsd linux netbsd openbsd solaris
- Copyright (c) 1990, 1993 The Regents of the University of California.
- Copyright (c) 1992, 1993 The Regents of the University of California.
- Returning FAILURE state from PS_* function results in raising errors.
-********************************** Introspection Callbacks (methods) *
A 4-connected neighbor:  pixel above, below, left, or right of a pixel.
A fixed amount of payload can be carried directly on the database page.
A position-list is the part of a doclist that follows each document id.
A square bracket that doesn't match the syntax is treated as a literal.
A way to specify the location of the php.ini dir in an apache directive
Adding the two 0x00 bytes prevents this from causing a buffer overread.
Affinity aff is applied to the result of the function before returning.
All of the code in this file may be omitted by defining a single macro.
All unique filenames are held on a linked list headed by this variable:
Allocate a new Select structure and return a pointer to that structure.
Allocate the output buffer --- it will be released when done with image
Also could attempt to avoid copying the contents of the rowid register.
An attempt to read a column out of a subquery or other temporary table.
An error code is returned if something goes wrong, otherwise SQLITE_OK.
An instance of this object represents a JSON string under construction.
And RBU is not currently syncing the directory after renaming the file.
And make sure list length does not exceed SQLITE_LIMIT_COMPOUND_SELECT.
And when running a test binary via adb shell, it's easy to miss logcat.
And, in fact, this routine is never called in a working implementation.
Any read-only or read-write transaction implies a read-lock on  page 1.
Append the output of a printf() style formatting to an existing string.
Arguments pList/nList contain the doclist for token iToken of phrase p.
As there exists an unusable MATCH constraint this is an  unusable plan.
At least by Perl 5.18 this changed so as not to insert the binary zero.
At this point p points to that preceding byte without the 0x80 bit set.
At this point, okToChngToIN is true if original pTerm satisfies case 1.
BUGS There is currently no way to cleanup the global server gracefully.
Before doing so, we have to insert the character for the previous code.
Below this point the variables are used when evaluating the expression.
Build CFG, Step 1: Find basic blocks starts, calculate number of blocks
But it needs to be an integer before we can do the seek, so convert it.
Bytes 28..31 should always be zero or the size of the database in page.
Cache the pointer so we do not have to do OCIContextGetValue repeatedly
Cast the datatype of the value in pMem according to the affinity "aff".
Change easily now, with a macro, could be made compilastion dependable.
Close an iterator opened by an earlier call to sqlite3Fts5IndexQuery().
Constants for the largest and smallest possible 64-bit signed integers.
Construct a new expression node for a function with multiple arguments.
Control reaches here if the candidate path is better than the pTo path.
Convert raw bits from the on-disk RTree record into a coordinate value.
Convert the text beginning at *pz into an integer and return its value.
Doc comment has been appended as last element in ZEND_AST_PROP_ELEM ast
Drop all SQLITE_MASTER table and index entries that refer to the table.
EACCES is like EAGAIN during locking operations, but not any other time
Each SQL function is defined by an instance of the following structure.
Each record consists of a varint followed by a blob of data (the  key).
Either way, the entire doclist will (eventually) be loaded into memory.
Estimate the average row size for the table and for all implied indices
Every user-visible function in PHP should document itself in the source
Except, if this is not the last copy of the function, do not invoke it.
File fts3_test.c contains a Tcl interface to read and write the values.
Finding the date and time of the new moon (or molad) is the first step.
For BC we have to check whether the key is numeric and use it like this
For anything other than nomatch or partial match, just return the code.
Fts5SegWriter.btterm currently contains the first term on page iBtPage.
Function to query the hash-table of tokenizers (see README.tokenizers).
Future versions of SQLite might understand additional query parameters.
Generate code that will do an analysis of a single table in a database.
Generate code to cause the string zStr to be loaded into register iDest
Given a token, return a string that consists of the text of that token.
Guess that the next page in  the overflow list is page number (ovfl+1).
Handle an atomic group that does not contain any capturing parentheses.
Helper type used by fts3EvalIncrPhraseNext() and incrPhraseTokenNext().
However, Perl changed at release 5.18, so PCRE changed at release 8.34.
However, it seems that this can be very slow on some operating systems.
However, when a metadata call is done, we need to calculate max_length.
IN WAL mode, WalBeginWriteTransaction() is called to lock the log file.
Identity function, used to suppress warnings about constant conditions.
If JIT support was compiled and requested, attempt the JIT compilation.
If an IO error occurs, abandon processing and return the IO error code.
If an error has occurred, transfer error information from pFrom to pTo.
If an error occurs, an error code is returned and *ppChild is set to 0.
If an error occurs, some value other than SQLITE_OK should be returned.
If any variables are passed, make sure they are all passed by reference
If anybody is still using OS/2, they will have to put it back manually.
If bGlobal is true, then populate all fields of the matchinfo() output.
If enabled, estimate the number of leaf blocks of content to be written
If it does fail, simply leak the file descriptor, but do log the error.
If pFile is not larger than iSize bytes, then this function is a no-op.
If successful, set *pp to point to the new object and return SQLITE_OK.
If that's less than best-so-far, update best distance and color number.
If the array is sparse, then the gaps will be filled with NULL variants
If the current database is not encrypted, this routine will encrypt it.
If we can CWD to it, it's a directory (maybe a link, but we can't tell)
If we reach the end of the pattern without matching, display a warning.
If zNode is a root node, then the buffer comes from a SELECT statement.
In all cases they are in the order in which they appear in the pattern.
In any case, values larger than INT_MAX for a chunk size make no sense.
In other words, the analysis stops as soon as reg(P1) errors are  seen.
In other words, the cursor will be used only for equality key searches.
In other words, the time returned is always the time of the first call.
In the real compile we do the work of looking for the actual reference.
In these cases, therefore, an indirection via a local function is used.
In this case pnOut is set to the number of bytes in the output doclist.
In this case the memory image of the  page is initialized to all zeros.
In this environment, fi and i, and fc and c, can be the same variables.
Increase security by not caching privileged oci_pconnect() connections.
Initialize a node-reader object to read the node in buffer aNode/nNode.
It doesn't store the length in the first short, as with VARCHAR fields.
It is initialized to a BLOB by the P4_SUBPROGRAM processing logic below
It is provided "as is" without express or implied warranty of any kind.
It returns the number of the first one that was set in a pattern match.
Iterators at EOF are considered to be greater than all other iterators.
LIFO flag makes the iterator traverse the structure as a LastInFirstOut
Let K be the 1-based index of the largest entry in the mapping section.
Mark some of them with "register" because they are used a lot in loops.
Measure the number of characters needed to output the given identifier.
Memory cells for cursors are allocated at the top of the address space.
Most options must be set at compile time for the JIT code to be usable.
Mutex configuration options are only available in a threadsafe compile.
NULL, name length, filename length, last accepting char position length
Note that Adar II is assigned the month number 7 and Elul is always 13.
Note that we rely on the semaphores being zeroed when they are created.
Obtain a pointer to a mapping of a single 32KiB page of the *-shm file.
Obtain a reference to a memory mapped page object for page number pgno.
On 2nd and subsequent uses, the original AutoincInfo structure is used.
Only parse errors are currently reported in err, not structural errors.
Open the sqlite_master table stored in database number iDb for writing.
Or 10, if the estimated number of rows  in the table is less than that.
Otherwise, 0x00 is returned, indicating no affinity for the expression.
Passing a value less than or equal to zero turns off all busy handlers.
Propagate all EP_Propagate flags from the Expr.x.pList into Expr.flags.
Return 0 if new item added, error code if memory couldn't be allocated.
Return 0 if they are identical and  non-zero if they differ in any way.
Return NULL if the index is out of range or if the wildcard is unnamed.
Return SQLITE_OK if no error occurs, or an SQLite error code otherwise.
Return SQLITE_OK on success or SQLITE_NOMEM if unable to obtain memory.
Return a new SrcList which encodes is the FROM with the new term added.
Return after either the input buffer is exhausted or a 0 value is read.
Return an SQLite error code if an error occurs, or SQLITE_OK otherwise.
Return an empty string if the database is in-memory or a TEMP database.
Return code from the parse-tree walking primitives and their callbacks.
Return the file handle for the database file associated with the pager.
Return the name of the table column from which a result column derives.
Return the number of bytes in the first nChar unicode characters in pZ.
Return the number of changes in the most recent call to sqlite3_exec().
Return the number of columns in the result set for the statement pStmt.
Return true if it desirable to avoid allocating a new page cache entry.
Return true if it is necessary to write page *pPg into the sub-journal.
Return true if the result of comparison is equivalent to desiredResult.
Return true if we can prove the pE2 will always be true if pE1 is true.
SQLITE_OK is returned if successful or an SQLite error  code otherwise.
SQLITE_OK is returned if successful, or an SQLite error code otherwise.
Save the result of the comparison for use by the next OP_Jump instruct.
Search the hash table or tables for an entry matching page number pgno.
See comment in the code for capturing groups above about handling THEN.
See comments for function writeMasterJournal() in pager.c  for details.
Set local variable nMem (and later, VdbeFrame.nChildMem) to this value.
Set the text that the regular expression operates on to a NULL pointer.
Set up a starting, non-extracting bracket, then compile the expression.
SetEndOfFile() returns non-zero when successful, or zero when it fails.
So move the page that does into the  gap left by the deleted root-page.
So we can always safely abort as soon as the first unused slot is found
So, just in case this has happened, clear the changeCountDone flag now.
Some compilers complain about constants of the form 0x7fffffffffffffff.
Start at the inner-most context and move outward until a match is found
Statements expire when things happen that make their programs obsolete.
TBD:  Insert subroutine calls to close cursors on incomplete subqueries
TODO(shess) It may be useful for blocking decisions to be more dynamic.
TODO: See warning in main/stream/streams.c::php_stream_fill_read_buffer
That means that if the BETWEEN term is coded, the children are skipped.
That pseudo-table cursor is the one that is identified by parameter P3.
The 5 month cycle is used to account for the varying lengths of months.
The OS will automatically  delete the temporary file when it is closed.
The P5 parameter can be a mask of the BTREE_* flags defined in btree.h.
The actual transformation has been performed several dozens line above.
The array might be stored in a local variable that will be overwritten.
The client will then send the XML to the server via external mechanism.
The constant is also the initializer for the run-time allocated buffer.
The contents of the bitvec are cleared at the end of every transaction.
The contiguous array of leaf nodes starts at the first block allocated.
The counter is set to zero each time a  database transaction is opened.
The ephemeral table is deleted automatically when the cursor is closed.
The error texts are now all in one long string, to save on relocations.
The first argument is the prepared statement object to be interrogated.
The following object holds the list of automatically loaded extensions.
The key is given by (pKey,nKey) and the data is given by (pData,nData).
The length of data written will be between 1 and FTS3_VARINT_MAX bytes.
The main thread writes to this fd when there are events ready to be run
The master-journal page number must never be used as a pointer map page
The methods above are in version 1 of the sqlite_vfs object definition.
The methods above are in versions 1 through 3 of the sqlite_vfs object.
The page-number identifies the previous page in the overflow page list.
The point is to increment the last character before the first wildcard.
The rest also applies to other integer formats, so fall into that case.
The return value of ftsHashFunction() is a pointer to another function.
The second call, to obtain permission to create the table, is made now.
The table to be locked has root page iTab and is found in database iDb.
The third register will contain the content of the second table column.
The thread writes to this fd when there are events ready to be returned
Then render the value as a literal in place of the host parameter name.
Then we see if run-together words should be treated as valid components
Theoretically, the stream is borked, so all further writes should fail.
There is one element in the array for each token in the FTS expression.
Therefore, if the minimum is greater than zero, just ignore the repeat.
These are not magic numbers as they are part of the SQLite file format.
These are the amounts to shift an input value to get a histogram index.
These days it is often faster than table lookups or integer arithmetic.
These values will be  used by any BEFORE and AFTER triggers that exist.
This  function merges all segments in the database to a single segment.
This array holds the distance to the nearest-so-far color for each cell
This avoids having to supply alternative calls for the different cases.
This call is to merge all segments in the database to a single segment.
This file contains C code to implement the TreeView debugging routines.
This file contains code use to implement an in-memory rollback journal.
This function also serves to allocate the PendingList structure itself.
This function is only called for rollback pagers in WRITER_DBMOD state.
This function is used to add page iPage to the database file free-list.
This function registered all of the above C functions as SQL functions.
This function returns the total number of cells added to the free-list.
This function searches the leaf page for a term matching (pTerm/nTerm).
This function should not be called directly by other code in this file.
This instruction is only used when the shared-cache feature is enabled.
This is a verification routine is used only within assert() statements.
This is necessary on Windows where the stack can only grow in 4k steps.
This is used by trigger programs to access the new.*  and old.* values.
This macro is used to compare two strings in a case-insensitive manner.
This notice may not be removed or altered from any source distribution.
This occurs only at the start of each branch of a lookbehind assertion.
This routine is also called from the OP_ParseSchema opcode of the VDBE.
This routine is called from the TCL test function "translate_selftest".
This routine returns TRUE if the optimization is guaranteed to be used.
This space is available to the user via the sqlite3PagerGetExtra() API.
This vector is used for remembering name groups during the pre-compile.
To obtain a SHARED lock, a read-lock is obtained on the 'pending byte'.
Two local variables for possessive quantifiers (char1 cannot use them).
Unrecognized escapes are faulted if PCRE is running in its strict mode.
Use of PS_UPDATE_TIMESTAMP_FUNC() is preferred whenever it is possible.
VFSes that  do not need this signal should silently ignore this opcode.
Variable iPrevDocid is the docid of the most  recently inserted record.
Verify that integers and floating point values use the same byte order.
We break the return address cache here, but this is a really rare case.
We can not return long strings from ICU functions, so we won't here too
We have to back up from the allocation pointer to find the MemBlockHdr.
We have to release the mutexes on btrees that were acquired at the top.
We know ALT_SIGN_EXT is set if it is an SLJIT_INT_OP on 64 bit systems.
We know that we have a mysqli object, so this failure should be emitted
We're missing the last padding at this point to get the final dimension
When working with UTF-8 we move back a number of characters, not bytes.
Write VDBE code to erase table pTab and all associated indices on disk.
Write into *piTable the page number for the root page of the new table.
Write the payload into the local Cell and any extra into overflow pages
Write the two values read to *piAbsLevel and  pnInput before returning.
You can not trust the state of target if this function returns failure.
a SET TRANSACTION statement should be executed with a NULL trans handle
a number that is not 0, 1 or 2 (Which is also Greg's birthday so there)
abIndexed: If the table has no indexes on it, abIndexed is set to NULL.
add to the manifest, and then store the pointer to the new guy in entry
always free the CV's, in the symtable are only not-free'd IS_INDIRECT's
autodetected values should be removed if these vars specified in config
browser data defined in activation phase, lazily loaded in get_browser.
called by the C server when it first receives an introspection request.
called by xmlrpc C engine as method handler for all registered methods.
check in calling scripts' current working directory as a fall back case
class table hash keys, class names, properties, methods, constants, etc
dot lock style uses the locking context to store the dot lock file path
eat up the passed in storage even if it won't be filled in with varargs
estrdup would sometimes allocate more memory and does not return length
first character cannot be ' or -, unless explicitly allowed by the user
function    : Q_IsEmpty  purpose     : test if queue has nothing in it.
if the given filename is an EGD socket, don't write anything back to it
if we get here, we can be sure that we have enough bytes to copy safely
in case of SSL_ERROR_WANT_READ/WRITE, do not retry in non-blocking mode
incrAggDepth(..) is a helper function - a callback for the tree walker.
keyClass is one of the constants  FTS3_HASH_BINARY or FTS3_HASH_STRING.
maximum valid heigth for wbmp (although 127 may be a more accurate one)
mfischer, 20020514: I commented this out because it really seems bogus.
pOrderBy is an ORDER BY or GROUP BY clause in SELECT statement pSelect.
request startup only after we've done all we can to get path_translated
retrieving a file within the current directory, so use this if possible
reuse bit to mark "fake" closures (it wasn't used for functions before)
some servers don't open a ftp-data connection if the directory is empty
sqlite3WalCloseSnapshot() closes the transaction and releases the lock.
that's OK even for ZE2, since opline_num's are resolved in pass 2 later
the -15 is to account for any padding CMSG_SPACE may add after the data
the length will increase by length of xml escape - the character length
the steam_context resource will be released by resource list destructor
this function is called asynchronously by the Interbase client library.
this will happen once per process, and will un-globalize mem_write_lock
try and avoid allocating a FILE* if the stream is not naturally a FILE*
unpack() is based on Perl's unpack(), but is modified a bit from there.
use user-supplied OID names for keys in array output mode in GET method
we have everything we need in psal, flush peername and fill it properly
we need to be binary safe on systems that support an abstract namespace
with the root pages numbers for all tables and indices in the database.
(-1) catches illegal zero case as unsigned underflows to positive large.
(Aside: The use of inode numbers as unique IDs does not work on VxWorks.
(Note that the comdb2 btree implementation does use this hint, however.)
(U_BUFFER_OVERFLOW_ERROR means that *target buffer is not large enough).
******* Needs a general explanation of the how registered functions work
0x7FFFFFFF is the hard limit for the number of pages in a database file.
A DEFINE group is never obeyed inline (the "condition" is always false).
A copy of the key is made if the copyKey parameter to fts3HashInit is 1.
A pointer to this string is stored in each collation sequence structure.
A positive nCol means the columns names for this view are already known.
A result table is an array of pointers to zero-terminated UTF-8 strings.
Add FTS3_VARINT_MAX bytes of unused space to the end of the  allocation.
Adjust pTemplate cost downward so that it is cheaper than its  subset p.
All arguments are complex addressing modes, and it is a binary operator.
All changes to the database are recorded by writing frames into the WAL.
Allocate a single new register for use to hold some intermediate result.
Allocate memory for the destination buffer (it will be zero-terminated).
Also find a unique index  on the parent key columns in the parent table.
Also fsync the directory containing the file if the DIRSYNC flag is set.
Also, uses intelligent string handling, so not many strlen() calls, etc.
An appropriate implementation is selected automatically at compile-time.
An exception was thrown in the lexer, don't throw another in the parser.
An instance of the following structure describes the event of a TRIGGER.
An instance of the following structure is allocated for each open inode.
An instance of this object serves as a cursor into the rollback journal.
Any attempt to lock or unlock a file first checks the locking structure.
Attempt to load an SQLite extension library contained in the file zFile.
Attempt to move the phrase iterator to point to the next matching docid.
B tries to promote to exclusive but is blocked because of A's read lock.
Because the sets are unaligned, we need to perform byte comparison here.
Begin by generating some termination code at the end of the vdbe program
Bit 1 is set if the second leftmost column value is required, and so on.
Block size: 0 - The block is a free_block, with a different size member.
But one may not go from shared to exclusive or from exclusive to shared.
But the left-most 6 spaces have been removed to improve the readability.
But we don't support COM_FIELD_LIST anymore, thus this should not happen
Can't call mysql_server_end() multiple times prior to 5.0.46 on Windows.
Change the default pages size and the number of reserved bytes per page.
Change the maximum size of any memory mapping made of the database file.
Compute mlo -- check for special case that d is a normalized power of 2.
Control reaches here only if one of the items is a small character list.
Copy PHP interned strings from PHP process memory into the shared memory
Create a new symbolic label for an instruction that has yet to be coded.
Create a temporary file name and store the resulting pointer into pzBuf.
Currently there is an SQL level transaction open on the vacuum database.
Currently, this is the only way to correctly initialize an event buffer.
Delete any TriggerPrg structures allocated while parsing this statement.
Disable all error recovery processing in the parser push-down automaton.
Each cursor has a (possibly empty) linked list of the following objects.
Empty function bodies for those machines, which are not (yet) supported.
Ensure that if we're calling a private function, we're allowed to do so.
First we attempt to find the largest existing rowid and add one to that.
First we have the histogram data structure and routines for creating it.
For char data, the length of the returned string will be longreadlen - 1
For example, assuming index p is on t1(a, b), and the SQL query is:  ...
For now, we just bail if we get a mustUnderstand header intended for us.
For the specifics of the algorithm, see http://wiki.php.net/rfc/rounding
Free a parsed fts3 query expression allocated by sqlite3Fts3ExprParse().
GLOB_MAGCHAR: Set in gl_flags if pattern contained a globbing character.
GOVERNMENT USE: If you are acquiring this software on behalf of the U.S.
Generate code to implement the "ALTER TABLE xxx RENAME TO yyy"  command.
Generate code to make sure the file format number is at least minFormat.
Get the process associated with this pipe (file) handle and terminate it
Here code is inserted which will be executed whenever the parser accepts
If a more detailed error message is available, it is written to zBufOut.
If aborted via timer expiration, don't try to call any unixODBC function
If all entries in zAff are SQLITE_AFF_BLOB, then no code gets generated.
If an error did occur, the caller will need to rollback the transaction.
If an error occurs, an SQLite error code is returned and pLeaf is freed.
If an error occurs, set *ppLeaf to zero and return an SQLite error code.
If bDescIdx is false, the value read is added to *pVal before returning.
If it is modified, this value is restored before this  function returns.
If it returns zero, the custom VFS should abandon the current operation.
If it were possible, this block would have to account for hidden column.
If no element exists with a matching key, then a new element is created.
If no error occurs and the entry is NULL, set *pbRes 1 before returning.
If pMem is a floating-point then the value returned is the integer part.
If successful, set *pp to point to the new mapping and return SQLITE_OK.
If successful, the checksum value is returned and *pRc set to SQLITE_OK.
If such a pointer can be obtained, store it in *pp and return SQLITE_OK.
If that allocation failed, we would have quit before reaching this point
If the MEM_Str flag is set then Mem.z points at a string representation.
If the query runs to completion without incident, SQLITE_OK is returned.
If the resize fails, set the mallocFailed flag in the connection object.
If the transaction count  reaches 0, set the shared state to TRANS_NONE.
If there are multiple triggers, you might of some BEFORE and some AFTER.
If there is a back-edge to "to" this may result in non-minimal SSA form.
If there is no such savepoint, then an an error is returned to the user.
If there is no such term in the hash-table, the  iterator is set to EOF.
If there is no type specified, columns have the default affinity 'BLOB'.
If there was an error, store the text of the error message in *pzErrMsg.
If tripCode is not SQLITE_OK then cursors will be invalidated (tripped).
If we have tried all the alternative branches, the assertion has failed.
In direct mode, reference the sorting index rather than the source table
In this case we are only interested in rows changed, not rows retrieved.
In this case, fts5 assumes that the final value of *ppOut  is undefined.
Include the header file used to customize the compiler options for MSVC.
Increase the total number of bytes written to account for the new entry.
Indicate that registers between iReg..iReg+nReg-1 are being overwritten.
Invariant: If the closure is unscoped or static, it has no bound object.
It is not considered an error code if the current rowid is  not a match.
It is not considered an error if the query does not match any documents.
It is only used here so that the buffered data warning is not displayed.
It is possible that calling this routine itself caused a stack overflow.
It is searched by binary chop, so must be in collating sequence of name.
It is then stored as a member of the Index structure for subsequent use.
It would be better, IMHO, to skip the C from the S part of the encoding.
Jump here if database corruption is detected after m has been allocated.
Local variables: tab-width: 4 c-basic-offset: 4 indent-tabs-mode: t End:
Macros for testing whether or not optimizations are enabled or disabled.
Macros indicating that conditional expressions are always true or false.
Make sure the cell sizes at idx, idx+1, ..., idx+N-1 have been computed.
Make sure the given internal_date string matches the RFC specifiedformat
Mappings of bytes from int (machine dependent) to int for machine endian
Most European countries used the Julian calendar prior to the Gregorian.
Must be called before any other call to 'collator_object_...' functions.
Name:  Ack Input: Output: Description: Get the response from the server.
Neither of these two scenarios are possible during a savepoint rollback.
ON and USING clauses are converted into extra terms of the WHERE clause.
Once again, we may have to adjust any OP_RECURSE calls inside the group.
Only supports a architecture-dependent binary dump format at the moment.
Only the admin user is allowed to know that the sqlite_user table exists
Opcode: If P1 P2 P3 * *  Jump to P2 if the value in register P1 is true.
Otherwise, if iNext is less than FTS3_MERGE_COUNT, allocate index iNext.
Parameter "idx" identifies the specific loop to retrieve statistics for.
Perform subtraction: N2 is subtracted from N1 and the value is returned.
PgHdr1 contains information needed to look up a page by its page number.
Process all bytes in the buffer with 64 bytes in each round of the loop.
Read the page number and page data from the journal or sub-journal file.
Register a new geometry function for use with the r-tree MATCH operator.
Remove connection p from the set of connections associated with pShmNode
Return FALSE if the USING clause is NULL or if it does not contain zCol.
Return TRUE (1) if pExpr is an indexed term and return FALSE (0) if not.
Return the length of the data corresponding to the supplied serial-type.
Returns NULL if not found, or a pointer to the start of the first match.
SQLITE_OK is returned if successful, or SQLITE_NOMEM if an error occurs.
SQLITE_OK is returned if the conversion is successful (or not required).
SQLite copies of the current page cache implementation into that object.
Serial types 12 or greater are strings and blobs (greater than numbers).
Set nNewSize to the size allocated for the structure pointed to by pNew.
Set peer_name or name verification will try to use the proxy server name
Signal handler that uses up more stack space than a goroutine will have.
Similarly, pPage must be the right kind (index or table) of b-tree page.
Since schema Tables do not use lookaside, this number should not change.
So extract the trunk page itself and use it as the newly  allocated page
TODO(shess) current implementation requires pInput to be nul-terminated.
TODO: Issue a warning if two or more columns of the index are identical.
TODO: This implementation is kind of a hack, find a better way to do it.
Table to translate PCRE compile time error codes into POSIX error codes.
The "solver" works by creating the N best WherePath objects of length 1.
The "wsdStat" macro will resolve to the status information state vector.
The BTREE_DATA_VERSION value is not really a value stored in the header.
The busy-handler callback is currently invoked only from within pager.c.
The chance of an undetected change is so small that it can be neglected.
The code below is handling the return value of osFallocate()  correctly.
The code should be inserted somewhere before the last range in the list.
The connection becomes equivalent to oci_connect() or oci_new_connect().
The data might change or move the next time any btree routine is called.
The eOp argument is interpreted as follows:  0: The operation is a read.
The following definition of Storeinc is appropriate for MIPS processors.
The following routine only works on pentium-class (or newer) processors.
The following structure describes the FROM clause of a SELECT statement.
The latter case was added in 3.7.1 when support for 64K pages was added.
The leftmost coordinate column is 'a', the second from the left 'b' etc.
The offset returned is to the start of the write-ahead log frame-header.
The offset_vector values are handled similarly to the normal case above.
The passed string obviously doesn't descend from the regular serializer.
The pipes are only used signal the other thread that something is ready.
The returned value must be freed by the caller using sqlite3ValueFree().
The select statement passed as the first argument is an aggregate query.
The sequence number on the cursor is incremented after this instruction.
The simple approach here would be to memset() the entire object to zero.
The source code of the verification program is included in this package.
The spec states that a WAP client does not need to implement ExtHeaders.
The sqlite3_int64 and sqlite3_uint64 are the preferred type definitions.
The szPage value can be any power of 2 between 512 and 32768, inclusive.
The term is disabled in (3) because it is not part of a LEFT OUTER JOIN.
The update box is specified by the center coordinates of its first cell.
The values may be one of several types, as defined by XMLRPC_VALUE_TYPE.
The xfer optimization is only attempted if tab1 and tab2 are compatible.
Then use the molads to find Tishri 1 of the current and following years.
Then, if the required encoding is UTF-16le or UTF-16be do a translation.
There is a vanishingly small chance that a change will not be  detected.
Therefore we do non-blocking read to clean the line, if there is a need.
This API allows the application direct access to these database handles.
This call is a no-op if no write-transaction is currently active on pBt.
This case when the file is being statically linked into the  application
This fd will be ready to be read when there is a command ready to be run
This file contains code that is common across all mutex implementations.
This file contains code use to implement APIs that are part of the VDBE.
This function appends an appropriate entry to the current doclist-index.
This function checks if it is the largest level number within its index.
This function determines if any segments should be promoted as a result.
This function is called by the xUpdate() method for an INSERT operation.
This function is mutually recursive with the function immediately below.
This functionality is used by the checkpoint code (see walCheckpoint()).
This guarantees that garbage data is never appended to the journal file.
This has the effect of making sure that the string is well-formed UTF-8.
This holds the 'locally' allocated environ from the save_ps_args method.
This is a copy of the sqlite3GetVarint32() routine from the SQLite core.
This is codetables for different Cyrillic charsets (relative to koi8-r).
This is correct behavior for reading a series of images from one source.
This is the callback routine for the code that initializes the database.
This prevents the pager from trying to read the pages content from disk.
This routine accepts both decimal and hexadecimal notation for integers.
Try to determine whether text is in some character code we can identify.
Use those other routines as the entry point for releasing Mem resources.
Verify that the call to _bytes() does not invalidate the _text() pointer
We also have to invert to match PNG's convention in which 255 is opaque.
When the check function is first in the linked objects, it is ambiguous.
When this value reaches its maximum,  an SQLITE_FULL error is generated.
Which uses instances of the  other Fts5StructureXXX types as components.
Which will be cleared by the call to pager_unlock(), as described above.
XCLASS is used for classes that cannot be represented just by a bit map.
XXX this functionality is excluded in php, enable it in apprentice.c:340
XXX this will need to change later when threaded fastcgi is implemented.
Zero or more repeats of character types set the bits and then try again.
a 1024 byte window + the size of the halt_compiler token (moving window)
a number that is not 0, 1 or 2 (Which is also Greg's birthday, so there)
assuming that no internal functions will silently swallow exceptions ...
auto-generated portions of this file are also subject to the php license
boundaries on sqlite3GlobalConfig.mnReq are enforced in sqlite3_config()
cancel server side resources for the statement if we didn't fetch it all
counted is 0 - meaning we had to readlock manually, release readlock now
don't evaluate numeric string error-producing operations at compile-time
don't set is_closure since is the invoke handler, not the closure itself
enumerate functions and properties of the object and assign dispatch ids
ext/mysql or ext/mysqli are responsible to clean, whatever they have to.
nfs lockd on OSX 10.3+ doesn't clear write locks when a read lock is set
non-default trans might have been rolled back by other call of this dtor
silently skip any files that would be added to the magic .phar directory
so, if we hit a 42P05 we deallocate it and retry ONCE (thies 2005.12.15)
sqlite3MemdebugHasType() is intended for use inside assert() statements.
stupid keys need to be null-terminated, even though we know their length
to improve support here, it's a matter of building the unicode mappings.
we can skip these cause they were (effectively) done above in calc'ing s
we could also reopen the file in "rb" mode but there is no need for that
we do our own reading directly from the phar, don't change the next line
we need to disable auto-commit now, to be able to initiate a transaction
(1+argn) is an upper bound for the number of links this trans connects to
(21)  The subquery does not use LIMIT or the outer query is not DISTINCT.
(Also published in Collected Algorithms from CACM, algorithm number 199).
(The page number should have been put there by the sqliteOpenCb routine.)
(With the exception of the last token which does not have the separator.)
+ 4 bytes: N (length of master journal name in bytes, no nul-terminator).
-*********************************** Begin XMLRPC General Options funcs *
2.0.9: Thorben Kundinger: Maybe the source image is not a truecolor image
A pointer to the F pointer is used as the pAppData value for VFS objects.
A symetric argument may be made if the doclists are in descending  order.
A value for VdbeCursor.cacheValid that means the cache is always invalid.
Add an opcode that includes the p4 value with a P4_INT64 or P4_REAL type.
Add the term to each of the prefix indexes that it is not too  short for.
Added with non-blocking streams in mind, where this situation is frequent
Additional functions are available for simple rotation or up/downscaling.
Adjust settings of the pager to those specified in the pgFlags parameter.
After this routine is run, the VDBE should be ready to be executed again.
All SQL must be converted into a prepared statement before it can be run.
All errors are considered fatal except for SQLITE_BUSY and SQLITE_LOCKED.
All of these are replaced by no-op macros if OMIT_FOREIGN_KEY is defined.
An instance of this object holds the complete state of the query planner.
Any value greater than 1 indicates that there is more than one character.
Append a function parameter value to the JSON string under  construction.
Architectures which can shift addresses left by 2 bits with no extra cost
Argument is a pointer to an Fts5Data structure that contains a leaf page.
At this point we know the final size of the element in the main dimension
At this point, we know the candidate directory exists and should be used.
At this point, we're done if there is not more HDF name space to traverse
Attempting to xSync() the database file causes an SQLITE_INTERNAL  error.
Begin a transaction and take an exclusive lock on the main database file.
CUSTOM TOKENIZERS  Applications may also register custom tokenizer types.
Changes include:  (1)  Convert the OP_CreateTable into an OP_CreateIndex.
Check if the path is too long so we can give a more useful error message.
Check the header for a few cases that we have special support for in SAPI
Check to make sure that the opened file is not outside of allowable dirs.
Check to see if we need to back up because we saw a trailing 'e' or sign.
Connect to a socket using an interruptible connect with optional timeout.
Count the number of additional columns needed to create a covering index.
Deallocate a register, making available for reuse for some other purpose.
Define our magic string to mark salt for SHA256 "encryption" replacement.
Define our magic string to mark salt for SHA512 "encryption" replacement.
Disconnect all the virtual table objects in the sqlite3.pDisconnect list.
Do an integrity check of the B-Tree  Begin by filling registers 2, 3, ...
EVIDENCE-OF: R-43642-56306 By default, URI handling is globally disabled.
Error message as part of the result set, not good but we should not hang.
FTS maintains a separate indexes for each language-id (a 32-bit integer).
Figure out how many savepoints will still be active after this operation.
Find any inequality constraint terms for the start and end  of the range.
First we have to extract the count of named parentheses from the pattern.
For a much better antialiased result, the affine function is recommended.
For an insert, it must be called once for each token in the new document.
For conditions of distribution and use, see the accompanying README file.
For example, quantities 16 and 17 are both represented by a LogEst of 40.
For this reason, we will put it inside this file after the stop function.
Free all memory belonging to the PmaReader object passed as the argument.
Get next piece if no limit or limit not yet reached and something matched
Given a bucket, returns a version of that bucket with a writeable buffer.
Hence, if page 1 appears anywhere on the list, it will be the first page.
Historically, SQLite has used both the LockFile and LockFileEx functions.
However, this function just burn CPU cycles if the stack is large enough.
If *ppVal is initially NULL then a new sqlite3_value object is allocated.
If SQLITE_ERROR is returned, pContext is populated with an error message.
If an error occurred above, free the  Pager structure and close the file.
If argument zSql is NULL, this function assumes that an OOM has occurred.
If no busy handler or a different busy handler is set then 0 is returned.
If nothing is set at run time, whatever was used at compile time applies.
If pUpper is NULL, or a value cannot be extracted from it, U is set to N.
If partial is true, partial matches are allowed at the end of the buffer.
If the OPFLAG_NCHANGE bit is clear, then the change counter is unchanged.
If the argument is numeric, the return value is the same as the argument.
If the file creation mode "m" is 0 then set it to the default for SQLite.
If the length of the reference is zero, just continue with the main loop.
If there are any active VMs (apart from this one), then a ROLLBACK fails.
If this is the first code for this property list, just add it and return.
If this parameter is set to zero, then memory mapping is not used at all.
If we are too close to the start to move back, this match function fails.
If we're not and __call() handler exists, invoke it, otherwise error out.
If you don't compile for a mac, then the "unix-afp" VFS is not available.
In this case the journal file will never be created for this transaction.
In this case the pcache already contains an initialized copy of the page.
In this case, add zero token entries to the hash table and  return early.
Instead, store a boolean result (either 0, or 1, or NULL) in register P2.
Internally, the vdbe manipulates nearly all SQL values as Mem structures.
Invalidate the overflow cache of the cursor passed as the first argument.
It is assumed that there is a SHARED or greater lock on the file already.
It would be nice to find a better solution to this problem in the future.
It's a hashtable that contains all the dependencies between Hack objects.
Leap years occur in a fixed pattern of 19 years called the metonic cycle.
Like mgt0 above except we are looking for a value of m which is exactly 1
LockFile() prevents not just writing but also reading by other processes.
Make sure there is not already another index or table with the same name.
Make sure this array is sized to be on a 4-byte boundary at compile time.
Most of the built-in functions above are part of the global function set.
Move the seg-iter so that it points to the first rowid on page iLeafPgno.
NORMAL    The journal is synced once before writes begin on the database.
NOTE that the real ob_gzhandler is an alias to "zlib output compression".
NOTE: These values must match the corresponding BTREE_ values in btree.h.
No need to FREE_ALLOCA as we can reuse the 'lengths' and 'fields' arrays.
Non-zero is returned if an imposter table are created, or zero otherwise.
Note that the static mutex allocated in xInit does  not need to be freed.
Now, php_pollfd_for uses select to wait up to our time_left value only...
Number of reported tokens (one for the "unexpected", one per "expected").
OMIT_TEMPDB is set to 1 if SQLITE_OMIT_TEMPDB is defined, or 0 afterward.
On NetBSD, a new thread inherits the signal stack of the creating thread.
One created using an sqlite3_rtree_geometry_callback() SQL user function.
Or if any name is not a string or if any value is a BLOB, throw an error.
Or, if one cannot but no error occurs, set *pp to 0 and return SQLITE_OK.
Otherwise, allocate an instance of the default tokenizer (unicode61) now.
Otherwise, ensure the vector for holding the return data is large enough.
P1 is the index of the database file on which the transaction is started.
PARAMETERS: PS_GC_ARGS in php_session.h RETURN VALUE: SUCCESS or FAILURE.
Process all bytes in the buffer with 128 bytes in each round of the loop.
READER is only possible if the pager is or was in  exclusive access mode.
REG_STARTEND is a BSD extension, to allow for non-NUL-terminated strings.
Read the DACL from the original file, so we can copy it to the temp file.
Report the allocated size of a prior return from xMalloc() or xRealloc().
Return SQLITE_OK if no error occurs, or an SQLite error code if one does.
Return a pointer to a new Expr node that implements the COLLATE operator.
Return the 64-bit integer value associated with cell iCell of node pNode.
Return the index of the first character past the end of the value parsed.
Return the register number for the register that holds the maximum rowid.
Return the size of the header on each page of this PCACHE implementation.
Return true (1) if they are the same and false (0) if they are different.
Return true if the requested permission is available, or false otherwise.
Routines to read or write a two- and four-byte big-endian integer values.
SEE ALSO XMLRPC_ServerCallMethod () XMLRPC_ServerRegisterMethod () SOURCE
SQLITE_OK is returned if no error occurs, otherwise an SQLite error code.
Save the current term so that it can be used to prefix-compress the next.
Save the original values for the op_array, function table and class table
See bug 67397: overlong locale names cause trouble in uloc_getDisplayName
See more here: http://www.openssl.org/docs/crypto/RSA_public_encrypt.html
Send mail to all Bcc rcpt's This is basically a rip of the Cc code above.
Set *pCurrent to zero if all foreign key constraints have been satisfied.
Set the current error code to err_code and clear any prior error message.
Set the value if the iSrcLine field for the previously coded instruction.
Set this to 1 to enable non-thread safe re-use of NEOERR data structures.
Size of previous position list and rowid, as a 4 byte big-endian integer.
Sizes required for the strings "variant15" , "extlang3", "private12" etc.
So it is safe to truncate the database file to its minimum required size.
Test to see whether or not the database connection is in autocommit mode.
The BTREE_DATA_VERSION value is not actually stored in the database file.
The LIMIT count does not begin until after OFFSET rows have been skipped.
The ORDER BY and GROUP BY clauses may not refer to terms in outer queries
The actual header in the wal-index consists of two copies of this object.
The caller must ensure that pCur is pointing to a valid row in the table.
The code for the "sqlite3" command-line shell is also in a separate file.
The code is specific to MacOSX and does not work on other unix platforms.
The content of this file is only used if SQLITE_SYSTEM_MALLOC is defined.
The dbOrigSize and dbFileSize variables may not be trusted at this point.
The first argument is the text of a CREATE TABLE or CREATE INDEX command.
The first index block contains information on HASHTABLE_NPAGE_ONE frames.
The following constant maps TK_xx codes into corresponding  seek opcodes.
The following structure holds pointers to all of the SQLite API routines.
The fsync() system call does not work as advertised on many unix systems.
The hash for this key is also computed and returned in the *pH parameter.
The header string that appears at the beginning of every SQLite database.
The interpretation of the P4 string is left to the module implementation.
The master journal name must be the last thing written to a journal file.
The maximum number of cache pages is set to the absolute value of mxPage.
The mutex subsystem must take care of serializing its own initialization.
The new object will be used to iterate through data in structure pStruct.
The node data is passed to this  function via the zNode/nNode parameters.
The present code works in the post-conversion color space, typically RGB.
The return value is the same as the sqlite3_total_changes() API function.
The same call sets the master journal pointer in each individual journal.
The score of the selected snippet is stored in *piScore before returning.
The set of static mutexes may change from one SQLite release to the next.
The sqlite versions only work for ASCII characters, regardless of locale.
Then copy the 32-byte map into the code vector, negating it if necessary.
There is no way of generating a sequence of numbers at compile time in C.
These are not types, and cannot be preceded by "u" to make them unsigned.
These parameters and their meanings are subject to change without notice.
They make writing magic entries more complicated, for very little benefit
This MergeEngine will read data from exactly  one PmaReader per sub-task.
This VFS is set up to return SQLITE_IOCAP_POWERSAFE_OVERWRITE by default.
This allows compiled addons to work when node.exe or iojs.exe is renamed.
This allows us to stop PHP and attach a debugger before much gets started
This array determines which meta meta values are preserved in the vacuum.
This case when the file really is being compiled as a loadable  extension
This file contains OS interface code that is common to all architectures.
This file contains code used to implement the ATTACH and DETACH commands.
This function attempts to  add the cells stored in the array to page pPg.
This function is an fts3ExprIterate() callback used by fts3BestSnippet().
This function is called when initializing an incremental-merge operation.
This function is used to add VdbeComment() annotations to a VDBE program.
This gives a possible range of values of approximately 1.0e986 to 1e-986.
This hack is needed to access table information in Access databases (fmk)
This is basically what a lot of other Web servers do in this case anyway.
This is important  because the OpenWrite opcode below will be needing it.
This is used only when UCP support is available and UTF mode is selected.
This method should return either SQLITE_OK (0), or an SQLite error  code.
This returns the string representation of the supplied integer lock-type.
This routine is a copy of the sqlite3FileSuffix3() routine from the core.
This routine returns 1 if it makes changes and 0 if no flattening occurs.
This should never occur, but compilers may mutter if there is no default.
This software is based in part on the work of the Independent JPEG Group.
Translate the return values from the Source object: 0 is EOF, -1 is error
Two routines for printing the content of an sqlite3_index_info structure.
Two variations on the public interface for closing a database connection.
Unless this is an in-memory or temporary database, clear the pager cache.
Unlink the chunk at index i from  whatever list is currently a member of.
Update the aggregate accumulators based on the content of the current row
Use the math library isnan() function if compiled with SQLITE_HAVE_ISNAN.
Used by the master to efficiently transfer a blob of data to the workers.
Used to check DES salts to ensure that they contain only valid characters
Using these size values we can go forward or backward on the block chain.
Visual Studio 2013 removed all the _POSIX_ defines, but we depend on some
We aggregate the total dimensions of the container in those two variables
We must adjust codelink so that the value of ecode+codelink is unchanged.
We still need to check to make sure the same column is used on all terms.
When adding the first term to a segment, *ppWriter should be passed NULL.
When later compared with the data, the sign extension must have happened.
Whenever this column is read, the rowid will be substituted in its place.
Windows only implements a limited amount of fields from the rusage struct
ZIP_CREATE gets ignored if file exists and not ZIP_EXCL, just like open()
allocate buffer for query with expanded binds, ptr is our writing pointer
appears in the grammar, then ID becomes a fallback token for X, Y, and Z.
append the calling scripts' current working directory as a fall back case
create any needed directories if the creation of the 1st directory worked
findInodeInfo() may fail in two scenarios:  (a) A call to fstat() failed.
for each argument, create and sort list with pointers to the hash buckets
fsmagic - magic based on filesystem info - directory, special files, etc.
function    : Q_Init  purpose     : Initialise queue object and pointers.
if memRootPage is not negative, it means that the index is newly created.
if we neither have an explicit nor an implicit alias, we use the filename
lc holds the last significant character read and br is a bracket counter.
pPg must have been returned by an  earlier call to pagerAcquireMapPage().
peType is of type (int*), a pointer to an output parameter of type (int).
scratch is large enough, since it was made large enough for the whole URL
separate freeing to not dtor the symtable too, just the container zval...
try to open source file, then create internal phar file and copy contents
we found another match put a newline and '-' to do some simple formatting
we'll need to  reestablish the shared lock if we can't get the  afpUnlock
xInst: Query for the details of phrase match iIdx within the current row.
xPhraseSize: Returns the number of tokens in phrase iPhrase of the query.
xTokenize: Tokenize text using the tokenizer belonging to the FTS5 table.
(8)  Zero or more pages instances, each as follows: +  4 byte page number.
+2 is 1 because of rest (probably unnecessary), 1 because of terminating 0
1: UTF8/16 conversion required and function takes any number of arguments.
2.0.12: TBB: alpha in the destination should be a component of the result.
2: UTF16 byte order change required and function takes any number of args.
A mutex will be acquired on VxWorks by the vxworksReleaseFileId() routine.
A single-threaded IncrMerger does not open any temporary files of its own.
Again, separate the UTF-8 case for speed, and also separate the UCP cases.
Allocate a private rbu VFS for the rbu handle passed as the only argument.
Always return the value of the BTS_SECURE_DELETE setting after the change.
An error is returned if "offset+amt" is larger than the available payload.
And page 1 is never written to the log until the transaction is committed.
And this is not what users expect when they get SQLITE_LOCKED_SHAREDCACHE.
Argument is a pointer to an Fts5Data structure that contains a  leaf page.
As some of the text is of unknown length, we can't use a table of offsets.
As the code stands, it will do the right thing for R,G,B and B,G,R orders.
Assert()s in the code below verify that the numbers are aligned correctly.
At the outermost level, this function fails unless the result is SSB_DONE.
At this point there should not be a Go signal handler installed for SIGIO.
Back it up so that it points to the start of the position-list size field.
But it is safe to invoke this routine on when SQLite is already shut down.
But leave the (no-op) call to PendingTermsFlush() in in case that changes.
Bytes 32..35 and 35..39 should be page numbers which are never 0xffffffff.
Cannot start a write transaction without first holding a read transaction.
Check that the output buffer is large enough for the temporary file  name.
Close a blob handle that was previously created using sqlite3_blob_open().
Code an OP_Halt that causes the vdbe to return an SQLITE_CONSTRAINT error.
Compute the difference (in milliseconds) between localtime and UTC (a.k.a.
Copy the zend_function when calling via handler (e.g. Closure::__invoke())
Disable logging, use exit status'es and related variabled to detect errors
Disconnect all sqlite3_vtab objects that belong to database connection db.
Do a binary search to find the first sample greater than or equal to pRec.
Do not attempt this optimization if:  (1) The inner query is an aggregate.
Don't destroy entry, because the row destroy will decrease the refcounter.
Each element in the hash table is an instance of the following  structure.
Each instance of this structure contains a copy of the canonical filename.
Each open file is managed by a separate instance of the "Pager" structure.
Each u32 entry represents the span of a cell or freeblock on a btree page.
Ensure that if we're calling a protected function, we're allowed to do so.
Equivalent of array_intersect_assoc() but does not do compare of the data.
Evaluate the expression and either jump over all of the code or fall thru.
Extend level iLvl so that there is room for at least nExtra more segments.
FIXME: Resetting vars are required when session is stop/start/regenerated.
FTP won't give us a valid mode, so approximate one based on being readable
Flood fill: doesn't do much on a continuously variable tone jpeg original.
For all dirty pages currently in the cache, invoke the specified callback.
For more info on the specification and history, see http://www.xmlrpc.org.
For negated classes, we build the map as usual, then invert it at the end.
GCC does not define the offsetof() macro so we'll have to do it ourselves.
Given this approach, we need to skip ahead to the end of the encoded word.
Hence, this block of code must be the very first code in all source files.
Here we aren't sure we would store it, but we will need it further anyway.
However PCRE_G(pcre_cache) must be consistent on the next request as well.
If NOMEM is returned, then the encoding of the value may not have changed.
If P1 does not contain a record with rowid P3 then jump immediately to P2.
If P1 is non-zero, then only the currently executing statement is expired.
If `WriteFail` fails, that's probably because the pipe is full, or closed.
If a  write-transaction has already been opened, this function is a no-op.
If a crash occurs during or following this, database corruption may ensue.
If after all you need to override somthing then it is method __toString().
If an error (i.e. OOM condition) occurs, an SQLite error code is returned.
If an error occurred while writing to the file, close it before returning.
If an error occurs at this point close and delete the master journal file.
If eOp is SAVEPOINT_RELEASE, then the  statement transaction is committed.
If iCol is not valid, return a pointer to a Mem which has a value of NULL.
If it can, the merge-writer object *pWriter is initialized to write to it.
If it is an internal node, then the 64-bit integer is a child page number.
If loading from memory, we need to set the base directory for the document
If one of the substrings is found, the corresponding affinity is returned.
If pp is not NULL, then the contents of the column-list are copied to *pp.
If the btree is successfully opened, use it to obtain the database schema.
If the character following a repeat is '+', possessive_quantifier is TRUE.
If the column has REAL affinity, it may currently be stored as an integer.
If the file was opened successfully, read the schema for the new database.
If the header is read successfully and the checksum verified, return zero.
If there is a WAL file in the file-system, open this database in WAL mode.
If there is no limit and/or offset, then  iLimit and iOffset are negative.
If there is no open read-transaction on the source database, open one now.
If there is not currently a writer, then BTS_PENDING must be zero already.
If there was an INDEXED BY clause, then only that one index is considered.
If this is an xCreate call, create the underlying tables in the  database.
If unable to  initialize the mutex subsystem, return early with the error.
If unable to make an estimate, leave *pnRow unchanged and return non-zero.
If using the onepass strategy, no-op out the OP_OpenEphemeral coded above.
If we haven't registered a server_context yet, then don't bother flushing.
If writing this  page caused the database file to grow, update dbFileSize.
In Perl, unescaped square brackets may also appear as part of class names.
In most cases, the pointer argument passed with this file-control is NULL.
In other words, return TRUE if it is ok to change the content of the page.
In this way, terms get disabled if derived virtual terms are tested first.
Include stuff ************************************************************
Inherit the interfaces, only if they're not already inherited by the class
Invalid rule to return a more explicit parse error with proper line number
It does, however, expect the extra short to be allocated for each element.
It is an error for register ranges P1..P1+P3-1 and P2..P2+P3-1 to overlap.
It is unfortunate that C does not provide an operator for cyclic rotation.
Let the row packet fill our buffer and skip additional mnd_malloc + memcpy
Loop through each expression in the result set and expand them one by one.
Make sure the abstract declaration is compatible with previous declaration
Many of the following variables are used only in small blocks of the code.
Maximum number of ints of offset to save on the stack for recursive calls.
Memory for registers, parameters, cursor, etc, is allocated in two passes.
Most finders simply return a pointer to a fixed sqlite3_io_methods object.
NOTE:  These values must match the corresponding PAGER_ values in pager.h.
NOTICE: This needs changing later so it is more general than simply pairs.
Note: strchr includes the terminating zero in the characters it considers.
Now that the shift has been done, check if the initial "..." are required.
ORDER BY terms that are already an integer between 1 and N are unmodified.
Once this extraction process has started, no new elements may be inserted.
One or more segments have just been removed from absolute level iAbsLevel.
Or, if iFrom is valid - each iterator that points to a rowid before iFrom.
Or, if the input buffer is exhausted, xTokenize() should return SQLITE_OK.
Otherwise we have data available to PASS_ON Swap the brigades and continue
Otherwise, if pExpr is NULL, then SQLITE_IGNORE is treated as SQLITE_DENY.
PS_WRITE_FUNC() must write session data(zend_string *val) unconditionally.
Page 1 also has a 100-byte file header that occurs before the page header.
Parse them all and write the resulting time into the DateTime structure p.
Populate the array of registers beginning at regNew with the new row data.
Q_Next only moves in the direction from the head of the queue to the tail.
Queue cannot distinguish between pointers to literals and malloced memory.
Ref: ftp://ftp.ora.com/pub/examples/nutshell/ujip/doc/japan.inf-032092.sjs
Register B67 contains the address of the end of the current stack segment.
Release a unixInodeInfo structure previously allocated by findInodeInfo().
Remove any and all aliases between the result set and the GROUP BY clause.
Repeatedly run the collected hash value through SHA256 to burn CPU cycles.
Repeatedly run the collected hash value through SHA512 to burn CPU cycles.
Return 0 to continue the search down the tree or 2 to abort the tree walk.
Return SQLITE_OK if successful or SQLITE_NOMEM if a malloc failure occurs.
Return a pointer to the column affinity string associated with index pIdx.
Return a pointer to the inserted node, or return NULL if the append fails.
Return the filename of the database associated with a database connection.
Return the number of bytes required to store a MemJournal file descriptor.
Return true (1) if they are the same and  false (0) if they are different.
Returns the output if TRUE is specified for return, printing it otherwise.
SQLite no longer uses thread-specific data so this routine is now a no-op.
Send an SQLITE_FCNTL_PRAGMA file-control to the underlying VFS connection.
Set up the RtreeCursor.aConstraint array  with the configured constraints.
Sizes required for the strings "variant15" , "extlang11", "private12" etc.
Solaris processes report a tiny stack when run with "ulimit -s unlimited".
Special handling for a compound-select that originates as a VALUES clause.
Store in register P1 the text of an error message describing any problems.
Subsequent calls return the same context that was returned on prior calls.
TIFF thumbnail: our data structure cannot store a thumbnail of a thumbnail
TODO: replace this with a hash of available column names to column numbers
The SELECT statement must be expanded before name resolution is performed.
The algorithms are based on a preponderance of less authoritative sources.
The call to sqlite3Stat4ProbeSetValue() below would return the same value.
The call to this function will effect all following calls of SOAP methods.
The caller is responsible for ensuring that the value is eventually freed.
The code below is actually not very nice, but I didn't see a better method
The column names of the new table will match the result set of the SELECT.
The coverage testing points are line numbers in the sqlite3.c source file.
The cursor position is saved in variables BtCursor.pKey and BtCursor.nKey.
The elements of this array are read-only after initialization is complete.
The end of a position list is marked by a zero encoded as an FTS3  varint.
The first varint is the number of documents currently stored in the table.
The following structure represents a single element of the parser's stack.
The largest amount I've seen used is 218, so this number is very generous.
The memory management strategy depends on the value of the xDel parameter.
The minimum number of cells allowed for a node is a third of the  maximum.
The new terms are "dynamic" and are children of the original BETWEEN term.
The next block of code will expand the outer query FROM clause to 4 slots.
The number of bits of precision can be adjusted by changing these symbols.
The only qualification being that each varint must be stored contiguously.
The pAppData pointer is used as the only parameter to xInit and xShutdown.
The pOn and pUsing parameters are the content of the ON and USING clauses.
The page that pCur currently points to has just been modified in some way.
The pager marks the page as clean so that it does not get written to disk.
The pager must hold at least a RESERVED lock when this function is called.
The pager should eventually be freed by passing it to sqlite3PagerClose().
The processing is much simpler since there is only a single row of output.
The regex might still be not perfect, but catches the most of IP variants.
The routines also provide a convenient place to set a debugger breakpoint.
The sqlite3_mutex_try() interface returns SQLITE_OK upon successful entry.
The sqlite3_shutdown() interface must only be called from a single thread.
The sqlite3_test_control() interface can be used to move the pending byte.
The start field is used to free temporary variables in case of exceptions.
The typedef is necessary to work around problems in certain C++ compilers.
The underlying VFS is free to memory map as little or as much as it wants.
The word before the chunk address contains the size of the chunk in bytes.
Then modify the schema cookie (since the ALTER TABLE modifies the schema).
Theoretically, hue 0 (pure red) is identical to hue 6 in these transforms.
These are not allowed to refer to any names, so pass an empty NameContext.
These macros are the standard way of turning unquoted text into C strings.
These will be set in gcc_android_386.c for android-specific customization.
They determine what kind of permissions the xAccess method is looking for.
This case is highly unlikely since we just recently freed a lot of memory.
This code is derived from software contributed to Berkeley by Chris Torek.
This function allows for duplicate names in the table of named substrings.
This function assumes that Btree p has an open read or write  transaction.
This function deletes the Trigger structure and all of its sub-components.
This function does all the work for both the xConnect and xCreate methods.
This function does the work for both the xDisconnect and xDestroy methods.
This function does the work for the xUpdate method of FTS3 virtual tables.
This function is called once for each AND/NEAR cluster in the  expression.
This header file defines the interface to the write-ahead logging  system.
This implies greediness, whatever the setting of the PCRE_UNGREEDY option.
This is necessary as such an INSERT does not open a statement transaction.
This is really *bad* because it will modify the status time of the file...
This is required during savepoint rollback (see pagerPlaybackSavepoint()).
This is the "abnormal" case, for EBCDIC systems not running in UTF-8 mode.
This loop runs once for each destination page spanned by the source  page.
This object specifies the interface to a custom page cache implementation.
This part will load the functions, and check if we are in Call Graph mode.
This routine attempts to flatten subqueries as a performance optimization.
This routine is called when a new SQL statement is beginning to be parsed.
This routine is used (for example) to implement the SQL "cast()" operator.
This routine is used for troubleshooting locks on multithreaded platforms.
This routine uses and updates the nBackfill field of the wal-index header.
This type will be opaque to them and only be useful when passed back to c.
This version of the memory allocation subsystem omits all use of malloc().
To avoid deadlock, first release all locks with a larger BtShared address.
Transactions commit when a frame is written that contains a commit marker.
Try to iterate over the tree until we find item with description/mimetype.
Use care if you decide to try to use this routine for some other purposes.
Various elements of the SELECT copied into local variables for convenience
We just need to update that slot with all the information we've collected.
We need to detect this invalid data (with high probability) and ignore it.
When it reaches zero, remove the BtShared structure from the sharing list.
When we are actually compiling, find the bracket that is being referenced.
When we come from outside, private_data_ptr contains the previous STR_PTR.
Whether or not a match is found, SQLITE_OK is returned if no error occurs.
Write IM to OUTFILE as a JFIF-formatted JPEG image, using quality QUALITY.
You are always considered to have a copy of TIFF6.0 and EXIF2.10 standard.
a code_int must be able to hold 2**GIFBITS values of type int, and also -1
according to exif2.1, the thumbnail is not supposed to be greater than 64K
added to fix use of ldap_modify_add for doing an ldap_add, gerrit thomson.
as long as we don't support non-seekable output, clear data descriptor bit
backtrack one byte, the 0x0 at the end of the scramble in 5.1 and previous
check for sortKeyBuf overflow, increasing its size of the buffer if needed
check sortKeyIndxBuf overflow, increasing its size of the buffer if needed
check whether we have meta data, zero check works regardless of byte order
closing fastcgi listening socket will force fcgi_accept() exit immediately
empty string behaves like NULL on windows implementation of getservbyname.
fetch all on demand, this seems easiest if we've been here before bail out
figure out how big a chunk to map to be able to view the part that we need
generate unique inode number for alias/filename, so no phars will conflict
grow buffer to hold this bucket TODO: this can fail for persistent streams
if cgi, or fastcgi and not found in fcgi env check the regular environment
include case folding data generated from the official UnicodeData.txt file
lenp is 32 bit because converted comment can be longer than ZIP_UINT16_MAX
like INTL_CHECK_STATUS, but as a function and varying the name of the func
nPool is the size of the array (in Mem3Blocks) pointed to by aPool less 2.
note that the returned value is a completely new value, and must be freed.
routines as they walk the parse tree to make database references explicit.
the flags are not identical, thus, we assume properties are not compatible
these two are real and will be copied over cached_phars/cached_alias later
we don't need external character sets, all character sets are compiled in.
write to the gets stream if it is set, otherwise forward to c-clients gets
"Any newline" might match two characters, but it also might match just one.
- Refer to PS_* macros in php_session.h for function/parameter definitions.
0xFF SOSn SectLen(2) Bits(1) Height(2) Width(2) Channels(1)  3*Channels (1)
A "phrase" is a sequence of one or more tokens that must match in sequence.
A NameContext defines a context in which to resolve table and column names.
A connection to a fulltext index is an instance of the following structure.
A global function must exist in order for name resolution to work properly.
A malloc() may have failed within the call to sqlite3_value_text16() above.
A new SS context does not need to be created with both a Source and a Sink.
A read or write transaction may or may not be active on database handle db.
A result table records the complete query results from one or more queries.
A transaction is usually ended by  either a COMMIT or a ROLLBACK operation.
A true recursion implies not fixed length, but a subroutine call may be OK.
Accept a client connection from a server socket, using an optional timeout.
Add an entry to the array of counters managed by sqlite3_stmt_scanstatus().
Again, we must remember to replicate entries on the forward reference list.
All other lock types (SHARED, RESERVED, PENDING) are mapped into EXCLUSIVE.
All the tables in mExtra must be scanned before the current virtual  table.
Allocate a new RowSetEntry object that is associated with the given RowSet.
Allocate space from a fixed size buffer and return a pointer to that space.
Any tokens larger than this (in bytes) are passed through without stemming.
Anyway, we don't have that state info, thus we use Response as a heuristic.
Applications that care about shared cache setting should set it explicitly.
Assert the truth of VdbeCoverageAlwaysTaken() and  VdbeCoverageNeverTaken()
Attempt to allocate and return a pointer to a zeroed block of nByte  bytes.
Balancing routines are:  balance_quick() balance_deeper() balance_nonroot()
Because for a non-constant expression we need to rerun this code each time.
Begin flattening the iFrom-th entry of the FROM clause  in the outer query.
Beginning in 2.0.12 truecolor is indicated by the initial 2-byte signature.
But don't leave a totally empty module because some compilers barf at that.
Callback to check the date.timezone only when changed increases performance
Caution: pRoot may iterate through docids in ascending or descending order.
Check if there were any options specified that should be interpreted  here.
Close the sub-journal if it is open and the pager is not in exclusive mode.
Compare two left-aligned numbers: the first to have a different value wins.
Copy the key, shifting each character up by one bit and padding with zeros.
Copyright (c) 1989, 1993, 1994 The Regents of the University of California.
Count the number of entries in the b-tree and write the result to *pnEntry.
Create and return a deep copy of the object passed as the second  argument.
Cursors that have been tripped into the CURSOR_FAULT state are not counted.
Descend to the child node of the cell that the cursor currently  points at.
Determine if any of the arguments to the pExpr Function reference pSrcList.
Determine if we are dealing with Windows CE - which has a much reduced API.
Determine the value of the flags parameter passed to POSIX function open().
Do a full access check because access() will only check read-only attribute
Do not reclaim the symbols of the rule which action triggered this YYERROR.
Do not reclaim the symbols of the rule whose action triggered this YYERROR.
Dst should be reg + value, using at most 1 instruction, flags does not set.
EAM DEBUG - Newer versions of libfree2 make it easier by defining encodings
EVIDENCE-OF: R-03996-12088 The M parameter must be a valid checkpoint mode:
Each cache entry is represented by an instance of the following  structure.
Each call to this function must be matched by a call to sqlite3rbu_close().
Enlarge the database to nBytes in size (rounded up to the next chunk-size).
EofA and EofB loop until all data is exhausted then jump to the "end" labe.
Equivalent of array_intersect_uassoc() but does not do compare of the data.
Even if it fails, *ppExpr may still be set to point to an  expression tree.
Even though any XCLASS list is now discarded, we must allow for its memory.
Every connected stream will be registered as resource (in EG(regular_list).
Experimental interfaces are normally new features recently added to SQLite.
Filter is not attached to a chain, or chain is somehow not part of a stream
For UNIQUE indexes, verify that only one entry exists with the current key.
For a DEFINE group, required and first character settings are not relevant.
For a SELECT or EXISTS operator, return the register that holds the result.
For min() it returns (void *)db, where db is the sqlite3* database pointer.
For this reason, we cannot store actual data in the bytes used for locking.
Free memory that might be associated with a particular database connection.
Generate VDBE code for the statements inside the body of a single  trigger.
Gets the contents of the BLOB b and offers it to Zend for parsing/execution
Given table pTab, return a list of all the triggers attached to  the table.
Globbing rules:  '*'       Matches any sequence of zero or more characters.
Helper function for printing out trace information from debugging binaries.
Hence, we issue a warning on sqlite3_log() whenever the capability is used.
Hot-journal rollback only reads from the main journal, not the sub-journal.
If *pRC is initially non-zero (non-SQLITE_OK) then this routine is a no-op.
If CollSeq.xCmp is NULL, it means that the collating sequence is undefined.
If P4 is not NULL, then it is the name of the table that P1 is pointing to.
If Pager.errCode is set, the contents of the pager cache cannot be trusted.
If all pages in the tree have been visited, return SQLITE_OK to the caller.
If an error occurs (e.g. an OOM or IO error), return an SQLite error  code.
If an error occurs, an error code is returned  and an error left in pParse.
If any foreign key processing will be required, this function returns true.
If both processes invoke the busy handlers, neither will make any progress.
If errors occur, then an appropriate error message might be left in pParse.
If it is SAVEPOINT_ROLLBACK, then the statement transaction is rolled back.
If pPage is not part of the PGroup LRU list, then this function is a no-op.
If pParent has NB or fewer children then all children of pParent are taken.
If parameter xBusy is not NULL, it is a pointer to a busy-handler callback.
If seconds is not set to null, build the timeval, else we wait indefinitely
If some other thread already has the mutex, block until it can be obtained.
If the left hand expression has a collating sequence type, then it is used.
If the object has not already been allocated, allocate and populate it now.
If the result is a text value, the sqlite3_value object uses encoding  enc.
If the segment fits entirely on a single leaf node, iRoot will be set to 0.
If token pTok does not contain "NEAR", store an error in the pParse object.
Implement logic from libxml xmlTextConcat to add suport for comments and PI
In other words, the Next and Prev opcodes do not work after this operation.
Increasing the STR_PTR here requires one less jump in the most common case.
Instead they are used to allocate space for VdbeCursor/BtCursor structures.
Instead, set output variables *paRoot and *pnRoot to contain the root node.
Instead, the number is converted to a string and back again using strtod().
Invoke the callback once for each node of the expression, while descending.
Invoke the xSync method of all virtual tables in the sqlite3.aVTrans array.
It determines the number of and names of the columns of the new FTS4 table.
It exists solely for verifying the correct operation of the SQLite library.
It is harmless to call this on a VM that is in the SQLITE_MAGIC_HALT state.
It is only required to be valid until the next call to xNext() or xClose().
Knowing the bitmask for all tables to the left of a left join is important.
Make a few "tile_" variables to simplify common code between architectures.
Make sure that destructors are protected from previously thrown exceptions.
Move existing slots that come after the newly inserted slots out of the way
Move the open database page pDbPage to location iFreePage in the  database.
NOTES SEE ALSO xml_elem_serialize_to_stream () xml_elem_parse_buf () SOURCE
NULL terminate the buffer once, when finished, for use with the rest of PHP
Name:  Post Input: Output: Description: Author/Date:  jcar 20/9/96 History:
Normally, a connection open in exclusive mode is never in PAGER_OPEN state.
Not nice to convert between enums but we only have place for one error type
Not that TRUE is returned even if xCond() fails and no substitution occurs.
Note this call checks the environment values TMP and TEMP (in order) first.
Note: if sub is called, accum must be larger that what is being subtracted.
ON clause terms may not be used with an index on left table of a LEFT JOIN.
One (or both) of the named databases did not exist or an OOM error was hit.
One must call sqlite3_enable_load_extension() to turn on extension loading.
Only check simple variables on the RHS, as only CVs cause issues with this.
Only if it is the 3rd month is both the start and end of the year required.
Or, if pLast is non-NULL, then it is the page that contains the last rowid.
Otherwise, *ppOut is set to point to the new object and SQLITE_OK returned.
Otherwise, for an xCreate(), use 64 bytes less than the database page-size.
Otherwise, make arrangements to invoke xNotify when pOther drops its locks.
Otherwise, the term is not added to the new node, it is left empty for now.
P1 must have been opened prior to this opcode or the program will segfault.
PARAMETERS: PS_OPEN_ARGS in php_session.h RETURN VALUE: SUCCESS or FAILURE.
PARAMETERS: PS_READ_ARGS in php_session.h RETURN VALUE: SUCCESS or FAILURE.
PHP_INI_ENTRY("session.encode_sources", "globals,track", PHP_INI_ALL, NULL)
Pass iSavepoint as the second argument to the virtual table method invoked.
Populate the buffer pointed to by zBufOut with nByte bytes of  random data.
RESERVED:  A single process may hold a RESERVED lock on a file at any time.
Register P3+1 stores the argc parameter to be passed to the xFilter method.
Register a collation sequence factory callback with the database handle db.
Reset max_execution_time (no longer executing php code after response sent)
Resolve label "x" to be the address of the next instruction to be inserted.
Return SQLITE_OK if successful, or an SQLite error code if an error occurs.
Return SQLITE_OK on success and an error code if we cannot obtain the lock.
Return UTF-8 encoded English language explanation of the most recent error.
Return a string that describes the kind of error specified in the argument.
SQLite uses this trick to improve the performance of CREATE INDEX commands.
Set nDestTruncate to the final number of pages in the destination database.
Set output variable *pbEof to true if it reaches EOF or if an error occurs.
Set session status to prevent error while restoring save handler INI value.
Set the most recent error code and error string for the sqlite handle "db".
Set up a raw page so that it looks like a database page holding no entries.
Setting to a null string reverts to the default temporary directory search.
Shouldn't be too hard to do...just need to map of paths to FSEvent streams.
So if speed is of utmost importance, it makes sense to disable the mutexes.
Some of the definitions that are in this file are marked as "experimental".
Space for tracking which blocks are checked out and the size of each block.
Starts up a thread running a run loop, creates the env, and then returns it
Substitute true, false and null (including unqualified usage in namespaces)
The  'matchinfo' data is an array of 32-bit unsigned integers (C type u32).
The "VVA" acronym stands for "Verification, Validation, and Accreditation".
The OPFLG_INITIALIZER macro is created by mkopcodeh.awk during compilation.
The VDBE cursor numbers might be spread out over the non-negative integers.
The blob of memory associated with  cursor 0 is stored in memory cell nMem.
The buffer associated with pPrev is extended by this function if requrired.
The data or key is taken from the entry that pCur is currently pointing to.
The fg and bg colors must already be in the color table for palette images.
The fields under **Inputs** are the inputs to xBestIndex and are read-only.
The first (void *) actually points to a function of type (int (*)(void *)).
The first integer in the list is the total number of  entries in the index.
The first of the while(...) loops below skips over the record-length field.
The following code adds nothing to the actual functionality of the program.
The following routines are implementations of the MemPage.xCellSize method.
The following variable is (normally) set once and never changes thereafter.
The list of pages passed into this routine is always sorted by page number.
The local value of Pager.sectorSize is restored at the end of that routine.
The main rollback journal uses checksums - the statement journal does  not.
The merge is an "OR" merge (see function fts3DoclistOrMerge() for details).
The moreToFollow flag indicates that this is not the last item in the tree.
The next group of routines are convenience wrappers around the VFS methods.
The one that was just advanced (iPrev) and the one next to it in the array.
The point lies inside the portion of the plane spanned by the line segment.
The root of a tokens AND/NEAR cluster is stored in  Fts3TokenAndCost.pRoot.
The sqlite3_wal_hook() callback registered by sqlite3_wal_autocheckpoint().
The structure is reclaimed when the number of pointers to it drops to zero.
The value is a string composed of a list of integers describing  the index.
The value of keyClass  determines what kind of key the hash table will use.
Then run the co-routines in parallel and merge the results into the output.
There are many possibilities here to consider: - Assume YYFAIL is not used.
There must be an open cursor to pTab in iTable when this routine is called.
There will be a read lock on the database whenever there is an open cursor.
This block tests if it is possible to add the page as a new free-list leaf.
This case cannot be optimized in the same was as normal capturing brackets.
This case when there exist aggregate functions or a GROUP BY clause or both
This column is mapped to the tables implicit primary  key column - "rowid".
This file contains code used to implement the sqlite3_set_authorizer() API.
This function is a no-op if *pRc is other than SQLITE_OK when it is called.
This function normally generates a nested loop for all tables in  pTabList.
This function uses the C-library functions time(), gmtime() and strftime().
This happens below, after the sibling pages have been  populated, not here.
This is an OpenSSL-compatible implementation of the RSA Data Security, Inc.
This is quite safe, as the pager will have transitioned to the error state.
This is so both syntaxes can be tested using a single build of testfixture.
This is the fallback stemmer used when the porter stemmer is inappropriate.
This is the value that walTryBeginRead returns when it needs to be retried.
This negated adjustment is what is written into the "adjustment" parameter.
This routine generates code that stores NULLs in all of those memory cells.
This routine implements the bulk of the logic behind the sqlite_step() API.
This routine is called, for example, just before deleting the Table record.
This value may be overridden using the  sqlite3PagerJournalSizeLimit() API.
This variation on cellSizePtr() is used inside of assert() statements only.
This whole area is rewritten in PCRE2 because there are some obscure cases.
Thus we can skip this part of the runtime check for non-internal functions.
Thus, we need to calculate a value, nOff, between 0 and 7, to shift  it by.
Try and cache the script and assume that it is returned from_shared_memory.
Unlock all of the btrees previously locked by a call to sqlite3VdbeEnter().
Uses OCIPing() or OCIServerVersion() depending on the Oracle Client version
Verify that there is enough key space remaining to avoid a buffer overread.
WARNING:  This routine might reallocate the space used to store WhereTerms.
We have to adjust the value or repeat_max, since one less copy is required.
When this is done, the chunk index refers to the second block of the chunk.
ask the driver to perform any normalization it needs on the parameter name.
check flag to see if do_mod was called to perform full add , gerrit thomson
check for NULL buffer in case of memory error in xmlEncodeEntitiesReentrant
err: (maybe NULL) on failure, an error message line is written to this BIO.
errCode  The Pager.errCode variable is only ever used in PAGER_ERROR state.
if entry needs expading ifd cache and entry is at end of current ifd cache.
if the type is however not long, then we will do a goto in the next switch.
iterates through docs callbacks and calls any that have not yet been called
ither by passing in the already created xmlnode or passing in the node name
json_replace(JSON, PATH, VALUE, ...)  Replace the value at PATH with VALUE.
leave a sane environment behind since some atexit() handlers call getenv().
mod_data, *save_path, *session_name are guaranteed to have non-NULL values.
need to use a PHPAPI function here because it is external module in windows
no need to check, include_path not even specified in fopen/ no active phars
onced forked tell zlog to also send messages through sapi_cgi_log_fastcgi()
otherwise, the filename of the script will be retreived later via argc/argv
pSortCsr is the cursor that will return results to the user for this query.
set the thumbnail stuff to nothing so we can test to see if they get set up
strlen() will not be accurate, as returned data may contain embedded nulls.
subpats_order is pre-set to pattern mode so we change it only if necessary.
the statement is 'CREATE DATABASE ...' if the link argument is IBASE_CREATE
this is passed down as we recurse, so our children have access to the info.
try to make sure that the OS sends all data before we close the connection.
used by prepare and exec to allocate a statement handle and prepare the SQL
we need this since some servers refuse to accept SIZE command in ASCII mode
we need to handle xml: namespace specially, since it is an implicit schema.
windows has no IPV6_RECVPKTINFO, and uses IPV6_PKTINFO for the same effect.
"-1" is compareable to 0 but allows a non restrictive access which is fater.
(e.g. Memcache) mod_data, *key, *val are guaranteed to have non-NULL values.
*pzFile is set to point to a buffer containing the name of the file to open.
- quite speedy compared to implementations written in interpreted languages.
-1 required because we want the last run opcode, not the next to-be-run one.
0 means mutexes are permanently disable and the library is never threadsafe.
3) Calls the sqlite3rbu_step() function one or more times on the new handle.
A "Collating Sequence" is defined by an instance of the following structure.
A separate function sqlite3LocateCollSeq() is a wrapper around this routine.
A subsequent call to sqlite3DeferForeignKey() might change this to DEFERRED.
A two-byte-character lead-byte not followed by trail-byte represents itself.
Add the starting values of the context according to FIPS 180-2:6.2.2 step 4.
Add the starting values of the context according to FIPS 180-2:6.3.2 step 4.
After this routine is called the VM has been "packaged" and is ready to run.
All pointers to WhereTerms should be invalidated after calling this routine.
All the rest have the FLAG_INTERN bit set and are thus for internal use only
Also propagate all EP_Propagate flags from the Expr.x.pList into Expr.flags.
An SQLite error code is returned if an error occurs, or SQLITE_OK otherwise.
An expired statement means that recompilation of the statement is recommend.
And lower the cost estimate to encourage the constrained version to be used.
And set the Expr.iRightJoinTable to iTable for every term in the expression.
Argument aWalData must point to an array of WAL_SAVEPOINT_NDATA u32  values.
Argument pIn points to a character that is part of a nul-terminated  string.
Because of the atomic-write  property of the host file-system, this is safe.
Big 5 mapping: use "JIS-8 half-width katakana" coding from 8-bit characters.
But LFS does not exist in the kernel in Red Hat 6.0, so the code won't work.
But generally, doing both brings us on the safe track at least in NTS build.
But just in case, use snprintf() and make sure the buffer is zero-terminated
But no sync operations occur for an ordinary commit in NORMAL mode with WAL.
But the code generator expects the join operator to be on the right operand.
Changing the value sets a specific directory to be used for temporary files.
Check if the query is of one of the following forms:  SELECT min(x) FROM ...
Check if this call is removing or replacing an existing collation  sequence.
Check to see if an existing table or index can be used to satisfy the query.
Columns are not decoded and reassembled, which greatly improves performance.
Context object passed by sqlite3Stat4ProbeSetValue() through to  valueNew().
Converts a `struct events *` in an OCaml value of type `Fsnotify.event list`
Create VDBE to loop through the entries in pSrc that match the WHERE clause.
Decode any more doclist data that appears on the page before the first term.
Determine which stream compression filter (if any) we need to read this file
Each month is divided into three decades (instead of weeks) of 10 days each.
Each time a transaction is committed, The changeCountDone flag is inspected.
Ensure there is enough workspace for forward references before copying them.
Execute a rollback if a transaction is active and unlock the  database file.
Extreme care is required when writing code to depend on this initialization.
FTS3 used to optionally store character offsets using a compile-time option.
Figure out if we have any triggers and if the table being updated is a view.
First make sure the memory subsystem is initialized, then do the allocation.
For anything else, we wrap the entire repeated item inside OP_ONCE brackets.
For each bit set in fixed_bit_masks, what the value is for this instruction.
For example, Britain converted in 1752, The USSR in 1918 and Greece in 1923.
For example, testcase() can be used to make sure boundary values are tested.
For the main database, set sqlite3.enc to the encoding of the main database.
Found no documentation how the defined behaviour is when this function fails
Further information about sqlite_stat3 follows the sqlite_stat4 description.
General Interfaces ******  Initialize and shutdown the page cache subsystem.
Hence we limit the maximum size to 0x7fffff00, giving 255 bytes of overhead.
Hence, a mutex on the BtShared should be held prior to calling this routine.
Here code is inserted which will execute if the parser stack every overflows
However, a non-prefix query like '1st' will match against "1st" and "first".
If *pRc is other than SQLITE_OK when this function is called, it is a no-op.
If -s has been specified, treat character special files like ordinary files.
If a rowid value was supplied, check if it is already present in  the table.
If a transaction is opened, it  will be closed before this function returns.
If aOvflSpace is set to a null pointer, this function returns  SQLITE_NOMEM.
If all calls to virtual table methods are successful, SQLITE_OK is returned.
If an error did occur, this has the effect of zeroing all output parameters.
If an error occurs, *ppOut is set to NULL and an SQLite error code returned.
If an error occurs, leave an error code and error message in the rbu handle.
If any of the parent-key values are NULL, then the row cannot match  itself.
If limit is negative all components except the last abs(limit) are returned.
If pState is NULL, then the wal file may not have been opened and recovered.
If pp is not NULL, then the contents of the position list are copied to *pp.
If so, this  iteration of the loop will work on merging at the hinted level.
If someone is completely sure that everything is fine, he can switch it off.
If the 'autoVacuum' parameter is non-zero, then auto-vacuum mode is enabled.
If the database file was of zero-length, then the DB_Empty flag is also set.
If the first attempt failed, it might have been due to a race with a writer.
If the last opcode is "op" and it is not a jump destination, then remove it.
If the minimum is zero, we can continue at the same level without recursion.
If the operation is a DELETE, then parameter aChange is passed a NULL value.
If the user specified a negative value for the languageid, use zero instead.
If the value in P1 is NULL then take the jump if and only if P3 is non-zero.
If the value of P is something other than an integer, then zero is returned.
If there is a GROUP BY clause we might need a sorting index to implement it.
If there is no foreign key related processing, this function  returns false.
If they are sorted in ascending order, it should be passed a non-zero value.
If this file is compiled as part of the amalgamation, they are not required.
If this is a virtual table, invoke the xRename() function if one is defined.
If we come here, output unbound LONG and/or BINARY column data to the client
If writing to memory or generating a set only a single column may be output.
If zWhere is not NULL, delete all entries  associated with the table zWhere.
Implementations of scalar functions for case mapping - upper() and  lower().
In other words, if the string looks like a number, convert it into a number.
In theory we should allow an extra byte below, since we don't need the NULL.
In this implementation, a single file can hold one or more separate  BTrees.
Indices built on an undefined collating sequence may not be read or written.
It is recursive invocation of triggers, at the SQL level, that is  disabled.
It is written back to the database by the fts5StructureRelease() call below.
It merges all these doclists into one, the doclist for the specified prefix.
It must check the list of such references for the group we are dealing with.
It then returns the sqlite3_io_methods object that implements that strategy.
It was designed with consideration of the flaws in various other generators.
Locate the table the column is being extracted from in NameContext.pSrcList.
Loop through all rows of the table, inserting index records into the sorter.
Make no changes but still report the old value if the new limit is negative.
Make the parent page writable, so that the new divider cell may be inserted.
Make the tree as deep as it needs to be in order to contain the entire list.
Many of the flag-pragmas modify the code generated by the SQL  compiler (eg.
Maximum number of entries in hash table before  sub-dividing and re-hashing.
Most finder functions return a pointer to a fixed sqlite3_io_methods object.
Must be called before any other call to 'spoofchecker_object_...' functions.
NOTE: The WinRT sub-platform is always assumed to be based on the NT kernel.
NULL_LENGTH (0xFB) comes from COM_FIELD_LIST when the default value is NULL.
Note that OleView is unable to generate C headers for this particular tlb...
Nothing in this file or anywhere else in SQLite does any kind of encryption.
On DragonFly, a new thread inherits the signal stack of the creating thread.
Opcode: IfNot P1 P2 P3 * *  Jump to P2 if the value in register P1 is False.
Opcode: VBegin * * * P4 *  P4 may be a pointer to an sqlite3_vtab structure.
Or when  implicit "x IN (SELECT x FROM tbl)" terms are added for skip-scans.
Or, it might be the case that the file on disk is smaller than  nPage pages.
Otherwise we can fall through and treat it the same as any other subpattern.
Otherwise, if no sqlite_stat1 entry is available, use  RTREE_DEFAULT_ROWEST.
Otherwise, if this is not a WAL database or the WAL file is empty, return 0.
PARAMETERS: PS_WRITE_ARGS in php_session.h RETURN VALUE: SUCCESS or FAILURE.
Report the current page size and number of reserved bytes back to the codec.
Restriction  (4) has since been expanded to exclude all DISTINCT subqueries.
Return  SQLITE_OK if successful, or an SQLite error code if an error occurs.
Return 2 if there are differences other than the top-level COLLATE operator.
Return SQLITE_OK  if successful, or an SQLite error code if an error occurs.
Return SQLITE_OK if flushing the buffered data succeeds or is not  required.
Return SQLITE_OK if successful, or an SQLite error code if an error  occurs.
Return TRUE if pFile has been renamed or unlinked since it was first opened.
Return TRUE if the given yDbMask object is empty - if it contains no 1 bits.
Return UTF-16 encoded English language explanation of the most recent error.
Return true if the area covered by p2 is a subset of the area covered by p1.
Right after that, the writer decided to wrap around to the start of the log.
SEE ALSO XMLRPC_VALUE_ToXML () XMLRPC_REQUEST_FromXML () XMLRPC_VALUE SOURCE
SERVER_NAME should also be defined at this stage..but better check it anyway
See sqlite3BtreeCommitPhaseTwo() for the second phase of the commit process.
See the xferOptimization() function for the implementation of this template.
Setting this to the "natural word" size of your CPU may improve performance.
Shortcut for the common case where the false and NULL outcomes are the same.
Single character search can shortcut memcmps Can also avoid tolower emallocs
So the longest string that can be completely written will be n-1 characters.
So we are really looking for an instance of a consonant followed by a vowel.
So we have to define the macros in different ways depending on the compiler.
So we might as well use bogus content rather than reading content from disk.
Store the current value of the database handles deferred constraint counter.
Synchronous is on by default so database corruption is not normally a worry.
Tells whether the character codes below 128 are enough to determine a match.
Test that a signal handler works in non-Go code when using os/signal.Notify.
That could help to adjust intersections  to produce a nice interior_extrema.
The "iScanStatusOp" parameter determines which status information to return.
The SQLITE_MUTEX_STATIC_MASTER mutex must be held while accessing this list.
The Walker.eCode value determines the type of "constant" we are looking for.
The caller guarantees that there is sufficient space to make the allocation.
The calling function should free this memory by calling sqlite3DbFree(db, ).
The condition must always be set, even if the ORR/EOR is not executed above.
The current continuation level reverts to the level of the one we're seeing.
The default configuration is to use memory allocation routines in this file.
The first fields of the two keys are equal and there are no trailing fields.
The first thread to call this routine runs the initialization to completion.
The following block merges the two lists and writes the results to buffer p.
The following global variables hold counters used for testing purposes only.
The handle may be closed by calling the sqlite3Fts3SegmentsClose() function.
The idx column names the index and the tbl column is the table of the index.
The information where a class is declared is only available for user classes
The input is an array of integers that acts as a program to test the Bitvec.
The pointer may subsequently be used as an argument to the function free(3).
The position list in this case is populated as for "A * C" before returning.
The print_pager_state() routine is intended to be used by the debugger only.
The problem in trying to be exactly like Perl is in the handling of escapes.
The query strategy is to look for an equality constraint on the json column.
The result of expressions involving strings with embedded NULs is undefined.
The root node of an r-tree always exists, even if the r-tree table is empty.
The routines in this file implement the programmer interface to the library.
The savepoint to rollback or release is identified by parameter  iSavepoint.
The subtransaction can be rolled back independently of the main transaction.
The tables are used only for characters whose code values are less than 256.
The values are changed for all database connections within the same process.
The variant of LIKE used will be case sensitive or not depending on the RHS.
There are five possible actions: ROLLBACK, ABORT, FAIL, REPLACE, and IGNORE.
There are various methods for file locking used for concurrency control:  1.
There might be concurrent writers, when that happens, the first writer wins.
These  functions call sqlite3MallocRaw() directly instead of sqliteMalloc().
These action code values signify what kind of operation is to be authorized.
These are just wrappers around the main interface routine of sqlite3_exec().
These routines are available for the mem2.c debugging memory allocator only.
These will be set in gcc_android_amd64.c for android-specific customization.
This UDF library adds the ability to call PHP functions from SQL statements.
This analysis only looks at whether subterms appropriate for indexing exist.
This can be NULL to have the virtual table select the new  rowid for itself.
This code is derived from software contributed to Berkeley by Peter McIlroy.
This code is slightly faster, but it is also larger and much harder to test.
This fd will be ready to be read when there are events ready to be processed
This file is part of libXMLRPC - a C library for xml-encoded function calls.
This function is an fts3ExprIterate() callback used by sqlite3Fts3Offsets().
This function is used by SQL generated to implement the ALTER TABLE command.
This function now supports some "standardized" fault codes, as specified at.
This function will be extremely optimized by remembering the end of the list
This header file defines the interface that the sqlite page cache subsystem.
This is always one of EXPR_FULLSIZE, EXPR_REDUCEDSIZE or EXPR_TOKENONLYSIZE.
This is an optimization that boosts performance by avoiding redundant seeks.
This is the same information as is accessible via the xInstCount/xInst APIs.
This is used to share an environment in read-only mode with all the workers.
This macro does zero padding so that the precision requirement is satisfied.
This means invalidating the read buffer and then performing a low-level seek
This module contains global variables that are exported by the PCRE library.
This opcode invokes the xFilter method on the virtual table specified by P1.
This ought to use HWB, but we don't have an alpha-aware version of that yet.
This prevents a double TICK generated by the parser statement of "declare()"
This routine accepts hexadecimal literals, whereas sqlite3Atoi64() does not.
This routine implements the xFindFunction method for the FTS3 virtual table.
This should either be fixed, or pInput/nBytes should be converted to zInput.
This should never happen, since all clists are shorter than 5 character now.
This value is used when the user selects the no-sync option for the journal.
To downgrade to shared, simply update our internal notion of the lock state.
Translate the schema name in zDb into a pointer to the corresponding schema.
Update context to reflect the concatenation of another buffer full of bytes.
WHEN eN THEN rN ELSE y END  Form B: CASE WHEN e1 THEN r1 WHEN e2 THEN r2 ...
We always assume that the YYYY-MM-DD is according to the Gregorian calendar.
We check these after opening the stream, so that we save on fstat() syscalls
We iterate through the pattern, searching for the matching ending delimiter.
We take the approach of translating immediately before every use of yytoken.
We use this to detect if a variable is multiply assigned or left unassigned.
When reloaded, dlopen() will return the handle of the already loaded module.
according to error handling mode, suppress error, throw exception or show it
allow readable non-descriptor based streams to participate in stream_select.
check for curl-wrappers that provide headers via a special "headers" element
creating a layered source calls zip_keep() on the lower layer, so we free it
curN holds the error propagated from the previous pixel on the current line.
dbOrigSize is a copy of the dbSize variable at the start of the transaction.
don't return the generator value as a string unless it doesn't fit in a long
eventually we'll want to enable this in the absence of an explicit dh_param.
for some reasons phar needs to be flushed even if there is no write going on
get2bytea() is only used for accessing the cell addresses in a btree header.
if phar_get_or_create_entry_data returns a sub-directory, we have to free it
if the original value is 0 (disabled), then allow setting/unsetting at will.
if there is at least on idle child, it will handle the connection, stop here
json_insert(JSON, PATH, VALUE, ...)  Create PATH and initialize it to VALUE.
make zend_get_property_info silent if we have getter - we may want to use it
return whatever type we got back from the callback: let DB handle conversion
returns     : integer index into array of node pointers, or -1 if not found.
sanity check we must use a value between MIN_ACCEL_FILES and MAX_ACCEL_FILES
set the error anyway, in case in the future we decide not to throw an error.
sqlite3VdbeSorterWrite()      Add a single new row to the VdbeSorter object.
the element is replaced, delref the old one as in SplDoublyLinkedList::pop()
there is no conn handle in this function thus we can't set OOM in error_info
to have the same reference count to src as in the case where it's not stored
we can avoid the key_type check here, because we tested it in the other loop
xPhraseCount: Returns the number of phrases in the current query expression.
"a" is the event type, one of TK_UPDATE, TK_INSERT, TK_DELETE, or TK_INSTEAD.
(6)  The subquery does not use aggregates or the outer query is not DISTINCT.
(And note that OP_EXACT uses more memory, which we cannot get at this stage.)
(Yes, believe it or not, there are still machines out there that use EBCDIC.)
- If you supply only sockets, this simply passes through to winsock select().
1 means the library is serialized which is the highest level of threadsafety.
2.0.12: a new adaptation from the same original, this time by Barend Gehrels.
2.0.24: inptr must not be incremented until after transparency check, if any.
2: the *-rbu file has been constructed, but not yet moved  to the *-wal path.
A WhereLoop that has no columns in the ORDER BY clause is not order-distinct.
A Windows DLL is unable to call an arbitrary function in the main executable.
A cursor used to incrementally tokenize this string is returned in  ppCursor.
A new segment has just been written to level iLvl of index structure pStruct.
A process may only obtain a PENDING lock after it has obtained a SHARED lock.
A slot for the record has already been allocated in the  SQLITE_MASTER table.
A value of 0 means to operate on the outermost savepoint (the first created).
All of the keys on Ptr(N) and its subpages have values greater than Key(N-1).
All-in-one: Since we use the JIT compiler only from here, we just include it.
Also append a value to the dlidx buffer, in case a doclist-index is required.
Also, collation destructor - CollSeq.xDel() - function may need to be called.
Argument p points to a buffer containing utf-8 text that is n bytes in  size.
Argument:   the result of a previous pcre_get_substring() Returns:    nothing
Ascending order if Fts3Cursor.bDesc is zero, or descending if it is non-zero.
At this point, there should be no outstanding memory allocations on the heap.
At this point, we will need additional characters from the string to proceed.
Attempt to obtain the exclusive WAL lock defined by parameters lockIdx and n.
BUT, to get into this branch of code, the name is too long, so we don't care.
Before doing so, abort any other statements this handle currently has active.
Before this function returns, it is updated to contain a copy of zTerm/nTerm.
Below this point is the implementation of the integrity-check  functionality.
But, unlike Destroy, do not remove the table or index from the database file.
Changing the value sets a specific file to be used for database access locks.
Check whether we can get rid of some of the deleted entries which are unused.
Close now, free_reference will try, if we are last, but that's not a problem.
Column col1 is column iColLeft of tab1, and col2 is column iColRight of tab2.
Create a new dummy file slot within a writeable phar for a newly created file
Destroy an sqlite3_value object previously obtained from sqlite3_value_dup().
During sqlite3_os_init() we do a GetSystemInfo() to get the granularity size.
EVIDENCE-OF: R-41220-51800 This option sets the threading mode to Serialized.
EVIDENCE-OF: R-52786-44878 SQLite defines three built-in collating functions:
Each subbitmap is normalized to hold deal with values between 1 and iDivisor.
Estimated quantities used for query planning are stored as 16-bit logarithms.
Ex:  "main" or "temp" or the symbolic name assigned to an ATTACH-ed database.
Files save handler checks/create save_path directory and setup ps_files data.
Files save handler supports splitting session data into multiple directories.
Firebird only requires single quotes to be doubled if string lengths are used
First we set PCRE_NOTEMPTY_ATSTART and try the match again at the same point.
For json_each() path and root are the same so fall through into the root case
For the max() aggregate, the sqlite3_user_data() function returns (void *)-1.
For tracing shifts, the names of all terminals and nonterminals are required.
Generate code that will tell the VDBE the names of columns in the result set.
Get the delimiter and display a warning if it is alphanumeric or a backslash.
Given cursor id iId, return a pointer to the corresponding Fts5Index  object.
Handle compound SELECT statements using the separate multiSelect() procedure.
How many letters to skip because an eariler encoding handled multiple letters
If *pp does not point to or past pEnd, then a single varint is read from *pp.
If a finally block was found we jump directly to it and resume the generator.
If a shared-lock is already held when this function is called, it is a no-op.
If an error has already occurred when this function is called, it is a no-op.
If an error occurs during a ROLLBACK, we can no longer trust the pager cache.
If an error occurs, leave an error code and error message in the rbu  handle.
If any of the expressions is an IPK column on table iBase, then return  true.
If any of zDb, zTab, and zCol are NULL then those fields will match anything.
If caseless matching is required, scan the range and process alternate cases.
If either  of these statements is untrue, then the data structure is corrupt.
If existing WhereLoop p is better than pTemplate, pTemplate can be discarded.
If just tried and failed to reuse lookahead token after an error, discard it.
If one is found, set iAbsLevel to the absolute level number and nSeg to nMin.
If one term is a prefix of another, the longer term is considered the larger.
If page ovfl is the last page in its linked  list, *pPgnoNext is set to zero.
If reached the chunk size, add it to the result array, and reset the pointer.
If so, then Fts3Cursor.eSearch - 2 is the index of the column to be searched.
If the P1 index entry is less than or equal to the key value then jump to P2.
If the QUERY_TEST_NOIDX flag was specified, then this must be a prefix-query.
If the b-tree structure is empty, the cursor state is set to  CURSOR_INVALID.
If the expression cannot be converted to a value, then *ppVal is set to NULL.
If the generator is already closed throw the exception in the current context
If the invoked function returns non-zero, then the commit becomes a rollback.
If the source page size is smaller than the destination page size,  round up.
If they are sorted in ascending  order, it should be passed a non-zero value.
If this is not currently true, make it true by defining or undefining NDEBUG.
If unable to establish the necessary locks, this routine returns SQLITE_BUSY.
If we are going to print something, make sure that we have a separator first.
If we are trying to update a view, realize that view into an ephemeral table.
In CGI mode, we consider the environment to be a part of the server variables
In all other cases only one of them was specified, and that can goes to TMP1.
In that case, we need to return right away and not make any changes to pExpr.
In the second,  set *piEndBlock to the first value and *pnByte to the second.
Incrementing the refcount of obj and inf would confuse the garbage collector.
Initialize the object pIter to point to term pTerm/nTerm within segment pSeg.
It can either be from the style attribute or because the element is flexible.
It does not change over-length encodings to 0xfffd as some systems recommend.
It is flushed to disk whenever xSync(), xRelease() or xSavepoint() is called.
It is invoked after an error occurs in an OS function and errno has been set.
It is the responsibility of the caller to ensure that it is eventually freed.
It only comes into play when the SQLITE_MEMDEBUG compile-time option is used.
It turns out this is useful for other purposes, such as parsing config files.
It will be replaced by the real entry in code generated at sqlite3EndTable().
Locks block if the mask is exactly UNIX_SHM_C and are non-blocking otherwise.
MD5Update blocks the data and converts bytes into longwords for this routine.
Mark password as unchanged by PHP during the duration of the database session
Maybe L*a*b* and Delta-E will give better results (and a better granularity).
Memory cell (nMem-1) stores the blob of memory associated with cursor 1, etc.
NOTE(jsing, minux): we can't free oldtcb without causing double-free problem.
Node pRight always needs a node number, as it was created by nodeNew() above.
Note that processing for WHERE_GROUPBY and WHERE_DISTINCTBY is not as strict.
Note that the "rd" argument of RMATCH isn't actually used in this definition.
Note that the "rw" argument of RMATCH isn't actually used in this definition.
Once the leaf is located, this  function is called to determine its ancestry.
Or, if this is a temporary file, leave both nPathname and zPathname set to 0.
Otherwise we would need a facility to handle such exceptions in that handler.
Otherwise, either SQLITE_BUSY or an SQLITE_IOERR_XXX error code is  returned.
Otherwise, it has to be merged into an in-memory  doclist and then traversed.
Otherwise, the result is 1 if the string matches the pattern, or 0 otherwise.
Otherwise, various features that require the use of temporary files may fail.
PATH_TRANSLATED should be defined at this stage but better safe than sorry :)
Parameter P2 is one of SQLITE_CHECKPOINT_PASSIVE, FULL, RESTART, or TRUNCATE.
Parameter P4 may point to a string containing the table-name, or may be NULL.
Perhaps the next process to come along will be able to rollback the database.
Perhaps we should keep this brigade hanging around and try to write it later.
Pointer p now points at the first byte past the varint we are  interested in.
Protects class' refcount, copies default properties, functions and class name
Qualify the filename so that DosQueryAppType does not do extraneous searches.
Restore table -- usually faster then memset'ing the table on every invocation
Return SQLITE_OK if successful, or SQLITE_NOMEM if a memory allocation fails.
Return a pointer to the "temporary page" buffer held internally by the pager.
Return a pointer to the matching FuncDef if found, or 0 if there is no match.
Return the numeric type for pMem, either MEM_Int or MEM_Real or both or none.
Return the value of the iSize parameter specified when Bitvec *p was created.
Return true (non-zero) if we are running under WinNT, Win2K, WinXP, or WinCE.
Return true if the file-handle passed as an argument is  an in-memory journal
Returns non-zero if the character should be treated as a directory separator.
Returns: FAILURE/SUCCESS whether the input was correct (i.e. no range errors)
SQLITE_OK is returned if an error occurs, or an SQLite error code  otherwise.
See the comment and state diagram above for a description of the pager state.
Set *pnMax to the largest segment level in the database for the index iIndex.
Set isset fetch indicator here, opcache disallows runtime altering of the AST
Set the number of result columns that will be returned by this SQL statement.
Since that seems to violate the DRY principle, we check against it and abort.
So to find the start of the poslist, skip forward 2 bytes then over a varint.
So we might as well translate every INSTEAD OF trigger into a BEFORE trigger.
Table-name and function resolution occurs on the substituted expression tree.
Technically, we need only write to the last page in order to extend the file.
Temporary pager files may enter the ERROR state, but in-memory pagers cannot.
Text is in ascii and enriched by a simple markup: toggles bold font emphasis.
The *pOffset value is increased to the start of the next page in the journal.
The FuncDef.flags variable is set to the value passed as the flags parameter.
The aSpare array is used as temporary working space by the sorting algorithm.
The call to sqlite3BtreeRollback() drops any table-locks held by this handle.
The condition must always be set, even if the ORR/EORI is not executed above.
The default location of PENDING_BYTE is the first byte past the 1GB boundary.
The expired flag was set on the VDBE before the first call to sqlite3_step().
The file-handle passed as the only argument is guaranteed to be an open file.
The first argument passed to this function must be a valid, open, RBU handle.
The following values may be passed as the second argument to sqlite3OsLock().
The interfaces below this point are called by the parser code in fts5parse.y.
The iterator is left pointing to the first entry when  this function returns.
The lowest is 0xc2, but we overkill by starting at 0xc0 (192) for simplicity.
The main dimension is the sum of all the elements dimension plus the spacing.
The next 2 bytes contain the number of entries currently  stored in the node.
The number we're after is the integer represented by those digits times 10**e
The other bytes change randomly with each file change when a codec is in use.
The other one to retrieve the list of dependencies associated with an object.
The output line number is small enough that we are still in the main program.
The query is a simple term lookup that matches at most one term in the index.
The return value is the same as the sqlite3_last_insert_rowid() API function.
The rule applies to a range of nRange codepoints starting at codepoint iCode.
The vacuum_db journal file is deleted when the pager is closed by the DETACH.
There is a doclist-index associated with the final term on the current  page.
These are assigned at the end to avoid unitialized memory in case of an error
These fields do not need to be freed when deallocating the AggInfo structure.
These values must match the values defined in wal.c for the equivalent locks.
This VDBE program seeks a btree cursor to the identified  db/table/row entry.
This case could be removed without changing the results of running this code.
This function accepts one argument - the name of a table in the RBU database.
This function interprets the string at (*pp) as a non-negative integer value.
This function is called to select the tokens (if any) that will be  deferred.
This function is used by SQL generated to implement the  ALTER TABLE command.
This function is used to access the current position list for phrase iPhrase.
This function may return SQLITE_NOMEM or an IO error code if an error occurs.
This happens as the result of a "NOT NULL" constraint in the database schema.
This header file defines the interface that the sqlite B-Tree file subsystem.
This is a brand new connection, we need not ping, but have to initialize ping
This is an internal self-check only - it is not an essential processing step.
This is assumed to be 29 days 12 hours and 793 halakim for calendar purposes.
This is important for embedded applications on platforms with limited memory.
This is mainly for debugging, though the function is able to force a failure.
This is part of Perl's movement towards a unified syntax for back references.
This is the forcible breaking of infinite loops as implemented in Perl 5.005.
This occurs at start-time (as a consequence of calling sqlite3_initialize()).
This opcode opens a cursor to the virtual table and stores that cursor in P1.
This provides for register storage for the routine which overflows the stack.
This routine also does error checking and name resolution for function names.
This routine generates the code for the inside of the inner loop of a SELECT.
This temporary value needs to be freed lateron using the FREE_GMP_TEMP macro.
This way, it may end up in the journal file twice, but that is not a problem.
Thus entry 0 contains the join operator for the join between entries 0 and 1.
Try to match the ORDER BY expression against an expression in the result set.
Unspecified (probably strm) error, let stream-filter error do its own whining
Use double for large zend_long values that were serialized on a 64-bit system
Use sqlite3VdbeMemRelease() to complete erase the Mem prior to abandoning it.
WAL_NREADER is the number of available reader locks and should be at least 3.
We first get a primary token and then create a duplicate impersonation token.
We want all entries from offset to the end if length is not passed or is null
When a savepoint is created, the PagerSavepoint.iHdrOffset field is set to 0.
When having the former no comparison of the data is done (part of DIFF_ASSOC)
When running from an .apk, /dev/stderr and /dev/stdout redirect to /dev/null.
Which is a problem, since "rowid" and "docid" are aliases for the same value.
XXX passing NULL means the default timer queue provided by the system is used
XXX set signaled flag to the caller thread, question is - whether it's needed
called by the PDO SQL parser to add quotes to values that are copied into SQL
char-class expanded multi-char only compare with string folded at match time.
cleanup handled in sxe_object_dtor as we dont always have an iterator wrapper
copies functions, applies defined aliasing, and excludes unused trait methods
create a certificate store and add those certs to it for use in verification.
current_timestamp()  This function returns the same value as datetime('now').
if just checking, say yes we can be a FILE*, but don't actually create it yet
if opened for append, we need to revise our idea of the initial file position
in most cases bz2 offers at least 2:1 compression, so we use that as our base
indicate that we want to copy from the current position to the end of the LOB
leading " E" needs extra 2 bytes + quote_chars on both end for 2 bytes + NULL
mbstring.language directive is processed in per-dir or runtime context and 3.
nMax may be  modified at any time by a call to the pcache1Cachesize() method.
pDatabase is NULL if the database name qualifier is missing - the usual case.
pIter now points at the 64-bit integer key value, a variable length  integer.
regBase is the first of an array of register that contains the data for pTab.
register a cleanup so we clear out the SG(server_context) after each request.
see XML_ELEM_OUTPUT_OPTIONS buf_len - length of returned buffer, if not null.
the usefulness of padding with zeroes eludes me, it might even cause problems
while in the 'pending-lock' state, no connection may start a new transaction.
"unsigned char" is used if there are fewer than 250 rules and states combined.
A MACRO version, getVarint32, is provided which inlines the  single-byte case.
A PENDING lock is implemented by obtaining a write-lock on the 'pending byte'.
A collating function must always return the same answer given the same inputs.
A height of one means the children of the root node are the leaves, and so on.
A nested group that is already marked as "could be empty" can just be skipped.
A new AutoincInfo structure is created if this is the first use of table pTab.
A position list is a list of unique integers, sorted from smallest to largest.
After it returns, *ppPoslist points to the first byte after the position-list.
After the loop is terminated we need to run the sorter and output the results.
An OP_Column to retrieve this imaginary column will always return an SQL NULL.
Append the number of bytes of new data, then the term data itself to the page.
Argument *piPk is also of type (int*), and also points to an output parameter.
As a result, in this case it is OK to delete a record from within a Next loop.
Basically the ocaml headers and the mac headers are redefining the same types.
Before deleting the journal file, obtain a RESERVED lock on the database file.
Before returning, *pnOp is set to the number of entries in the returned array.
Block "to" now defines "var" via the pi statement, so add it to the "def" set.
But that is not possible as SQLite reference counts the virtual table objects.
Change the limit on the amount of the database file that may be memory mapped.
Check to make sure the temporary directory ends with an appropriate separator.
Check to see if that table and column is common to every term in the OR clause
Close a tokenization cursor previously opened by a call to porterOpen() above.
Close a tokenization cursor previously opened by a call to simpleOpen() above.
Code an output subroutine for a coroutine implementation of a SELECT statment.
Conditional blocks always have an additional alternative, even if it is empty.
Connect to a remote host using an interruptible connect with optional timeout.
Control reaches here for the various types of "no match at this point" result.
Could use shutdown to free the main cwd but it would just slow it down for CGI
Create a new bitmap object able to handle bits between 0 and iSize, inclusive.
DOCUMENT_ROOT should also be defined at this stage..but better check it anyway
Decrement the counter for each row found (as the constraint is now satisfied).
Determine which stream decompression filter (if any) we need to read this file
Don't use the end_lock: exit path, as unixEnterMutex() hasn't been called yet.
ENCODING: The first element is the size stored in bytes, the rest is the data.
Each node of an expression in the parse tree is an instance of this structure.
Each page except the last is completely filled with data (pagesize - 4 bytes).
Encode value iVal as an SQLite varint and append it to the buffer object pBuf.
Ensure DROP TABLE is not used on a view, and DROP VIEW is not used on a table.
Everything else is cleaned up by the call to sqlite3Fts3ExprFree(pRoot) below.
Format for sqlite_stat3:  The sqlite_stat3 format is a subset of sqlite_stat4.
Function: gdAffineConcat Concat (Multiply) two affine transformation matrices.
Gather the complete text of the CREATE INDEX statement into the zStmt variable
Generate code to do an analysis of all indices associated with a single table.
Generate code to evaluate an expression and store the results into a register.
Handle updating of the required and first characters for other types of group.
I.e.: unused literals can belong to branches, which can be encoded as B or BL.
INTERSECT is different from the others since it requires two temporary tables.
If  an error has already occurred when this function is called, it is a no-op.
If *target is NULL determine required destination buffer size (pre-flighting).
If X is not the INTEGER PRIMARY KEY then X must be compatible with index pIdx.
If a MoveTo operation is pending on the given cursor, then do that MoveTo now.
If an error has  already occurred when this function is called, it is a no-op.
If an error occurs, leave an error message and code in pParse and return NULL.
If false, then in-memory sub-journals are only used for in-memory pager files.
If pToRelease is not zero than pPrior points into the data area of pToRelease.
If possible, return a pointer to a mapping of file fd starting at offset iOff.
If previous was a bracket group, we may have to replicate it in certain cases.
If successful, set *ppStmt to point to the new statement and return SQLITE_OK.
If that is the case, then the result must be aligned on an even byte boundary.
If the allocation fails, make the mallocFailed flag in the connection pointer.
If the argument is not NULL, it points to a Wal object that holds a read-lock.
If the call succeeds,  assume that the file-system supports POSIX style locks.
If the default value of the new column is NULL, then set the file format to 2.
If the default value of the new column is not NULL, the file format becomes 3.
If the title case character is empty, then make it the same as the upper case.
If there are TEMP triggers on this table, modify the sqlite_temp_master table.
If there is a difference, try to fix the destination to agree with the source.
If there is no such record in the table, set ppLeaf to 0 and return SQLITE_OK.
If true, then any required sub-journal is opened as an in-memory journal file.
If we are at the end of an internal nested string, revert to the outer string.
If we are using XPG specifiers, make sure that we grow to a large enough size.
If you don't have a nice square root function for longs, you can use this hack
If: - unbuffered result - first row has not been read - last_row has been read
In a loop back-edge (back-join edge), the successor dominates the predecessor.
In other words, the Next and Prev opcodes will not work following this opcode.
In place of a legal notice, here is a blessing:  May you do good and not evil.
In theory it would be Ok to update the cache of the header only at this point.
In this case invalidate only those incrblob cursors open on that specific row.
In this mode, write each query result to the key of the temporary table iParm.
Indices are selected and used to speed the search when doing so is applicable.
InfoZip stores valid values in local header even when data descriptor is used.
Initialize the counter of the number of rows deleted, if we are counting rows.
Invoke the xCommit method of all virtual tables in the  sqlite3.aVTrans array.
It is invoked by SQLite each time a row is to be inserted, updated or deleted.
It is not possible for this routine to fail if the second argument is NO_LOCK.
It is replaced by the result of applying the specified fossil delta to itself.
It seeks the b-tree cursor associated with blob handle p to point to row iRow.
It still happens even though I set it to null, so something weird is going on.
Jump to here if a string or blob larger than SQLITE_MAX_LENGTH is encountered.
Keep track of cloned copies to avoid invoking curl destructors for every clone
Load the value for the inequality constraint at the end of the range (if any).
Look past the end of the item to see if there is repeat information following.
MARK, and PRUNE/SKIP/THEN with an argument must skip over the argument string.
MS Access, for instance, doesn't support SQLDescribeParam, so we need to guess
NOTES This code incorporates ideas from expat-ensor from http://xml.ensor.org.
No application should ever ship with VDBE branch coverage measuring turned on.
Note that these values are always the ASCII ones, even in EBCDIC environments.
Only back references and those types that consume a character may be repeated.
Only change the value of sqlite.enc if the database handle is not initialized.
Only the last (right-most) SELECT in the series may have an ORDER BY or LIMIT.
Or, if SQLITE_ENABLE_FTS3_PARENTHESIS is defined, then it uses the new syntax.
Or, if the iterator is "ORDER BY rowid DESC", then it means the minimum rowid.
Or, if using the onepass strategy, jump to here if the scan visited zero rows.
Otherwise a moveToChild() or moveToRoot() call would have detected corruption.
Otherwise we will have to do send two TCP packets, or do new alloc and memcpy.
Otherwise, if "previous" is NULL, reset the current code pointer to the start.
Otherwise, pNode is advanced until it does point to a match or EOF is reached.
P4 is a pointer to an sqlite3_context object that is used to run the function.
PARAMETERS: PS_DESTROY_ARGS in php_session.h RETURN VALUE: SUCCESS or FAILURE.
PCRE is thread-clean and doesn't use any global variables in the normal sense.
PENDING:   A single process may hold a PENDING lock on a file at any one time.
Perform a reduce action and the shift that must immediately follow the reduce.
Please follow this convention for the convenience of others editing your code.
Return TRUE if the mask of type in eType matches the type of the allocation p.
Return the data for this element if it is found, or NULL if there is no match.
Return the index of the cell containing a pointer to node pNode in its parent.
Return the number of times the Step function of an aggregate has been  called.
Returns true if it does, and false if the code indicates success or a warning.
SAPI Deactivate is called from two places: module init and request shutdown 2.
SEE ALSO XMLRPC_REQUEST_ToXML () XMLRPC_VALUE_FromXML () XMLRPC_REQUEST SOURCE
SQLite will only request a recursive mutex in cases where it really needs one.
Search for an auxiliary function named zName that can be used with table pTab.
See comments above the definition of struct Fts3TokenAndCost for more details.
See the virtual table xFilter method documentation for additional information.
So the overhead of the incremental merge is somewhere between 8 and 24 blocks.
Strip all chars not part of section 5 of http://www.faqs.org/rfcs/rfc1738.html
That integer is 0 to disable zero-damage mode or 1 to enable zero-damage mode.
That is Ok, at this point the parent page is guaranteed to be marked as dirty.
The 1st shear may use the original clrBack as color index Convert it once here
The ANALYZE command gather statistics about the content of tables and indices.
The OP_Column opcode is the only cursor opcode that works with a pseudo-table.
The SQLITE_IOCAP_ATOMIC property means that all writes of any size are atomic.
The VACUUM command is used to clean up the database, collapse free space, etc.
The behavior of the most recently created foreign key is adjusted accordingly.
The branch is temporarily terminated with OP_END when this function is called.
The caller must hold a SHARED lock on the database file to call this function.
The char() function takes zero or more arguments, each of which is an integer.
The condition must always be set, even if the ORRI/EORI is not executed above.
The cursor "p" has a pending seek operation that has not yet been carried out.
The error code and message may be collected when sqlite3rbu_close() is called.
The first element of the linked list is the first step of the trigger-program.
The following code does the equivalent of Deephemeralize() but does it faster.
The following routines are implementations of the MemPage.xParseCell() method.
The following structure is the key data type for the recursive code generator.
The following symbolic values are used to record which type of action to take.
The full_read argument tells whether characters above max are accepted or not.
The iOffset register (if it exists) is initialized to the value of the OFFSET.
The index should have already been created when we processed the CREATE TABLE.
The lock is a write lock if isWritelock is true or a read lock if it is false.
The lock-related methods of the proxy-locking sqlite3_io_method object follow.
The output vector is stored on the stack, and contains pointers to characters.
The page footer consists of a single varint for each term located on the page.
The pager_unlock() routine will be called before returning to unlock the file.
The parameter "op" must be one of TK_UNION, TK_EXCEPT, TK_INTERSECT or TK_ALL.
The passed in "connection" can be a cached stub from plist or freshly created.
The read lock on the database file is released when the last cursor is closed.
The remaining 5 to 6 days in the year are grouped at the end and are holidays.
The returned value is normally a copy of the second argument to this function.
The shebang line was read, get the current position to obtain the buffer start
The size of an array large to enough to hold all stacks, each with N elements.
The sqlite3_test_control() interface calls these routines to control the PRNG.
The table b-tree entry will be replaced by the new entry  when it is inserted.
The tr_tm parameter determines whether the BEFORE or AFTER triggers are coded.
The transaction is not rolled back and any changes to prior rows are retained.
The translation is done in-place and aborted if the output overruns the input.
The value below is therefore a minimum, and we put a maximum on it for safety.
The value is 1 if the particular category is not part of the general category.
The very rare larger cases can be handled by the slower 64-bit varint routine.
These are the breakpoints for different numbers of bytes in a UTF-8 character.
These are the integer action codes that the authorizer callback may be passed.
These macros can be used to test, set, or clear bits in the  Expr.flags field.
These values can be changed by the caller, but are shared between all threads.
This call just moves bytes around the in-memory node image, so it cannot fail.
This call makes sure that the pager has the correct number of open savepoints.
This function assumes that space within the buffer has already been allocated.
This function may only be called when a read-transaction is open on the pager.
This function shuffles the array around until all entries are in sorted order.
This interface allows applications to access the same PRNG for other purposes.
This is  a quirk for ODBC 2.0 compatibility for broken driver implementations.
This is a lesser evil than not diagnosing bad classes when Perl does, I think.
This is because marking the page as clean will clear the PGHDR_NEED_SYNC flag.
This is just a small subset of the functionality provided by the LDAP library.
This is not  supported by the new syntax (it is replaced by the NOT operator).
This is only used to generate an error message if the lock cannot be obtained.
This is used to test that syncs and fullsyncs are occuring at the right times.
This is useful for testing when we want to run through the test suite quickly.
This routine find the filename associated with pFile and writes it int dbPath.
This routine is used to determine if the OP_Affinity operation can be omitted.
This routine sets the notNull flag on the column currently under construction.
This routine transforms the internal text encoding used by pMem to desiredEnc.
This savepoint was opened immediately after the write-transaction was started.
This seems a little convoluted to me, but I'll bet you save a cycle somewhere.
This selects one of the six possible month length configurations listed above.
This shouldn't, however, impact performance when true recursion is being used.
This uses the same comparison callback as is used when flushing terms to disk.
This will cause the analysis to be used when preparing all subsequent queries.
Thus for GROUP BY and DISTINCT the pOrderBy terms can be matched in any order.
Truncate file if the amount of new data is smaller than the existing data set.
VdbeFrame objects are allocated by the OP_Program opcode in sqlite3VdbeExec().
WRITER_FINISHED:  It is not possible for a WAL connection to enter this state.
We also set ZEND_ACC_USER_ARG_INFO flag to prevent invalid usage by Reflection
We can also consider a regex to be anchored if OP_SOM starts all its branches.
We do this in a subroutine because the error used to occur in multiple places.
We have to do a slow recursive search in this case, but it is an unusual case.
We must not advance Generator if we yield from a Generator being currently run
We now use tmp_rsa_cb to generate a key of appropriate size whenever necessary
We should go back because later in this function there will be an advancement.
When multiple overflows occur, they are always sequential and in sorted order.
You can only stretch if the dimension has not already been defined previously.
ZEND_CASE is an exception, that keeps operand unchanged, and allows its reuse.
aRow might point to (ephemeral) data for the current row, or it might be NULL.
avoid many reallocs by allocating a good sized chunk to begin with, if we can.
constants are declared in transliterator_register_constants, called from MINIT
counted means we are holding read lock for SHM, so that nothing bad can happen
don't clear allowed_clients as it will create an "open for all" security issue
follow branch according to bits in idx until having found an impossible branch
it's an X509 file/cert of some kind, and we need to extract the data from that
make sure original values are remembered in ORIG_ copies if we've changed them
mysqli_link_free_storage partly doubles the work of PHP_FUNCTION(mysqli_close)
nPkField is the number of key fields in the  pPk index or 1 for a rowid table.
need to convert the first parameter from int constant to string algorithm name
noopFunc will never be called so it doesn't matter what the implementation is.
on PARENT EXEC we want socket fds to be inherited through environment variable
pIdx is a UNIQUE index (or a PRIMARY KEY) and has the right number of columns.
pRoot is the head of a list of free chunks of the same size or same size hash.
parameters  : queue pointer, comparison function compatible with with 'qsort'.
prevent serious memory issues by limiting manifest to at most 100 MB in length
regReturn is the number of the register holding the subroutine return address.
rownumber will hold the number of rows over which the aggregate was performed.
simplestring is, as the name implies, a simple API for dealing with C strings.
strtol allows whitespace and other stuff in the beginning we're not interested
the offset might have been incremented, but without further successful matches
to properly decompress, we have to tell zlib to look for a zlib or gzip header
we can be modified and already be compressed, such as when chmod() is executed
we use this to calculate API version, 1.1.1 is used for phars with directories
when php is started by mod_fastcgi, no regular environment is provided to PHP.
work around inability to specify freedom in write and strictness in read count
"fts5yymajor" is the symbol code, and "fts5yypminor" is a pointer to the value.
"unsigned char" is used if there are fewer than 250 terminals and nonterminals.
(That assignment requires a cast.)  Then we call the function that x points to.
(U_STRING_NOT_TERMINATED_WARNING usually means that the input string is empty).
+build cgo +build darwin dragonfly freebsd linux netbsd openbsd solaris windows
-************************************** End Introspection Callbacks (methods) *
0 means that the vector is too small to hold all the captured substring offsets
A RESERVED lock is implemented by grabbing a write-lock on the 'reserved byte'.
A SHARED lock should be held on the database file when this function is called.
A list of BtShared objects that are eligible for participation in shared cache.
A process does not have to obtain a RESERVED lock on the way to a PENDING lock.
A total of nLeaf leaf pages of data has just been flushed to a level-0 segment.
Add additional columns needed to make the automatic index into a covering index
Add the ON clause to the end of the WHERE clause, connected by an AND operator.
All other methods receive a pointer to the structure as one of their arguments.
All this routine does is initialize the register given by rMayHaveNull to NULL.
Allocate and initialize a new Pager object and put a pointer to it in *ppPager.
Also find the column index for each column to be updated in the pChanges array.
Also that if there is no open transaction, then there cannot be any savepoints.
An EBADF error means that the shared library has not opened the descriptor yet.
And do not close the OP_OpenWrite cursors created for the ONEPASS optimization.
And never reduce the maximum page count below the current size of the database.
As long as you retain this notice you can do whatever you want with this stuff.
At this point, the upper  layer must either commit or rollback the transaction.
Attempt to locate an element of the hash table pH with a key that matches pKey.
BEGINNING OF THE SMALL OBJECTS PAGE We keep all the small objects in this page.
Before returning, *pp is set to point 1 byte past the end of the value written.
But looking at the Cannon powershot's files, inches is the only sensible value.
Bypass the creation of the PRIMARY KEY btree and the sqlite_master table entry.
Call SetAutoVacuum() to set initialize the internal auto and incr-vacuum flags.
Call sqlite3ExprAnalyzeAggregates() for every expression in an expression list.
Chances are good that this is retrieving something from within the phar archive
Check to verify that it is possible to get a read lock on all database schemas.
Close a VDBE cursor and release all the resources that cursor  happens to hold.
Compute data for all columns of the new entry, beginning with the first column.
Cover a protocol design error: error packet does not contain the server status.
Create labels for the "break" and "continue" instructions for the current loop.
Despite the spec, the xml-rpc list folk want me to send an empty params element
Despite this, if errno really is zero, we still don't want to return SQLITE_OK.
Disable external authentication on Windows as Impersonation is not yet handled.
EVIDENCE-OF: R-14374-42468 This option sets the threading mode to Multi-thread.
Each VTable  structure is associated with a single sqlite3* user of the schema.
Each frame records the revised content of a single page from the database file.
Erase all information in a table and add the root of the table to the freelist.
For conditions that are assertions, check the syntax, and then exit the switch.
Free all memory associated with foreign key definitions attached to table pTab.
Functions to serialize a 16 bit integer, 32 bit real number and 64 bit integer.
Generate code for the trigger program associated with trigger p on  table pTab.
Generate code that will assemble an index key and stores it in register regOut.
Give an error if there's back reference to a non-existent capturing subpattern.
Hash table for global functions - functions common to all database connections.
Hence the test for whether or not a character is part of an identifier is 0x46.
However, these are (possibly recursive) subroutine calls, _not_ backreferences.
If PRNG_SAVE has never before been called, then this verb acts like PRNG_RESET.
If an error occurs while preparing the statement,  return an SQLite error code.
If an out-of-memory error occurs while resizing the array, return SQLITE_NOMEM.
If any errors are detected, add an error message to pParse and return non-zero.
If buf is not the complete file, apptype can incorrectly identify the exe type.
If changeCountDone is set, a RESERVED lock or greater must be held on the file.
If connection db is not currently a part of the list, this function is a no-op.
If how is SHUT_RDWR,  further  receptions and transmissions will be disallowed.
If it does, we'd probably end up annihilating a positive+negative pi assertion.
If local is true, it reads a local header instead of a central directory entry.
If no error occurs, set *ppOut to point to the new object and return SQLITE_OK.
If no hot-journal file is present, *pExists is set to 0 and SQLITE_OK returned.
If none of the above are defined, then set SQLITE_SYSTEM_MALLOC as the default.
If not called from the resource dtor, remove the stream from the resource list.
If one is found, return a pointer to the corresponding Fts5Auxiliary structure.
If one is found, shift it to the front of the LRU queue and return immediately.
If successful, set *ppVal to point to a new value object and return  SQLITE_OK.
If the cache is being used for an in-memory database, this function is a no-op.
If the dirSync argument is true, fsync() the directory after deleting the file.
If the expression is always either TRUE or FALSE (respectively), then return 1.
If the left side is just "id" then pId1 is the id and pId2 is any empty string.
If the module has been registered and includes a Create method,  invoke it now.
If the octal value is greater than 377, the least significant 8 bits are taken.
If the pager is in the error state when this function is called, it is a no-op.
If the table or index is not empty, fall through to the following  instruction.
If the write version is set to 2, this database should be accessed in WAL mode.
If there are no records less than  the key and P2 is not zero, then jump to P2.
If this operation fails,  (e.g. due to malloc() failure), return an error code.
If this process generates an invalid UTF-8 encoding, the results are undefined.
In UTF-8 mode we can only do this properly if Unicode properties are supported.
In a similar way to cworkspace, it can be expanded using malloc() if necessary.
In all cases, an appropriate error code is returned and *ppPage is set to NULL.
In order to get pager_unlock() to do this, set Pager.eState to PAGER_ERROR now.
In some (obscure) circumstances, this variable may also be set to UNKNOWN_LOCK.
In this case jump to the address specified as the p2 of the calling OP_Program.
Instead the frame and page numbers that would be read and written are recorded.
Interior nodes are written using InteriorWriter, and read using InteriorReader.
Invoke this macro on memory cells just prior to changing the value of the cell.
It  is therefore not possible for an in-memory pager to enter the ERROR  state.
It adds entries for each term in the new record to the pendingTerms hash table.
It is not safe to call this function and then continue writing to the database.
It is the callers responsibility to call sqlite3_free() to release this memory.
JIS should be tanslated to MB or we leave it to the user - leave it to the user
Join all outstanding threads launched by SorterWrite() to create  level-0 PMAs.
Later, when we remove the Bcc: out of the header we know it was the last thing.
Literals are truncated to actual size in the second compiler pass (pass_two()).
Mark every prepared statement associated with a database connection as expired.
Most jump operations do a goto to this spot in order to update the pOp pointer.
Move the iterator passed as the first argument to the next term in the segment.
My normal style of coding would have declared them within each of those blocks.
Normally, whenever a table is dropped, all associated triggers are dropped too.
One has to do a run-time check to discover the behavior of the current process.
Opcode: JournalMode P1 P2 P3 * *  Change the journal mode of database P1 to P3.
Opcode: MustBeInt P1 P2 * * *  Force the value in register P1 to be an integer.
Opcode: VDestroy P1 * * P4 *  P4 is the name of a virtual table in database P1.
Or, if an error (e.g. an OOM or IO error) occurs, return an SQLite  error code.
Or, if an error does occur, set *ppOut to NULL and return an SQLite error code.
Or, if the contents of the FTS index are incorrect, return SQLITE_CORRUPT_VTAB.
Otherwise, the argument is enclosed in single quotes with single-quote escapes.
Page cache buffer management: These routines implement SQLITE_CONFIG_PAGECACHE.
Persistent connection stubs are also counted as they have private session pools
Portions of this code are based on Berkeley's uuencode/uudecode implementation.
Possibly overload the function if the first argument is a virtual table column.
REFERENCES  I have found no detailed, authoritative reference on this calendar.
Range contraints that come from the LIKE optimization are always used in pairs.
Resolve the column names in all the expressions of the of the UPDATE statement.
Return -1 on a memory allocation error, 0 on success, or non-zero for an error.
Return SQLITE_DONE early if this takes us all the way to the end of  the input.
Return a pointer to the Table structure for the table that a trigger is set on.
Return the size of the largest prefix of this  list nMax bytes or less in size.
Return true if the prepared statement is guaranteed to not modify the database.
Returns the number of bytes consumed from buf by the first filter in the chain.
SHIFT_TEMPS must be included in the variables of any routine using RIGHT_SHIFT.
Scope unset or equal to the function we compare to, and the alias applies to fn
Search the free-list on page pPg for space to store a cell nByte bytes in size.
See gd_arc_f_buggy.c for a better version that doesn't seem to be bug-free yet.
See the discussion in the pager_playback() function for additional information.
Set node pNode, which is part of expression pExpr, to point to the first match.
Since Content-Type maybe part of user's headers we need to do this check first.
Since here we are handling internal functions only we can add the keyword flag.
Skip over the 'height' varint that occurs at the start of every  interior node.
So we disable usage of interned strings as hash keys especually for this table.
TODO: Magic __wakeup and __sleep handlers for serialization (can wait till 5.1)
Table of the number of extra bytes, indexed by the first byte masked with 0x3f.
Tantzen, Communications of the Association for Computing Machinery August 1963.
Test if the zval was separated or replaced and if necessary move the watchpoint
The MergeEngine object, described in further detail below, performs this merge.
The PRNG is also used for the build-in random() and randomblob() SQL functions.
The SQLITE_AFF_MASK values masks off the significant bits of an affinity value.
The application should only invoke sqlite3_initialize() and sqlite3_shutdown().
The code is similar to that for character classes, but repeated for efficiency.
The cursor is always opened read/write even if  the main database is read-only.
The datatype used to store estimates of the number of rows in a table or index.
The doclists must be merged and a single term returned with the merged doclist.
The final WHEN clause will be like this:  WHEN NOT(old.col1 IS new.col1 AND ...
The first parameter is the CLI startup filename, which defaults to "index.php".
The first two arguments are a pointer to and the size of a segment b-tree node.
The following "ifdef/elif/else/" block has the same structure as the one below.
The following callback (if not NULL) is invoked on every VDBE branch operation.
The following routine suspends the current thread for at least ms milliseconds.
The following routines implement the various date and time functions of SQLite.
The information where a function is declared is only available for user classes
The interfaces in this file is only available when compiling with SQLITE_DEBUG.
The near-set object passed as the first argument contains more than one phrase.
The new object is registered as a non-default VFS with SQLite before returning.
The next iteration of the do-loop will balance the parent page to correct this.
The numbers generated here are based on typical values found in actual indices.
The pointer points at an overflow page pointed to by one of the cells on pPage.
The result might be stored in some other register if it is convenient to do so.
The second one is used when we already know we are past the end of the subject.
The sqlite3.pDisconnect list is accessed only as follows:  1) By this function.
The subsequent elements in the array are  the values of columns in the new row.
The value in register P1 is passed as the zName argument to the xRename method.
Then obey similar code to character type repeats - written out again for speed.
There are no exceptions to this - it's the way the parser in fts3_expr.c works.
There are no pages on the freelist, so append a new page to the database image.
There is a time dependency such that the abort must occur after the multiwrite.
These are the initializer values used when declaring a "static" mutex on Win32.
These macros define the location of the pointer-map entry for a  database page.
This can be detected by checking the NUM for zero after having a zero returned.
This code is derived from software contributed to Berkeley by Guido van Rossum.
This ensures that the values are always trustworthy within an open transaction.
This function is called by the xUpdate() method as part of an INSERT operation.
This function is like array_diff() but works on the keys instead of the values.
This function is only available internally, it is not part of the external API.
This grammar assumes section 5.3.1.3 is correct and that Annex B.2 is in error.
This is an 0x00 byte preceded by some byte that does not have the 0x80 bit set.
This is because statement transactions are not able to rollback schema changes.
This is done to avoid deadlock issues involving multiple sqlite3.mutex mutexes.
This is needed for the annoying case of receiving a response to a HEAD request.
This is not required if the persistent media supports the SAFE_APPEND property.
This is potentially great stuff, but fails against the test program at the end.
This is the (easy) common case where the entire payload fits on the local page.
This is the xSetSystemCall() method of sqlite3_vfs for all of the "unix" VFSes.
This is to support column declarations that include "DEFAULT CURRENT_TIME" etc.
This is used to test that syncs and fullsyncs are occurring at the right times.
This module implements the well-known Heckbert paradigm for color quantization.
This process continues until either a match is found or all contexts are check.
This routine assumes that the line is a valid Unicode Character Database entry.
This routine does not do any byte-swapping, it just sets Mem.enc appropriately.
This routine registers all VFS implementations for unix-like operating systems.
This routine requires that all identifiers in the SELECT statement be resolved.
This will fire the triggers and remove both the table and index b-tree entries.
To help reduce memory requirements, sometimes an Expr object will be truncated.
To work around this problem, we delay 100 milliseconds and try to delete again.
Typically the OP_Permutation should  occur immediately prior to the OP_Compare.
Use the SQLite core versions if this routine is part of the SQLite amalgamation
Use the two-part index name to determine the database  to search for the table.
User forgot to call odbc_fetch_row(), or wants to reload the results, do it now
We can ignore the temporary data store on the stack from caching point of view.
We gonna have a smaller or equally long string, estimation is almost neglecting
We scale relevant quantities using O(log2(k)) rather than O(k) multiplications.
We scan the pattern to check that they are fixed length, and set their lengths.
We set the variable find_all to a non-zero value * if the -g option is present.
We unset it here so as to allow assertions later in the group to be quantified.
When expat is done parsing, the tree can be walked, thus retrieving the values.
When nPendingData exceeds nMaxPendingData, all hash tables are flushed to disk.
When people have lines longer than 8K, we waste 1 byte per additional 8K or so.
With this routine, there is no guarantee that results will be stored in target.
Without considering pTerm, it is estimated  that the scan will visit nNew rows.
_zip_file_get_offset(za, ze): Returns the offset of the file data for entry ze.
afp style keeps a reference to the db path in the filePath field  of the struct
allow conditional breakpoints and initialization to access the vm uninterrupted
apparently, GetBindOptions will only ever return a regular BIND_OPTS structure.
check again, to ensure that the cache wasn't already cleaned by another process
define CAML_NAME_SPACE to ensure all the caml imports are prefixed with 'caml_'
determine segment size we _really_ need: no more than to include requested_size
do not allocate stmt handle for refcursors, we'll get it from OCIStmtPrepare2()
don't join to the previous if because it won't work if mysql_stmt_prepare_fails
enclose a field that contains a delimiter, an enclosure character, or a newline
ensure that we don't have spaces or dots in the variable name (not binary safe)
extra bit of validation for instances when same params are bound more than once
if "from" position is negative, count start position from the end of the string
if this code fails to work, check main/streams/streams.c, _php_stream_stat_path
mnd_free will reference LOCK_access and might crash, depending on the caller...
re-open just in time for cases where our refcount reached 0 on the phar archive
switch back to the context that was in use prior to our creation of the new one
testing iterate_upper_bound and forward iterator to make sure it stops at bound
ucol_getSortKey is exception in that the key length includes the NUL terminator
(9)  The subquery does not use LIMIT or the outer query does not use aggregates.
1998) for making memory allocations from a private pool of memory when possible.
A backreference within the group that it is referencing behaves in the same way.
A list of delta-encoded varints - the first rowid on each subsequent child page.
A new vxworksFileId object is created and added to the global list if necessary.
A segment of size nByte bytes has just been written to absolute level iAbsLevel.
Add type and collation information to a column list based on a SELECT statement.
After it has been retrieved using xFetch, the page is considered to be "pinned".
Allocate an Fts3MultiSegReader for each token in the expression headed by pExpr.
Also, check that the index uses the default collation sequences for each column.
An  SQLITE_IOERR_XXX error code is returned if a call to sqlite3OsOpen()  fails.
An example use for this interface is to keep a GUI updated during a large query.
An instance of the following structure is used to hold information about a cell.
At present, there is only one option that may be configured using this function.
Avoid this problem by forcing a call to malloc here, before we ever call malloc.
Because RSA_PKCS1_OAEP_PADDING is used there is a restriction on the passwd_len.
Before the first write, give the VFS a hint of what the final file size will be.
BtShared.nRef is the number of connections currently sharing this database file.
Bug in libxml prevents a next in certain cases when positioned on end of element
But if 1 is returned when it should not be, then incorrect answers might result.
But other modules are free to use it too, as long as no rollbacks are happening.
But that will not work if other processes are attached to the original database.
But we have to do some additional checking to see if case 1 really is satisfied.
C - Push the previous OVECTOR(i), OVECTOR(i+1) and OVECTOR_PRIV(i) to the stack.
Change options at this level, and pass them back for use in subsequent branches.
Changing the value of PENDING_BYTE results in a subtly incompatible file format.
Check to see if pWLoop should be added to the set of mxChoice best-so-far paths.
Check to see if the zSpan given to this routine matches the zDb, zTab, and zCol.
Checks if the provides resource is a stream and if it provides a file descriptor
Compute the affinity string for table pTab, if it has not already been computed.
Conditional group: compilation checked that there are no more than two branches.
Convert a DbPage obtained from the pager into a MemPage used by the btree layer.
Convert a long to a string containing a base(2-36) representation of the number.
Convert a zval to a string containing a base(2-36) representation of the number.
Count the total number of references to pOuterNC and all of its parent contexts.
Create the mutex and shared memory used for locking in the file descriptor pFile
Define the yytestcase() macro to be a no-op if is not already defined otherwise.
Depending on how the SQLite library is compiled, this interface might not exist.
Do this in a subroutine as that provides a convenient place to set a breakpoint.
Don't do this if the table being ALTERed is itself located in the temp database.
EVIDENCE-OF: R-01849-26079 Value is a big-endian 32-bit twos-complement integer.
EVIDENCE-OF: R-02748-19096 This option sets the threading mode to Single-thread.
EVIDENCE-OF: R-29851-52272 Value is a big-endian 64-bit twos-complement integer.
EVIDENCE-OF: R-37839-54301 Value is a big-endian 24-bit twos-complement integer.
EVIDENCE-OF: R-47608-56469 Any other value for the b-tree page type is an error.
EVIDENCE-OF: R-49794-35026 Value is a big-endian 16-bit twos-complement integer.
EVIDENCE-OF: R-50385-09674 Value is a big-endian 48-bit twos-complement integer.
Each entry in the hash table is represented by an object of the  following type.
Each key/value binding is unique, but a key can have multiple value bound to it.
Each thread may only have a single outstanding allocation from xScratchMalloc().
Eats up list1 in runs of increasing order, list2 in a corresponding linked list.
Every page in the cache is controlled by an instance of the following structure.
Expanding a SELECT statement is the first step in processing a SELECT statement.
Extend the Fts5Structure object as required to ensure the output segment exists.
Fall through to next instruction if the two records compare equal to each other.
Figure out if we are dealing with Unix, Windows, or some other operating system.
Figure out if we have any triggers and if the table being deleted from is a view
Flush all data associated with the SegmentWriter object pWriter to the database.
Function: gdAffineEqual Determines whether two affine transformations are equal.
Function: gdAffineFlip Flip an affine transformation horizontally or vertically.
Generate code to check constraints and generate index keys and do the insertion.
Given 1 to 3 identifiers preceding the JOIN keyword, determine the type of join.
HANDLE_TAG copies the HTML Tag and checks whether we have that tag in our table.
IMPLEMENTATION-OF: R-31093-59126 The default suggested cache size is 2000 pages.
If *pRc is not SQLITE_OK when this function is called, it immediately returns 0.
If REQUEST_BODY_FILE variable not available - read post body from fastcgi stream
If an IO error is encountered, then the IO error code is returned to the caller.
If an error occurs, NULL is returned and an error left in the  Fts5Index object.
If an error occurs, SQLITE_NOMEM or an IO error code is returned as appropriate.
If an error occurs, an error code and error message is stored in the RBU handle.
If any sibling already holds an exclusive lock, go ahead and return SQLITE_BUSY.
If it does not already exists, it will be created to use the new encoding value.
If m is not 0, then make the file creation mode be exactly m ignoring the umask.
If pToRelease is not zero than pPayload points into the data area of pToRelease.
If so, then the answer is TRUE the presence of NULLs in the RHS does not matter.
If successful, *piIdx is set to the allocated index slot and SQLITE_OK returned.
If the "temp" database is requested, it may need to be opened by this  function.
If the P1 index entry is greater than or equal to the key value then jump to P2.
If the commit could not complete because of lock contention, return SQLITE_BUSY.
If the epxression is anything other than TK_STRING, the expression is unchanged.
If the file is not a well-formed database file, then SQLITE_CORRUPT is returned.
If the first integer value is followed by a ',',  read the second integer value.
If the name is not found, leave the value of recno as 0 for a forward reference.
If the pager is already in the ERROR state, the rollback is not  attempted here.
If the regex permits duplicate names, the first substring that is set is chosen.
If they are if we can be a FILE*, say yes because we can perform the conversion.
If we are at the end of a nested substitution, revert to the outer level string.
If we are holding a PENDING lock that ought to be released, then release it now.
If xRoundup returns 0,  that causes the corresponding memory allocation to fail.
In either case, pager_truncate() may cause the file to become smaller or larger.
In other words, this routine is the destructor for an RtreeGeomCallback objecct.
In phpdbg mode, we consider the environment to be a part of the server variables
In this case the file will be updated when the current transaction is committed.
Instructions that cannot be bundled are padded out with nops, rather than fnops.
Invalidate all prepared statements whenever the TEMP database schema is changed.
Invoke the xRollback method of all virtual tables in the  sqlite3.aVTrans array.
It is therefore not useful for programs intended to be portable to DOS machines.
It is very important that sizeof(header) agree with malloc alignment chunk size.
It then calls this function to actually insert the  data into the intkey B-Tree.
It used to be the case that setting this value to zero would turn the limit off.
It's an overflow on 32 bit, however it won't fix as long as zend_long is 32 bit.
It's better to raise error for this, but disabled error for better compatibility
Load the doclists for each phrase in the query associated with FTS3 cursor pCsr.
Log an error and return true if it has been finalized (or is otherwise invalid).
M is an integer, 2 or 3, that indices how many different ways the branch can go.
Macros determining the rowids used by segment leaves and dlidx leaves and nodes.
Maintenance is more error-prone, but frequent changes to this data are unlikely.
Make sure the trait method is compatible with previosly declared abstract method
Merge all level iLevel segments in the database into a single  iLevel+1 segment.
NB: Most other code will NOT use the PHP_STREAM_CAST_INTERNAL flag when casting.
NOTES This code was written primarily for xmlrpc, but has found some other uses.
NULL return value checks from php_session_create_id() is not required generally.
Namespace logic is separate and only when uri passed in to insure no BC breakage
Nevertheless, some regular expressions can cause it to recurse to a great depth.
New code should be placed in the correct division and should be clearly labeled.
No copyright is claimed, and the software is hereby placed in the public domain.
Note that a return of SQLITE_OK does not guarantee that the page is well-formed.
Now, if the table is not stored in the temp database, reload any temp  triggers.
On the first pass, we try to reuse unused space at the  end of the opcode array.
One or the other of the two processes must give way or there can be no progress.
Optimize the cases of extending the last range and adding new ranges to the end.
Or, if isPrefixIter is non-zero, it iterates through each term and its prefixes.
Or, if there are no segments at all  within level iAbsLevel, set *piIdx to zero.
Other interfaces will accept either a protected or an unprotected sqlite3_value.
Otherwise, fts3EvalPhraseStart() is called on all phrases within the expression.
Output variable *pn is set to the size of the buffer  in bytes before returning.
REFERENCES  Conversions Between Calendar Date and Julian Day Number by Robert J.
Recursive calls are specified by the macro RMATCH and RRETURN is used to return.
Regardless of the journal mode, this transaction always uses a rollback journal.
Regardless of the value of iFrom, the iterator is always advanced at least once.
Regardless, this function iterates from the end of the doclist to the beginning.
Retrieve a copy of the file information on a single file within a phar, or null.
Return SQLITE_OK if everything worked, or an error code is something goes wrong.
Return SQLITE_OK on success or SQLITE_NOMEM of a memory allocation error occurs.
Return TRUE if the pager is in a state where it is OK to change the journalmode.
Return a pointer to a buffer owned by the sorter that contains the  current key.
SQLite will use read() and write() to access data beyond this point from now on.
Set the P4 on the most recently added opcode to the KeyInfo for the index given.
Set the output segment b-tree height and last leaf page number at the same time.
Set the pointer to NULL to indicate that forward references have been filled in.
Shutdown output layer (send the set HTTP headers, cleanup output handlers, etc.)
Since the class is not an interface it needs to be declared as a abstract class.
Since the pager is in exclusive mode, there is no need to drop any locks either.
So set pKey2 to NULL to prevent vdbeSorterCompare() from decoding pReadr2 again.
So that the segment consists of a single leaf and a single interior (root) node.
Sort all elements on the list of RowSetEntry objects into order of increasing v.
Switching from bind_one_parameter to bind_parameters may result in zv being NULL
TODO: Issue a warning if the table primary key is used as part of the index key.
TODO: Think about moving these checks to the compiler or some sort of lint-mode.
That opcode is readable but not writable, though it is cast to a writable value.
The P1 values need not be contiguous but all P1 values should be small integers.
The VFS shim modifies the behaviour of a standard VFS in the following ways:  1.
The auth function should return either SQLITE_OK, SQLITE_DENY, or SQLITE_IGNORE.
The bottom of the main insertion loop, if the data source is a SELECT statement.
The caller must guarantee that the cursor is pointing to a non-NULL valid entry.
The code is written so that the hard lower-limit for each of these values  is 1.
The code to implement this API is not available in the public release of SQLite.
The cursor is used only to define what table the record should be inserted into.
The end of each child journal file is marked with a  nul-terminator byte (0x00).
The exception is if this is the first term written in an incremental-merge step.
The first 59 days of the year are the same regardless of the length of the year.
The first prefix index (if any) for language-id 0 is allocated values 1024-2047.
The following block derives the path to the associated database file from zPath.
The following routines are the only publically visible identifiers in this file.
The native query optimizer does not attempt to do anything with MATCH functions.
The new object is registered as a non-default VFS with SQLite before  returning.
The only potential use of repetition is in cases when the assertion is optional.
The root-page of a table or index in database iDb has changed from iFrom to iTo.
The same argument applies to all but the first docid read from the 'other' list.
The schema cookie is used to determine when the schema for the database changes.
The script was updated in March 2009 to generate a new EBCDIC-compliant version.
The second form changes the secure_delete flag setting and reports thenew value.
The terms "protected" and "unprotected" refer to whether or not a mutex is held.
Then load the blockid of the left-child of the b-tree node into variable iChild.
Then reacquire the other BtShared locks that we used to hold in ascending order.
Then using those as a basis to compute the N best WherePath objects of length 2.
There can never be a first char if '.' is first, whatever happens about repeats.
There must be at least one outstanding reference to the pager if in ERROR state.
These definitions are broken out into a separate source file for easier editing.
These macros are designed to work correctly on both 32-bit and 64-bit compilers.
These routines print a parse tree to standard output for debugging and analysis.
They all use the same area of memory, so only one can be active at any one time.
This code is very perf sensitive, please check the performance before modifying.
This could be done easily in Go, we are just using C for demonstration purposes.
This function is like array_udiff() but works on the keys instead of the values.
This function is used to create delta-encoded serialized lists of FTS3  varints.
This header file is used by programs that want to link against the FTS3 library.
This instruction throws an error if the memory cell is not initially an integer.
This is a no-op for in-memory databases or pages with the Pager.noSync flag set.
This is a utility for setting or clearing a bit-range lock on an AFP filesystem.
This is behavior that should reflect the 'MAP_NORESERVE' flag of 'mmap' on Unix.
This is the default collating function named "BINARY" which is always available.
This is the xSetSystemCall() method of sqlite3_vfs for all of the "win32" VFSes.
This is typically a union of many types, one of which is sqlite3ParserTOKENTYPE.
This means dirname("c:foo") maps to "c:." or "c:" - which means CWD on C: drive.
This module implements the sqlite3_status() interface and related functionality.
This pointer is used in subsequent calls to sqlite3Parser and sqlite3ParserFree.
This routine is called once during SQLite initialization and by a single thread.
This routine is invoked once per CTE by the parser while parsing a  WITH clause.
This routine is not called unless a write-transaction has already  been started.
This shortened the year by 3 days per 400 years, giving a year of 365.2425 days.
This will add additional "def" points, so it must happen before def propagation.
To avoid this scenario, the sqlite3_unlock_notify() performs deadlock detection.
User save handlers may end up directly here by misuse, bugs in user script, etc.
Vdbe.pFrame is set to NULL if the currently executing frame is the main program.
We accumulate in a local variable to save frequent testing of lenthptr for NULL.
We may have the last reference, then call zval_ptr_dtor() or we may leak memory.
We put the version info first, so future versions can easily change header info.
We will need to create our own temporary table to hold the intermediate results.
We're on a weekday, but we're going past Friday, so skip right over the weekend.
When listen.users and listen.groups not configured, continue with standard right
When this function is called, *pp points to the start of an element of the list.
With SQLITE_ACCESS_READ, the xAccess method checks whether the file is readable.
Write the current time and date as a Julian Day number into *prNow and return 0.
allow duplicate file names, because the file will be removed directly afterwards
empty string means default builtin value to allow "/foo/php.d:" or ":/foo/php.d"
filtered streams can only be cast as stdio, and only when fopencookie is present
function    : Q_Sort  purpose     : sort the queue and allow index style access.
iAbsLevel is an absolute level that may be assumed to exist within the database.
iTab is a sorting index that holds previously seen combinations of the N values.
if it starts with file:// then it will be interpreted as the path to that cert .
if it's allowed, then the autoloader will be called if the class does not exist.
if the offset of the resulting string exceeds the length, then restore the state
in MSVC.NET these are available but only for __cplusplus and not _MSC_EXTENSIONS
pFromCol determines which columns in the current table point to the foreign key.
poslist: Used by sqlite3Fts5IterPoslist() when the poslist needs to be buffered.
psession is being called when the connection is freed - explicitly or implicitly
sapi_update_response_code doesn't free the status line if the code didn't change
search through the manifest of files, and if we have an exact match, it's a file
stored result, we have to update the max_length before we clone the meta data :(
this is needed because on WIN32 lock is not decreased unless ZCG(counted) is set
void php_output_set_implicit_flush(int enabled) Enable or disable implicit flush
we have to use xmlNodeAddContent() to get the same behavior as with xmlNewText()
we we're looking for a private prop but found a non private one of the same name
when a HashTable is freed, we can safely assume the other zvals all were dtor'ed
whereLoopAddBtree() always generates and inserts the automatic index case first.
zend_alloc is designed to be a modern CPU cache friendly memory manager for PHP.
"tnum" is the root page of the b-tree to which the imposter table should connect.
(3) EXPLAIN   The keyword EXPLAIN has been seen at the beginning of  a statement.
2.0.12: Steven Brown: support a single totally transparent color in the original.
4: For commit records, the size of the database image in pages  after the commit.
A cell with the same content as pCell has just been inserted into the node pNode.
A chunk index of 0 means "no such chunk" and is the equivalent of a NULL pointer.
A complex statement machine used to detect the end of a CREATE TRIGGER statement.
A partial index should be skipped if its WHERE clause evaluates to false or null.
A valid cursor is one that is currently pointing to a row in a (non-empty) table.
ALLOCATION NOTES:  Expr objects can use a lot of memory space in database schema.
Actualy, Fts3Cursor.eSearch can be greater than or equal to FTS3_FULLTEXT_SEARCH.
Add a single new term to an ExprList that is used to store a list of identifiers.
Add a term to the segment being constructed by the SegmentWriter object ppWriter.
Advance to the next document that matches the FTS expression in Fts3Cursor.pExpr.
All variables must either be on the stack or dynamically allocated from the heap.
Also return true if the function has no arguments or has only constant arguments.
An exception is an INSERT statement that inserts a single row only (no triggers).
An instance of this structure is used to create a segment b-tree in the database.
And as sub-transactions are opened/closed:  xSavepoint(int S):  Open savepoint S.
And if this overflow cell is present, it must be the cell with  index iParentIdx.
Any pinned pages that meet this  criteria are unpinned before they are discarded.
Any prepared statement that invokes this opcode will hold mutexes on every btree.
Argument pSrclist is a pointer to the FROM  clause that the scan reads data from.
As they come as bit mask, we have to convert it to human-readable representation.
Attempt to match pE against result set columns in the left-most SELECT statement.
Bad UTF-8 sequences are converted to valid Tcl_UniChars and processing continues.
Below this point is the implementation of the fts5_decode() scalar function only.
Bringing initial option settings outside can help speed up starting point checks.
CALENDAR OVERVIEW  The Jewish calendar is based on lunar as well as solar cycles.
Call all possible shutdown functions registered with register_shutdown_function()
Call sqlite3ConnectionUnlocked()  to invoke any required unlock-notify callbacks.
Check that a table or index named 'zName' does not already exist in database iDb.
Check that the doclist does not appear to extend past the end of the b-tree node.
Create extra terms on the WHERE clause for each column named in the USING clause.
Delete any previous value and set the value of pMem to be an empty boolean index.
Determine the number of the cell within the stack, given the address of the cell.
Disabling a term causes that term to not be tested in the inner loop of the join.
Division by zero results in an exception, so it doesn't need any special handling
Do not attempt to process this query if there are an WITH clauses attached to it.
EXTRA_SIZE is the number of bytes of space needed to hold that extra information.
Earlier versions of SQLite allowed the user to change this value at compile time.
Emit a warning so that the end-user will know that they should try something else
Figure out if we have any triggers and if the table being inserted into is a view
Fix the pointer map entries associated with the right-child of each sibling page.
Following if block primarily used for inserting nodes created via createElementNS
For ASCII, any character with the high-order bit set is allowed in an identifier.
For WinCE, some API function parameters do not appear to be declared as volatile.
Foreign key support may not be enabled or disabled while not in auto-commit mode.
Free all allocations associated with the iterator passed as the  second argument.
Free object contents, but don't free objects themselves, so they show up as leaks
Functions to deserialize a 16 bit integer, 32 bit real number and 64 bit integer.
Generate code that initializes multiple registers to string or integer constants.
Get the URI of the current script so that we can set the base directory in libxml
Given a wildcard parameter name, return the index of the variable with that name.
Helper function used to add an associative array of warnings and errors to a zval
If "mimetype" is non-NULL, it should point to a pointer allocated with emalloc().
If SQLITE_ANY is specified, add three versions of the function to the hash table.
If a malloc fails, then the new data is returned and the hash table is unchanged.
If a usable page buffer has still not been found,  attempt to allocate a new one.
If an EOF is reached before this happens, *pbEof is set to true before returning.
If argument pState is not NULL, then the incremental checkpoint is being resumed.
If eMode is BTALLOC_ANY then there are no restrictions on which page is returned.
If no error occurs, set *piIdx to this value plus one before returning SQLITE_OK.
If omitted, then a list of all (non-hidden) columns for the table is substituted.
If php_session_create_id() fails due to invalid configuration, it raises E_ERROR.
If so, and this is a RELEASE command, then the current transaction  is committed.
If the RBU database contains no data_xxx tables, declare the RBU update finished.
If the allocation is too large to be handled by this allocation system, return 0.
If the bracket is followed by a quantifier with zero repeat, we have to back off.
If the end of the buffer is reached before a token is found, set *ppExpr to zero.
If the file format and encoding in the database have not been set,  set them now.
If the input does not begin with a quote character, then this routine is a no-op.
If the key is not an INTEGER PRIMARY KEY, then create a unique index for the key.
If the two checksums are identical, the integrity-check is deemed to have passed.
If there is an ORDER BY clause, then create an ephemeral index to do the sorting.
If this is the INCRINIT_ROOT object, then it is running in the  main VDBE thread.
If total space requirements never exceed n then no memory allocations ever occur.
Implementations of the SQL scalar upper() and lower() functions for case mapping.
In a NATURAL join, omit the join columns from the  table to the right of the join
In all cases the repeat_max now specifies the number of additional copies needed.
In any case, all savepoints with an index greater than iSavepoint  are destroyed.
In case we aborted during script execution, we may not reset CG(unclean_shutdown)
In other words, partially  applied transactions are not visible to other clients.
In such a case, the value of nRec computed from the file size would be too large.
In this case checkpoint the database and unlink both the wal and wal-index files.
In this case the call to sqlite3OsTruncate() below will fix the size of the file.
In this case the node-size is determined by inspecting the root node of the tree.
It causes an assert() to fire if either operand to a comparison operator is NULL.
It is not safe to read or modify this variable in more than one thread at a time.
It is the responsibility of the caller to free the elements of the returned list.
It is used when no other memory allocator is specified using compile-time macros.
It should be noted that all mutexes require initialization on the Win32 platform.
It works like ExprSetProperty() during VVA processes but is a no-op for delivery.
Lock the PENDING_LOCK byte if we need to acquire a PENDING lock or a SHARED lock.
Make sure the output register has a buffer large enough to store  the new record.
Make the return value an array only if we need to pass back more than one result.
Manual call of compile_bracket_matchingpath and compile_bracket_backtrackingpath.
Mark all of these as Other Neutral to preserve compatibility with older versions.
NOTES xmlrpc_none is returned if value is not a vector Deprecated for public use.
Negative assertion: all branches must fail to match for the assertion to succeed.
Obtain a reference to the leaf node that contains the entry  about to be deleted.
On the other hand, it does burn CPU cycles every time through the evaluator loop.
Only the hashes of the objects are stored, so this uses relatively little memory.
Opcode: AutoCommit P1 P2 * * *  Set the database auto-commit flag to P1 (1 or 0).
Opcode: IntegrityCk P1 P2 P3 * P5  Do an analysis of the currently open database.
Or, if an error occurs while querying the database, return an SQLite  error code.
Otherwise (if the flag is clear) then this opcode is part of an INSERT operation.
Otherwise, if an error occurs, *ppStmt is set to NULL and an error code returned.
Otherwise, leave the firstchar value alone, and don't change it on a zero repeat.
Otherwise, populate the NodeReader structure output  variables for the new entry.
Overwrite deleted information with zeros when the secure_delete option is enabled
Passing modules with full path is not supported for dynamically loaded extensions
Pop an authorization context that was previously pushed by sqlite3AuthContextPush
Prefix the character ch to the string str Increase length Set the has_prefix flag
Record the fact that the schema cookie will need to be verified for database iDb.
Regardless of whether or not the jump is taken, increment the the sequence value.
Release a reference to data record returned by an earlier call to fts5DataRead().
Return SQLITE_OK if successful or an error code if sqlite3_create_module() fails.
Return the number of bytes that will be needed to store the given 64-bit integer.
Return true if character 't' may be part of an FTS5 bareword, or false otherwise.
Return true if it OK to factor constant expressions into the initialization code.
Rounds a number to a certain number of decimal places in a certain rounding mode.
Rows with NULL values stored in PRIMARY KEY fields may not be updated or deleted.
SEE ALSO XMLRPC_GetValueBase64 () XMLRPC_CreateValueBase64 () XMLRPC_VALUE SOURCE
SQL_SELECT_MXLEVEL Return the largest relative level in the FTS index or indexes.
SQLite calls this  routine to find out if it has reached the end of a result set.
SQLite doesn't use it to indicate "exclusive access" as it is usually understood.
SRT_Fifo has the additional property of being able to ignore the ORDER BY clause.
Search backwards for a varint with value zero (the end of the previous  poslist).
Seek to the offset passed as the second argument, then read cnt  bytes into pBuf.
Should be server specific, but that requires changing all the XMLRPC_VALUE api's.
Silently ignore database qualifiers inside CHECK constraints and partial indices.
Size of struct Mem not including the Mem.zMalloc member or anything that follows.
So a jump past the last instruction of the program is the same as executing Halt.
So the redefinition macros are only valid if the SQLITE_CORE macros is undefined.
So we want first of all to clean up all data and then move to tables destruction.
Space to hold the rollback journal is allocated in increments of this many bytes.
Special case for a single-character break as it needs no additional storage space
Still didn't find anything, let's find the zone solely based on offset/isdst then
THIS SOFTWARE IS BEING PROVIDED "AS IS", WITHOUT ANY EXPRESS OR IMPLIED WARRANTY.
TODO: Unconditionally do this once OCI provides extended OCISessionGet capability
TODO: simplify Update and Final, those look ridiculously complex Mike, 2005-11-23
TOTAL never fails, but SUM might through an exception if it overflows an integer.
The "wsdHooks" macro will resolve to the appropriate BenignMallocHooks structure.
The 2-dimensional table is indexed by the properties of two adjacent code points.
The SQLITE_ECEL_DUP flag prevents the arguments from being filled using OP_SCopy.
The SQLite source code contains multiple implementations of these mutex routines.
The buffer returned in *ppOut is only valid until the next call to this function.
The code can be up to 6 hex digits in length to allow surrogates to be specified.
The contents of the page cache have been modified (and possibly written to disk).
The count part of the header will be the total number of codes that have numbers.
The following mutex is what serializes access to the appdef pcache xInit methods.
The following singleton contains the global configuration for the SQLite library.
The following structure contains the information associated with a character set.
The fts3BestSnippet() function often selects snippets that end with a query term.
The input value in P3 might be of any type: integer, real, string, blob, or NULL.
The max value usec can have is 0xF423F, so we use only five hex digits for usecs.
The next global variable is incremented each type the OP_Sort opcode is executed.
The original where.c file retains the code that does query planning and analysis.
The pPKey2 key must be a parsed key such as obtained from sqlite3VdbeParseRecord.
The payload for an entry and the preceding pointer are combined to form a "Cell".
The print_lengths flag controls whether offsets and lengths of items are printed.
The properties in each row are those that apply to the character set in question.
The reader uses this recorded "mxFrame" value for all subsequent read operations.
The register specified by memRootPage contains the root page number of the index.
The resource and the list entry with its pointer to the resource are still intact
The results are undefined if the value passed to this function is less than zero.
The right-hand-side must be a blob that can be cast into an RtreeMatchArg object.
The sample column is a blob which is the binary encoding of a key from the index.
Then check for an overlong sequence, and for the excluded range 0xd800 to 0xdfff.
Then set the writable-schema flag, and disable CHECK and foreign key constraints.
They do not provide as much information about problems as programmers might like.
This "finder" function for VxWorks checks to see if posix advisory locking works.
This allows the extension to treat phar.zip and phar.tar types as honorary phars.
This also happens for a repeating ket if no characters were matched in the group.
This avoids unnecessary evaluation of arguments past the first non-NULL argument.
This callback is invoked once for each index when reading the sqlite_stat1 table.
This cast is safe, since both values are defined here in code and cannot overflow
This collating sequence is intended to be used for "case independent comparison".
This consistent approach does not always have exactly the same effect as in Perl.
This function allows the user to query in which mode, if at all, VTune is running
This function is called only during the real compile, not during the pre-compile.
This function may only be called while a write-transaction is active in rollback.
This function returns SQLITE_OK if successful, or an SQLite error code otherwise.
This header file is used by programs that want to link against the ICU extension.
This header file is used by programs that want to link against the RTREE library.
This indicates that no database name was specified as part of the PRAGMA command.
This is bad, but since we are going to be hardcoding in the POSIX stuff anyway...
This is described as the "balance-shallower" sub-algorithm in some documentation.
This is in case the previous page written to the journal has already been synced.
This is the header file for the generic hash-table implementation used in SQLite.
This is to ensure that statement-transactions are always nested, not overlapping.
This loop runs once for each term/doclist currently stored within the hash table.
This module contains an internal function for validating UTF-8 character strings.
This module exports a PHP object as a COM object by wrapping it using IDispatchEx
This must be done when using the SQLITE_TEMP_STORE or DEFAULT_TEMP_STORE pragmas.
This object contains a pointer to the WhereLoop algorithm as one of its elements.
This routine is only called by btree immediately after creating the Pager object.
This routine starts a new transaction if we are not already within a transaction.
This table encodes the rules for finding the end of an extended grapheme cluster.
This was easier recursively, but dangerous on long lists, so we walk it ourselves
This will copy the error code and the messages, as they are buffers in the struct
This would likely require user D script variables, which would use kernel memory.
To find the largest key value on pPage, first find the right-most  cell on pPage.
Triggers are disabled while running this DELETE, but foreign key actions are not.
True if IPK can be equal to maxKey False if IPK must be strictly less than maxKey
Update checksum -- must be after transform to avoid fouling up last message block
We need the length of the year to figure this out, so find Tishri 1 of this year.
We say the WhereLoop is "one-row" if it generates no more than one row of output.
We use justifyContent to figure out how to allocate the remaining space available
We won't ever encounter XCL_PROP or XCL_NOTPROP when UCP support is not compiled.
When Rewind() is called, any data remaining in memory is flushed to a  final PMA.
When determining tokens to defer, each AND/NEAR cluster is considered separately.
When space is allocated, *ppFrom is advanced past the end of the allocated space.
When the first call occurs and the request is not set up, flush fails on FastCGI.
When this list is changed, the code at HEAP_RETURN below must be updated in sync.
With ORDER BY, the  pOrderBy terms must be matched in strict left-to-right order.
Write the buffer for the segment node pTree and all of its peers to the database.
XXX chunk size itself is of size_t, that might be ok or not for a particular case
XXX possible buffer overflow if VCWD_REALPATH does not know size of resolved_path
copy the local files, central directory, and the zip comment to generate the hash
create a mapping capable of viewing the whole file (this costs no real resources)
don't ever resolve to the color that has been designated as the transparent color
gd has only 7 bits of alpha channel resolution, and 127 is transparent, 0 opaque.
if securityPrefs is set to NONE, we don't have to do any checks, but otherwise...
if we have called include in the frame above - this is the file we have included.
in case value is never init'd, we don't dtor to think it is a string or something
in this situation, we are passing the brig_in brigade into the stream read buffer
one day, we could fill in the details based on Date: and Content-Length: headers.
other types could be used here - eg: file pointers and read in the data from them
pnByte is a counter of the number of bytes of space that have failed to allocate.
retrieve information on a file contained within a phar, or null if it ain't there
returns     : pointer to data element of new element or NULL if end of the queue.
some zip-files have different values in local and global headers for the bitflags
sqlite3VdbeSorterNext()       Advance the read cursor to the next sorted element.
store temp_filename as-is (in case upload_tmp_dir contains escapeable characters.
then non-zero is returned, and a "foreign key mismatch" error loaded into pParse.
then they do more broken stuff and set path_translated to the cgi script location
these variables are true statics/globals, and have to be mutex'ed on every access
user_stub and len should be both 0 if the default or existing stub should be used
we don't know the socket until we have determined if we are binding or connecting
we only really care about strings because they can represent base64 and datetime.
zMaster must point to a buffer of at least nMaster bytes allocated by the caller.
zType is either "ORDER" or "GROUP" depending on which type of clause pOrderBy is.
(23)  The parent is not a recursive CTE, or the sub-query is not a compound query.
1: signature verified, 0: signature does not match, -1: failed signature operation
2) it is just a plain old inconsitency/typo/bug as in the case where alias is set.
2.0.2: alpha blending is now on by default, and saving of alpha is off by default.
A conditional group with only one branch has an implicit empty alternative branch.
A depth of 1 means the tree contains a single node taken from the head of *ppList.
A read-only or read-write transaction must be opened before calling this function.
A single reader blocks all other connections from reading or writing the database.
A table name and column name:     ID.ID Or a database, table and column:  ID.ID.ID
A transaction applied using this extension is hence refered to as an "RBU update".
AFP is a network filesystem found on Apple Macintosh computers - both OS9 and OSX.
According to rfc2965, more specific paths are listed above the less specific ones.
Advance the cursor to the next row in the table that matches the  search criteria.
After a type conversion, the value returned by sqlite3_column_type() is undefined.
All current savepoints are stored in a linked list starting at sqlite3.pSavepoint.
Allocate an RbuState object and load the contents of the rbu_state  table into it.
Allocate and initialize the WhereInfo structure that will become the return value.
Also separate the UCP code, which can be the same for both UTF-8 and single-bytes.
An instance of the following structure holds all information about a WHERE clause.
And if we were originally supposed to be blocking, let's reset the socket to that.
Apply rule 1 after the others because it can cause an additional delay of one day.
Argument:   the result of a previous pcre_get_substring_list() Returns:    nothing
Array used to collect a decomposition before adding it to the decomposition table.
As well as these, one memory cell is required for each cursor used by the program.
Atomic sub-patterns and assertions can always auto-possessify their last iterator.
Attempt a direct implementation of the built-in COALESCE() and IFNULL() functions.
Attempt to allocate enough memory to hold all of the arguments and a trailing NULL
Attempt to release up to n bytes of non-essential memory currently held by SQLite.
Both the memory that is free by Mem.xDel and the Mem.zMalloc allocation are freed.
But SQLite will only request a recursive mutex in cases where it really needs one.
But before doing so, code a Noop instruction and store its address in  Index.tnum.
But if SQLITE_MAX_VARIABLE_NUMBER is greater than 32767 we have to make it 32-bit.
But if you get a 0 or 1 return, then you can be sure the expressions are the same.
But the reason the mutex does not exist is because the build is not using mutexes.
But there is no way to know at compile-time which threading library is being used.
CAPI3REF: Mutexes  The SQLite core uses these routines for thread synchronization.
Check if locale was changed and change it back to the value in startup environment
Conflict only if the rowid of the existing index entry is different from old-rowid
Convert current hash item from UTF-8 to UTF-16LE and save the result to utf16_buf.
Currently, there's no way to determine how many rows can be fetched from a cursor.
Decrementing the opline to pretend the exception happened during the YIELD opcode.
Destructors are all called for all stack elements before shutting the parser down.
Do the translation from PHP's internal PHP_EXPUNGE define to c-client's CL_EXPUNGE
Don't use the afp_end_lock: exit path, as unixEnterMutex() hasn't been called yet.
During a write-transaction the fts5_index.c module may cache some data  in-memory.
Each SQL index is represented in memory by an instance of the following structure.
Each of these  statements is run and reset within a single virtual table API call.
Each pager opened via the sqlite handle is passed a pointer to sqlite.busyHandler.
Each subclass will be tailored to the specific needs of the module implementation.
Ensure both child nodes have node numbers assigned to them by calling nodeWrite().
Error returns are externally defined PCRE_ERROR_xxx codes, which are all negative.
Except, if we get to the 9th byte, it stores the full 8 bits and is the last byte.
Extract the user data from a sqlite3_context structure and return a pointer to it.
Figure out the affinity to use to create a key from the results of the expression.
Find all instances of carriage returns or line feeds and replace them with spaces.
For  each column that is being updated, the corresponding character is set to 'x'.
For an attached db, it is an error if the encoding is not the same as sqlite3.enc.
For instance while *.txt is a pretty valid filename on EXT3, it's invalid on NTFS.
For opcode without a special possessified version, wrap the item in ONCE brackets.
For table b-trees, this is just the root page of the b-tree being read or written.
FreeSec: libcrypt for NetBSD  Copyright (c) 1994 David Burren All rights reserved.
Handle the special case of a compound-select that originates from a VALUES clause.
Hence the single variable matchOther is used to store the one we have to look for.
Here are all of the sqlite3_io_methods objects for each of the locking strategies.
However, RMATCH isn't like a function call because it's quite a complicated macro.
I assume these types are not applicable to arrays, and were mentioned erroneously.
INSTEAD of triggers are only for views and views only support INSTEAD of triggers.
If P3 is less than P2 (typically P3 is zero) then only register P2 is set to NULL.
If SAPI does not want to ignore all ini files OR an overriding file/path is given.
If X is a character that can be used in an identifier then IdChar(X) will be true.
If an SQLITE_CONFIG_SQLLOG hook is registered and the VM has been run,  invoke it.
If control flows to here, it was not possible to append zTerm to the current node.
If corruption is detected then *pRc is set to SQLITE_CORRUPT and NULL is returned.
If iSavepoint is greater than (Pager.nSavepoint-1), then this function is a no-op.
If noContent is true, it means that we do not care about the contents of the page.
If pOnlyIdx is not NULL then it is a single index in pTab that should be analyzed.
If pSavepoint is NULL, then pages are only played back from the main journal file.
If pStmt is NULL, return the first prepared statement for the database connection.
If pTab is a virtual table, call ViewGetColumnNames() to ensure it is initialized.
If successful, pp is set to the requested statement handle and SQLITE_OK returned.
If the EP_Reduced and EP_TokenOnly flags are set when an Expr object is truncated.
If the VDBE has made changes and is in autocommit mode, then commit those changes.
If the cache contains a page with page-number pgno, remove it from its hash chain.
If the current row is already present in the index, do not write it to the output.
If the entry specified is not found and 'create' is true, then create a new entry.
If the error message is too large for the supplied buffer, it should be truncated.
If the index is created successfully, return a pointer to the new Index structure.
If the journal has been truncated, simply stop reading and processing the journal.
If there are no other statements currently running, then reset the interrupt flag.
If there are no records greater than  the key and P2 is not zero, then jump to P2.
If this DELETE cannot use the ONEPASS strategy, this is the  end of the WHERE loop
If we are trying to delete from a view, realize that view into an ephemeral table.
Implementation of the full-text-search tokenizer that implements a Porter stemmer.
In any case it is tokenized and a phrase object consisting of all tokens returned.
In the "trigHash" hash table (part of the sqlite3* that represents the  database).
In the absence of other comments, this synopsis becomes the comment on the opcode.
Initialize source --- called by jpeg_read_header before any data is actually read.
It is a plausibility check for the function parameters (requirements engineering).
It is an error to call this function if pPager is opened on an in-memory database.
It is the responsibility of the caller to eventually free it using sqlite3_free().
It only happens in b-trees used to evaluate "IN (SELECT ...)" and similar clauses.
It tests if there is a hot journal present in the file-system for the given pager.
Make sure the BtCursor* given in the argument has a valid BtCursor.info structure.
Make sure the results agree with the result obtained using the hash indexes above.
Newly cloned object deliberately does not inherit error state from original object
Non-descriptor streams will only "work" if they have previously buffered the data.
Nor should the pager attempt to upgrade to exclusive-mode following such an error.
Once in WRITER_FINISHED state, it is  not possible to modify the database further.
Or, if an error occurs, (*ppVal) is set to NULL and an SQLite error code returned.
Or, if the P4 argument is a P4_MEM use the value of the P4 argument as the result.
Otherwise, a different close routine (e.g. nolockClose()) would be called instead.
Otherwise, if an error occurs, set *pnMax to zero and return an SQLite error code.
Otherwise, insert the key into the temp table and proceed with processing the row.
Otherwise, it will become a leaf of the first trunk page in the current free-list.
P3 is the number of fields in the records that will be stored by the pseudo-table.
P4 of the OP_Program  is a pointer to the sub-vdbe containing the trigger program.
Properties must be set after open() or XML() and before the first read() is called
Proxy locking is a meta-layer over top of the primitive locking implemented above.
Recursive calls to this routine from thread X return immediately without blocking.
Reduce the required data amount to what is available, otherwise read() will block.
Release all memory held by the SegmentWriter object passed as the  first argument.
Remember where this code item starts so we can pick up the length next time round.
Remove the table entry from SQLite's internal schema and modify the schema cookie.
Replace the backslashes from the filename and lowercase it to derive a mutex name.
Reset to top of main for loop to allow for code to do necessary wrapping/encoding.
Return a static string that describes the kind of error specified in the argument.
Return an integer that records the current (uncommitted) write position in the WAL
Return the VDBE address or label to jump to in order to break out of a WHERE loop.
Return the size of the common prefix (if any) shared by zPrev and zNext, in bytes.
Returns the data associated with key on success Returns NULL if data doesn't exist
SQLite's versions are identical to the standard versions assuming a locale of "C".
Sanity checking:  The schema for the trigger and for the table are always defined.
Select a sub-task to sort and flush the current list of in-memory records to disk.
Separate the bound variables, which point to the result set, then destroy the set.
Set a flag in the vdbe to update the change counter when it is finalised or reset.
Similarly, xMutexAlloc() must not use SQLite memory allocation for a static mutex.
Special case - the last token of the snippet is also the last token of the column.
Thanks to Ian Taylor for noticing this possibility and sending the original patch.
The ERROR state indicates that the contents of the pager-cache  cannot be trusted.
The ability to override this routine was added in support of the chromium sandbox.
The automatic salt generation covers standard DES, md5-crypt and Blowfish (simple)
The buffer *ppToken is set to point at is managed by the tokenizer implementation.
The callback for when the main thread has issued a command to the run loop thread.
The cast is safe, if larger then the array will be later extended - no big deal :)
The error code range 0x10100 0x10200 are reserved for formatting API parsing error
The error code range 0x10200 0x102ff are reserved for Break Iterator related error
The following array holds the names and pointers to all overrideable system calls.
The following info was obtained using OleView to export the IDL from mscorlib.tlb.
The following php_mt_...() functions are based on a C++ class MTRand by Richard J.
The integers are opcodes followed by 0, 1, or 3 operands, depending on the opcode.
The iterator initially points to the first term/rowid entry in the  iterated data.
The iterator passed as the first argument has the following fields set as follows.
The next global variable is incremented each time the OP_Found opcode is executed.
The only purpose is to provide an easy way to test the sqlite3AbsInt32() function.
The optimizer is able to deliver rows in group by order so we do not have to sort.
The pDatabase points to the table name and the pTable points to the database name.
The pFix structure must have been initialized by a prior call to sqlite3FixInit().
The page is always associated with the Pager object passed as the first  argument.
The parser calls this routine when it first sees a CREATE VIRTUAL TABLE statement.
The parser calls this routine when it sees an INSERT inside the body of a trigger.
The query logic likewise merges doclists so that newer data knocks out older data.
The result is a string that identifies the compiler options  used to build SQLite.
The same thing might be implemented more directly using a hand-written hash table.
The sqlite3ResultSetOfSelect() is only used n contexts where lookaside is disabled
The subtree blocks are contiguous, so only the first subtree's blockid is encoded.
The thread will only ever remove all the commands...it will never append a command
The upper 32 bits of the result will be in r2 and the lower 16 bits will be in r1.
The variables used to return semantic value and location from the action routines.
Then, for each level from 0 to nMax:  + number of input segments in ongoing merge.
There is a table for possessifying opcodes, all of which are less than OP_CALLOUT.
There is plenty of room for any possible stack (stack used to be 8000 characters).
These checks are currently valid for oci_bind_by_name, not oci_bind_array_by_name.
This array contains the bytes used to pad the buffer to the next 64-byte boundary.
This branch loads the value of a column that will not be changed  into a register.
This can be upgraded to an EXCLUSIVE lock by a subsequent call to sqlite3OsLock().
This code suppresses a BDB 4.8+ error message, thus keeping PHP test compatibility
This expression is legal (see  test case misc2.2.2) - it always evaluates to NULL.
This file contains routines used for walking the parser tree for an SQL statement.
This function appends the position list data for the current entry to buffer pBuf.
This function prepares the SQL statement against database db and frees the buffer.
This function returns a pointer to a buffer containing the encrypted page content.
This is a buffer that is big enough to hold the entire content of a database page.
This is called as part of registering the FTS5 module with database connection db.
This is really just for tidiness with callouts, in case they inspect these fields.
This means that the first row returned should not have a NULL value stored in 'x'.
This module contains an internal function that is used to match an extended class.
This reduces potential concurrency, but makes the lock implementation much easier.
This results in a false-positive which will be dealt with by the playback routine.
This routine might invoke the stress callback to spill dirty pages to the journal.
This routine sets the P4 parameter of the  OP_Column to the default value, if any.
This same object is reused to store a linked list of trees of RowSetEntry objects.
This temporary number is stored in the temp argument, which is of type gmp_temp_t.
This vector defines all the methods that can operate on an sqlite3_file for win32.
To guarantee multiple calls generate unique names even if the file is not created.
To work around the problem, SQLite has to manage file locks internally on its own.
Token pTok has appeared in a MATCH expression where the NEAR operator is expected.
Use a value of 0 to disable any limit on the number of terms in a compount SELECT.
Used by sqlite3Fts3EvalPhrasePoslist() if this is a descendent of an OR condition.
Used to pass information from the analyzer reader through to the callback routine.
Verify that the every entry in the mapping region is reachable via the hash table.
We should be using "void *" but there are still machines that don't understand it.
Whatever the cause, try to restore "p" to the place it is supposed to be pointing.
When UTF-8 is enabled, a positive value greater than 255 may be returned in chptr.
When having the former no comparison of the data is done (part of INTERSECT_ASSOC)
While this other process is holding the file open, we will be unable to delete it.
Write into *piFrame the frame index where that page was last written into the WAL.
Write the nRec Field - the number of page records that follow this journal header.
a short read or version format mismatch means we need to create a new  conch file.
add a database handle to the TEB with the most recently specified set of modifiers
allocate a statement handle struct of the right size (struct out_sqlda is inlined)
as it is not really public, duplicate declaration here to avoid pointless warnings
balance_quick() inserts a new cell into pParent, which may cause pParent overflow.
build the old IMAPG(imap_folders) variable to allow old imap_listmailbox() to work
do not use gdFree here, in case gdFree/alloc is mapped to something else than libc
if you want to remove following line,  you should check in parse and compile time.
parse a file or directory of files const char *fn: name of magic file or directory
root has special perms on plain_wrapper But we don't know about root under Netware
strftime( FORMAT, TIMESTRING, MOD, MOD, ...)  Return a string described by FORMAT.
then flatten the properties into it, to, mostly to notfiy developer about problems
these names depend on the values of the PHP_STREAM_AS_XXX defines in php_streams.h
when num_commands is 0, then realloc will be effectively a malloc call, internally
zOut is guaranteed to point to a buffer of at least (DEVSYM_MAX_PATHNAME+1) bytes.
'fields' is reused because the ownership of the strings has been transferred above.
(2) NORMAL    We are in the middle of statement which ends with a single semicolon.
(3)  4 byte big-endian integer which is the initial value for the  sanity checksum.
0x0 at the end of the scramble and thus last byte in the packet in 5.1 and previous
A "position" is an index of a token in the token stream generated by the tokenizer.
A "position-list" is the list of positions for multiple columns for a single docid.
A COMMIT fails if there are active writing VMs or active VMs that use shared cache.
A pager may be in any one of the seven states shown in the following state diagram.
A single instance of this is allocated for each  sorter cursor created by the VDBE.
A special adder/subtractor for the recursive divide and conquer multiply algorithm.
A three-byte-character lead-byte not followed by two trail-bytes represents itself.
A write-transaction must be started before attempting any  changes to the database.
AFP locking uses the file path so it needs to be included in the afpLockingContext.
Add seg-reader objects to the Fts3MultiSegReader object passed as the 8th argument.
After this point we are allowed to free the result set, as we have cleaned the line
All we have to do is look for a semicolon that is not part of an string or comment.
Allocate an instance of the default tokenizer ("simple") at  Fts5Config.pTokenizer.
Allocate the Bitvec to be tested and a linear array of bits to act as the reference
Also release any dynamic memory held by the VM in the Vdbe.aMem memory  cell array.
An excellent reference on the underlying algorithm (and related algorithms) is:  B.
An open write-ahead log file is represented by an instance of the following object.
Argument pStart points to the first byte of the doclist that the varint is part of.
Before doing so, figure out if there is an explicit column specifier for the token.
Both this routine and Lookup() attempt to find a page in the in-memory cache first.
But instead of running the code, it invokes the callback once for each instruction.
Check that the optional printf format in description matches the type of the magic.
Consider a case in which a user wishes to query for a phrase such as "first place".
Context permits overwriting file, so we just delete whatever's there in preparation
Continue to skip out-of-range pages and continue adding pages rolled back to pDone.
Database filenames are double-zero terminated if they are not URIs with parameters.
Defer sourcing vdbe.h and btree.h until after the "u8" and  "BusyHandler" typedefs.
Do not allow incremental  loading or merging of phrase doclists for this iteration.
Do some checking to help insure the file we opened really is a valid database file.
Don't give them the default one though since they already said they didn't want it.
Don't use the end_lock: exit path, as sqlite3OsEnterMutex() hasn't been called yet.
Extract all tokens from hash table iHash and link them into a list in sorted order.
Find a set of variables which are used outside of the block where they are defined.
Flush the contents of in-memory hash table iHash to a new level-0  segment on disk.
Form 2 rebuilds all indices in all databases that use the named collating function.
Future revisions and derivatives of this source code must acknowledge Facebook Inc.
Global filter hash, copied to FG(stream_filters) on registration of volatile filter
However according to MSDN, INVALID_SET_FILE_POINTER may also be a valid new offset.
If NULL is returned, session module create new ID by using php_session_create_id().
If PCRE is configured with --enable-rebuild-chartables, this happens automatically.
If a  deferred foreign key constraint is violated, no action is taken  immediately.
If a memory allocation error occurs, the entire list is freed and NULL is returned.
If a peer_fingerprint match is required this trumps peer and peer_name verification
If a transaction is opened here, then it will be closed before this function exits.
If an error occurs, an SQLite error code is returned and *ppWal is left unmodified.
If iDb is passed SQLITE_MAX_ATTACHED, then all attached databases are checkpointed.
If minusFlag is true, then the value is a number that was preceded by a minus sign.
If neither SQLITE_TEST or SQLITE_DEBUG are defined, then these routines are no-ops.
If one cannot determine the truth value of the expression at compile-time return 0.
If successful, *pFd is set to the opened file descriptor and SQLITE_OK is returned.
If successful, set *ppFd to point to the malloc'd file-handle and return SQLITE_OK.
If successful, set *ppPage to point to the new page reference and return SQLITE_OK.
If the OPFLAG_PERMUTE bit is clear, then register are compared in sequential order.
If the SQLITE_JUMPIFNULL  bit is clear then fall through if either operand is NULL.
If the WHERE clause is empty, the foreach loops must each scan their entire tables.
If the caller is successful, set the Pager.eLock variable to the new locking state.
If the database is not empty and the *-wal file exists, open the pager in WAL mode.
If the journal really is hot, reset the pager cache prior rolling back any content.
If the name is not unique, append an integer to the name so that it becomes unique.
If the opcode is not a repeated character type, it returns with the original value.
If the random rowid does exist, we select a new one and try again, up to 100 times.
If the sorter uses more than one task, then create the top-level  MergeEngine here.
If the sqlite_stat1 table is not present in the database, SQLITE_ERROR is returned.
If there is an escape character E,   A LIKE B ESCAPE E  is mapped to like(B, A, E).
If there is no statement handle, then the blob-handle has already been invalidated.
If this is the first overflow page, then write a partial entry  to the pointer-map.
If this realloc is really a realloc (ie: second time around), we get an extra byte.
If we cannot prove that the expressions are identical, we return 2 just to be safe.
If x is a lower-case ASCII character, then its upper-case equivalent is (x - 0x20).
Implementation of the SQL scalar function for accessing the underlying  hash table.
In 4.1 we use CLIENT_SECURE_CONNECTION and thus the len of the buf should be passed
In contrast to exif_process_string this function does always return a string buffer
In debug mode, we mark all persistent databases as sharable even when they are not.
In most cases, you can compute the value of nRec from the size of the journal file.
In this case N is the number of simple select statements in the compound sub-query.
In this case the caller is required to call releasePage() on *ppChild exactly once.
In this case this line will also update Z_STRVAL_P(op2) to point to the new string.
Input "x" is a sequence of unsigned characters that represent a big-endian integer.
Invert the key permutation and initialise the inverted key compression permutation.
It does not check that the expression does not exceed the  maximum allowable depth.
It is guaranteed that zTerm is larger (according to memcmp) than the previous term.
It used to set an alarm callback that was invoked when memory usage grew too large.
Its length field points back to the previous branch while the bracket remains open.
Let's have some space, which we can use, if not enough, we will allocate new buffer
Make sure that the memory subsystem is initialized prior to invoking sqliteRealloc.
NOTE: We are dealing with a relative path name and the data directory has been set.
NUM (with SIZE digits) is multiplied by DIGIT and the result is placed into RESULT.
Neither X nor Y have COLLATE operators, but X has a non-default collating sequence.
No information is required by the code-generator before coding an INSERT operation.
Note that, for Perl compatibility, SKIP with an argument does NOT set nomatch_mark.
Now that we've identified that we've a Bcc list, remove it from the current header.
Object used to represent a single file opened and mmapped to provide shared memory.
Obviously, in a real application you might want to do things other than print them.
On the other hand, the extra seeks could end up being significantly more expensive.
Only a username for example may still be a valid address at the destination system.
Opcode:  Yield P1 P2 * * *  Swap the program counter with the value in register P1.
Optional second parameter is a regular expression for filtering directory contents.
Output parameter *pbOk is set to true if a value is extracted, or false  otherwise.
PARAMETERS: PS_VALIDATE_SID_ARGS in php_session.h RETURN VALUE: SUCCESS or FAILURE.
PTRMAP_OVERFLOW1: The database page is the first page in a list of  overflow pages.
Pager.eLock may only be set to UNKNOWN_LOCK when the pager is in  PAGER_OPEN state.
Perl gives an error if they are encountered at the top level, so we'll do that too.
Previously saw an Implicit Result Set in an earlier invocation of php_oci_fetch_row
Real drivers must be substituted using sqlite3_config() before SQLite will operate.
Return -ve if zLhs is smaller than zRhs, 0 if it is equal, or +ve if it is greater.
Return the value of the pending byte as it existing before this routine was called.
SQLITE_NOMEM may be returned if a malloc() fails during conversion between formats.
SUCCESS or FAILURE is returned and pphar is set to a pointer to the phar's manifest
Save the current cursor position in the variables BtCursor.nKey  and BtCursor.pKey.
See grammar rules associated with the TK_REGISTER token for additional information.
See the following functions:  nodeReaderInit() nodeReaderNext() nodeReaderRelease()
Set *pCurrent to non-zero if there are unresolved deferred foreign key constraints.
So the computation is done on a copy of the SELECT statement that defines the view.
So there are no more results and we should just return FALSE, error_no has been set
Some broken save handler implementation returns FAILURE for non-existent session ID
Such a cell consists of a 4 byte page number followed by a variable length integer.
TODO: revisit this when flags are supported, since they may require a recompression
TODO: some smart thing that avoids duplicating the value in the general loop below.
Tables marked isRecursive have only a single row that is stored in a pseudo-cursor.
Temporary buffer to hold scanned number strings before they are passed to strtoul()
Terminate source --- called by jpeg_finish_decompress after all data has been read.
That is the historical behavior of SQLite: prior to version 3.8.3, it never checked
That is, the final term of the snippet is always a term that requires highlighting.
The "p" parameter is the part of the FROM clause that has already been constructed.
The INT64_OR_DOUBLE type is a 64-bit integer type when available, otherwise double.
The busy-handler is not invoked if another connection already holds the write-lock.
The calling function is responsible for making sure the node eventually gets freed.
The data variable is saved across frames, so the byte map needs to be stored there.
The exact size of the output buffer is also passed as a parameter to both  methods.
The flattened query is distinct if either the inner or the outer query is distinct.
The following macro seems to provide the constant while making all compilers happy.
The hash for this key has already been computed and is passed as the 4th parameter.
The interface to the code in fault.c used for identifying "benign" malloc failures.
The isDeferred parameter is 1 for INITIALLY DEFERRED and 0 for INITIALLY IMMEDIATE.
The iterator currently points to a table (not index) of type  RBU_PK_WITHOUT_ROWID.
The journal file is open and the first header has been written  and synced to disk.
The left-most leaf is the one with the smallest key - the first in ascending order.
The length in the terminating ket is always the length of the whole bracketed item.
The m parameter will be non-zero only when creating -wal, -journal, and -shm files.
The only thing omitted is the automatic recompile if a  schema change has occurred.
The size of the of each page record in the journal is given by the following macro.
The table being dropped does not have the largest root-page number in the database.
The wal-index consists of a header region, followed by an one or more index blocks.
There is an added cost of O(N) when switching between TEST and SMALLEST primitives.
There is only ever one instance of this SQL statement compiled for each FTS3 table.
Therefore, if we have just failed to match, starting at a newline, do not continue.
This could be a couple of kilobytes or so - potentially larger than the page  size.
This could conceivably cause corruption following a power failure on such a system.
This ensures that  the next process to write to the database restarts the wal file.
This file contains utility routines for analyzing Expr objects in the WHERE clause.
This function - unixLogError_x(), is only ever called via the macro unixLogError().
This function makes a copy of the array and strings into a  single block of memory.
This information used to all be at the top of the single source code file "vdbe.c".
This is a consistent approach, but does not always have the same effect as in Perl.
This is called when the database connection passed as an argument is  being closed.
This is most useful for declaring functions that can then be called with CALL_PHPx.
This logic is only used for input more than STRTOD_DIGLIM digits long (default 40).
This loop also handles the case of the PRIMARY KEY index for a WITHOUT ROWID table.
This means it is unsafe to attempt to truncate a file to any size larger than 2GiB.
This might be helpful in applications where the block is shared by different users.
This object caches writes to the PMA so that aligned, page-size blocks are written.
This routine only works if h really is a valid hexadecimal character:  0..9a..fA..F
This should use a hash to determine if a given target id has already been appended.
To tokenize an input buffer, the sqlite3_tokenizer_module.xOpen() method is called.
Transitions between states above are determined by tokens extracted from the input.
Turn a SELECT statement (that the pSelect parameter points to) into a trigger step.
Unless the pager is in noSync mode, the journal file was just  successfully synced.
Use nodeAcquire() to obtain the leaf node containing the record with  rowid iRowid.
User is requesting the value of the special column with the same name as the table.
Verify that the version number on the WAL format is one that are able to understand
We can't use zend_hash_index_find() because the array may have string keys or gaps.
When called from imagewbmp() the quality parameter stands for the foreground color.
While an RBU handle is open, a SHARED lock may be held on the target database file.
Win32 select() will only work with sockets, so we roll our own implementation here.
add signature for executable tars or tars explicitly set with setSignatureAlgorithm
could be Windows 8/Windows Server 2012, could be Windows 8.1/Windows Server 2012 R2
dbName is the database name (ex: "main" or "temp") which will receive the imposter.
duplicate this into a new chunk of emalloc'd memory, since the engine will efree it
for SHOW/DESCRIBE and others the column/field count is not available before execute
iFirstRowid, iLastRowid: These variables are only used for FTS5_PLAN_MATCH cursors.
must copy previous value because MSVCRT's putenv can free the string without notice
number of bind variables doesn't match number of elements in type definition string
ppFrom points to available space and pEnd points to the end of the available space.
retrieving a file defaults to within the current directory, so use this if possible
returns     : pointer to data or NULL if could not find it or could not sort queue.
sigtimedwait and sigwaitinfo can return 0 on success on some platforms, e.g. NetBSD
this can happen with rewrite rules - and we have no idea what to do then, so return
using a stream here is a bit more efficient (resource wise) than php_gzopen_wrapper
xmlrpc "faults" are not directly represented in this xmlrpc API or data structures.
"streamable kanji code filter and converter" Copyright (c) 1998-2002 HappySize, Inc.
'Y' is a consonant unless it follows another consonant, in which case it is a vowel.
(16)  The outer query is not an aggregate or the subquery does not contain ORDER BY.
2.6.1 xsi:type 2.6.2 xsi:nil 2.6.3 xsi:schemaLocation, xsi:noNamespaceSchemaLocation
Add the file descriptor used by file handle pFile to the corresponding pUnused list.
Add the list of function arguments to the SrcList entry for a table-valued-function.
All extensions can call any of the APIs above provided that the pointer is not NULL.
All that follows is private to pcache.c and should not be accessed by other modules.
Also run this branch if NULL is equivalent to FALSE for this particular IN operator.
Also, each component of the sub-query must return the same number of result columns.
An EXCLUSIVE lock may still be held on the database file  after a successful return.
An instance of the following data structure is used to build doclists incrementally.
An object of the following type is used to read data from a single FTS segment node.
Analyze a term that is composed of two or more subterms connected by an OR operator.
As in a large database update transmitted via a wireless network to a mobile device.
At one point this function returned an error if the pager was in  PAGER_ERROR state.
At this point we have the character's bytes in mcbuffer, and the length in mclength.
Attempt to locate an element of the hash table pH with a key that matches pKey,nKey.
Avoid soft deadlock: do not read if there is nothing to read from sockets and pipes.
Clearly they are stressing Lemon in ways that it has not been previously stressed...
Compare strings z1 and z2, returning 0 if they are identical, or non-zero otherwise.
Cookies are preferred, because initially cookie and get variables will be available.
Create a record for this index entry as it should appear after the insert or update.
Decrement the value in register P1 then jump to P2 if the new value is exactly zero.
Define the fts5yytestcase() macro to be a no-op if is not already defined otherwise.
Define the required Windows SDK version constants if they are not already available.
EVIDENCE-OF: R-08308-17224 The default collating function for all strings is BINARY.
EVIDENCE-OF: R-16571-11615 A value of 10 means the page is a leaf index b-tree page.
EVIDENCE-OF: R-20501-61796 A value of 13 means the page is a leaf table b-tree page.
Each call to this routine overrides any prior callbacks registered on the same "db".
Each constant designates a different metric for sqlite3_stmt_scanstatus() to return.
Each row relates to one of PCRE's special properties such as ALNUM or SPACE or WORD.
Error is less than half an ulp -- check for special case of mantissa a power of two.
Example: "c2chars/nints" will return an object with fields chars1, chars2, and ints.
First list contains canonical mappings, second also includes compatibility mappings.
Following the varints are the concatenated position lists for each phrase, in order.
For an SQLITE_ACCESS_EXISTS query, treat a zero-length file as if it does not exist.
For each iteration, variable iOff is set to the byte offset of the destination page.
For example, change "PRIMARY KEY(a,b,a,b,c,b,c,d)" into just "PRIMARY KEY(a,b,c,d)".
For numbers that are too large to represent as a long, this function returns a zero.
For this purpose, the lunar cycle is assumed to be 29 days 12 hours and 793 halakim.
Free all allocated memory and reset the JsonString object back to its initial state.
Future versions of SQLite might provide greater resolution on the profiler callback.
Generate a coroutine to evaluate the SELECT statement on  the right - the "B" select
Generate code to do constraint checks prior to an INSERT or an UPDATE on table pTab.
However, if neither NUM nor ASSOC is set we will free memory cleanly and won't leak.
If an error occurs while doing so, return 0 and write an  error message to pErrorDb.
If an error occurs, NULL is returned and an error code left in the Fts5Index handle.
If minimizing, we have to test the rest of the pattern before each subsequent match.
If one can be found, return a pointer to the space and remove it from the free-list.
If one term is a prefix of the other, it is considered to be smaller than the other.
If pPrior is part of the data area of pPage, then make sure pPage is still writeable
If pTemplate is always better than p, then cause p to be overwritten with pTemplate.
If so, set the Column COLFLAG_HIDDEN flag and remove the token from the type string.
If the EP_xIsSelect bit is set in the Expr.flags mask, then Expr.x.pSelect is valid.
If the OPFLAG_ISUPDATE flag is set, then this opcode is part of an UPDATE operation.
If the OS lacks large file support, or if the OS is windows, these should be no-ops.
If the destination is DistFifo, then cursor (iParm+1) is open on an ephemeral index.
If the exFlag parameter is true, then immediately upgrade this to an EXCLUSIVE lock.
If the left hand side of the regexp operator is NULL,  then the result is also NULL.
If the left side is "database.id" then pId1 is the database name and pId2 is the id.
If the month is 1 or 2, the calculation is simple addition to the first of the year.
If the parameter is not _QUERY, then the locking-mode is set to the value specified.
If the record number will change, set register regNewRowid to contain the new value.
If the size has changed, and this child has children we need to re-layout this child
If the sorter cursor key contains any NULL values, consider it to be less than pVal.
If the title case character is not present, then make it the same as the upper case.
If there are no more key/value pairs then fall through to the following instruction.
If there is more than one MATCH constraint available, use the first one encountered.
If two different VFSes with the same name are registered, the behavior is undefined.
In each such row, the stat column will be a string consisting of a list of integers.
In other words, restore the cache to the state it was in prior the most recent Push.
Index 0 is the main database file and index 1 is the file used for temporary tables.
Initialize the iterator object pIter to iterate through the entries in segment pSeg.
It clears all cached data  specific to the previous row stored by the cursor object.
It is an error to specify non-NULL values for both docid and some other rowid alias.
It is just copied onto the P2 register exactly as  it is found in the database file.
It is the responsibility of the caller to use  sqlite3_free() to release the memory.
It searches up the characters, looking for ranges of characters in the "other" case.
Leap years can be from 383 to 385 days and common years can be from 353 to 355 days.
Make sure this does not cause any problems.)  This instruction only works on tables.
Move an existing blob handle to point to a different row of the same database table.
Multiple merges might occur in an attempt to  write the quota of nMerge leaf blocks.
NOTE: Windows CE is handled differently here due its lack of the Win32 API LockFile.
Note:  NC_MinMaxAgg must have the same value as SF_MinMaxAgg and SQLITE_FUNC_MINMAX.
Note: This block also runs if one of the special errors handled  above has occurred.
Now if we weren't inside restart, restart would not begin until we remove usage lock
ORDER BY terms that are integers outside the range of 1 through N generate an error.
OTHERWISE:  If none of cases 1, 2, or 3 apply, then leave the eOperator set to zero.
On the Android platform, bypassing the logic below could lead to a corrupt database.
On x86-32, there is no red zone, so this should work (no need for a local variable).
Only valid for Gregorian calendar, commented out as we don't handle Julian calendar.
Open all tables in the pTabList and any indices selected for searching those tables.
Or, if pNear is not NULL, phrase pPhrase is appended to it and the results returned.
Or, if the children are satisfied by an index, the original BETWEEN term is skipped.
Otherwise,  return the actual number of bytes written (which may be less than nBuf).
Otherwise, if an error occurs during execution, *pRc is set to an SQLite error code.
Otherwise, just report that they are block special files and go on to the next file.
Place for at least two instruction (doesn't matter whether the first has a literal).
Prevent derived classes from restricting access that was available in parent classes
Putting this code right at the start ensures that comments have no bad side effects.
Read the total number of levels and segments from the start of the structure record.
Regardless of the strategy selected, FTS can deliver rows in rowid (or docid) order.
Register all built-in functions, but do not attempt to read the database schema yet.
Retrieve information about the current candidate snippet of snippet  iterator pIter.
Return a pointer to the buffer containing the record data for SorterRecord object p.
Return the name of the Nth column of the result set returned by SQL statement pStmt.
Return true for this case to prevent the assert() in the callers frame from failing.
Select the child node which will be enlarged the least if pCell is inserted into it.
Set the error code and error message of the RBU handle to something reflecting this.
Shortcut: When we have a open_basedir and someone tries to unset, we know it'll fail
Since "docid" is an  alias for "rowid", use the xRowid() method to obtain the value.
Since Lookup() never goes to disk, it never has to deal with locks or journal files.
So under Vista, we try to map into a hard coded predefined addresses in high memory.
So we have to introduce  this magic value that the code knows to handle differently.
So, attempt an fsync  and (for now) ignore the overhead of a superfluous fcntl call.
TODO: this error message is unhelpful if the format string is not one character long
Take the exclusive lock now, before opening the WAL file, to make sure this is safe.
Takes an open conch file, copies the contents to a new path and then moves  it back.
Taking care not to read any memory locations that occur before the buffer in memory.
That integer is 0 to disable persistent WAL mode or 1 to enable persistent WAL mode.
The "wsdPrng" macro will resolve to the pseudo-random number generator state vector.
The LHS must be a column that may only be NULL, a string, or a BLOB, never a number.
The argument is an IN operator with a list (not a subquery) on the  right-hand side.
The caller must be holding a SHARED lock on the database file to call this function.
The code within this loop is run only once if the 'searchList' variable is not true.
The copy of the Table structure is deleted by tokenize.c  after parsing is finished.
The exceptions defined in this paragraph might change in a future release of SQLite.
The first varint (if it exists) contains the size of the position list for phrase 0.
The following  loop iterates through the poslists that make up the current  doclist.
The following macros are used to cast pointers to integers and integers to pointers.
The following set of routines are used to disable the simulated I/O error mechanism.
The following structure describes the data structure which trails any stack segment.
The fts3 module calls this  method exactly once for each successful call to xOpen().
The iterator key should be the path that the file will have within the phar archive.
The key is copied onto the P2 register exactly as  it is found in the database file.
The length in the table is a minimum, so we have to arrange to skip the extra bytes.
The main thread will only ever remove all the events...it will never append an event
The overhead of adding the "rbu" VFS to the system is negligible for  non-RBU users.
The page is fetched as read-write unless pCur is not NULL and is a read-only cursor.
The parser calls this routine when it finds a SELECT statement in body of a TRIGGER.
The result that is written to ***pazResult is held in memory obtained from malloc().
The second register in the range will contain the content of the first table column.
The selected snippet parameters are stored in structure *pFragment before returning.
The sqlite3_mutex_alloc() routine allocates a new mutex and returns a pointer to it.
The sqlite3_mutex_enter() and sqlite3_mutex_try() routines attempt to enter a mutex.
The text of the conversion is pointed to by "bufpt" and is "length" characters long.
The third argument points to a buffer containing the name of the main database file.
Then the mean color in each remaining box becomes one of the possible output colors.
There are two possible strategies - the default and the special  "onepass" strategy.
There is a hash-table following every HASHTABLE_NPAGE page numbers in the wal-index.
There is more than one character in the class, or an XCLASS item has been generated.
There is no limit to the number of synonyms that may be provided for a single token.
There is no mechanism by which the parser stack can be popped below empty in SQLite.
This behaviour is triggered by passing a non-NULL final argument to compile_regex().
This block checks if there are actually nDesired tokens to the right of the snippet.
This branch is taken if the set of sibling pages somehow contains duplicate entries.
This file contains code used to dynamically load extensions into the SQLite library.
This function is called after transitioning from PAGER_UNLOCK to PAGER_SHARED state.
This function is intended to be used as part of an assert statement in the compiler.
This function returns a copy of the string in memory obtained from sqlite3_malloc().
This function sorts the values in aIdx according to the indexed values in aDistance.
This interface is threadsafe on processors where writing a 32-bit integer is atomic.
This is a Walker.xSelectCallback callback for the sqlite3SelectTypeInfo() interface.
This is done as part of extracting the snippet text, not when selecting the snippet.
This module is a wrapper that provides a POSIX API to the underlying PCRE functions.
This results in an "orphaned trigger" - a trigger whose associated table is missing.
This routine Shifts all join operators from left to right for an entire FROM clause.
This routine accepts over-length UTF8 encodings for unicode values 0x80 and greater.
This routine is called to implement sqlite3_wal_checkpoint() and related interfaces.
This state can be cleared by completely discarding  the contents of the pager-cache.
This uses the stack for saving everything that has to be saved for a recursive call.
To encourage programmers to avoid these functions, we will not explain what they do.
Token pToken is an incrementally loaded token that is part of a  multi-token phrase.
Unless an "EXPLAIN QUERY PLAN" command is being processed, this function is a no-op.
Used when SQLITE_NO_SYNC is not defined and by the assert() and/or OSTRACE() macros.
We can't just fail here, because of the possibility of quantifiers with zero minima.
We know that the regSampleRowid row exists because it was read by the previous loop.
We need the conn because we are doing lazy zval initialization in buffered_fetch_row
We only know the exact method that is being called if it is either private or final.
We should never write to the journal file the page that contains the database locks.
When it reaches 0, the destructor is invoked and the FuncDestructor structure freed.
When that happens, let sqlite3SelectPrep() do all of the processing for this SELECT.
When the assertion is part of a condition, we want to return immediately afterwards.
When the ref-count reaches zero, call the xDisconnect() method to delete the object.
When we already have some bits in our internal buffer concatenate both inputs first.
With SQLITE_ACCESS_EXISTS, the xAccess method simply checks whether the file exists.
Write into *piNow the current time and date as a Julian Day number times 86_400_000.
XAP: Extensible Authoring Publishing, obsoleted by XMP: Extensible Metadata Platform
XXX if that's a real multibyte string, olestring is obviously allocated excessively.
assumption: that the active function (f) is the function we generated for the engine
cast count to signed value to avoid possibly negative n being cast to unsigned value
copy file data from an existing to a new phar_entry_info that is not in the manifest
function    : Q_Put  purpose     : replace pointer to data with new pointer to data.
if we succeeded in taking the reserved lock, unlock it to restore the original state
in soap, types may be specified in either element name -or- with xsi:type attribute.
json_type(JSON) json_type(JSON, PATH)  Return the top-level "type" of a JSON string.
no_read becomes 2 in the second pass, and if this is nonblocking, we should return..
parameters  : queue pointer  returns     : pointer to data element that was at tail.
prevent a event race condition when child process have not set up its own event loop
re-negotiation, or perhaps the SSL layer needs more packets: retry in next iteration
sqlite3VdbeSorterClose()      Close the VdbeSorter object and reclaim all resources.
the following options deal with files, therefore the open_basedir check is required.
vdbe.h also requires a few of the opaque pointer types (i.e. FuncDef) defined above.
(20)  If the sub-query is a compound select, then it must not use an ORDER BY clause.
(size + 1 because the size-th character might be the beginning of a grapheme cluster)
414-424) by Dale Schumacher  Additional changes by Ray Gardener, Daylon Graphics Ltd.
A value of (Pager.nSavepoint-1) means operate on the most recently created savepoint.
Additional values that can be added to the sync_flags argument of sqlite3WalFrames():
After all, we're not really supposed to rework JPEGs and write them out again anyway.
Allocate a new MergeEngine object capable of handling up to nReader PmaReader inputs.
Allocate and populate a new Parse context to use for coding the  trigger sub-program.
Also propagate EP_Propagate flags up from Expr.x.pList to Expr.flags, if appropriate.
Although some clever things could be done here, "NOT IMM" does not worth the efforts.
An expression with no children, Expr.pList or  Expr.pSelect member has a height of 1.
Any ON or USING clauses associated with the join are also attached to the left entry.
At the conclusion of the test the linear array is compared against the Bitvec object.
Attempt to set the page size of the destination to match the page size of the source.
Call this routine to delete a hash table or to reset a hash table to the empty state.
Cause register regHasNull to be set to NULL if iCur contains one or more NULL values.
Circumstances that cause a RETRY should only last for the briefest instances of time.
Compare two UTF-8 strings for equality where the first string is a "LIKE" expression.
Configure the cursor to think that the table has one more column than it really does.
Count the number of possible WHERE clause constraints referring to this virtual table
Currently you cannot denote that the function can accept less arguments than num_args
DEDICATION This file is dedicated to my dog, Unix, also known as Yun-chan and Unix J.
Default value used for initialization, for pacifying older GCCs or non-GCC compilers.
Different API routines are called depending on whether or not this is Win9x or WinNT.
Do extra initialization steps requested by the SQLITE_EXTRA_INIT compile-time option.
Enable by compiling with the -DSQLITE_LOCK_TRACE command-line option on the compiler.
FAIL processing means that the operation in progress stops and returns an error code.
FTS5_SEGITER_REVERSE: This flag is only ever set if FTS5_SEGITER_ONETERM is also set.
First, look past the end of the item to see if there is repeat information following.
For a full-text query or docid lookup, the statement retrieves a single row by docid.
For each column to be updated, make sure we have authorization to change that column.
For each row visited, the callback function passed as the fourth argument is invoked.
For the purposes of the comparison, ignore the rowid field at the end of each record.
Force skipping escape sequences on windows due to the ambiguity with path backslashes
Forms 3 and 4 rebuild the named index or all indices associated with the named table.
From this the length of the year can be determined and thus the length of each month.
Hence use memmove() since memcpy() sends SIGABORT with overlapping buffers on OpenBSD
However, conversion tables frequently map 0x00-0x1F to the respective C0 code points.
However, experience has shown that many of these result codes are too coarse-grained.
However, we want to make sure that the insteadof declaration is consistent in itself.
If SQLITE_OMIT_AUTOINCREMENT is defined, then the three routines above are all no-ops
If a Win32 native heap has been configured, this function will attempt to compact it.
If a parent row cannot be found, adding the child row has violated the FK constraint.
If an OOM occurs, store an error code in the RBU handle passed as the first argument.
If an attempt is then made to roll the journal back, the database could be corrupted.
If argument bFree is true, then this WITH clause will never be popped from the stack.
If either P1 or P2 is 0 (false) then the result is 0 even if the other input is NULL.
If foreign-key support is enabled, iterate through all FKs that  refer to table pTab.
If found, increment the reference count and return a pointer to the existing file ID.
If hash for removed entries exists, go until offset+length and copy the entries to it
If it is true, the value read is subtracted from *pVal before this  function returns.
If no error occurs and the contents do match, set *pbOk to true and return SQLITE_OK.
If no peer name was specified we use the autodetected url name in client environments
If persistent then set soap_obj from from the previous created session (if available)
If rowid is changing, make sure the new rowid does not previously exist in the table.
If scope is NULL then the function is global and thus parent does not make any sense.
If successful, sqlite3PcacheMakeClean() is called on the page and SQLITE_OK returned.
If the B-Tree was successfully opened, set the pager-cache size to the default value.
If the device does not support the SEQUENTIAL property, then  journal file is synced.
If the iterator points to EOF when this function is called the results are undefined.
If the rbu update has not started (i.e. the rbu_state table was empty) it is a no-op.
If the specified term is found on the page, then the iterator is left pointing to it.
If there are flexible children in the mix, they are going to fill the remaining space
If there are multiple PATHs, then return a JSON array with the result from each path.
If there is no open transaction, then mark this as a special "transaction savepoint".
If there's only one element, then it's bigger than the content and needs its own line
If this is a temp-file, it is possible that the journal file has not yet been opened.
If this is greater than the usable-size of the page, then the page must be corrupted.
If we are rereading the sqlite_master table create the in-memory record of the table.
If we can't obtain a timestamp (that means file is possibly socket) we won't cache it
If we do attempt to use such a constraint, some rows might be repeated in the output.
If we have a timeout to check, figure out how much time has elapsed since we started.
Immediate caching is not supported as it would be an operation on constant arguments.
In all cases, when you get here, the value and location stacks have just been pushed.
In this case, set the column type to NULL, even though it should really be "INTEGER".
In this state the transaction may be committed simply by finalizing the journal file.
Indicate that subsequent calls to sqlite3Fts5IndexWrite() pertain to document iDocid.
Instead, the integer values is written into u.iValue and the EP_IntValue flag is set.
It is *not* necessary to hold the mutex when this routine is called, even on VxWorks.
It is guaranteed that the page said hash-table and array reside on is already mapped.
It is valid in PAGER_READER and higher states (all states except for OPEN and ERROR).
It never updates the change-counter field, so the changeCountDone flag is always set.
It's possible to override this general case in the activate() callback, if necessary.
Make sure the pDone bit corresponding to the *pOffset page is set prior to returning.
Multiple  threads may safely make multiple concurrent calls to sqlite3_backup_step().
Neither the application code nor the VFS implementation should use the pNext pointer.
No new error processing will occur until three tokens have been shifted successfully.
Note that exprAnalyze() might add new virtual terms onto the end of the WHERE clause.
Note that if an error occurred, it might be the case that no VDBE code was generated.
Note that the number is in the usual order, not reversed as with integer conversions.
Now check that there is at least one non-zero bytes at the start of the journal file.
Only need mutex for popen() in Windows and NetWare because it doesn't chdir() on UNIX
Only report line terminators if we find one other than LF, or if we find none at all.
Open the journal file for pager pPager and write a journal header to the start of it.
Otherwise, an error message is written to context pContext and SQLITE_ERROR returned.
Otherwise, we can use the vector supplied, rounding down its size to a multiple of 3.
PQunescapeBytea() from PostgreSQL 7.3 to provide bytea unescape feature to 7.2 users.
Preventing SQLite from taking this lock also prevents any checkpoints from occurring.
Read what's available and proceed disregarding whether len could be exhausted or not.
Registered sqlite3_vfs objects are kept on a linked list formed by the pNext pointer.
Relabel R/G/B as components 0/1/2, respecting the RGB ordering defined in jmorecfg.h.
Remap the PNG palette to put the entries with interesting alpha channel values first.
Report the wrong number of arguments for json_insert(), json_replace() or json_set().
Return an Expr object that refers to column iCol of table pTab which has cursor iCur.
Return false if pExpr references columns but not columns of tables found in pSrcList.
Return value is 0 if equal, -1 if N1 is less than N2 and +1 if N1 is greater than N2.
SQLite will only access or modify this field while holding a particular static mutex.
Search for a deferred foreign key constraint for which this table is the child table.
See documentation at the top of the analyze.c source file for additional information.
Segment leaf nodes **** Segment leaf nodes store terms and doclists, ordered by term.
Set the EOF flag if either all synonym iterators are at EOF or an error has occurred.
So not loading those that are not going to be used eliminates some redundant opcodes.
So the code within the switch statement will break with convention and be flush-left.
So this routine returns SQLITE_BUSY in that case and no write transaction is started.
That in turn  helps the operating system to deliver pages from the disk more rapidly.
The "iDataCur" cursor must be already be positioned on the row that is to be deleted.
The Pager layer will use this to know that is cache is stale and needs to be flushed.
The SQLite core will never attempt to acquire or release a lock outside of this range
The allocated size is always at least as big as the requested size but may be larger.
The block of registers has already been deallocated by the time this routine returns.
The cases of the switch statement above this line should all be indented by 6 spaces.
The default value may be changed by compiling with the SQLITE_USE_URI symbol defined.
The error code in the range 0x10400-0x104ff are reserved for IDNA related error codes
The first loop just checks to see if there are any "*" operators that need expanding.
The following asserts make sure that structures used by the btree are the right size.
The following is just a sanity check to make sure SQLite has been compiled correctly.
The following value is the maximum cell size assuming a maximum page size give above.
The fts3 module calls this method exactly once for each successful call to xCreate().
The in-memory image of a disk page has the auxiliary information appended to the end.
The mallocFailed flag of the database connection is set if a memory allocation fails.
The new Julian calendar set fixed lengths for the months, abandoning the lunar cycle.
The number of tables in the FROM clause is limited by the number of bits in a Bitmask
The optional paramtype acts as a hint for drivers that have alternate quoting styles.
The other columns should be set to the values that make up the new record  to insert.
The other values are only used when there exists one or more separate worker threads.
The purpose of such selects is to call user-defined functions that have side effects.
The quality parameter for Wbmp stands for the threshold when called from image2wbmp()
The return value is set to SQLITE_OK unless an I/O error occurs during lock checking.
The right pointer of the child page pOld becomes the left pointer of the divider cell
The second "call" of match() uses tail recursion, to avoid using another stack frame.
The sqlite3_mutex_notheld() interface should also return 1 when given a NULL pointer.
The table is truncated at OP_CALLOUT because all relevant opcodes are less than that.
The table referred to is in pTabList or else it is the NEW or OLD table of a trigger.
The varint value is the size of the header in bytes including the size varint itself.
The various UTF/non-UTF and caseful/caseless cases are handled separately, for speed.
There is an extra node on the end of the offsets to allow this routine to work right.
This feature can be used to implement a "Cancel" button on a GUI progress dialog box.
This file contains the C functions that implement date and time functions for SQLite.
This function assumes that pList points to a buffer allocated using sqlite3_malloc().
This function copies a single captured substring, identified by name, into new store.
This function is a no-op unless SQLITE_DEBUG is defined when this module is compiled.
This function is called to handle the SQLITE_FCNTL_SIZE_HINT  file-control operation.
This function is called when the transaction opened by database db has just finished.
This function is called with the doclist for each term that matches a queried prefix.
This function is used to iterate backwards (from the end to start)  through doclists.
This integer should be the rowid of the table entry to which this index entry points.
This is a helper routine for sqlite3VdbeMemSetNull() and for sqlite3VdbeMemRelease().
This is the first term on a leaf that is not the leftmost leaf in the segment b-tree.
This is ugly, but otherwise we would have to maintain a fully compatible struct stat.
This is used for internal sanity checking by the integrity-check in debug  mode only.
This opcode is used when extracting information from a column that has REAL affinity.
This processes one or more 64-byte data blocks, but does NOT update the bit counters.
This property is used by the algorithm for rolling back a journal file after a crash.
This routine handles sqlite3_file_control() calls that are specific to proxy locking.
This routine is only called from b-tree and only when there are no outstanding pages.
This routine makes the necessary changes to the OP_String opcodes for that to happen.
This routine will fail with SQLITE_LOCKED if there are any open cursors on the table.
This structure is used to build up buffers containing segment b-tree  nodes (blocks).
This trick assumes that both the page-size and sector-size are an integer power of 2.
To avoid thwarting these optimizations, it is important not to clear the cursor here.
Translate a string containing an fts5vocab table type to an  FTS5_VOCAB_XXX constant.
Unbuffered queries should not be a problem as we won't allow sending COM_CHANGE_USER.
Unlock the database file to level eLock, which must be either NO_LOCK or SHARED_LOCK.
Upon failure, one of SQLITE_NOMEM, SQLITE_ERROR, or SQLITE_NOTFOUND will be returned.
Variable aMI is used only for FTSQUERY_NEAR nodes to store the global matchinfo data.
Varints **** The basic unit of encoding is a variable-length integer called a varint.
Verify that the database file has not be deleted or renamed out from under the pager.
We are unlikely to get much useful information out of the shared heap in a core file.
We need the length of the year to figure this out, so find Tishri 1 of the next year.
When FETCH_SIMPLE then buf wasn't allocated together with buf and we have to free it.
When a write operation exceeds that limit the content is written to a temporary file.
When executed in the CLI or CGI command-line sapi, this works exactly like mapPhar().
When finished, leave *pz pointing to the first character past the end of the integer.
When this is NULL, apache won't override the hard-coded default php.ini path setting.
Win XP specific, Unicode, not to be confused with SubjectDistance and SubjectLocation
You may assume non null *mod_data created by PS_OPEN_FUNC() is passed to PS_*_FUNC().
after excluding deleted files, calculate manifest size in bytes and number of entries
all persistent connactions are in use, fallback to non-persistent connection creation
flag for full add operation so ldap_mod_add can be put back into oper, gerrit THomson
i.e. if deleting the document with docid pRowid would mean the FTS3 table were empty.
include_filename always points to the last filename of the last last called-function.
initialize stream wrappers registry (this uses configuration parameters from php.ini)
iterates through a list of structs and finds the one with key "name" matching needle.
mpz_rootrem() is supported since GMP 4.2, but buggy wrt odd roots of negative numbers
mysqlnd keeps track of the binding and has freed its structures in stmt_close() above
one char strings (the actual interned strings are going to be created by ext/opcache)
redirect.so and installation instructions available from http://www.koehntopp.de/php.
when we hit an existing break, copy to new buffer, and fix up laststart and lastspace
zend_file_handle_dtor() operates on the copy, so we have to NULLify the original here
zip_open is a macro for renaming libzip zipopen, so we need to use PHP_NAMED_FUNCTION
(12) An EXCLUSIVE lock is held on the database file when writing to the database file.
(19)  The subquery does not use LIMIT or the outer query does not have a WHERE clause.
8: Salt-1 (copied from the header) 12: Salt-2 (copied from the header) 16: Checksum-1.
@return zval* Normalized copy of arg or unmodified arg if normalization is not needed.
A "covering index" is an index that contains all columns that are needed by the query.
A LIMIT of zero means to output no rows and a negative LIMIT means to output all rows.
A container for a temp file handle and the current amount of data  stored in the file.
A write operation on an r-tree table may return SQLITE_CONSTRAINT for two reasons:  1.
According to the docs, this can only be one of the values in the first assert() below.
Additional bit values that can be ORed with an affinity without changing the affinity.
Additional fields may be appended to this object when the iVersion value is increased.
Adds a number if it does not already exist and returns an index value multiplied by 2.
Advance pointer p until it points to pEnd or an 0x01 byte that is not part of a varint
All assertions used not to be repeatable, but this was changed for Perl compatibility.
All other entries are added into either configuration_hash or active ini section array
Allocate an array and populate it with a copy of pCell and  all cells from node pLeft.
Alternative compound select code generator for cases when there is an ORDER BY clause.
Always cast the getpid() return type for compatibility with kernel modules in VxWorks.
Always set the minlength value in the block, because the JIT compiler makes use of it.
An example of where this might be useful is in a regular-expression matching function.
An instance of the following structure represents a single search term or term prefix.
Any attempt to use the cursor should return the error code stored in BtCursor.skipNext
Argument apVal is the same as the similarly named argument passed to fts3InsertData().
As these are otherwise illegal sequences, we don't break anything by recognizing them.
As we don't have a list of which groups are referenced, we cannot do this selectively.
At least one portion of this open_basedir is less restrictive than the prior one, FAIL
At the same time, make sure  the GROUP BY clause does not contain aggregate functions.
Because we can use one of the bytes of the length after we shifted as NUL termination.
Before running the loop, check for UTF-8 and whether CRLF is a valid newline sequence.
Begin AFP Locking *********************************  AFP is the Apple Filing Protocol.
Beware, if the data has been truncated, the final CR could have been followed by a LF.
Break the loop if the pattern is anchored or if we have passed the end of the subject.
But as this is a deprecated interface, we will not bother to check for that condition.
But just read the header of a zero-length byte, don't read the body, there is no such.
But prior changes due to the same operation are not backed out and no rollback occurs.
Called during virtual module initialization to register UDF  fts5_decode() with SQLite
Check that the values read from the page-size and sector-size fields are within range.
Check to see if a partial index with pPartIndexWhere can be used in the current query.
Check to see if the candidate should replace pTo or if the candidate should be skipped
Conversion types fall into various categories as defined by the following enumeration.
Copy array, so the in-place modifications will not be visible to the callback function
Do not discard pages from an in-memory database since we might need to rollback later.
EOF packet is since 4.1 five bytes long, but we can get also an error, make it bigger.
Each index block except for the first contains information on  HASHTABLE_NPAGE frames.
Even if the string is of length zero there is one byte alloced so efree() in all cases
Expr.pRight and Expr.pLeft are the left and right subexpressions of a binary operator.
FG(stream_wrappers) and FG(stream_filters) are destroyed during php_request_shutdown()
For this reason, the default name prefix is changed to be "sqlite"  spelled backwards.
Global wrapper hash, copied to FG(stream_wrappers) on registration of volatile wrapper
However, failure to zero-fill short reads will eventually lead to database corruption.
If NULL is passed to this function, we assume a malloc() failed during sqlite3_open().
If REG_NOSUB was specified at compile time, the PCRE_NO_AUTO_CAPTURE flag will be set.
If X is a proper subset of Y then Y is a better choice and ought to have a lower cost.
If a charset is added, the string will be re-allocated and the new length is returned.
If a hot-journal file is found to exist, *pExists is set to 1 and  SQLITE_OK returned.
If a power failure occurs  while this is happening, the database could become corrupt.
If an error occurs, leave an error code and message in the rbu handle and return NULL.
If it is, delete it and adjust the contents of subsiduary data structures accordingly.
If one or more segments are promoted, the structure object is updated to reflect this.
If pDone is not NULL, then it is a record of pages that have already been played back.
If pList is NULL, then the most recently added column of the table is the primary key.
If pOther is already blocked on db, then report SQLITE_LOCKED, to indicate a deadlock.
If pPayload is part of the data area of pPage, then make sure pPage is still writeable
If successful, the integer value returned is written to *piVal and SQLITE_OK returned.
If the RBU update has been completely applied, mark the RBU database as fully applied.
If the Vdbe passed as the first argument opened a statement-transaction, close it now.
If the im-pointer points to a brand new image, the cache gives out bogus colorindexes.
If the integer is -1, then it is overwritten with the current WAL persistence setting.
If the record identified by P3 and P4 contains any NULL value, jump immediately to P2.
If the second argument to this function is NULL, generate a temporary file name to use
If the text contains no host parameters, return the total number of bytes in the text.
If the zMask string does not specify any columns to update, then this is not an error.
If there is already a lock of this type or more restrictive on the OsFile, do nothing.
If there is no match, or if pE is not a simple identifier, then this routine return 0.
If this class implements Serializable, it should not land here but in object_custom().
Ignore pushed registers and SLJIT_LOCALS_OFFSET when computing the aligned local size.
In other words, nPkField is the number of fields in the true primary key of the table.
In that case just clobber the old data with the new instead of allocating a new array.
In this case configure the iterator so that it points to the first rowid on this page.
In this case the existing value within the target database table must be of type BLOB.
In this case the values written to output parameters *pnLog and *pnCkpt are undefined.
In this implementation, error checking is provided for testing and debugging purposes.
Instead, a process that requests an EXCLUSIVE lock may actually obtain a PENDING lock.
Instead, invoke the unlock-notify callback with the context array already accumulated.
It does not contribute to  FTS functionality, or even the integrity-check, in any way.
It is misuse to call this routine with statements from different database connections.
It is only there to disambiguate functions that can take varying numbers of arguments.
It's better to use additional FREE opcode and simplify the FETCH handlers their selves
Label A, the target of the Gosub above, jumps to the instruction right after the Goto.
More precisely, the "same schema" means the same columns, types,  collation sequences.
Most memory allocators round up memory allocations at least to the next multiple of 8.
Most of the code in this file may be omitted by defining the SQLITE_OMIT_VACUUM macro.
NOTE: Windows CE is handled differently here due its lack of the Win32 API LockFileEx.
NOTE: Windows CE is handled differently here due its lack of the Win32 API UnlockFile.
No checking is done to make sure that page iTable really is the root page of a b-tree.
Non-sharable Btrees (in-memory databases for example), do not have associated mutexes.
Not clear that being smart is worth any trouble anyway --- large skips are infrequent.
Note that it is possible for the library compile-time options to override this setting
Note that the affinity conversions are stored back into the input registers P1 and P3.
Parameter eMode must be one of the PAGER_JOURNALMODE_XXX constants defined in pager.h.
Pointer map entries associated with divider cells are set by the insertCell() routine.
Presumably, the prior OP_NotExists opcode has already positioned the cursor correctly.
Put the tokens into the symbol table, so that GDB and other debuggers know about them.
Records are used to store the content of a table row and to store the key of an index.
Return the expected  size of the database in pages following an auto-vacuum operation.
Return the sector size in bytes of the underlying block device for the specified file.
Return true (non-zero) if the input is an integer that is too large to fit in 32-bits.
Return true if the DISTINCT expression-list passed as the third argument is redundant.
Returns the hash entry associated with key on success Returns NULL if it doesn't exist
SQL is translated into a sequence of instructions to be executed by a virtual machine.
Session Pool Hash Key : oci8spool***username**edition**hashedpassword**dbname**charset
Set *pSize to the number of bytes of data in the entry the cursor currently points to.
Since trees are built from the bottom up, things will be described from the bottom up.
So add an opcode to expire all compiled SQL statements after modifying a pragma value.
So the 'y' rule is that 'y' is a consonant unless it is followed by another consonent.
Strip trailing space from buf, saving end of line in case required for enclosure field
TODO: Merge with refcounting watches, store if watched ref value is to be dropped etc.
Take care to avoid text within string literals, quoted identifier names, and comments.
Terms are separated by AND so add the "AND" text for second and subsequent terms only.
Terms in the VALUES clause of an INSERT statement  The hard upper limit here is 32676.
Tests show that this optimization can quadruple the speed of large  DELETE operations.
That's ok since a VDBE branch coverage build designed for testing the test suite only.
The charMap() macro maps alphabetic characters into their lower-case ASCII equivalent.
The code variable is pointing at the byte into which the BRA operator has been stored.
The contents of the Vdbe.pDelFrame list is deleted when the VM is reset in VdbeHalt().
The file suffix added to the data base filename in order to create the lock directory.
The first argument to the auth function is a copy of the 3rd argument to this routine.
The flag is set for each column that is either a part of the PK or a part of an index.
The flags parameter to sqlite3BtreeOpen can be the bitwise or of the following values.
The following block contains those class members that change during routine operation.
The format string to pass to strftime() is supplied as the user-data for the function.
The formula above is for computing the action when the lookahead is a terminal symbol.
The incremental merge did not copy all the data from this  segment to the upper level.
The locking methods were defined in divisions above (one locking method per division).
The non-greedy case could be replaced by an OP_EXACT, but it is probably not worth it.
The number returned includes any quotes used but does not include the null terminator.
The option can be set in the regex by (*NO_START_OPT) or passed in match-time options.
The pEList corresponds to the result set of a SELECT and is NULL for other statements.
The parameter "x" must have been obtained from a prior call to sqlite3VdbeMakeLabel().
The remaining space between the parent dimensions+padding and child dimensions+margin.
The row is selected by the general category and the column by the particular category.
The savepoint to release or rollback need not be the most recently  created savepoint.
The segment is modified in place so that it contains no keys smaller than zTerm/nTerm.
The table is not a view and the column name identified an  explicitly declared column.
The trigger must be in the same schema as the table or else it must be a TEMP trigger.
The value of the path for the left-most child page of the root of a b-tree is '/000/'.
Then the  WhereMaskSet structure would map those cursor numbers into bits 0 through 5.
Then the following macros can be used to set, clear, or test individual bits within V.
There are a few different OCaml modules that act as interfaces to this global storage.
Therefor we need to make sure that if data is available we fill the buffer completely.
This block  decrements iOff until it points to the first byte of the previous  varint.
This fixes a known issue with SQL Server and (max) lengths, may affect others as well.
This function - winLogErrorAtLine() - is only ever called via the macro winLogError().
This function is a no-op if the pager is in exclusive mode and not in the ERROR state.
This function is a wrapper around the OS specific implementation of sqlite3_os_init().
This function is called by the wal module when writing page content into the log file.
This function writes each one of the in-memory pages in the list to the database file.
This is one term of an OR-optimization using the PRIMARY KEY of a WITHOUT ROWID table.
This is the case if the data for the INSERT is coming from a  single-row VALUES clause
This is useful for accessing a database on a filesystem that does not support locking.
This list is used to delete all sub-program objects when the VM is no longer required.
This means it is possible for other clients to read the database, but not to write it.
This number is actually corrupted by STKSTAT to include the fifteen word trailer area.
This requires a master journal file to ensure the transaction is committed atomically.
This section is performed when method leave event occurs It updates the virtual stack.
This value can be lowered (or raised) at run-time using that the max_page_count macro.
This will copy also the strings and the root, which we will have to adjust in the loop
To detect forward reference we have to scan up the list that is kept in the workspace.
Try to find the next page in the overflow list using the autovacuum pointer-map pages.
Use SQLITE_ENABLE_COMMENTS to enable generation of extra comments on each VDBE opcode.
Verify that no more than two scratch allocation per thread is outstanding at one time.
We keep the original size of the heap to estimate how often we should garbage collect.
We only do this check while compiling, or if any of the magic files were not compiled.
We set headers_sent to 1 here to avoid an infinite loop in case of an error situation.
We use a local variable that is preserved over calls to match() to remember this case.
When all uses of a phar have been concluded, this frees the manifest and the phar slot
YYACTIONTYPE       is the data type used for storing terminal and nonterminal numbers.
YYCODETYPE         is the data type used for storing terminal and nonterminal numbers.
Zero is returned if the call completes successfully, or -1 if a call to fcntl() fails.
allocating function to make programming errors due to uninitialized fields less likely
apply aliases which are qualified with a class name, there should not be any ambiguity
called by PDO to retrieve driver-specific information about an error that has occurred
calling fclose on an fopencookied stream will ultimately call this very same function.
copy file contents + local headers and zip comment, if any, to be hashed for signature
dot '.' changed to _ I immediate form (possibly followed by number of immediate bits).
here we need to compress the data and then write it, first comes the compressed header
if it exists, it should point us to the right offset where the actual pgsql link sits.
json_valid(JSON)  Return 1 if JSON is a well-formed JSON string according to RFC-7159.
perform final modification of zip contents for each file in the manifest before saving
r/w/+ is little bit more PHP-like than INV_READ/INV_WRITE and a lot of faster to type.
skip non-significant significand digits (increase exponent by d to shift decimal left)
throw an exception if we are in EH_THROW mode but DO NOT overwrite a pending exception
to return the docid, followed by each column of text data in order from left to write.
we could do a binary search but it's not worth it since we have at most two entries...
we have to search the class hierarchy for this (implicit) public or protected property
we've got at least 1 byte to read less than 1 is an error AND read bytes match written
"0" digits after the decimal point but before the first significant digit of the number
0 is returned if the new WhereTerm could not be added due to a memory allocation error.
1997) logic in strtod that avoids underflows on inputs whose result does not underflow.
A nul-terminator byte is appended to the buffer following the master journal file name.
A second, no-op, version of this macro is provided when SQLITE_OMIT_EXPLAIN is defined.
A value of 1 means that a trigger program will not be able to itself fire any triggers.
Advance the iterator passed as the second argument until it is at or  past rowid iFrom.
After processing each alternative, restore the offset data and the last captured value.
All code in this file should access the global structure above via the alias "pcache1".
Allocate a KeyInfo object sufficient for an index of N key columns and X extra columns.
Allocate nByte bytes of space from within the B-Tree page passed as the first argument.
Alternatively, if maximizing, find the maximum number of characters and work backwards.
An instance of the following object records the location of each unused scratch buffer.
An instance of this object describes where to put of the results of a SELECT statement.
Analyze the list of expressions that form the terms of the index and report any errors.
Any previous value is deleted by calling the delete function specified when it was set.
Append the N-byte string in zIn to the end of the JsonString string under construction.
Both readers can use the same hash table and mapping section to get the correct result.
But it is important to pass the correct size to  insertCell(), so reparse the cell now.
But this file is the only place where the internal details of this structure are known.
CALENDAR OVERVIEW  The Gregorian calendar is a modified version of the Julian calendar.
Calculate the byte count needed and pad the property counts array to a 4-byte boundary.
Call Graph mode: init the thread local storage (need to store the virtual stack there).
Check if the contents of the FTS index match the current contents of the content table.
Compare the term we are searching for with the term just loaded from the interior node.
Constraint:  If you have ENABLE_COLUMN_METADATA then you must not define OMIT_DECLTYPE.
Control never reaches here by falling through, only by a goto for all the error states.
Convert a double into a LogEst In other words, compute an approximation for 10*log2(x).
Delete any previous value and set the value stored in *pMem to val, manifest type REAL.
Do not reclaim the symbols of the rule which action triggered this YYABORT or YYACCEPT.
Do not reclaim the symbols of the rule whose action triggered this YYABORT or YYACCEPT.
EVIDENCE-OF: R-28312-64704 However, the usable size is not allowed to be less than 480.
Each instance of this object represents an algorithm for evaluating one term of a join.
Each map is 32 bytes long and the bits run from the least significant end of each byte.
Each trigger present in the database schema is stored as an instance of struct Trigger.
Either way, the page being freed will become the new first trunk page in the free-list.
Except, if createFlag is true, that means that we are trying to install a new function.
Finally, calls to xSync() on the target database file fail with SQLITE_INTERNAL errors.
First encode the first two (or possibly 1) instructions, and then the last, separately.
For anchored or unanchored matches, there may be a "last known required character" set.
For most test cases, CORRUPT_DB is set to false using a special sqlite3_test_control().
Free all components of the Fts3Phrase structure that were allocated by the eval module.
Fsync is called on the WAL before writing content out of the WAL and into the database.
Fudge the offset values to achieve this, unless we're already at the end of the string.
Generate VDBE code that prepares for doing an operation that might change the database.
Here is an interesting observation:  Win95, Win98, and WinME lack the LockFileEx() API.
How the linked list is connected depends on how memory is being managed by this module.
ICU provides two types of case mapping, "general" case mapping and "language specific".
If JOURNAL_HDR_SZ bytes cannot be read from the journal file an error code is returned.
If SQLITE_BUSY is returned, it means the close did not happen and needs to be repeated.
If X is false and assert() is enabled, then the assertion fires and the process aborts.
If an OOM error occurs, both the pNear and pPhrase objects are freed and NULL returned.
If an error occurs and pzErrMsg is not 0, then fill *pzErrMsg with  error message text.
If anything goes wrong (i.e. OOM error), leave an error code in pParse and return NULL.
If both args are strings AND either of args is not numeric string then use ICU-compare.
If control flows to this point, this must be a regular token, or  the end of the input.
If it does not already exists, create and populate the on-disk file  for JournalFile p.
If no terms with a constant RHS exist, try to return a term that does not use WO_EQUIV.
If not a forward reference, and the subpattern is still open, this is a recursive call.
If pDatabase is not null, it means that the table has an optional database name prefix.
If pFile is currently larger than iSize bytes, then truncate it to exactly iSize bytes.
If pSortCsr is non-NULL, then this call is being made as part of  processing for a "...
If pStart is NULL the space for the lookaside memory is obtained from sqlite3_malloc().
If the blob handle is not open at this point, open it and seek  to the requested entry.
If the cache previously contains an entry associated with newKey, it must be discarded.
If the final parameter - noSync - is true, then the database file itself is not synced.
If the garbage data came from an obsolete journal file, the checksums might be correct.
If the idx and tbl columns are the same, then the sample is of the INTEGER PRIMARY KEY.
If the integer is -1, then it is overwritten with the current zero-damage mode setting.
If the length is negative, it means the reference is unset in non-Java-compatible mode.
If the next character is a digit, this is a floating point number that begins with ".".
If the pager is not in exclusive-access mode, the database file is completely unlocked.
If the thread was impersonating already, this function uses that impersonation context.
If there are no pages in the WAL with a page number larger than *piPage, then return 1.
If there is a match, fall through and leave the P1 cursor pointing to the matching row.
If there is no previous key/value pairs then fall through to the following instruction.
If this is a non-covering index scan, also add the cost of visiting table rows (N*3.0).
If this routine fails for any reason, it might leave the database in a corrupted state.
If we reach this point, it means that execution is finished with an error of some kind.
In other words, if the page size is 512, then the reserved space size cannot exceed 32.
In other words, the code within VVA_ONLY() will only run during verification processes.
In the real compile phase, just check the workspace used by the forward reference list.
In this case, the integrity of database iDb only is verified by the VDBE created below.
Instruction pcx is the OP_Program that invoked the sub-program  currently being halted.
Invoke the OP_AggFinalize opcode for every aggregate function in the AggInfo structure.
It is illegal to write to  virtual module tables in this case, so return SQLITE_LOCKED.
It is not necessary to fill the buffer entirely, only to obtain at least one more byte.
It is not possible to represent a range larger than 1023 codepoints  using this format.
It is slightly faster than calling sqlite3StrICmp() directly, but produces larger code.
It was determined by inspection of the character codes stored in Microsoft font symbol.
Macro that decides whether a character should be output as a literal or in hexadecimal.
Make copies of constant WHERE-clause terms in the outer query down inside the subquery.
Make sure it is small enough so that at least minFanout cells can will fit on one page.
Many older versions of linux use the LinuxThreads library which is not posix compliant.
Memory cells (nMem+1-nCursor)..nMem, inclusive, will never be used by the vdbe program.
Mode 2 requires a mutex in order to be threadsafe, but recycles pages more efficiently.
Next(), Rowkey(), and Compare() can only occur in between Rewind() and Close()/Reset().
No attempt was made to determine the language in which files of this type were written.
No extra storage is allocated to hold the integer text and the dequote flag is ignored.
No form with immediate operand (except imm 0, which is represented by a ZERO register).
Non-zero is returned if the structure is sqlite3_realloced as part of adding the entry.
Nor will it be considered to be a hot-journal by this or any other database connection.
Note also that it does not work to make an EXPRDUP_REDUCE copy of a reduced expression.
Note that files save handler supports splitting session data into multiple directories.
Note that the first 5 fields of this structure are identical to sqlite3_rtree_geometry.
Note that we don't try to then combine the second and third instr into a single bundle.
On success, make *pp point to the newly allocated WalInterator object return SQLITE_OK.
Or, if no error occurs and it seems the current row does match the FTS query, return 0.
Otherwise, if P4 is an integer  value, it is set to the number of columns in the table.
Otherwise, if an error does occur, set *ppStmt to NULL and return an SQLite error code.
Otherwise, if an error occurs, an SQLite error code is stored in *pRc before returning.
Otherwise, insert the integer in P3 into the RowSet and continue on to the next opcode.
Otherwise, they are calculated by interpreting  all data as 32-bit little-endian words.
Output parameter *pbMatch is set to true if this is really a match, or false otherwise.
PARAMETERS: PS_UPDATE_TIMESTAMP_ARGS in php_session.h RETURN VALUE: SUCCESS or FAILURE.
POSIX.1, 5.3.x open(), creat(), umask() POSIX.1, 5.4.1 link() already supported by PHP.
Parameter eStat must be either SQLITE_DBSTATUS_CACHE_HIT or SQLITE_DBSTATUS_CACHE_MISS.
Read the first N bytes from the beginning of the file into memory that pDest points to.
Register a new 2nd-generation geometry function for use with the r-tree MATCH operator.
Reinitialize page pTo so that the contents of the MemPage structure match the new data.
Remove the node from the in-memory hash table and link it into the Rtree.pDeleted list.
Replaces single character iterations with their possessive alternatives if appropriate.
Return TRUE (non-zero) of the statement supplied as an argument needs to be recompiled.
Return a pointer to a string containing the 'declaration type' of the expression pExpr.
Return true if this pager uses a write-ahead log instead of the usual rollback journal.
Returns the function address that should be called, or NULL if no such function exists.
SQL functions are initially coded as OP_Function0 with P4 pointing to a FuncDef object.
SQLITE_WITHOUT_ZONEMALLOC   Some older macs lack support for the zone memory allocator.
Scan the column type name zType (length nType) and return the associated affinity type.
See comments at the top of this source file for a description of the WAL header format.
Set the FTS5CSR_REQUIRE_RESEEK flag on all FTS5_PLAN_MATCH cursors  open on table pTab.
Similarly, if the database is truncated using PagerTruncateImage(),  dbSize is updated.
Since both numerators are complex NaNs, it seems that the results should agree in kind.
So, in the example above, the cursor numbers would be mapped into integers 0 through 7.
Sometimes this routine will return 2 even if the two expressions really are equivalent.
Strings passed to libcurl as 'char *' arguments, are copied by the library since 7.17.0
Subsequent calls use this cache to make seeking to the supplied offset  more efficient.
Tests "main.main" is exported on android/arm, which golang.org/x/mobile/app depends on.
That file uses //export so it can't put function definitions in the "C" import comment.
The P parameter has type BLOB but it is really just a pointer to the Stat4Accum object.
The aIdx array contains the set of integers from 0 to  (nIdx-1) in no particular order.
The bFlags argument can contain the bit SQLITE_PRINTF_INTERNAL enable internal formats.
The calling code (see vtab.c) will take responsibility for freeing the Table structure.
The calling function is responsible for seeing that this structure is eventually freed.
The code in this file is only used if we are compiling multithreaded on a Win32 system.
The complete wSendmail package with source code can be located from http://www.jgaa.com
The current code allows for fixed one- or two-byte sequences, plus "any" and "anycrlf".
The entry is unique if (1) any column is NULL or (2) the next entry has a different key
The epoch (first day of the first year) is 22 September 1792 in the Gregorian calendar.
The estimated values (nRow, nVisit, nSeek) often contain a large amount of uncertainty.
The first form is used if argument bUseTmp is  false, or the second form if it is true.
The following block advances it to point one byte past the end of the same offset list.
The main DB, main journal, WAL file and master journal are never automatically deleted.
The new root-page may not be allocated on a pointer-map page, or the PENDING_BYTE page.
The pBuf parameter is the initial value of a pointer which will receive the new memory.
The purpose of this routine is to linearize, in some sense, stack addresses for alloca.
The remaining entries cache the RtreeNode for the first elements of the priority queue.
The right-most entry is the one with the largest key - the last key in ascending order.
The second argument is a Trigger structure allocated by the  fkActionTrigger() routine.
The sqlite3KeywordCode function looks up an identifier to determine if it is a keyword.
The terms from the notReady table could not be tested and will need to be tested later.
The timeout value is an integer number of milliseconds passed in as the first argument.
The trait for this alias has not been resolved, this means, this alias was not applied.
The trunk page is required by the caller but it contains  pointers to free-list leaves.
The xSectorSize() method returns the sector size of the device that underlies the file.
There is an implied "Halt 0 0 0" instruction inserted at the very end of every program.
These statements are here to stop the compiler complaining about unitialized variables.
They are used to store the set of table-locks required by the statement being compiled.
This can be an extra read in some situations, but hopefully it is needed in most cases.
This code is owned by Tilera Corporation, and distributed as part of multiple projects.
This file contains the routines that actually generate the bulk of the WHERE loop code.
This file contains the sqlite3_get_table() and sqlite3_free_table() interface routines.
This file is an amalgamation of many separate C source files from SQLite version 3.9.2.
This file is the authoritative source on how SQLite interfaces are supposed to operate.
This function is called by the pcache layer when it has reached some soft memory limit.
This function is similar to sqlite3Fts3ExprParse(), with the following differences:  1.
This function outputs the specified (ANSI) string to the Win32 debugger (if available).
This involves things such as allocating registers and initializing the program counter.
This is a (goofy) SQLite extension, that is supported for backwards compatibility only.
This is intentional - the error code is cleared and the cache reset in the block below.
This is the "normal" case, for ASCII systems, and EBCDIC systems running in UTF-8 mode.
This lookup table is used to help decode the first byte of a multi-byte UTF8 character.
This minimizes the size of the tRNS chunk and thus the size of the PNG file as a whole.
This prevents a trigger in one database from referring to a target in another database.
This routine can distinguish between UPDATE and INSERT by checking regOldData for zero.
This routine must be called after sqlite3PcacheFetch() in order to get a usable result.
This routine returns the type affinity that should be used for the comparison operator.
This same function (with a different compareInfo structure) computes the GLOB operator.
This stops saveCursorPosition() from trying to save the current position of the cursor.
This variable holds the process id (pid) from when the xRandomness() method was called.
This would actually be Monday, because the Jewish day is considered to begin at sunset.
Thus, this function itself never impersonates, but does use the identity of the thread.
Unless disabled, check whether any single character iterators can be auto-possessified.
Variable 'dist' stores the number of tokens read since the most recent TK_DOT or TK_ON.
We might decide to remove the regex at all though and let the server side to handle it.
We reset the empty-input-file flag for each image, but we don't clear the input buffer.
We set its representation in the length/buffer, and then handle it as a data character.
What actually matters are the bits set at the end of every result set (the EOF packet).
When opening the databases, RBU passes the SQLITE_CONFIG_URI flag to sqlite3_open_v2().
When this happened, the server abends when tsrm_tls_table is accessed since it is NULL.
c-level get_iterator cannot be changed (exception being only Traversable is implmented)
class_table is usually destroyed by free_persistent_script() that overrides destructor.
clean up all the child ends and then open streams on the parent ends, where appropriate
copy the numbers before the decimal point, adding thousand separator every three digits
first copy each file's uncompressed contents to a temporary file and set per-file flags
gd 1.2 is copyright 1994, 1995, Quest Protein Database Center, Cold Spring Harbor Labs.
gd is intentionally imperfect and doesn't spend a lot of time fussing with such things.
iDataCur is an open cursor on the btree that is the canonical data store for the table.
if it's been killed because of dynamic process management don't restart it automaticaly
information about each column of an SQL table is held in an instance of this structure.
pPage must have a single overflow entry which is also the right-most entry on the page.
pPk is the PRIMARY KEY index for WITHOUT ROWID tables and NULL for normal rowid tables.
security is 0 here so that we can get a better error message than "entry doesn't exist"
sljit_set_label is clever enough to do nothing if either the jump or the label is NULL.
start a new transaction implicitly if auto_commit is enabled and no transaction is open
the last instruction of basic block is conditional branch, based on comparison of CV(s)
there might be messages to stderr from other parts of the code, we need to log them all
this function loads the collector dll (BistroJavaCollector) and the relevant functions.
this should probably moved to a new `timelib_time *timelime_time_clone(timelib_time *)`
this timeout is used by standard stream funcs, therefor it should use the default value
u.hdr.size4x is 4 times the size of the allocation in blocks if the allocation is free.
we have to save error information, cause MYSQLI_DISABLE_MQ will reset error information
(2)  4 byte big-endian integer which is the number of valid page records in the journal.
(We could get a more accurate k by invoking log10, but this is probably not worthwhile.)
A failure here could be okay given that the protocol might have been merely unregistered
A single instruction of the virtual machine has an opcode and as many as three operands.
A variable length integer is 1 to 9 bytes where the lower 7 bits of each  byte are used.
Actually we don't need this context anymore after we have enabled SSL on the connection.
All allocations must be a power of two and must be expressed by a 32-bit signed integer.
Allocate an appendable output segment on absolute level iAbsLevel+1 with idx value iIdx.
An array to map all upper-case characters into their corresponding lower-case character.
An object of this type is created for each virtual table present in the database schema.
An unconstrained column that might be NULL means that this WhereLoop is not well-ordered
And so, we choose to ignore the compiler warnings and leave this variable uninitialized.
And the largest supported cell size is 48 bytes (8 byte rowid + ten 4 byte coordinates).
Argument aCol points to an array of integers containing one entry for each table column.
BUG: we determine request or response type using presence of "Response" in element name.
But on the other hand, this routine is never called if we are already in an error state.
Call sqlite3WalkExpr() for every expression in list p or until an abort request is seen.
Check to see if we need to back up because we only got a sign or a trailing x after a 0.
Clearly such small values would be inefficient, but can be useful  for testing purposes.
Continue to use the global error handle as the connection is closed when an error occurs
Convert the data in the temporary table into whatever form it is that we currently need.
Could mean that the key container does not exist, let try again by asking for a new one.
Deregister and destroy an RBU vfs created by an earlier call to sqlite3rbu_create_vfs().
Determine the largest segment index value that exists within absolute level iAbsLevel+1.
EVIDENCE-OF: R-03640-13415 A value of 5 means the page is an interior table b-tree page.
EVIDENCE-OF: R-12970-05880 SQLite will not use more than one scratch buffers per thread.
EVIDENCE-OF: R-27225-53936 A value of 2 means the page is an interior index b-tree page.
EVIDENCE-OF: R-53436-40973 The likely(X) function is equivalent to likelihood(X,0.9375).
Each file opened by an rbu VFS is represented by an instance of the following structure.
Files save handler should be used as reference implementations of session save handlers.
Finally, we keep going until we got data, and an SSL_ERROR_NONE, unless we had an error.
Find the appropriate action for a parser given the terminal look-ahead token iLookAhead.
First separate the bound variables, which point to the result set, then destroy the set.
For the purposes of this comparison, EOF is considered greater than any other key value.
For this reason the direct basedir check against the glob query is senseless on windows.
Given a node number iNode, return the corresponding key to use in the Rtree.aHash table.
Grabs the events that are ready to be processed from the linked list and clears the list
However, that would make it  smaller than sample 1, so the binary search would not work.
INSTEAD OF triggers can only appear on views and BEFORE triggers cannot appear on views.
If a memory allocation is required to store the string, then value of pMem is unchanged.
If a transaction is opened, it  will be closed immediately after reading the meta-value.
If any BEFORE triggers were coded, then seek the cursor to the  row to be deleted again.
If argument bGe is zero and the term is not found, the iterator is left pointing at EOF.
If argument zPath is a NULL pointer, this function is required to open a temporary file.
If it is a hot-journal rollback, the pager is in state OPEN and holds an EXCLUSIVE lock.
If it is indeed it then loop once more, then to_be_sent will become 0, left will stay 0.
If new_cache_expire is given, the current cache_expire is replaced with new_cache_expire
If no zName is given, restore all system calls to their default settings and return NULL
If pStart is not NULL then it is sz*cnt bytes of memory to use for the lookaside memory.
If pTab is a WITHOUT ROWID table, then iCur must be the cursor of the PRIMARY KEY index.
If page iPg is present in the cache, and has no outstanding references, it is discarded.
If parameter iReg is not negative, code an OP_RealAffinity instruction on register iReg.
If so, *piPos and pHlMask are updated to shift the snippet nDesired tokens to the right.
If strategy 2 is used, idxStr is formatted to contain 2 bytes for each  constraint used.
If successful, set *ppOut to point to a buffer containing the data and return SQLITE_OK.
If that is successful, call sqlite3_declare_vtab() to configure the r-tree table schema.
If the HAS_MOVED file-control is unimplemented, assume that the file has not been moved.
If the expression might be NULL or if the expression is too complex to tell return TRUE.
If the field type is etGENERIC, then convert to either etEXP or etFLOAT, as appropriate.
If the first field is an integer, the maximum legal header size is (12*5 + 1 + 1) bytes.
If the input day is in the first two months, we want the molad at the start of the year.
If the node being flushed is currently the root node, also push its first rowid upwards.
If the padFlag argument is not NULL then space padding at the end of strings is ignored.
If the row was deleted out from under the cursor, set the cursor to point to a NULL row.
If the source pager is currently in a write-transaction, return SQLITE_BUSY immediately.
If the user does have a later shutdown function which needs the session then tough luck.
If there is already a lock of this type or more restrictive on the unixFile, do nothing.
If this is a real table, attempt conversions as required by the table column affinities.
If this is called we are either in a TIFFs thumbnail or a JPEG where we cannot handle it
If we get to the end of the branch, check the length against that of the other branches.
Implementation note:  This routine merely checks to see if any cursors need to be saved.
Implementation of a scalar function that decodes r-tree nodes to human readable strings.
In UTF-8 mode, the bits in a bit map correspond to character values, not to byte values.
In lieu of that, let's use a define so we don't use absurd amounts of RAM for OSS users.
In most cases, with the default chunk size of 8K, we will only incur that overhead once.
In prior versions of SQLite, sharing was enabled or disabled for each thread separately.
In that case, construct a new virtual term that is  pTerm converted into an IN operator.
In the 8-bit library, this opcode is encountered only when UTF-8 mode mode is supported.
In the caseful case, we can just compare the bytes, whether or not we are in UTF-8 mode.
In the pre-compile phase, accumulate the length of any extra data and reset the pointer.
In those cases, the following call to btreeInitPage() will likely return SQLITE_CORRUPT.
List is linked together via the pointer normally used for hash chains - RtreeNode.pNext.
Log an error that is an API call on a connection pointer that should not have been used.
Not available on windows, the query is possible but there is no DNS_HINFO_DATA structure
Note that Windows does not allow a file to be deleted if some other process has it open.
Note that the second parameter, headers_lc, is actually a lowercased version of headers.
Otherwise, the child node is guaranteed to have advanced at least as far as rowid iLast.
P2 values are contiguous memory cells starting at P3 to pass to the xUpdate  invocation.
P4 is either NULL or a string that was generated by the xBestIndex method of the module.
PCRE_ERROR_NULL means that the selected normal or partial matching mode is not compiled.
Parse context structure pFrom has just been used to create a sub-vdbe (trigger program).
Reassembly the compound query so that it will be freed correctly by the calling function
Remove any entries of the sqlite_sequence table associated with the table being dropped.
Return 0 if it involves variables or function calls or terms from an ON or USING clause.
Return SQLITE_OK if successful, or an error code (i.e. SQLITE_NOMEM) if an error occurs.
Return the declaration type and origin data for the result-set column of the sub-select.
Return the integer unicode code-point value for the first character of the input string.
Return the value to store in the "stat" column of the sqlite_stat1 table for this index.
Return true if this error is  considered fatal if encountered during a backup operation.
SQLITE_BUSY is  returned when there is already a read-lock in order to avoid a deadlock.
SQLITE_NULLEQ is clear and at least one operand is NULL, then the result is always NULL.
Set both the first and last page-numbers to 0 to indicate that the segment is now empty.
Set the BtLock.eLock variable to the maximum of the current lock and the requested lock.
Since ArraySize(azCompileOpt) is normally in single digits, a linear search is adequate.
Since version 2.8.0, the journal format contains additional sanity checking information.
Skip the input cursor past both and copy a single quote character  to the output buffer.
Some API routines are omitted when various features are excluded from a build of SQLite.
Sufficient space is allocated to the return value to hold the suppressed trailing zeros.
TODO(shess) Delimiters need to remain the same from run to run, else we need to reindex.
Tables of horizontal and vertical whitespace characters, suitable for adding to classes.
Take the square root NUM and return it in NUM with SCALE digits after the decimal place.
The Graphics Interchange Format(c) is the Copyright property of CompuServe Incorporated.
The KeyInfo object can only be changed if this is just a single reference to the object.
The Select object passed in has already been preprocessed and no errors have been found.
The collation sequence used for the comparison should be that of the parent key columns.
The column-list is terminated either by a POS_COLUMN varint (1) or a POS_END varint (0).
The early check means that subsequent code can assume it is dealing with a valid string.
The entry corresponding to the new right-child pointer of the root page is also updated.
The exception is if the rowid for the current entry  is the last thing on the leaf page.
The final directory separator character has already added if it was not already present.
The first 4 of these 16 bytes are a 32-bit counter that is incremented with each change.
The first argument to the function is the pattern and the second argument is the string.
The first to decrement to 0 does actual shutdown (which should be the last to shutdown.)
The flags argument is used to specify properties that affect the operation of the pager.
The following global variable is incremented whenever the transfer optimization is used.
The interface to the virtual-table mechanism is currently considered to be experimental.
The main DB, main journal, WAL file and master journal are never  automatically deleted.
The main routine for vdbePmaReaderIncrMergeInit() operations run in  background threads.
The minimum PMA size is set to this value multiplied by the database page size in bytes.
The minimum value of dimension iDim is considered first, the maximum used to break ties.
The nRef field of the vxworksFileId object is incremented before the object is returned.
The on-disk format is big-endian and needs to be converted for little- endian platforms.
The only exception is that an IO error may have occurred, causing an emergency rollback.
The pMem is known to contain content that needs to be destroyed prior to a value change.
The resuls of passing a codepoint that corresponds to an uppercase letter are undefined.
The return value is a formatted database  record (a blob) containing the argument value.
The setup-query runs once to generate an initial set of rows that go into a Queue table.
The special operator TK_ROW means use the rowid for the first column in the FROM clause.
The sqlite_int64 and sqlite_uint64 types are supported for backwards compatibility only.
The system call failed, and *some* SQLite error should be propagated back to the caller.
The table or view name to create is passed to this routine via tokens pName1 and pName2.
The work array need be only as big as the subbox, so the memory usage problem is solved.
The yyzerominor constant is used to initialize instances of YYMINORTYPE objects to zero.
Then loop through the contents of this ephemeral table executing a VUpdate for each row.
Then remember this forward reference in the workspace so it can be filled in at the end.
These used to be defined locally, but now we use the varint routines in the util.c file.
This branch runs if it is known at compile time that the RHS cannot contain NULL values.
This comes up when a VACUUM changes the number of reserved bits to the "optimal" amount.
This file contains code to implement a pseudo-random number generator (PRNG) for SQLite.
This function creates the PRIMARY KEY  declaration for the corresponding imposter table.
This function is called when flushing a leaf page that contains no terms at all to disk.
This function searches pList for an entry that matches the iCol-th column of index pIdx.
This function tells the run loop to call a callback whenever that fd is ready to be read
This is a constant time equality check that will always check every byte of both values.
This is also used to detect groups that contain recursive back references to themselves.
This is called once for each leaf page except the first that contains at least one term.
This is important, as the root merge (INCRINIT_ROOT) will be using the same task object.
This is the implementation of a scalar SQL function used to test the  expression parser.
This is typically a union of many types, one of which is sqlite3Fts5ParserFTS5TOKENTYPE.
This means that an attempt is made to convert the value to an integer or floating point.
This might happen if the journal was not completely written and synced prior to a crash.
This pointer is used in subsequent calls to sqlite3Fts5Parser and sqlite3Fts5ParserFree.
This routine is called to report the final ")" that terminates a CREATE TABLE statement.
This routine is used to provide debugging output and is not a part of an ordinary build.
This routine might need to defragment in order to bring all the space together, however.
This structure stores information about the page that is decoded from the raw file page.
This will cause the pager to enter the error state so that no further harm will be done.
Three memory locations are allocated:  (1)  Register to hold the name of the pTab table.
Unused space within the cell content area is collected into a linked list of freeblocks.
Variables dbOrigSize and dbFileSize are valid in states  PAGER_WRITER_LOCKED and higher.
Versions of SQLite prior to 3.5.8 set the page-size field of the journal header to zero.
We need a loop in order to check for more white space and more comments after a comment.
We only need to generate a select expression if there is a limit/offset term to enforce.
We only need to give a dimension for the text if we haven't got any for it computed yet.
We used to just set a dummy reference number, because it was not used in the first pass.
When decompressed_size is 0, then the data is not compressed, and we have wasted 3 bytes
When deferred constraints are used the commit could fail, and a ROLLBACK implicitly ran.
With this option, sqlite3VtabSync() is defined to be simply  SQLITE_OK so p is not used.
Work around that by making the main executable pass the callback function pointer to us.
_zip_dirent_read(zde, fp, bufp, left, localp, error): Fills the zip directory entry zde.
as a modified form of the old Roman republican calendar which was based on lunar cycles.
else for SELECT with OCI_NO_AUTO_COMMIT, leave "rb_on_disconnect" at its previous value.
fetch to be able to get the number of tuples later, but don't advance the cursor pointer
flag_leftjustify            TRUE if a '-' is present or if the field width was negative.
i.e. the database has been reorganized so that only the first *pnTrunc pages are in use.
json_remove(JSON, PATH, ...)  Remove the named elements from JSON and return the result.
many more are invalid, but that depends on whether it's HTML (and which version) or XML.
outB:    Move the output of the selectB coroutine into the output of the compound query.
passing non string values leaks, object uses toString, it returns NULL See bug38255.phpt
see https://android.googlesource.com/platform/build/+/master/tools/zipalign/ZipAlign.cpp
we should also need to replace the object store entry, since it was created with emalloc
+  4 byte checksum  When we speak of the journal header, we mean the first 7 items above.
- Because of this, the same XMLRPC data can be serialized into multiple xml vocabularies.
A character with multiple other cases is returned on its own with a special return value.
A join edge is one for which the predecessor does not immediately dominate the successor.
A problem turned up with PCRE_PRERELEASE, which is defined empty for production releases.
A single journal file that referred to the master journal file has just been rolled back.
Actually decreases reference count and only frees the storage if reference count is zero.
Add a lock on the table with root-page iTable to the shared-btree used by Btree handle p.
Additionally, xShmLock() calls are no-ops on target database files in RBU_STAGE_OAL mode.
All "once" flags are initially cleared whenever a prepared statement first begins to run.
Allocate enough memory so that even if each character is quoted, we won't run out of room
Allocate memory from the gap in between the cell pointer array and the cell content area.
Also try to estimate the size of the returned value and return that result in *pEstWidth.
An effort is made to store the column value in register iReg, but this is not guaranteed.
An extra 18  bytes of padding is allocated at the end of the buffer in case this happens.
Another approach to is to use files in /dev/shm or /dev/tmp or an some other tmpfs mount.
As part of the sorting process, it is converted to use the SorterRecord.u.pNext pointers.
At this point the transaction is committed but the write lock  is still held on the file.
At this point variable c contains the first character of the pattern string past the "*".
Attempts to read from the *-wal file or write to the database file do not perform any IO.
Autocommit is disabled by a BEGIN statement and reenabled by the next COMMIT or ROLLBACK.
BIG NOTE : THIS EMITS AN COMPILATION WARNING UNDER ZE2 - handle_function_call deprecated.
Before writing anything to the database file, this lock is upgraded to an EXCLUSIVE lock.
Begin generating the code that will insert the table record into the SQLITE_MASTER table.
Bits that make up the "idxNum" parameter passed indirectly by  xBestIndex() to xFilter().
But 5 leading slashes is a  common error, we are told, so we handle it as a special case.
Calculate correction for DST change over, but only if the TZ type is ID and it's the same
Call this method early, before any code has used the original argv passed in from main().
Cause the register at regHasNull to be set to a non-NULL value if iCur contains no NULLs.
Cc Cf Cn Co Cs Ll Lm Lo Lt Lu Mc Me Mn Nd Nl No Pc Pd Pe Pf Pi Po Ps Sc Sk Sm So Zl Zp Zs
Change the value of the opcode, or P1, P2, P3, or P5 operands for a specific instruction.
Check for open captures before ACCEPT and convert it to ASSERT_ACCEPT if in an assertion.
Check that there is no open read-transaction on the b-tree passed as the second argument.
Check to see if virtual tale module pMod can be have an eponymous virtual table instance.
Convert an SQL-style quoted string into a normal string by removing the quote characters.
Create new statistic tables if they do not exist, or clear them if they do already exist.
DB_UnresetViews means that one or more views have column names that have been filled out.
Do so multiple times, until it either succeeds or fails for some reason other than EINTR.
Do whatever is the right thing so that pSet keeps the N_OR_COST best entries seen so far.
EVIDENCE-OF: R-06866-39125 Freeblocks are always connected in order of increasing offset.
EVIDENCE-OF: R-28594-02890 The one-byte flag at offset 0 indicating the b-tree page type.
EVIDENCE-OF: R-36850-34127 The likely(X) function is short-hand for likelihood(X,0.9375).
Each invocation determines which tokens to defer within the cluster with root node pRoot.
Each linked list is only prepended to by one thread and only cleared by the other thread.
Even if we don't know its exact size yet, we already know the padding, border and margin.
Expand all decompositions by recursively decomposing each character in the decomposition.
Figure out the ON CONFLICT policy that will be used for this step of the trigger program.
Follows an EOF packet, which the client of mysqlnd_read_result_metadata() should consume.
For options used by XMLRPC_VALUE funcs that otherwise do not have parameters for options.
For table-valued-functions, transform the function arguments into new WHERE clause terms.
Free all resources associated with the IncrMerger object indicated by the first argument.
Fts5SegIter.iLeafOffset currently points to the first byte of a position-list size field.
Function: gdAffineShearVertical Set up a vertical shearing matrix, columns are untouched.
Generate code that evaluates the given expression and puts the result in register target.
Generate code that will tell the VDBE the declaration types of columns in the result set.
However, if the -L option is given, set the locale from the LC_xxx environment variables.
I have yet to find a specific date when the current set of rules were known to be in use.
IOW, both opaque pixels and transparent pixels will be mapped into the transparent entry.
If MALLOC is undefined, malloc will be invoked directly -- and assumed always to succeed.
If an IO error occurs while trying to make the page clean, the IO error code is returned.
If an OOM occurs, an error code is stored in the RBU handle passed as the first argument.
If an error does occur, an error code and error message are also left in  the RBU handle.
If an error occurs while reading from the journal file, an SQLite error code is returned.
If an error occurs, an error code is returned and the final value of *pbMax is undefined.
If argument zDb is NULL, then call sqlite3CodeVerifySchema() for each  attached database.
If both of the virtual child terms are valid, then testing of the parent can be  skipped.
If it does, this  indicates that the other process is not following the locking protocol.
If it is SAVEPOINT_RELEASE, then release and destroy the savepoint with index iSavepoint.
If it is not NULL, pTerm is a term that provides an upper or lower bound on a range scan.
If it will not fit, then make a copy of the cell content into pTemp if pTemp is not null.
If pX is a WhereLoop that pTemplate can supplant, then return the link that points to pX.
If successful, set *pnCol to the number of indexed columns in the table before returning.
If the TEMP database is open, close it and mark the database schema as needing reloading.
If the assertion has a quantifier that allows zero repeats we must skip over the BRAZERO.
If the attempt fails and parameter xBusy is not NULL, then it is a busy-handler function.
If the class contains characters outside the 0-255 range, a different opcode is compiled.
If the database file is corrupt, it is possible for the value of idx  to be invalid here.
If the nRec value is 0xffffffff it means that nRec should be computed from the file size.
If the same database is attached more than once, the first attached database is returned.
If there are outstanding deferred foreign key constraint violations, return SQLITE_ERROR.
If this connection writes to the database file, it will do so using an in-memory journal.
If this is the first row, then generate an extra row containing the names of all columns.
If this is the first term selected, copy the doclist to the output buffer using memcpy().
If true, the file was configured to be automatically deleted when the file handle closed.
If we are acquiring a SHARED lock, the acquisition of the PENDING_LOCK byte is temporary.
If we follow the usual indentation conventions, each case should be indented by 6 spaces.
In UTF-8 mode, long characters have their length in c, with the UTF_LENGTH bit as a flag.
In secure-delete mode, the dropCell() routine will overwrite the entire cell with zeroes.
Incremental loading is used for b-tree nodes FTS3_NODE_CHUNK_THRESHOLD  bytes and larger.
Initialize generator state with seed See Knuth TAOCP Vol 2, 3rd Ed, p.106 for multiplier.
Initialize the object pIter to point to term pTerm/nTerm within the in-memory hash table.
It is an error to call this function if the page is already  part of the PGroup LRU list.
It is not possible to release (commit) a savepoint if there are  active write statements.
It may be that this trigger has already been coded (or is in the process of being coded).
It sets variable pg1 to the identifier of the first page of the sector pPg is located on.
It should be passed a pseudo-random value (i.e.  one obtained from sqlite3_randomness()).
It should never occur otherwise, but just in case it does, have something ready to print.
Knuth, THE ART OF COMPUTER PROGRAMMING, Volume 3: "Sorting And Searching", pages 473-480.
Link the new Index structure to its table and to the other in-memory database structures.
MD5 Message-Digest Algorithm" in all material mentioning or referencing the derived work.
Macro for disabling flag of translation of non-basic entities where this isn't supported.
Make sure the cursor p is ready to read or write the row to which it was last positioned.
Make sure there is enough workspace for copying forward references before doing the copy.
Multiline mode: assert before any newline, or before end of subject unless noteol is set.
NOTE: forward declare this rather than including crt_externs.h as not all SDKs provide it
Need to add origin to get a pie-rule, but will need to set chord-rule before recursion...
No written agreement, license, or royalty fee is required for any of the authorized uses.
Normally, a PmaReader object iterates through an existing PMA stored  within a temp file.
On linux, when the path begins with a NUL byte we are referring to an abstract namespace.
Open the file indicated and write a log of all unfreed memory  allocations into that log.
Or if the operation would have resulted in an overflow, leave *pA unchanged and return 1.
Or, if the argument position list does not contain any entries for column iCol, return 0.
Otherwise, set the length to the length of what was matched by the referenced subpattern.
Otherwise, the expression is resolved in the usual way - using sqlite3ResolveExprNames().
P1 is the result code returned by sqlite3_exec(), sqlite3_reset(), or sqlite3_finalize().
PHP_OCI_RETURN_LOBS means that we want the content of the LOB back instead of the locator
Page size (szPage) and the purgeable flag (bPurgeable) are set when the cache is created.
Remove all terms smaller than zTerm/nTerm from segment iIdx in absolute  level iAbsLevel.
Resource tags is a big part of what we created, but NetWare doesn't ask us to free those.
Return TRUE if the jsonEachCursor object has been advanced off the end of the JSON object
Return TRUE if the mask of type in eType matches no bits of the type of the allocation p.
Return a checksum of all entries in the FTS index that correspond to language id iLangid.
Return a pointer to that node, or NULL if zPath is malformed or if there is no such node.
Return non-zero if the expression is constant or a function call with constant arguments.
Return non-zero on success, if this query can be handled by this no-frills query planner.
Return the size of the header added by this middleware layer in the page-cache hierarchy.
See comments on the implementation for a description of what each of these routines does.
Set the collation function of the most recently parsed table column to the CollSeq given.
Set zIn to point at the start of the input buffer and zTerm to point 1 byte past the end.
Setting it to the offset to the ALT or KET, then incrementing ecode achieves this effect.
Since a schema-lock excludes all other database users, the write-lock would be redundant.
Since holding READ_LOCK(0) prevents a checkpoint from happening, this is usually correct.
Specifically, this file contains code to insert, update and delete rows from FTS3 tables.
Stack may only be destroyed when no cached patterns possibly associated with it do exist.
Super-Boxes can contain super-boxes which provides us with a hierarchical storage system.
Take the requested lock on the conch file and break a stale lock if the  host id matches.
Terminate destination --- called by jpeg_finish_compress after all data has been written.
The MemBlockHdr tells us the size of the allocation and the number of backtrace pointers.
The amount of information copies from WAL to database might be limited by active readers.
The calling function is responsible for ensuring that this structure is eventually freed.
The client will de-serialize it into memory, and can iterate through the results via API.
The default value of a column is specified by a DEFAULT clause in the  column definition.
The easiest way to enforce this limit is to consider only records with 13 fields or less.
The first entry that equals P corresponds to the frame holding the content for that page.
The following block moves pIter to point at the first byte past the end of the key value.
The following table contains information about every rule that is used during the reduce.
The individual item types that can be repeated set these backoff variables appropriately.
The loop is required here in case the sector-size is larger than the  database page size.
The macro unlikely() is a hint that surrounds a boolean expression that is usually false.
The only thing the thread can write to commands is NULL, so we can just try one more time
The pCtx argument points to a UCollator structure previously allocated using ucol_open().
The pOuter field of the subclauses points to the WhereClause object for the whole clause.
The padding is done by adding '0's to the left of the string that is going to be printed.
The pointer returned by this routine looks directly into the cached page of the database.
The relative path is stored as a nul-terminated string in the buffer pointed to by zPath.
The remainder can be handled by code that is common with the non-zero minimum case below.
The request line looks like: "GET http://foo.bar.com HTTP/1.1" That is, there is no path.
The result is an integer that identifies if the compiler option was used to build SQLite.
The state of the parser is completely contained in an instance of the following structure
The subtransaction is ended automatically  if the main transaction commits or rolls back.
The table or view or trigger name is passed to this routine via tokens pName1 and pName2.
The test procedures use this information to make sure that indices are working correctly.
Then free resources associated  with any savepoints that are destroyed by this operation.
These are dummy functions to avoid linking errors when JIT support is not being compiled.
This can be helpful when matching -- for instance in caseless checking of required bytes.
This causes the pager to load and journal the current page content before overwriting it.
This function assumes that the necessary mutexes, if any, are already held by the caller.
This function is the implementation of the xUpdate callback used by  FTS3 virtual tables.
This function is used to change the actual size of the database  file in the file-system.
This function may leave an open sqlite3_blob* handle in the Fts3Table.pSegments variable.
This function returns SQLITE_OK if successful or an SQLite error code if an error occurs.
This function returns the number estimated to be visited after taking pTerm into account.
This function sets the iterator up so that iterates in reverse order through the doclist.
This function sorts the values in aIdx according to dimension iDim of the cells in aCell.
This function works in milliseconds, but the underlying OsSleep()  API uses microseconds.
This instrumentation assumes that all source code is in a single file (the amalgamation).
This invalidates the first journal header in the file, and hence the entire journal file.
This is called to code the required FOR EACH ROW triggers for an operation on table pTab.
This is for use in assert() expressions, so it is only compiled if NDEBUG is not defined.
This is the "normal" table for ASCII systems or for EBCDIC systems running in UTF-8 mode.
This is the only way that a VM that opens a statement transaction may invoke this opcode.
This is used by the LIMIT and ORDER BY clause processing on UPDATE and DELETE statements.
This is used by the get_first_set() function below, as well as being generally available.
This is used to recurse elements and selectively delete certain entries from a hashtable.
This may be called directly from the parser and therefore identifies the trigger by name.
This next condition is true if data has already been loaded from  the sqlite_stat4 table.
This opcode leaves the cursor in a state where it cannot be advanced in either direction.
This routine does not check if there is a master journal filename at the end of the file.
This routine returns 1 if it ends in the START state and 0 if it ends in any other state.
This seems counter-intuitive since clearly the mutex cannot be held if it does not exist.
This should be a multiple of 3, because the offset vector is always a multiple of 3 long.
This special exception was added by the Free Software Foundation in version 2.2 of Bison.
This variable is updated by the upper layer each time a new  write-transaction is opened.
This version of the memory allocator is used only if the SQLITE_MEMDEBUG macro is defined
This version of the memory allocator is used only when  SQLITE_ENABLE_MEMSYS5 is defined.
This will cause code paths that deal with sqlite3StackAlloc() failures to be unreachable.
Use traditional smaller size: non-PL/SQL errors should fit and it keeps the stack smaller
Variable zOut is set to point at the output buffer, space obtained from sqlite3_malloc().
Variables below this point are populated by fts3_expr.c when parsing  a MATCH expression.
Verify that the database still has the same name as it did when it was originally opened.
We create an anonymous memory file, whose `handle` might be inherited by slave processes.
We got here because we got a timeout signal, so we are in a signal handler at this point.
We have asked for CURSOR but got no cursor, because the condition above is not fulfilled.
We only require IEEE, IBM, or VAX double-precision arithmetic (not IEEE double-extended).
Without the mutexes, it is not safe to use SQLite concurrently from more than one thread.
Write the name of each database file in the transaction into the new master journal file.
check if the data we get is a port this allows us to correctly parse things like a.com:80
compress as necessary, calculate crcs, serialize meta-data, manifest size, and file sizes
every method just calls our standard callback, and it then dispatches to php as necessary
function    : Q_PopTail  purpose     : remove element from tail of queue and return data.
given a zval which is either a stream or a context, return the underlying stream_context.
ib_result and ib_query point at each other to handle release of statement handle properly
really should not happen: We don't return a float here as that violates function contract
the first item in the connection-transaction list is reserved for the default transaction
the offset is 'grapheme count offset' so it still might be invalid - we'll check it later
this is a new phar that has perhaps had an alias/metadata set, but has never been flushed
this is necessary to make it able to work with default array properties, returned to user
with curl 7.17.0 and later, we can use COPYPOSTFIELDS, but we have to provide size before
zProc may be 0 in which case a default entry point name (sqlite3_extension_init) is used.
'R' can be the recursive thing or the name 'R' (and similarly for 'R' followed by digits).
A malformed database page might cause us to read past the end of page when parsing a cell.
A shared lock or greater must be held on the database file before this function is called.
A single database file can be in use at the same time by two or more database connections.
Add the sentinel index which is used by the binary search as the upper bound for a search.
After a crash, the wal-index can (and should be) reconstructed from the original WAL file.
After each checkpoint, the salt-1 value is incremented and the salt-2 value is randomized.
All but the final copy start a new nesting, maintaining the chain of brackets outstanding.
All other values are determined by inspecting the rbu handle passed as the first argument.
Allocate a temporary buffer to store the fully qualified file name for the temporary file.
An instance of the following object is used to read records out of a PMA, in sorted order.
And since AFP is only supported on MacOSX, the proxy locking is also restricted to MacOSX.
And so forth until the length of WherePaths equals the number of nodes in the FROM clause.
Another solution would be to change the OP_SCopy used to copy cached values to an OP_Copy.
As a result, a sqlite3.pDisconnect cannot be accessed simultaneously  by multiple threads.
As each term visited by the linear scans, a separate query for the same term is performed.
At the first match, the ORDER BY expression is transformed into the integer column number.
Both values overflowed and have the same sign, so a numeric comparison would be inaccurate
Call balance_quick() to create a new sibling of pPage on which to store the overflow cell.
Check for PHP_INI_SCAN_DIR environment variable to override/set config file scan directory
Check for open colors at the end, so we can reduce colorsTotal and ultimately BitsPerPixel
Check that argument nHeight is less than or equal to the maximum expression depth allowed.
Check that the other successor of the from block does not dominate all other predecessors.
Check the alternative branches in turn - the matching won't pass the KET for an assertion.
Compare key1 (buffer pKey1, size nKey1 bytes) with key2 (buffer pKey2,  size nKey2 bytes).
Compute the old pre-UPDATE content of the row being changed, if that information is needed
Copy original pages out of the journal and back into the  database file and/or page cache.
Create a fake Index object in local variable sPk to represent the rowid primary key index.
Create an Fts5IndexIter that iterates through the doclist provided as the second argument.
Database changes are detected by looking at 15 bytes beginning at offset 24 into the file.
Delete any previous value and set the value stored in *pMem to val, manifest type INTEGER.
Delete any previous value and set the value to be a BLOB of length n containing all zeros.
Division by zero results in Inf/-Inf/Nan (double), so it doesn't need any special handling
Do this by writing a single byte to the end of each (OS) page being allocated or extended.
Don't include Rzero in the match set, to avoid triggering needlessly on 'prefetch' instrs.
Don't use CWD_STATE_FREE because the non global states will probably use emalloc()/efree()
Dotfile locking uses the file path so it needs to be included in the dotlockLockingContext
Each class is formed from a base map, with an optional addition or removal of another map.
Each database file to be accessed by the system is an instance of the following structure.
Except, if the background thread from a sub-tasks previous turn is still running, skip it.
Factored out common functionality (blocking, timeout, loop management) for read and write.
Fix the various stack variables so that this routine begins comparing at the second field.
For example, if the WHERE clause expression used these VDBE cursors:  4, 5, 8, 29, 57, 73.
For example, it might allocate any require mutexes or initialize internal data structures.
Function unixMutexHeld() is used to assert() that the global mutex  is held when required.
Generate a subroutine that will fill an ephemeral table with the content of this subquery.
Generate code to move content from registers iFrom...iFrom+nReg-1 over to iTo..iTo+nReg-1.
Handle a capturing bracket, other than those that are possessive with an unlimited repeat.
Handle the case of the codes matching and simply replace the number that was there before.
Hence these functions allow the caller to handle the serial-type and data blob separately.
Here, the modular division first probe is gives way to a faster exclusive-or manipulation.
If all the children of a term are disabled, then that term is also automatically disabled.
If an error  occurs while opening the sub-journal file, then an IO error code is returned.
If an error occurs while trying to sync the journal, shift the pager into the ERROR state.
If an error occurs, an IO error code is returned and the pager moves into the error state.
If both values are blobs then memcmp() is used to determine the results of the comparison.
If eMode is not ONEPASS_OFF, then the cursor iDataCur already points to the row to delete.
If it is NULL then Halt using parameter P1, P2, and P4 as if this were a Halt instruction.
If more than one frame was recovered from the log file, report an event via sqlite3_log().
If nRec is 0xffffffff, then this journal was created by a process working in no-sync mode.
If new_location is not specified or null then SoapClient will use endpoint from WSDL file.
If the function already exists as a regular global function, then this routine is a no-op.
If the function does not exist, then create a new one that always throws a run-time error.
If the next entry is going to be too big for the code size, then increase it, if possible.
If the number of savepoints is already equal to nSavepoint, then this function is a no-op.
If the object is not sharable, then no mutex is ever required and this routine is a no-op.
If the page size supplied does not meet this constraint then the page size is not changed.
If the pgno argument passed to PTRMAP_PAGENO is a pointer-map page, then pgno is returned.
If the table being written  has no PRIMARY KEY, affected rows must be identified by rowid.
If the third parameter is less than -1 or greater than 127 then the behavior is undefined.
If there are still other outstanding references to the shared-btree structure, return now.
If there is a NOT NULL constraint, then the default value for the column must not be NULL.
If there is no "next" entry and no error occurs, then *pbEof is set to 1 before returning.
If this happens, it is almost certain that an open() call on the same path will also fail.
If we can't find the required character, break the matching loop, forcing a match failure.
If you are using this code as a model for alternative VFSes, do not copy this retry logic.
Implement a co-routine that will return a single row of the result set on each invocation.
Implement this by temporarily adjusting end_subject so that we stop scanning at a newline.
In all other cases we loop through the available transtion times to find the correct entry
In fact, there are only two possible starting bytes for characters in the range 128 - 255.
In other words, we are searching for a function that takes a variable number of arguments.
In the amalgamation, the os_unix.c and os_win.c source files come before this source file.
In this case there is room on the trunk page to insert the page being freed as a new leaf.
Incorrectly concluding that the GNU version is available  could lead to a segfault though.
Instead of trying to locate the .exe file it'll just return a handle to the process image.
Loop, searching for OP_REVERSE items, and process those that do not have their length set.
Macro IfNotOmitAV(x) returns (x) if SQLITE_OMIT_AUTOVACUUM is not  defined, or 0 if it is.
Memory in use by any SQLite pager allocated by the current thread may be sqlite3_free()ed.
Most of the ideas used here can be traced back to Heckbert's seminal paper Heckbert, Paul.
Must follow tightly the previous instruction (to be able to convert it to bl instruction).
Note that the current accepted value for the tropical year is 365.242199 days, not 365.25.
Note that this can never happen in an SQLite data file, as all cells are at least 4 bytes.
Now an optional 4th parameter specifying the cursor type defaulting to the cursors default
Once all the other databases have been initialized, load the schema for the TEMP database.
Opcode:  Return P1 * * * *  Jump to the next instruction after the address in register P1.
Or, equivalently, the number of equality constraints optimized by the proposed index scan.
Or, if boolean index P1 is initially empty, leave P3 unchanged and jump to instruction P2.
Otherwise, if the argument is NULL or the WAL module is using shared-memory, return false.
Otherwise, if the only argument does not match the above pattern, an SQL NULL is returned.
Otherwise, it is 1 plus the number of overflow pages consumed by a record B bytes in size.
Regardless of whether or not shared-cache mode is enabled by default, use a private cache.
Return SQLITE_OK if everything is successful, or an SQLite error  code if an error occurs.
Return a pointer to a buffer containing a copy of the position list for the current entry.
Return some other SQLite error code if an error occurs while attempting to determine this.
Return the current wal-index header checksum for the target database  as a 64-bit integer.
Returns SQLITE_OK if successful, or an error code (i.e. SQLITE_NOMEM)  if an error occurs.
Save the current value of the database flags so that it can be  restored before returning.
Set output variable *paHash to point to the start of the hash table in the wal-index file.
Set up a cursor object for iterating through a full-text index or a  single level therein.
Set up a loop over the rowids/primary-keys that were found in the where-clause loop above.
Since the minimum repeat, is zero the invalid case is basically the same as an empty case.
So all routines, even the public interface to SQLite, can use a pointer to this structure.
TODO: if PHP raises an exception here, we should catch it and expose it as a COM exception
The   * second flag restricts PCRE to one match attempt at the initial string  * position.
The "table" is actually a sub-select or a view in the FROM clause of the SELECT statement.
The FETCH_GMP_ZVAL_* family of macros is used to fetch a gmp number (mpz_ptr) from a zval.
The Julian calendar specifies that every year that is a multiple of 4 will be a leap year.
The Z expression is replaced by a copy of the left-hand side of the result-set expression.
The allocateSpace() routine guarantees the following properties if it returns successfully
The allocated space holds both the TriggerStep object and the TriggerStep.target.z string.
The application should never invoke either sqlite3_os_init() or sqlite3_os_end() directly.
The auto-extension code added regardless of whether or not extension loading is supported.
The caller discovers how much space needs to be allocated by  calling sqlite3PcacheSize().
The caseSensitive parameter determines whether or not the LIKE operator is case sensitive.
The dbSize variable may be trusted (even if a user-level read  transaction is not active).
The descriptor will be initialized in a thread, so we have to give a chance to get opened.
The error message from the SQL compiler has already been loaded  into the database handle.
The first allocated page becomes a new pointer-map page, the second is used by the caller.
The following is accomplished:  VDBE Cursor numbers are assigned to all FROM-clause terms.
The following routines are convenience wrappers around methods of the sqlite3_file object.
The generic sqlite3_tokenizer.pModule variable should not be initialized by this callback.
The input to this routine is an WhereTerm structure with only the "pExpr" field filled in.
The integer consists of all bytes that have bit 8 set and the first byte with bit 8 clear.
The least significant 10 bits are used to store the size of the range (always at least 1).
The next block of code attempts to adjust the packing of siblings to get a better balance.
The offset data is the offset to the starting bracket from the start of the whole pattern.
The pointer to the function to invoke is passed as the fourth parameter to this procedure.
The raw F-S error computation can potentially compute error values of up to +- MAXJSAMPLE.
The return value of this function will be used as the return value for this aggregate UDF.
The same code works when not in UTF-8 mode and in UTF-8 mode when there is no UCP support.
The string is built from string macros so that it works in UTF-8 mode on EBCDIC platforms.
There is only one, so just keep it in its register(s) and fall through to the delete code.
This ensures that the journal file is not deleted while it is in use by some other client.
This file contains the C-language implementations for many of the SQL functions of SQLite.
This file implements the default page cache implementation (the sqlite3_pcache interface).
This function *strictly* assumes that SIGIO is *only* used on the remote connection stream
This function could fail if, for example, the current working directory has been unlinked.
This function returns SQLITE_OK if successful, or an SQLite error code if an error occurs.
This function returns a pointer to a blob of memory associated with a single shared-btree.
This is called  when a page that previously contained data becomes a free-list leaf  page.
This is only required for the memory sanitizer, so it's unfortunate that we always run it.
This is so that there is a complete hash-table on each aligned 32KB page of the wal-index.
This is used for testing and debugging only - to make sure shallow copies are not misused.
This lets us omit having to allocate a temporary full horizontal stretch of the src image.
This means if the caller does not care about other errors, the return code may be ignored.
This object contains information needed to implement a single nested loop in WHERE clause.
This opcode is transformed  into a String opcode before it is executed for the first time.
This routine generates VDBE code that causes a single row of a single table to be deleted.
This routine will fail with SQLITE_LOCKED if there are any open read cursors on the table.
This routine will never overwrite a database page that a concurrent reader might be using.
This saves us from looking for the actual place where out-of-order packets have been sent.
This will be caught by the Go signal handler which should forward to the C signal handler.
Those methods that are common to all locking modes are gather together into this division.
Throughout a write-transaction, dbFileSize contains the size of the file on disk in pages.
Update the accumulator memory cells for an aggregate based on the current cursor position.
Use a slightly smaller number to allow for a few compiler-allocated temporary stack slots.
Use the (relatively slow) general-purpose sqlite3GetVarint() routine to extract the value.
Use the special VFS "unix-dotfile" that uses dot-files in place of posix advisory locking.
Utility functions for adding data types to arrays, with or without key (assoc, non-assoc).
Walk through config hash and alter matching ini entries using the values found in the hash
We already know that pExpr is a binary operator where both operands are column references.
We can return right away for a truecolor image as deallocating colours is meaningless here
We have found a character range, so single character optimizations cannot be done anymore.
We need to release the end pointer to perform the backtrack for the zero-length iteration.
We'll just look for the first codestream at the root of the box structure and handle that.
When a match is found, the nRef member of the context containing the match is incremented.
Whole-pattern recursion is coded as a recurse into group 0, so it won't be picked up here.
Write the first journal header to the journal file and open  the sub-journal if necessary.
You should have received a copy of the GNU General Public License along with this program.
Zero is returned when the input date is detected as invalid or out of the supported range.
a) If a MATCH operator is present, the cost depends on the other constraints also present.
as the original contributor of this module by leaving this note intact in the source code.
e-SSA construction: Pi placement (Pi is actually a Phi with single source and constraint).
for older versions of libxml2, allow correct detection of charset in documents with a BOM:
fts5YYACTIONTYPE       is the data type used for storing terminal and nonterminal numbers.
fts5YYCODETYPE         is the data type used for storing terminal and nonterminal numbers.
grab a uint32_t from a possibly unaligned address, and return it in the native host order.
i know this is kinda ugly, but i'm trying to avoid extra cycles in the main execution loop
iIdxCur should be used to compute the appropriate cursor depending on which index is used.
ignore autogenerated return (well, not too precise with finally branches, but that's okay)
let release_sysvsem_sem know we have removed the semaphore to avoid issues with releasing.
molad            The date and time of the mean conjunction of the sun and moon (new moon).
only used if flags includes ENT_HTML_IGNORE_ERRORS or ENT_HTML_SUBSTITUTE_DISALLOWED_CHARS
pEList is a list of expressions which are really the result set of the a SELECT statement.
pTable and pDatabase are the name of the table and database named in the FROM clause term.
some headers may occur more than once, therefor we need to remake the string into an array
this will have changed for all files that have either changed compression or been modified
we need to copy the additional fields that the underlying tcp transport doesn't know about
(24)  The subquery is not an aggregate that uses the built-in min() or  or max() functions.
(Some function, and in particular the date and time functions, are implemented separately.)
(Version 2.1, February 1999) Please read the following detail of the licence (in japanese).
- NetWare doesn't require first parameter - Allowing LibC to choose the buffer size for now
2) All leaves of pSeg between iNoRowid and iLast (inclusive) exist and contain zero rowids.
2.0.10: Nick Atty: clip to edges of drawing rectangle, return if no points need to be drawn
2.0.10: needs a transparent-index check that is still valid if the source is not truecolor.
2.0.1: use gdImageSetPixel to do the alpha blending work, or to just store the alpha level.
4.1 sends 1 byte EOF packet after metadata of PREPARE/EXECUTE but 5 bytes after the result.
A bare doclist omits the position information, becoming an  array of varint-encoded docids.
A class that contains at least one abstract method automatically becomes an abstract class.
Allocate a new expression node from a zero-terminated token that has already been dequoted.
An implementation of the LIKE operator that uses ICU to  provide case-independent matching.
An tokenizer for SQL  This file contains C code that implements the sqlite3_complete() API.
Annex B.2 of ISO 8601 gives examples where the decimal fractions are not preceded by a "0".
At this point we have only arcs that lies within a quadrant - map this to first quadrant...
BSD-derived systems set errno correctly Solaris returns -1 from getsockopt in case of error
Because P2 is always a static string, it is impossible for the sqlite3VdbeMemCopy() to fail
Because of the reference counting the user can't delete the strings the variables point to.
Before returning, *paPoslist is set to point to the position lsit  associated with pPhrase.
Bit 0x40 is set if the character non-alphanumeric and can be used in an  SQLite identifier.
Block SIGIO in this thread to make it more likely that it will be delivered to a goroutine.
But we merge it with the header value access routines since its access pattern is the same.
By default, this module parses the legacy syntax that has been  traditionally used by fts3.
C89 specifies that the constant "dummy" will be initialized to all zeros, which is correct.
Call php signal handler - Note that we do not report errors, and we ignore the return value
Check return type compatibility, but only if the prototype already specifies a return type.
Convert bulk memory into a valid WhereLoop that can be passed to whereLoopClear harmlessly.
Create a record from the argument register contents and insert it into the ephemeral table.
Despite these problems, this approach is adopted as it seems simpler than the alternatives.
Determine if we are dealing with WinRT, which provides only a subset of the full Win32 API.
Dot terminates it because of POSIX form  where dot precedes the codepage except for variant
EVIDENCE-OF: R-01283-11636 The unlikely(X) function is short-hand for likelihood(X,0.0625).
EVIDENCE-OF: R-61304-29449 The unlikely(X) function is equivalent to likelihood(X, 0.0625).
Each iteration of this loop gobbles up a contiguous run of separators, then the next token.
Each time round the loop, save the current subject position for use when the group matches.
Easiest thing to do in this scenario is to truncate the journal  file to the required size.
Even if any illegal encoding is detected the result may contain a list of parsed encodings.
Except, if the pager is in-memory only, then return an empty string if nullIfMemDb is true.
Except, the root of the principle table (the one on page 1) is never added to the freelist.
Except, when opening on an existing shared pager-cache, do not change the pager-cache size.
Expression pExpr is one operand of a comparison operator that might be useful for indexing.
Finalization of the journal file (task 2) is only performed if the  rollback is successful.
Fish out the optional data from the extra_data structure, first setting the default values.
From GMP documentation for mpz_sizeinbase(): The returned value will be exact or 1 too big.
From release 8.34 is is also correct for Perl space, because Perl added VT at release 5.18.
Function winShmMutexHeld() is used to assert() that the global mutex is held when required.
Function: gdAffineRectilinear Determines whether the affine transformation is axis aligned.
Generate code for scalar subqueries used as a subquery expression, EXISTS, or IN operators.
Generate code that will evaluate expression pExpr and store the results in register target.
Go back under the static mutex and clean up the recursive mutex to prevent a resource leak.
Hard-coded maximum amount of data to accumulate in memory before flushing to a level 0 PMA.
Here is inserted the actions which take place when a terminal or non-terminal is destroyed.
Hybrid exponential search/linear search merge sort with hybrid natural/pairwise first pass.
Ideally, the start of the snippet should be pushed forward in the document nDesired tokens.
If I add more options, it would make sense to create a nice static struct and loop over it.
If a slot in the hash table is set to N, it refers to frame number  (*piZero+N) in the log.
If index is the last entry+1 then we do a push because we're not inserting before any entry
If nAppend is negative, then the length of the string zAppend is determined using strlen().
If new_cache_limited is given, the current cache_limiter is replaced with new_cache_limiter
If no callback, the result will be an array, consisting of current entries from all arrays.
If no error occurs and the current contents of the FTS index are correct, return SQLITE_OK.
If no error occurs, SQLITE_OK is returned and *apIndex set to point to the allocated array.
If no previous first byte, set it from this character, but revert to none on a zero repeat.
If not specified, the sort flags defaults to PHP_SORT_ASC and PHP_SORT_REGULAR accordingly.
If pNode currently points to a match, this function returns SQLITE_OK without modifying it.
If parameter nByte is non-negative, then it is the requested size of the mapping to create.
If session data storage does not need to update timestamp, it should return SUCCESS simply.
If such a lock is held, set *pResOut to a non-zero value otherwise *pResOut is set to zero.
If the argument to sqlite3_mutex_held() is a NULL pointer then the routine should return 1.
If the entry deleted was located on a leaf page, then the cursor still points to that page.
If the error condition  persists, the pager enters the ERROR state via condition (1) above.
If the expression is a variable (TK_VARIABLE), then Expr.token contains the  variable name.
If the fourth parameter to sqlite3_bind_blob() is negative, then the behavior is undefined.
If the incremental vacuum is finished after this function has run, SQLITE_DONE is returned.
If the input day is in the fourth to last months, we want the molad at the end of the year.
If the lock failed (busy): 1st try: get the mod time of the conch, wait 0.5s and try again.
If the mmap() above failed, assume that all subsequent mmap() calls will probably fail too.
If the statement that caused this trigger to fire had an explicit ON CONFLICT, then use it.
If the third parameter, discard, is non-zero, then the page must be evicted from the cache.
If the word contains digits, 3 bytes are taken from the beginning and 3 bytes from the end.
If there are no records  less than or equal to the key and P2 is not zero, then jump to P2.
If there is no transition time, we pick the first one, if that doesn't exist we return NULL
If this value is 0xffffffff, then compute the number of page records from the journal size.
If we meet some day, and you think this stuff is worth it, you can buy me a beer in return.
If xMutexInit fails in any way, it is expected to clean up after itself prior to returning.
In both phases, for recursions, we can now go to the code than handles numerical recursion.
In the third form, we have to use an intermediate table to store the results of the select.
In theory, you could get away with only having pipes and not using the linked lists at all.
Inferno libmach/8db.c http://code.google.com/p/inferno-os/source/browse/utils/libmach/8db.c
It can be used to clean up  any outstanding resources before process shutdown, if required.
It is added into the firstchar or reqchar variables to record the case status of the value.
It is added to certain comparison operators to prove that the operands are always NOT NULL.
It is eventually freed along with the rest of the foreign key object by  sqlite3FkDelete().
It is the  responsibility of the caller to eventually free the object using sqlite3_free().
It is the responsibility of the caller to eventually free this buffer using sqlite3_free().
It is the responsibility of the caller to eventually free this memory using sqlite3_free().
It seems that the appearance of a nested POSIX class supersedes an apparent external class.
Loop over pattern segments until end of pattern or until segment with meta character found.
May look weird to null it here, but it is to catch the right case in the first_try later on
Move the cursor so that it points to an entry near the key  specified by pIdxKey or intKey.
NOTE: Updating access timestamp at PS_READ_FUNC() may extend life of obsolete session data.
Obtain an exclusive lock on all byte in the locking range not already locked by the caller.
Once any conversions have taken place, and neither value is NULL,  the values are compared.
Opcode:  EndCoroutine P1 * * * *  The instruction at the address in register P1 is a Yield.
Or, if an error has occurred, free the iterator object and set the output variable to NULL.
Or, on LinuxThreads, there is one of these structures for each inode opened by each thread.
Other parts of the system access this functionality via the interface defined in fts5Int.h.
Otherwise, if an OOM error is encountered trying to resize the buffer, return SQLITE_NOMEM.
Otherwise, if another thread holds the mutex and it cannot be obtained, return SQLITE_BUSY.
Otherwise, update the cell in the parent node so that it tightly contains the updated node.
PS_GC_FUNC() must remove session data that are not accessed 'session.maxlifetime'(seconds).
RESULT XMLRPC_VALUE a newly created struct vector representing the error, or null on error.
Refer to the delta_create() documentation above for a description of the delta file format.
Return TRUE if the page given in the argument was previously passed to sqlite3PagerWrite().
Return the number of consecutive JsonNode slots need to represent the parsed JSON at pNode.
Return the value stored within the RtreeCoord formatted as a RtreeDValue (double or int64).
Returning an error code will cause a rollback, undoing any changes made to the parent page.
SEE ALSO XMLRPC_REQUEST_ToXML () XMLRPC_VALUE_FromXML () XMLRPC_Free () XMLRPC_VALUE SOURCE
SET_FLAGS must be 0x100000 as it is also the value of S bit (can be used for optimization).
SQLite will never invoke xInit() more than once without an intervening call to xShutdown().
Save the positions of any other cursors open on this table before making any modifications.
See sqlite3ResolveExprNames() for a description of the kinds of transformations that occur.
Set the bit number pgno in the PagerSavepoint.pInSavepoint  bitvecs of all open savepoints.
Set the result to the offset in this segment and add the sizes of all predecessor segments.
Some of the sub-routines used to merge segments are also used by the query  code in fts3.c.
Space to hold the result is obtained from malloc and must be freed by the calling function.
TODO(prenaux): Correctly set the height of items with undefined (auto) crossAxis dimension.
That confuses minit, so we remove that signal stack here before calling the regular mstart.
The Expr.op2 field of TK_AGG_FUNCTION structures must be increased by the nSubquery amount.
The ZEND_ACC_IMPLEMENT_INTERFACES flag disables double call to zend_verify_abstract_class()
The application should resume compression after it has made more room in the output buffer.
The caller is responsible for ensuring that the allocated memory space is eventually freed.
The code in this file is only used if we are compiling threadsafe under unix with pthreads.
The default is 64 bits, hence SQLite is only able to process joins with 64 or fewer tables.
The following array holds FuncDef structures for all of the functions defined in this file.
The following variables may only be accessed when the accessor is holding the PGroup mutex.
The fts3EofMethod() will be called subsequently to determine whether or not an EOF was hit.
The fts5EofMethod() will be called subsequently to determine whether or not an EOF was hit.
The gmp_*_op functions provide an implementation for several common types of GMP functions.
The heap property is this:  Every node is less than or equal to both of its daughter nodes.
The layout of divisions is as follows:  General-purpose declarations and utility functions.
The main thread tells the run loop thread that a new command is ready by writing to a pipe.
The official C-language API documentation for SQLite is derived from comments in this file.
The operation to code triggers for (INSERT, UPDATE or DELETE) is given by the op parameter.
The other thread can clear the list, so we know events can only be NULL until we change it.
The parser calls this routine once for each column declaration in a CREATE TABLE statement.
The second argument passed to the xToken() callback ("tflags") should normally be set to 0.
The shared-lock has just been acquired then check to see if the database has been modified.
The translation is used in order to maximize the number of bits that will fit in a Bitmask.
The walHashNext() function advances the hash to the next value in the event of a collision.
The xFree function should not call sqlite3_free() on the memory, the btree layer does that.
Then, if this is a non-covering index, add the cost of visiting the rows in the main table.
There are two scenarios where this risk can be ignored:  When the pager is in no-sync mode.
These optional interfaces are provided by some VFSes to facilitate testing of the VFS code.
They are then deleted/xDisconnected  next time a statement is prepared using said sqlite3*.
This can be helpful if the pattern that follows the assertion doesn't set a different char.
This file contains functions for allocating memory, comparing strings, and stuff like that.
This function has an extensible interface so that additional items can be added compatibly.
This function is called when a free-list leaf page is removed from the free-list for reuse.
This function is passed the start and end of a class range, in UTF-8 mode with UCP support.
This function is used by test procedures to inspect the internal state of the global cache.
This header file defines the interface that the SQLite library presents to client programs.
This is only called if it is guaranteed that the phrase has at least one incremental token.
This is required in order to estimate the cost of loading large doclists from the database.
This list is useful if we need to find a suitable memory area when the allocator is called.
This mapping is logically trivial, but making it go fast enough requires considerable care.
This may not be quite the closest entry to the actual input color, but it's almost as good.
This might happen when restoring a database using the backup API from a zero-length source.
This routine is called by the parser to add a new term to the end of a growing FROM clause.
This will cause dtoa modes 4 and 5 to be treated the same as modes 2 and 3 for some inputs.
This will take control down to where bracketed groups, including assertions, are processed.
Turn bulk memory into a hash table object by initializing the fields of the Hash structure.
Turn the pExpr expression into an alias for the iCol-th column of the result set in pEList.
Unless the SQLITE_Vacuum flag is set, this block generates code to make that determination.
Update for normal brackets of all kinds, and conditions with two branches (see code above).
Use a different name to avoid a collision when building an amalgamation with built-in FTS3.
We can use true global even for ZTS because its usage is wrapped with exclusive lock anyway
We don't actually need data yet, leave this filter in a feed me state until data is needed.
We have to do a hash_del but need to preserve the resource if there is a positive refcount.
When that is so, this routine can be used to access the key and data without making a copy.
When this function is called, *ppData points to the start of the  content area on page pPg.
executable phars must contain ".phar" as a valid extension (phar://.pharmy/oops is invalid)
first get the unmangeld name if necessary, then check whether the property is already there
flag_long                   TRUE if the letter 'l' (ell) prefixed the conversion character.
fts3ExprIterate() callback used to collect the "global" matchinfo stats for a single query.
function    : Q_Head  purpose     : position queue cursor to first element (head) of queue.
get the fd NB: Most other code will NOT use the PHP_STREAM_CAST_INTERNAL flag when casting.
header `titles' can be lower case, or any case combination, according to the various RFC's.
hwtime.h contains inline assembler code for implementing  high-performance timing routines.
if the string is all ASCII up to size+1 - or str_len whichever is first - then we are done.
maximum number of grapheme clusters, bytes, or characters (based on extract_type) to return
nBackfill is the number of frames in the WAL that have been written back into the database.
now, scan the list of persistent Phar objects referencing this phar and update the pointers
only used here, let do a generic fixed point integers later if required by other part of GD
posix_fallocate() is defined to "returns zero on success,  or an error number on  failure".
remove watchpoint here from btree, zval watchpoint will remove it via remove_watch_collison
returns a new XMLRPC_VALUE representing a soap fault, comprised of a struct with four keys.
singleton at some position except at start strip off the singleton and rest of the loc_name
this object should not be pre-initialised at compile time, as the order of members may vary
(b) Otherwise we must ensure that we skip an entire UTF-8 character if we are in UTF-8 mode.
0x87f7f is a mask of SQLITE_OPEN_ flags that are valid to be passed down into the VFS layer.
A call to sqlite3EndBenignMalloc() indicates that subsequent malloc failures are non-benign.
A flag byte tells whether the bitmap is present, and whether this is a negated class or not.
A large amount of number can be constructed from ORR and MOVx, but computing them is costly.
Acquire a reference to page number pgno in pager pPager (a page reference has type DbPage*).
After the VDBE has be prepped, it can be executed by one or more calls to sqlite3VdbeExec().
After this routine is called, further calls to  sqlite3VdbeAddOp() functions are prohibited.
An additional grant of patent rights can be found in the PATENTS file in the same directory.
An index of 13 (for the "extra" days at the end of the year) will return the string "Extra".
And yet the library dlsym() routine returns a void* which is really a pointer to a function.
Any pinned pages with a page number equal to or greater than iLimit are implicitly unpinned.
As PCRE1 is now in maintenance only mode, we finesse the bug by allowing more memory always.
As with all file-control actions, there is no guarantee that this will actually do anything.
At one time, code such as "SELECT new.x" within a trigger would cause this condition to run.
At this point each term within the ORDER BY clause has been transformed to an integer value.
But if the parent term was originally TERM_LIKE, then the parent gets TERM_LIKECOND instead.
Check that the trigger name is not reserved and that no trigger of the specified name exists
Check to see if the column is in one of the tables in the FROM clause of the aggregate query
Clean up any resources allocated as part of the iterator object passed as the only argument.
Compute the content of the next row to insert into a range of registers beginning at regIns.
Compute the total number of bytes that a Cell needs in the cell data area of the btree-page.
Convert Microsoft Unicode to multi-byte character string, based on the user's ANSI codepage.
Create a new test statement, which we will prepare, but if anything fails, we will scrap it.
Deferred doclists are cached (allocated) by the sqlite3Fts3CacheDeferredDoclists() function.
Do nothing if the pager does not have an open write transaction or at least a RESERVED lock.
Do the actual replacement and put the result back into subject_str for further replacements.
During this stage RBU does not update the database by writing directly to the target tables.
EVIDENCE-OF: R-25451-61125 The SQLITE_CONFIG_URI option takes a single argument of type int.
Each Mem struct may cache multiple representations (string, integer etc.) of the same value.
Each semaphore actually consists of three semaphores allocated as a unit under the same key.
Essentially, the  application:  1) Opens an RBU handle using the sqlite3rbu_open() function.
Except, if there are already N worker threads running, the main thread does the work itself.
FIXME: this is probably broken when multiple signals are handled in this while loop (retval)
Find the appropriate action for a parser given the non-terminal look-ahead token iLookAhead.
For Go, this means we cannot generate a panic, which cannot be recovered, and so tests fail.
For every "*" that occurs in the column list, insert the names of all columns in all tables.
For example, to store the position-list:  4 9 113  the three varints:  6 7 106  are encoded.
Function getNextNode(), which is called by fts3ExprParse(), may itself call fts3ExprParse().
IMP: R-23979-26855 The abs(X) function returns the absolute value of the numeric argument X.
If P2 is 0 or if the table or index is not empty, fall through to the following instruction.
If a negative value is passed to this function, then the current transaction is rolled back.
If bCloseTrans is true, then this function opened a read transaction on the source database.
If iCol is less than zero, then the expression requests the rowid of the sub-select or view.
If it is defined, it will be consulted only when the macro "winIoerrCanRetry1" returns zero.
If it is left  pointing at the next record, then the next Next instruction will be a  no-op.
If no error occurred, all that remains is to finalize the journal to commit the transaction.
If non-NULL is returned, then it is guaranteed that the new entry was successfully appended.
If parameter nByte is non-negative, then it is the requested size of  the mapping to create.
If requesting a write-lock, then the Btree must have an open write transaction on this file.
If the SQLITE_ENABLE_8_3_NAMES option is enabled, then the original filename is unavailable.
If the bTryForInt flag is true, then extra effort is made to give an integer representation.
If the exFlag argument is false, then acquire at least a RESERVED lock on the database file.
If the pager has already entered the ERROR state, do not attempt  the rollback at this time.
If the rowid column is modified by the UPDATE statement the bChngRowid argument is non-zero.
If the shared-data extension is enabled, there may be multiple users of the Btree structure.
If the temp database has been explicitly named as part of the  pragma, make sure it is open.
If the term is a subquery, then pSubquery is the SELECT statement that the subquery encodes.
If this is a scan, then this call must be being made by an fts4aux module, not an FTS table.
If we end up here, we should report an error back to the DB engine, but that's not possible.
If we reach this line, isc_wait_for_event() did return, but we don't know which event fired.
In  that case we do not support atomic multi-file commits, so use the  simple case then too.
In a join with a USING clause, omit columns in the using clause from the table on the right.
In a multi-threaded application, the application-defined logger function must be threadsafe.
In other words, SHARED, RESERVED, and PENDING locks are the same thing as an EXCLUSIVE lock.
In other words, skip the first -YYN actions for this state because they are default actions.
In the pathelogical case where no blanks are found, then the wrap occurs at the first blank.
Information stored includes:  +  The state number for the parser at this level of the stack.
It is better  not to risk breaking vxworks support for the sake of such an obscure  feature.
It is not possible to change the behavior of the tokenizer with respect to these codepoints.
It is only available if the SQLITE_SOUNDEX compile-time option is used when SQLite is built.
It is only changed back to a real locking state after a successful call to xLock(EXCLUSIVE).
It updates the virtual stack, or creates it if this is the first method entry in the thread.
It would be done in rshutdown anyway but the handler will have had it's dtor called by then.
Make sure that cells and freeblocks do not overlap but combine to completely cover the page.
Make sure we __autoload() only during run-time (doesn't impact functionality of __autoload()
Many systems (examples: AIX) are unable to fsync a directory, so ignore errors on the fsync.
Merge the doclist aDoclist/nDoclist into the TermSelect object passed as the first argument.
Merge the entire database so that there is one segment for each  iIndex/iLangid combination.
Most SQLite builds come with a single default VFS that is appropriate for the host computer.
NB: php_msgbuf is 1 char bigger than a long, so there is no need to allocate the extra byte.
No locks are held on any other files (since the main file was committed at the btree level).
Not sure why it's a needed but it marks that the whole stream will include many result sets.
OVERVIEW   The RBU extension requires that the RBU update be packaged as an SQLite database.
Object for iterating through a single segment, visiting each term/rowid pair in the segment.
On most platforms, pthread_equal() is a  comparison of two integers and is therefore atomic.
Once this function has been called, the transaction must either be rolled back or committed.
Opcode: RealAffinity P1 * * * *  If register P1 holds an integer convert it to a real value.
Otherwise an out-of-order write following a WAL restart could result in database corruption.
Otherwise, if an error occurs, an SQLite error code is returned and  expression (*pp) freed.
Otherwise, if no error occurs and the iterator is successfully advanced, *pbEof is set to 0.
PTRMAP_OVERFLOW2: The database page is the second or later page in a list of overflow pages.
Read cursors remain open and valid but are "saved" in case the table pages are moved around.
Release an SQLite statement handle obtained via an earlier call to sqlite3Fts5StorageStmt().
Resize the Vdbe.aOp array so that it is at least nOp elements larger  than its current size.
Resolve symbolic names into TK_COLUMN operators for the current node in the expression tree.
Return SQLITE_CORRUPT if any of the internal checks fail, or if the checksum does not match.
Return a pointer to payload information from the entry that the  pCur cursor is pointing to.
Routine sqlite3AlterFinishAddColumn() will be called to complete coding the "ALTER TABLE ...
STEP 2: Try to satisfy the allocation by carving a piece off of the end of the master chunk.
Save the file position of chunk index, and allocate enough space for each chunk_info block .
Sets addr by hostname or by ip in string form (AF_INET or AF_INET6, depending on the socket)
So if this routine is called with p equal to the t3 query, then pPrior will be the t2 query.
Some OS prepend _ to symbol names while their dynamic linker does not do that automatically.
Sometimes, if P3 is the same register as P2, the implementation is able to avoid a memcpy().
Subsequent pconnects in the same script are not guaranteed to get the same database session.
TCB_SIZE is sizeof(struct thread_control_block), as defined in /usr/src/lib/librthread/tcb.h
TODO: implement callbacks or other mechanism for applications to "understand" these headers.
Takes a fully configured proxy locking-style unix file and switches the local lock file path
The "correct" way to do this would be to call the xmlrpc library XMLRPC_ValueIsFault() func.
The DJGPP compiler environment looks mostly like Unix, but it lacks the fcntl() system call.
The ExprSetVVAProperty() macro is used for Verification, Validation, and Accreditation only.
The OP_OpenEphemeral table will be cancelled later because we still need to use the pKeyInfo
The RBU handle is currently in RBU_STAGE_OAL state, with a SHARED lock on the database file.
The calling function is responsible for making sure the memory returned is eventually freed.
The code generator for compound SELECT statements does one level of recursion for each term.
The default is to limit the maximum cell size so that at least 4 cells will fit on one page.
The default value is either the integer 0, the floating point number 0.0, or a NULL pointer.
The exception is if the statement being parsed was passed to an sqlite3_declare_vtab() call.
The final parameter, xDel, must be one of SQLITE_DYNAMIC, SQLITE_STATIC or SQLITE_TRANSIENT.
The following constant value is used by the SQLITE_BIGENDIAN and SQLITE_LITTLEENDIAN macros.
The following structure defines the vector of words returned by the STKSTAT library routine.
The following structure keeps track of state information for the count() aggregate function.
The following variables are all protected by the STATIC_MASTER  mutex, not by sqlite3.mutex.
The function will return a unique method ID, the user should maintain the ID for each method
The implementation is not required to provide versions of these routines that actually work.
The json_parse(JSON) function returns a string which describes a parse of the JSON provided.
The most significant 22 bits in each 32-bit value contain the first  codepoint in the range.
The number of subtype bytes preserved by SQLite might increase in future releases of SQLite.
The number of terms in a join is limited by the number of bits in prereqRight and prereqAll.
The only thing the main thread can write to events is NULL, so we can just try one more time
The pNext field is the only field in the sqlite3_vfs structure that SQLite will ever modify.
The results of this routine are undefined unless it is called from within an xUpdate method.
The second argument to this function, op, is always SAVEPOINT_ROLLBACK or SAVEPOINT_RELEASE.
The sqlite3_pcache_methods.xInit() all is embedded in the call to sqlite3PcacheInitialize().
The unixFile structure is subclass of sqlite3_file specific to the unix VFS implementations.
The varint format is different from that used by SQLite, so the maximum length is 10, not 9.
Then, if required, a single byte at offset (nSize-1), to set the size of the file correctly.
These routines are in a separate files so that they will not be linked if they are not used.
This file contains structure and macro definitions for the query planner logic in "where.c".
This file presents a simple cross-platform threading interface for use internally by SQLite.
This function is called as part of initializing or reinitializing an incremental checkpoint.
This function packages up the logic of adding a character or range of characters to a class.
This function replaces the current contents of page pPg with the contents of the cell array.
This is an SQLite virtual table module implementing direct access to an existing FTS5 index.
This is an inconvience that means that help can't be logically grouped Not worth the savings
This is similar in concept to how sqlite encodes "varints" but the encoding is not the same.
This is the point at which we convert to a hash table at this level, if we're over the count
This is usually disabled because a corrupt database may cause an assert() statement to fail.
This must precede the empty string test - in this case that test is done at the outer level.
This operation leaves the cursor in a state where it cannot be advanced in either direction.
This remains here temporarily to ease the transition to the new meaning of YYERROR, for GCC.
This routine calls the Mem.xDel destructor to dispose of values that require the destructor.
This routine pushes the WITH clause passed as the second argument onto the top of the stack.
This routine returns TRUE when that cost  relationship is inverted and needs to be adjusted.
This routine returns a NULL pointer if the object was not in cache and could not be created.
This type of "rounding" allows us to avoid calculating the length of the year in most cases.
Thus, we optionally deviate from the correct algorithm just enough to avoid such collisions.
To state it another way:  This routine returns a list of all triggers that fire off of pTab.
Tokenize the nul-terminated string zText and add all tokens to the pending-terms hash-table.
Two NULL values are considered equal, and NULL is considered distinct from all other values.
Undo the NUL-termination kindly provided by process() but leave at least one byte to look at
Unless this is a view, open cursors for the table we are  deleting from and all its indices.
Unlock it here so that this doesn't cause problems for the call to BtreeSetPageSize() below.
Values for RbuObjIter.eType  0: Table does not exist (error) 1: Table has an implicit rowid.
We need only a few extra variables to hold the errors immediately around the current column.
When this function is called, *ppPoslist is assumed to point to the  start of a column-list.
WinCE lacks native support for file locking so we have to fake it with some code of our own.
Within this loop, variable eState may be set to 0, 1 or 2, depending on the parsing context.
Write a temporary byte count which will be calculated as the decompositions are written out.
and choose the highest possible branch in the branch containing only branches lower than idx
d) When using the old syntax, the OR operator has a greater precedence than an implicit AND.
i.e. decrement the relevant FK counter for each row of the current table with non-NULL keys.
if we did not manage to read the seed file, we should not write a low-entropy seed file back
is_object() and is_resource() may return false, even though the value is an object/resource.
limit is at least -1 therefore no need of bounds checking : i will be always less than found
mark the descriptor close-on-exec, so that it won't be inherited by potential other children
name is not merged, since zip_stat_t doesn't own it, and src may not be valid as long as dst
php_signal using sigaction is derived from Advanced Programing in the Unix Environment by W.
prepared query: set the query name and defer the actual prepare until the first execute call
recipkey specifies the private key matching recipcert, if recipcert does not include the key
scanf.c -- This file contains the base code which implements sscanf and by extension fscanf.
sqlite3_snprintf() works like snprintf() except that it ignores the current locale settings.
that array should only be manipulated during init, so safe for async access during execution
we look for directory separator from the end of string, thus hopefuly reducing our work load
x IN (SELECT ...) x IN (value, value, ...)  The left-hand side (LHS) is a scalar expression.
*piStartOffset should be set to the index of the first byte of the token in the input buffer.
*pp is set to point to the first byte past the last byte copied before this function returns.
2) All entries in the list that share a common value for  xUnlockNotify are grouped together.
Adapted from: apptype.c, Written by Eberhard Mattes and put into the public domain  Notes: 1.
Add code that will check to make sure the N registers starting at iMem form a distinct entry.
Additionally, set output variable *pzErrmsg to point to a buffer containing an error message.
Algorithm: Maintain a GIFBITS character long buffer (so that 8 codes will fit in it exactly).
All symbols defined below should begin with yy or YY, to avoid infringing on user name space.
An instance of this structure holds information about the LIMIT clause of a SELECT statement.
Backup is not possible if the page size of the destination is changing and a codec is in use.
Before it is called, the partially compiled regex must be temporarily terminated with OP_END.
Both the request and the response may consist of arbitrarily long, arbitrarily nested values.
But sometime you might  want to place more severe limits on the complexity of an  expression.
By default, this is enabled and an isolated heap will be created to store all allocated data.
Calculate important variables (like stack size) and checks whether all opcodes are supported.
Care must be taken to unref() the parent page pointer when this page is no longer referenced.
Changing any of these constants will alter the wal-index format and create incompatibilities.
Character is valid under RFC 2279, but 4-byte and 5-byte characters are excluded by RFC 3629.
Check every term in the ORDER BY or GROUP BY clause pOrderBy of the SELECT statement pSelect.
Code is generated to remove entries from sqlite_master and/or sqlite_temp_master if required.
Comparison is made as follows:  1) EOF (end of doclist in this case) is greater than not EOF.
Define HAVE_FULLFSYNC to 0 or 1 depending on whether or not the F_FULLFSYNC macro is defined.
Either this connection or some other connection in the same process holds a lock on the file.
Either this is the cheapest token in the entire query, or it is part of a multi-token phrase.
Ensure that page 0 of the wal-index (the page that contains the  wal-index header) is mapped.
Ensure that the PCREPOSIX_EXP_xxx macros are set appropriately for compiling these functions.
Except, if Pager.eLock is set to UNKNOWN_LOCK when this function is called, do not modify it.
Except, if there is a sorter, in which case the sorter has already limited the output for us.
Extract arguments from the current row of the ephemeral table and  invoke the VUpdate method.
First off, code is included that follows the "include" declaration in the input grammar file.
For column zero in this document there are two matches at positions 3 and 10 (5-2 and 9-2+3).
Fts5SegIter.iLeafOffset currently points to the first byte of the  "nSuffix" field of a term.
Given a file descriptor, locate the unixInodeInfo object that describes that file descriptor.
Hence, the calling function can deallocate or modify the text after they return without harm.
IMP: R-24470-31136 This function is an SQL wrapper around the sqlite3_sourceid() C interface.
If SQLite is not threadsafe and does not support shared-cache mode, this function is a no-op.
If a phrase consists entirely of deferred tokens, it is assumed to match every row in the db.
If a write-cursor is requested, then the caller is assumed to have an open write transaction.
If an IO error occurs while modifying the database file, return the error code to the caller.
If an SQL NULL is stored  in column iCol, jump immediately to the next iteration of the loop.
If either of these  schema items cannot be located, set an error in pParse and return  early.
If found, change the idxNum to 1 and request the value of that constraint be sent to xFilter.
If iLevel is less than 0 and this is not a scan, include a seg-reader  for the pending-terms.
If in full-sync mode, advance to the next disk sector before writing the master journal name.
If it was a capturing subpattern, check to see if it contained any recursive back references.
If no element exists with a matching key, then a new element is created and NULL is returned.
If op1 is scalar, UNSET_DIM and UNSET_OBJ have no effect, so we can keep the previous ranges.
If p is NULL (if the bitmap has not been created) or if i is out of range, then return false.
If successful, SQLITE_OK is returned and (*pp) set to point to the  new root expression node.
If successful, SQLITE_OK is returned and *ppOut is set to point to the new Fts5Config object.
If successful, the call to PagerCloseWal() checkpoints and deletes the write-ahead-log  file.
If successful, the same bytes that are locked here are unlocked before this function returns.
If the  reset parameter is non-zero, the cache hit or miss count is zeroed before  returning.
If the auth function returns SQLITE_IGNORE, change the TK_COLUMN  instruction into a TK_NULL.
If the createFlag is 0, then NULL is always returned if the page is not already in the cache.
If the event is of the form  UPDATE ON (a,b,c)  Then the "b" IdList records the list "a,b,c".
If the height is greater than the maximum allowed expression depth, leave an error in pParse.
If the iCol argument to this function was negative, this means all columns of the FTS3 table.
If the leaf in question has already been trimmed from the segment,  ignore this b-tree entry.
If the new rowid is not equal to the old, set output parameter *pbSkip to 1 before returning.
If the number of references to the page drop to zero, then the page is added to the LRU list.
If the pager is in CACHEMOD state, then there must be a copy of this page in the pager cache.
If the query was read-only and the error code is SQLITE_INTERRUPT,  no rollback is necessary.
If the set  contains one or more NULL values, then the result of the expression is also NULL.
If the value of register P1 is 1 or greater, subtract P3 from the value in P1 and jump to P2.
If we are, we also want to check whether we've finished activating the modules (RINIT phase).
In other words, from the most recent successful call to  sqlite3rbu_close() or this function.
In other words, return true if z contains at least one vowel that is followed by a consonant.
In this case *ppVfs is set to point to the VFS that should be used to open the database file.
Index.nSample is non-zero at this point if data has already been loaded from the stat4 table.
Indicate that the accumulator load should be skipped on this iteration of the aggregate loop.
Initialize destination --- called by jpeg_start_compress before any data is actually written.
It considerably speeds things up to do a normal load before trying using an atomic operation.
It is not clear when the current rule based calendar replaced the observation based calendar.
It is the responsibility of the caller to (eventually) free this buffer using sqlite3_free().
It returns true if the rows really will be sorted in the specified order, or false otherwise.
Just some tweaking to optimize the code, and get the end statements work in a general manner.
Loops may be overwritten if the following  conditions are met:  (1)  They have the same iTab.
Make sure all SELECTs in the statement have the same number of elements in their result sets.
NB: don't want to include the data_source in the error message as it might contain a password
Note that this implementation requires a version of pthreads that supports recursive mutexes.
Note that we use memcpy() rather than strncpy() in case there are binary zeros in the string.
Note(prenaux): More than one line, we need to layout the crossAxis according to alignContent.
Note: there must not be a mixture of XPG3 specs and non-XPG3 specs in the same format string.
Objects created via ZEND_NEW are only fully initialized after the DO_FCALL (constructor call)
On OS X on an msdos filesystem, the inode number is reported incorrectly for zero-size files.
One of the cells in node pNode is guaranteed to have a 64-bit  integer value equal to iRowid.
Opcode: Delete P1 P2 * P4 P5  Delete the record at which the P1 cursor is currently pointing.
Or, create an ephemeral index capable of holding primary keys in the case of a WITHOUT ROWID.
Otherwise, an error code and message is  left in the RBU handle passed as the first argument.
Otherwise, set  pCov to NULL to indicate that no candidate covering index will  be available.
Otherwise, we need to overcorrect and set the adjustment to the main timezone + 3600 seconds.
Pointers to structures of this type are cast and returned as  opaque sqlite3_pcache* handles.
Pointers to the cells are in the cell pointer array that immediately follows the page header.
Populate buffer zOut with the full canonical pathname corresponding to the pathname in zPath.
Provide a default value for SQLITE_TEMP_STORE in case it is not specified on the command-line
Reads the precise character type of a character into TMP1, if the character is less than 128.
Resolve the ORDER BY on a compound SELECT after all terms of the compound have been resolved.
Return SQLITE_OK if all bytes were read successfully and SQLITE_IOERR if anything goes wrong.
Return a 64-bit checksum for the FTS index entry specified by the arguments to this function.
Return the depth of a tree comprising nPMA PMAs, assuming a fanout of SORTER_MAX_MERGE_COUNT.
SCRIPT_NAME set to a URL path that could identify the CGI script rather than the interpreter.
SEE ALSO XMLRPC_ServerAddIntrospectionData () XMLRPC_IntrospectionCreateDescription () SOURCE
Search the list of WhereLoops in *ppPrev looking for one that can be supplanted by pTemplate.
See comments above function writeJournalHdr() for a description of the journal header format.
Set *piZero to one less than the frame  number of the first frame indexed by this hash table.
Set a flag that indicates we're the first to create the memory so it must be zero-initialized
Set an entry in the wal-index that will map database page number pPage into WAL frame iFrame.
Set the collating sequence for expression pExpr to be the collating sequence named by pToken.
TODO: use the known fast rgba multiplication implementation once the new formats are in place
The Lookaside structure holds configuration information about the lookaside malloc subsystem.
The SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN flag indicate that a file cannot be deleted when open.
The SQLITE_SYNC_FULL macro means to use the MacOSX-style full-fsync using fcntl(F_FULLFSYNC).
The calling function must check the return code and move the results to the desired register.
The code has been changed so that the workspace is expanded using malloc() in this situation.
The code in this file implements the function that runs the bytecode of a prepared statement.
The db pointer is used as a memory context for any subsequent allocations that need to occur.
The first M pointers point to zero-terminated strings that  contain the names of the columns.
The following types are used as part of the implementation of the  fts3BestSnippet() routine.
The format for the journal header is as follows: - 8 bytes: Magic identifying journal format.
The fts5_expr.c API above this point is used by the other hand-written C code in this module.
The left siblings are always nearly full, while the right-most sibling might be nearly empty.
The list of Btrees connected by pNext and pPrev should be in sorted order by Btree.pBt value.
The most-recently-returned value is always left at the beginning of the list after retrieval.
The next call to _step() (if any) will return SQLITE_ERROR and _finalize() will return NOMEM.
The next instruction executed will be  the one at index P2 from the beginning of the program.
The number of milliseconds of sleep actually requested from the operating system is returned.
The only database page the statement reads is page 1, which is guaranteed to be in the cache.
The size of a lookaside slot after ROUNDDOWN8 needs to be larger than a pointer to be useful.
The time slicing may cause this function call to take up to 100 ms longer than you specified.
The value must be freed the same number of times it is copied or there will be a memory leak.
The wal-index header contains the total number of frames within the WAL in the mxFrame field.
The winFile structure is a subclass of sqlite3_file* specific to the win32 portability layer.
Then loop through the  columns of the table to see if any of them contain the token "hidden".
Therefore, only colors that are within minmaxdist of some part of the box need be considered.
These entry points are used by incremental I/O and can be omitted if that module is not used.
These used to have mnemonic name like 'i' for SQLITE_AFF_INTEGER and 't' for SQLITE_AFF_TEXT.
They are stored in the OS's standard temporary file directory, and are deleted prior to exit.
They will be converted to the best matching PHP type before being passed to the PHP function.
This check is done here in the debugging case so that the code that was compiled can be seen.
This feature is used for test suite validation only and does not appear an production builds.
This file contains C code routines that are called by the parser to handle UPDATE statements.
This file contains routines used to translate between UTF-8,  UTF-16, UTF-16BE, and UTF-16LE.
This file implements routines used to report what compile-time options SQLite was built with.
This function builds a set of character tables for use by PCRE and returns a pointer to them.
This function copies a single captured substring into a given buffer, identifying it by name.
This function encodes a single frame header and writes it to a buffer supplied by the caller.
This function opens a cursor used to read the input data for an  incremental merge operation.
This gives a return value similar to that of ecvt, except that trailing zeros are suppressed.
This instruction works just like OpenRead except that it opens the cursor in read/write mode.
This interface is only available if SQLITE_CHECK_PAGES is defined when the  library is built.
This is because if we send "i" (42) then the type will be int and the server will expect int.
This is different from sqlite3Atoi64() which requires the input number to be zero-terminated.
This is important in case the transaction being rolled back has modified the database schema.
This is to guard against size changes that result when compiling on a different architecture.
This means that the library is called at process shutdown, and cannot be unloaded beforehand.
This occurs as part of flushing the contents of the pending-terms hash table to the database.
This opcode allows these two values (10 retries and 25 milliseconds of delay) to be adjusted.
This routine is called by the parser while in the middle of parsing a CREATE TABLE statement.
This routine is called on a collation sequence before it is used to check that it is defined.
This routine is called to create a new foreign key on the table currently under construction.
This routine never gets call with a positive pgno except right after sqlite3PcacheCleanAll().
This structure holds a record that has already been disassembled into its constituent fields.
This variable has no function other than to help verify the correct operation of the library.
This variable is intentionally re-defined as the code is transpiled to a block scope language
To avoid deadlocks, multiple Btrees are locked in the same order by all database connections.
To save much memory, we overlay the table used by compress() with those used by decompress().
To start a read transaction, the reader records the index of the last valid frame in the WAL.
UPDATE and DELETE statements must identify their target rows by  non-NULL PRIMARY KEY values.
Unicode support  Portions copyright (c) 1999,2000,2001 by the PHP3 internationalization team.
Up to MX_DELETION_ATTEMPTs deletion attempts are run before giving up and returning an error.
Use a testcase() macro to make sure that malloc failure within  PagerSetPagesize() is tested.
Walk the parse trees associated with all subqueries in the FROM clause of SELECT statement p.
We check to see if this is a left recursion that could loop for ever, and diagnose that case.
We have to keep per-table autoincrement information in case inserts are down within triggers.
We only set dataOnly if the file size is  unchanged since the file size is part of the inode.
We remove rsrc_dtor because we want the enclosing stream to be deleted from the resource list
When a page is moved, the pointer in its parent must be updated to point to the new location.
copy digits from after decimal to significand (decrease exponent by d to shift decimal right)
create a new empty value and pass that along to be init'd, then add it to our current vector.
fts3ExprIterate() callback used to collect the "local" part of the FTS3_MATCHINFO_HITS array.
now everything should be fine and an added ZEND_ACC_IMPLICIT_ABSTRACT_CLASS should be removed
now run through properties that are only going to be returned from a server, not text headers
pE is a pointer to an expression which is a single term in the ORDER BY of a compound SELECT.
performs heuristics on an xmlrpc_vector_array to determine appropriate soap arrayType string.
please do not add coverage here: the segment would be leaked and impossible to delete via php
sqlite3_test_control(BITVEC_TEST, size, program)  Run a test against a Bitvec object of size.
src and dest get the same subst chars set, so it doesn't really matter which one we read from
the error_log is NOT used when running in foreground and from a tty (user looking at output).
transaction was released by the query and was a registered resource, so we have to release it
"Core" in the previous sentence does not include operating-system specific VFS implementation.
(In other words, the "major" token.)  +  The semantic value stored at this level of the stack.
* In UTF-8 mode, which can be set by (*UTF8) in the pattern, this may be * more than one byte.
8: Salt-1 (copied from the wal-header) 12: Salt-2 (copied from the wal-header) 16: Checksum-1.
A PENDING_LOCK is obtained by locking a designated byte different from the RESERVED_LOCK byte.
A bound parameter in a CREATE statement that originates from sqlite3_prepare() causes an error
A cursor is a pointer to a particular entry within a particular b-tree within a database file.
A header written to the output file with the byte-order-mark and the number of property nodes.
A read/write cursor "iDataCur" must be open on the canonical storage btree for the table pTab.
A special query is identified as one with a MATCH expression that begins with a '*' character.
A thread must be holding a mutex on the corresponding Btree in order to access Schema content.
Add the POSIX table or its complement into the main table that is being built and we are done.
After this routine has been called, the sqlite3RowSetInsert() routine may not be called again.
And, obviously, for this to be so there  must be an open write transaction on the file itself.
Android-L and M bionic's pthread implementation differ significantly, and can change any time.
Any  pointer will work here as long as it is distinct from SQLITE_STATIC and SQLITE_TRANSIENT.
Anything other than NOMATCH causes the entire assertion to fail, passing back the return code.
Argument: pointer to the compile data block Returns:  0 if all went well, else an error number
Beware that SHOW statements bypass the PS framework and thus they send no metadata at prepare.
But by using this automatically generated code, the size of the code is substantially reduced.
But continue to take the absolute value of the default cache size of historical compatibility.
Cell content is stored at the very end of the page and grows toward the beginning of the page.
Compute collating sequences used by  temporary tables needed to implement the compound select.
Create the virtual table wrapper around the hash-table and overload  the two scalar functions.
Dummy implementations for Windows, because Windows doesn't support Unix-style signal handling.
Each cursor is associated with a particular database connection identified BtCursor.pBtree.db.
Each stack pointer address is followed by the size of the data in use in that stack, in bytes.
Error message for when two or more terms of a compound select have different size result sets.
Except, any file that is greater than 0 bytes in size is considered to have at least one page.
Existing SHARED locks may persist, but no new SHARED locks may be obtained by other processes.
FIXME: provide more detailed information about the field type, field size and array dimensions
Fill the InitData structure with an error message that indicates that the database is corrupt.
For each row found, increment either the deferred or immediate foreign key constraint counter.
For finder-function F, two objects are created:  (1) The real finder-function named "FImpt()".
For session-pool using connections, the underlying connection is released to its session pool.
For the pSelect parameter holds the values to be inserted for the first two forms shown above.
For this reason, if an error occurs in the stat() call here, it is ignored and -1 is returned.
Free the space allocated for aOp and any p4 values allocated for the opcodes contained within.
GD 2.0 supports 8 bits of color resolution per channel and 7 bits of alpha channel resolution.
GIFCOMPR.C       - GIF Image compression routines  Lempel-Ziv compression based on 'compress'.
Generate code that will   (1) acquire a lock for table pTab then (2) open pTab as cursor iCur.
Get a pointer the VDBE under construction, allocating a new VDBE if one does not already exist
Given the name of a compile-time option, return true if that option was used and false if not.
HTTP POST may contain form data to be processed into variables depending on given content type
Hence, isTnct represents the original setting of the SF_Distinct flag, not the current setting
Hence, the locking scheme will support two or more Win95 readers or two or more WinNT readers.
If *pRc is set to any value other than SQLITE_OK when this function is  called, it is a no-op.
If a transaction was in progress when this routine is called, that transaction is rolled back.
If an error has occurred, then set *pzErrmsg to point to a buffer containing an error message.
If an error occurs within this function, *pRc is set to an SQLite error code before returning.
If it does, return early without loading the doclist-index (as it belongs to a different term.
If it is true, the work of updating the change-counter is omitted for the current transaction.
If pSchema is not NULL, then iDb is computed from pSchema and db using sqlite3SchemaToIndex().
If some other connection is holding an exclusive lock, the requested lock may not be obtained.
If the "bDesc"  parameter is passed a non-zero value, iteration is in descending rowid  order.
If the above was an under estimate, increment the cycle number until the correct one is found.
If the optional parameter is set to true, return the phar:// URL to the currently running phar
If the original bucket has a refcount of 1 and owns its buffer, then it is returned unchanged.
If the reference count has reached zero, rollback any active transaction and unlock the pager.
If the schema changes, these column names might changes and so the view will need to be reset.
If the sqlite_sequence table exists in this database, then update  it with the new table name.
If the two values were equal, then the value from the oldest PMA should be considered smaller.
If the xBegin call is successful, place the sqlite3_vtab pointer in the sqlite3.aVTrans array.
If there are no LEFT or CROSS JOIN joins in the query, both mExtra and mUnusable are set to 0.
If there are no records  greater than or equal to the key and P2 is not zero, then jump to P2.
If there is a set first byte for the group, and we have not yet set a "required byte", set it.
If this match does not  * succeed, we still stay in the loop, advancing by just one character.
If using separate RBU and state databases, attach the state database to the RBU db handle now.
If we have a redirect_url then our script_filename and script_name point to the php executable
If you change the logic here, please also update the error message in ps_modules appropriately
In other words, cursor P1 becomes an alias for the  MEM_Blob content contained in register P2.
In the case of YYABORT or YYACCEPT, an incorrect destructor might then be invoked immediately.
In the first case, set *piEndBlock  to the integer value and *pnByte to zero before returning.
In this case the last page is never written out to disk, leaving the database file undersized.
In this case, assume that the Pager.pageSize variable is already set to the correct page size.
Include the configuration header output by 'configure' if we're using the autoconf-based build
Instead, simply invoke the syntax error routine and continue going as if nothing had happened.
Instead, upgrade the priority of the highest priority existing sample that shares this prefix.
It ain't gonna proceed to real execution anyway, but the correct descriptor is needed already.
It has, however, been hacked around a lot, so he is not to blame for the current way it works.
It is cleared (set to false) whenever an exclusive lock is  relinquished on the database file.
It is not possible to determine if the old.rowid or new.rowid column is  accessed by triggers.
It is the responsibility of the caller to call releasePage() on *ppPage to free the reference.
It is the responsibility of the caller to free the error message buffer using sqlite3DbFree().
It is the responsibility of the caller to free this error message buffer using sqlite3_free().
It is the responsibility of the caller to malloc and free memory for insertion into the queue.
It seems that early versions of GCC stored the two words of a 64-bit float in the wrong order.
It used to be used to recover from a malloc() failure, but SQLite now does this automatically.
It would be more consistent to return "c:." but that would require making the string *longer*.
Jump here if the row had already been deleted before any BEFORE trigger programs were invoked.
Level 3 reduces the probability of damage to near zero but with a write performance reduction.
Like free() but works for allocations obtained from sqlite3MemMalloc() or sqlite3MemRealloc().
Locate or create an AutoincInfo structure associated with table pTab which is in database iDb.
Move to the next document   Return SQLITE_OK if successful, or an SQLite error code otherwise.
Multithreading does not affect these static variables, since they store built-in CPU features.
Mutexes created using SQLITE_MUTEX_RECURSIVE can be entered multiple times by the same thread.
Named semaphore locking uses the file path so it needs to be included in the semLockingContext
Not really essential, but these routines were used extensively in GD, so they were moved here.
One or more terms that must appear in a contiguous sequence within a document for it to match.
Opcode: Program P1 P2 P3 P4 P5  Execute the trigger program passed as P4 (type P4_SUBPROGRAM).
Or, if isPrefix is true, to scan the doclist for all terms for which  zTerm/nTerm is a prefix.
Or, if this table was originally an INTEGER PRIMARY KEY table, create a new PRIMARY KEY index.
Originally, the table contained pointers to the name strings in the first field of each entry.
Otherwise, SQLITE_OK is returned after a callback has been made for all eligible phrase nodes.
Otherwise, a new page object is allocated and populated with data read from the database file.
Otherwise, if the callback function does not return an error, this function returns SQLITE_OK.
Otherwise, there can be no first char if this item is first, whatever repeat count may follow.
Otherwise, typedef it to int, because that's what libjpeg does if HAVE_BOOLEAN is not defined.
P4 is a KeyInfo structure that defines collating sequences and sort orders for the comparison.
Parameter pBuf points to an allocation large enough to contain 'n' buffers of 'sz' bytes each.
Perhaps the most important point is the difference between MEMTYPE_HEAP and MEMTYPE_LOOKASIDE.
Prepare a virtual machine for execution for the first time after creating the virtual machine.
Pretend to compile the pattern while actually just accumulating the length of memory required.
Print out aliases for help as this one comes last, with the added text on how aliases are used
Record the fact that an affinity change has occurred on iCount registers starting with iStart.
Reposition cursor P1 so that  it points to the largest entry that  is less than the key value.
Reset child margins before re-layout as they are added back in layoutNode and would be doubled
Return SQLITE_OK if successful (or  if no allocation was required), or SQLITE_NOMEM otherwise.
Return a pointer corresponding to database zDb (i.e. "main", "temp") in connection handle pDb.
Return an integer value for one of the parameters to the opcode pOp determined by character c.
Return negative, zero, or positive if zNum is less than, equal to, or greater than the string.
Return pointers to the hash table and page number array stored on page iHash of the wal-index.
Return the number of bytes of space at the end of every page that are intentually left unused.
Return true if the iterator passed as the second argument currently points to a delete marker.
SQLITE_WITHOUT_MSIZE        Set this symbol to disable the use of _msize() on windows systems.
SRT_Fifo        This is like SRT_EphemTab except that the table is assumed to already be open.
Session module guarantees PS_OPEN_FUNC() is called before calling other PS_*_FUNC() functions.
Set the SegReader to point to the first docid in the doclist associated with the current term.
Set up the globals:  g_init_bits - initial number of bits g_outfile   - pointer to output file
So the calling function (pcache.c) will never have a createFlag of 1 on a non-purgeable cache.
So the extra complication to make this rule less restrictive is probably not worth the effort.
Special case:  Add leading zeros if the flag_zeropad flag is set and we are not left justified
Storage space to hold the object has already been allocated and is passed in as the p pointer.
Structure used internally by this VFS to record the state of an open shared memory connection.
TODO(hyangah): check 0xb0 works with API23+  As disgusting as on the darwin/386, darwin/amd64.
The 64-bit checksum associated with the wal-index header created by recovering the *-wal file.
The TableLock structure is only used by the sqlite3TableLock() and codeTableLocks() functions.
The VdbeCoverage macros are used to set a coverage testing point for VDBE branch instructions.
The allocation (static, dynamic etc.) and encoding of the Mem may be changed by this function.
The basic idea is to do a nested loop, one loop for each table in the FROM clause of a select.
The behavior is undefined if the mutex is not currently entered or is not currently allocated.
The caller must be holding a mutex to prevent multiple threads from entering at the same time.
The code in this file only exists if we are not omitting the ALTER TABLE logic from the build.
The error codes in the range 0x10300-0x103ff are reserved for regular expression related errrs
The flags parameter to sqlite3BtreeCreateTable can be the bitwise OR of the flags shown below.
The idea behind dataOnly is that it should only write the file content to disk, not the inode.
The inet type holds an IPv4 or IPv6 host address, and optionally its subnet, all in one field.
The integer value pointed to by pnChange is incremented by the number of entries in the table.
The list of integers in the stat column can optionally be followed by the keyword "unordered".
The names of the following types declared in vdbeInt.h are required for the VdbeOp definition.
The pcache1.separateCache variable is true if each PCache has its own private PGroup (mode-1).
The request line looks like: "GET http://foo.bar.com:1234 HTTP/1.1" That is, there is no path.
The result is also a string which is derived from A by replacing every occurrence of B with C.
The returned SrcList might be the same as the SrcList that was input or it might be a new one.
The second points to a buffer containing an integer value serialized according to serial_type.
The second while(...) loop copies the key value from the cell on pPage into the pSpace buffer.
The space between the beginning and the first element and the space between each two elements.
The third (quality) parameter for Wbmp stands for the threshold when called from image2wbmp().
The value of the iVersion field is initially 1 but may be larger in future versions of SQLite.
Then run a single CREATE TABLE statement to construct the imposter table in the parsed schema.
Then the OP_ResultRow opcode is used to cause sqlite3_step() to return the next row of result.
There are several ways to build this library, depending on which way the database is accessed.
There must be a doclist for a leaf node, and there must not be a doclist for an internal node.
Therefore UNDEFINED can be defined as 0 in situations where only unsigned numbers are desired.
Therefore the next statement sets variable 'max' to 1 for the max() aggregate, or 0 for min().
These routines are designed to aid in process initialization and shutdown on embedded systems.
These routines are used to avoid simulated errors in places where we do not care about errors.
This computation is not a simple "+" operator because LogEst is stored as a logarithmic value.
This flag is clear by default, indicating that database files might have arbitrary corruption.
This function deletes that reference, so after it returns the page pointed to by p is invalid.
This function is used to resize the hash table used by the cache passed as the first argument.
This function performs the parts of the "close file" operation  common to all locking schemes.
This function performs the printf() style processing, then appends the results to buffer pBuf.
This function retrieves the doclist for the specified term (or term prefix) from the database.
This has been built and tested on Linux 2.2.14  This has been built and tested on Solaris 2.6.
This is a bit more conservative than necessary, but much easier than enforcing an exact limit.
This is easy to do, as fts3 has no syntax for escaping a quote character embedded in a string.
This is necessary as the VM code is being generated for will not open a statement transaction.
This may lead to cache inconsistency problems for other processes at some point in the future.
This method does not require extra disk space, as no extra entries are added to the FTS index.
This operation leaves the cursor in a state where it can be advanced in the forward direction.
This routine adds a specific database name, if needed, to the target when forming the SrcList.
This routine checks if it is possible to delete the master journal file, and does so if it is.
This scenario comes about when this function is called (indirectly) from sqlite3BtreeDelete().
Thus, a bit more space is pre-allocated at the end of the buffer, see php_mysqlnd_rowp_read().
To verify that a date is valid, convert it to SDN and then back and compare with the original.
Versions of isspace(), isalnum() and isdigit() to which it is safe to pass signed char values.
We cannot use this for other roundtrip calls as there is no way the user can access this error
We check the name first, and then check that we have reached the end of the name in the table.
We define IPV6_RECVPKTINFO to be IPV6_PKTINFO, so assume the assume user used IPV6_RECVPKTINFO
We do this now since it is FAR storage and may affect the memory manager's space calculations.
We don't support _C with pdo because it uses the data in a different way - just references it.
We use the Indirection-following version of the API since we want to clone as much as possible
When the memory cell is deleted or overwritten, the VdbeFrame object is not freed immediately.
When this function is called, *ppPoslist is assumed to point to the  start of a position-list.
Windows will only let you create file view mappings on allocation size granularity boundaries.
With the "v2" prepare interfaces, the underlying reason for the error is returned immediately.
Workstation applications using SQLite normally do not need to invoke either of these routines.
Write a nice string representation of the contents of cell pMem into buffer zBuf, length nBuf.
You can use php_stream_memory_open to create a readonly stream from an existing memory buffer.
call to the handler for mbstring.language is done after mbstring.internal_encoding is handled.
clean before putting into the cache, since clean could call dtors, which could use cached hash
date parser's scan function too large for VC6 - VC7.x drop the optimization solves the problem
eMode: Parameter eMode may be passed either ONEPASS_OFF (0), ONEPASS_SINGLE, or ONEPASS_MULTI.
if instantiating a remote object, either directly, or via a moniker, fill in the relevant info
if new_value is string "NULL" and field has default value, remove element to use default value
prevent a signal race condition when child process have not set up it's own signal handler yet
start of TTTTT  Move the date backwards to the beginning of the current day, or month or year.
use now the lower branch of which we can be sure that it contains only branches lower than idx
we we're looking for a private prop but found a private one of the same name but another class
zip_discard: frees the space allocated to a zipfile struct, and closes the corresponding file.
"new"-style: setting - underscore, 4 chars of count, 4 chars of salt key - unlimited characters
"streamable kanji code filter and converter"  Copyright (c) 1998,1999,2000,2001 HappySize, Inc.
(4)  4 byte integer which is the number of pages to truncate the database to during a rollback.
2.0.12: Brush palette, image truecolor (thanks to Thorben Kundinger for pointing out the issue)
2.0.22: save the APP14 marker to check for Adobe Photoshop CMYK files with inverted components.
A  positive delta if the termless page contains at least one rowid,  or an 0x00 byte otherwise.
A PENDING lock is needed before acquiring a SHARED lock and before acquiring an EXCLUSIVE lock.
A checkpointer may have started to backfill the appended frames but crashed before it finished.
A non-NULL trace is a pointer to a function that is invoked at the start of each SQL statement.
A pointer to an instance of the following structure can be used as a unique file ID in VxWorks.
All individual term iterators in pNear are guaranteed to be valid when this function is called.
Alternatively, if isWrite is non-zero, use ftruncate() to allocate the requested memory region.
Amount of contiguous space which would be required to satisfy the maximum stack demand to date.
And because indices might  exist on the table t1, a complete scan of the data might be avoided.
Append a term and (optionally) doclist to the FTS segment node currently stored in blob *pNode.
At present, for an UPDATE, both the new.* and old.* records are collected in the rbu_xyz table.
Attempt to set the size of the memory mapping maintained by file  descriptor pFd to nNew bytes.
Branch instructions are expesive for all CPUs, so we avoid taken branches on the matching path.
Can't use CHECK_PARTIAL because we don't want to update eptr in the soft partial matching case.
Cells is not necessarily contiguous or in order, but cell pointers are contiguous and in order.
Check that all non-HIDDEN columns in the destination table are also present in the input table.
Clear MemPage.isInit to make sure the corruption detection code in btreeInitPage() is executed.
Convert a UTF-8 filename into whatever form the underlying operating system wants filenames in.
Cursors can move when the row they are pointing at is deleted out from under them, for example.
Data is obtained from the comments following the "case OP_xxxx:" statements in the vdbe.c file.
Direct rendering mode means take data directly from source tables rather than from accumulators
Do sbox lookups (which shrink it back to 32 bits) and do the pbox permutation at the same time.
During this transformation, the length of string P4 is computed and stored as the P1 parameter.
EVIDENCE-OF: R-28401-00140 Value is a string in the text encoding and (N-13)/2 bytes in length.
Each iteration of the for loop below generates code for a single nested loop of the VM program.
Each module implementation will define the content of a cursor structure to suit its own needs.
Each page can be either a btree page, a freelist page, an overflow page, or a pointer-map page.
Ends an MD4 message-digest operation, writing the the message digest and zeroizing the context.
Ends an MD5 message-digest operation, writing the the message digest and zeroizing the context.
Exactly when an expression is considered a column can be complex in the presence of subqueries.
Example:  WHERE x IN (1,2,3,4)  Write the estimated row count into *pnRow and return SQLITE_OK.
First, T bytes of data from the first SORTER_MAX_MERGE_COUNT PMAs on  disk are merged together.
Flush the current contents of VdbeSorter.list to a new PMA, possibly using a background thread.
For consistency (since sqlite3_step() was called), set the database error in this case as well.
From this, construct a list of files/directories that are "in" the directory represented by dir
Get low-level information about the file that we can used to create a unique name for the file.
I am also told that newer versions of GCC that follow a different ABI get the byte order right.
IMP: R-48699-48617 This function is an SQL wrapper around the sqlite3_libversion() C-interface.
IMPORTANT: On some systems it is required that RESBUF is correctly aligned for a 32 bits value.
If *pRc is other than SQLITE_OK when this function is called, it is a no-op (NULL is returned).
If OMIT_TRIGGER is defined but OMIT_FOREIGN_KEY is not, only some of the functions are no-oped.
If a new *-shm file is created, an attempt will be made to create it with the same permissions.
If an equivalent interface exists by a different name, using a separate -D option to rename it.
If an error occurs, pParse is populated with an error message and a non-zero value is returned.
If argument isClearTable is true, then the entire contents of the table is about to be deleted.
If due to NULLs we cannot determine if the LHS is contained in the RHS then jump to destIfNull.
If eStatementOp is non-zero, then a statement transaction needs to be committed or rolled back.
If it does match, we reset that variable to the current subject position and return MATCH_SKIP.
If it is not already open and the file exists on disk, open the  journal for read/write access.
If it is set, iterate through rowid in descending order instead of the default ascending order.
If no error occurs, SQLITE_OK is returned and the iterator is left  pointing to the next entry.
If noContent is true, then the data returned is zeroed instead of being read from the database.
If successful, return SQLITE_OK and write a pointer to the new Fts3MultiSegReader to *ppSegcsr.
If the WAL file is currently larger than nMax bytes in size, truncate it to exactly nMax bytes.
If the conditions above are not met, this function returns SQLITE_OK and sets (*ppVal) to NULL.
If the sqlite3GlobalConfig.bLocaltimeFault variable is true then this routine will always fail.
If the table cannot be found, an error code is returned and the output variables are undefined.
If the two statements contain a different number of bindings, then an SQLITE_ERROR is returned.
If then_trap is not NULL, this structure contains the real then_trap for the backtracking path.
If there is both a MATCH constraint and a direct rowid/docid lookup, prefer the MATCH strategy.
If this function is being called as part of an xConnect(), then the rtree table already exists.
If this is a view, then the only effect this statement has is to fire the INSTEAD OF  triggers.
If this is the case, then the pointer map needs to be updated for the subsequent overflow page.
If we are going to print something, we'll need to print a blank before we print something else.
If we previously set PCRE_NOTEMPTY_ATSTART after a null match, this is not necessarily the end.
If zMaster is a NULL pointer (occurs for a single database transaction),  this call is a no-op.
In this case all co-resident pages must have been written to the journal file before returning.
In this way the topmost value on the stack is always belong to the current backtrack code path.
It is the  responsibility of the caller to at some point free the buffer using  sqlite3_free().
It remains to check the validity of comments (2.) since it's referred to an "old" OS/2 version.
It returns a pointer to a static sqlite3_mem_methods struct populated with the memsys5 methods.
It should be possible to remove this when we no longer care about versions of clang before 3.8.
Must set non-NULL valid module data (void **mod_data) with SUCCESS, NULL(default) for FAILUREs.
MySQL gives us n + 1 result sets for CALL proc() and n result sets returned by the proc itself.
Normally sqlite3SelectExpand() will be called first and will have already expanded this SELECT.
Now we have nd0 digits, starting at s0, followed by a decimal point, followed by nd-nd0 digits.
OP_RECURSE items contain an offset from the start of the regex to the group that is referenced.
On Lion, the base moved a little, so while the math above still applies, the base is different.
Only routines in the source file sqliteVdbe.c are allowed to see the insides of this structure.
Opcode 5 is used to deliberately induce a fault in order to confirm that error detection works.
Or, if the IncrMerger is single threaded, the same function is called using the current thread.
Or, if the page size has already been fixed, return SQLITE_READONLY  without changing anything.
Otherwise, if an OOM occurs within this function, *pRc is set to SQLITE_NOMEM before returning.
Otherwise, if nByte is less than zero, then the requested size is the size of the file on disk.
Otherwise, use the ON CONFLICT policy that was specified as part of the trigger step statement.
PHP_GDIMG_TYPE_GIF PHP_GDIMG_TYPE_PNG PHP_GDIMG_TYPE_JPG PHP_GDIMG_TYPE_WBM PHP_GDIMG_TYPE_WEBP
Parameter zName is the name of a table that is about to be altered (either with ALTER TABLE ...
Posix Advisory Locking ****************************  POSIX advisory locks are broken by design.
Read the last entry (most recently pushed) from the hint blob *pHint and then remove the entry.
Regardless of the value of createFlag, the cache is searched for a  copy of the requested page.
Return non-zero if the expression is constant and 0 if it involves variables or function calls.
Return non-zero if the expression is constant for any single row of the table with cursor iCur.
Return the type affinity that should be applied to both operands prior to doing the comparison.
Return true if the BtShared.nRef counter reaches zero and return false if it is still positive.
Returning SQLITE_BUSY would confuse the upper layer (in practice it causes  an assert to fail).
Returns SQLITE_OK if the statement is successfully executed, or an SQLite error code otherwise.
See comments in the source code for a detailed description of what each interface routine does.
Semaphore locking is like dot-lock and flock in that it really only supports EXCLUSIVE locking.
Set *pSize to the size of the buffer needed to hold the value of the key for the current entry.
Set the database size back to the value it was before the savepoint  being reverted was opened.
Set the value of register P1 to the maximum of  its current value and the value in register P2.
Since balance() may move the cursor, zero the BtCursor.info.nSize and BTCF_ValidNKey variables.
So we define our own static constants here using nothing larger than a 32-bit integer constant.
So, we always use fdatasync() if it is available, regardless of the value of the dataOnly flag.
Store BEGIN_SILENCE/END_SILENCE pair to restore previous EG(error_reporting) value on exception
Subject to rules (11), (13) and (14), they may also contain ORDER BY, LIMIT and OFFSET clauses.
Technically, we only need to set the mayAbort flag if the isMultiWrite flag was previously set.
The "from" table is the table that contains the REFERENCES clause that creates the foreign key.
The "op" member indicates whether this is a "DELETE", "INSERT", "UPDATE" or "SELECT" statement.
The SQLite core calls this routine to retrieve the rowid for the current row of the result set.
The caller is responsible for eventually calling sqlite3_free() to free the array in this case.
The cell from the leaf node needs to be moved to the internal node to replace the deleted cell.
The current term of the first nMerge entries in the array of Fts3SegReader objects is the same.
The default is SQLITE_DEFAULT_FILE_PERMISSIONS (normally 0644) as modified by the system umask.
The first three must be alpha, lower, upper, as this is assumed for handling case independence.
The following assert statements check that the binary search code above found the right answer.
The function overwrites the appropriate opcode values, so the type of the pointer must be cast.
The most recently coded instruction was an OP_Column to retrieve the i-th column of table pTab.
The next database user will have to do hot-journal rollback before accessing the database file.
The pBt is no longer on the sharing list, so we can access it without having to hold the mutex.
The pending byte page is set assign for use by the VFS layers as space for managing file locks.
The record-size field is a 2 byte varint and the record  fits entirely on the main b-tree page.
The sqlite3_get_table() routine does not have access to any internal data structures of SQLite.
The sqlite3_mutex_leave() routine exits a mutex that was previously entered by the same thread.
The use of _msize() is automatic, but can be disabled by compiling with -DSQLITE_WITHOUT_MSIZE.
The value of fc at this point is always one character, though we may or may not be in UTF mode.
The winUnlock() routine erases all locks at once and returns us immediately to locking level 0.
Then try again to satisfy the allocation by carving a piece off of the end of the master chunk.
These brackets are converted to repeats, so no global based single character repeat is allowed.
These notices must be retained in any copies of any part of this documentation and/or software.
This allows subsequent processes to automatically resume the RBU update from where it left off.
This file contains pre-processor directives related to operating system detection and/or setup.
This function allocates and returns a KeyInfo structure suitable for implementing the ORDER BY.
This function determines if the machine is running a version of Windows based on the NT kernel.
This function implements the sqlite3_create_module() and sqlite3_create_module_v2() interfaces.
This function is called while stepping or preparing a statement  associated with connection db.
This function is invoked by the parser to call the xConnect() method of the virtual table pTab.
This is a freestanding support program to generate a file containing character tables for PCRE.
This is used for  debugging FTS only, it should not usually be turned on in production systems.
This is used for "external content" tables when a NULL value is inserted into the rowid column.
This little function scans through a compiled pattern until it finds an instance of OP_RECURSE.
This makes it possible to do the repeats one at a time from the outer level, thus saving stack.
This module contains some fixed tables that are used by more than one of the PCRE code modules.
This module contains the external function pcre_study(), along with local supporting functions.
This undoes the effect of the HintPop() above - so that no entry is removed from the hint blob.
Thus, state merging (from LALR or IELR) and default reductions corrupt the expected token list.
To avoid stomping the errno value on a failed read the lastErrno value is set before returning.
To maintain a certain BC, we allow anything for the second parameter and return original string
True if heap is nearly "full" where "full" is defined by the sqlite3_soft_heap_limit() setting.
Unless the database is sharable and unlocked, then BtShared.db should already be set correctly.
We do it this way to save on using another stack variable, as stack usage is to be discouraged.
We need to check for finiteness, because INF, -INF and NAN must not have a decimal point added.
When a block is freed, the new free block is connected to its adjacent free blocks if possible.
When using the new, both implicity and explicit AND operators have a higher precedence than OR.
When we reach the first optional character position, we can save stack by doing a tail recurse.
Will be freed in the mysqlnd_internal_free_result_contents() called by the resource destructor.
Y is the number of rows for which column iCol contains at least one instance of phrase iPhrase.
and the Swift project authors Licensed under Apache License v2.0 with Runtime Library Exception
apptype() uses the filename if given, otherwise a tmp file is created with the contents of buf.
clear_history is the only function where rl_initialize is not call to ensure correct allocation
construct actual offset to file start - local extra_len can be different from central extra_len
follow branch according to bits in idx until the last lower branch before the impossible branch
iRowidOffset/nRowidOffset/aRowidOffset: These are used if the FTS5_SEGITER_REVERSE flag is set.
iSrcLine is the source code line (from the __LINE__ macro) that generated the VDBE instruction.
look ahead for the line break chars to make a right decision how to consume incoming characters
only set script_file if not set already and not in direct mode and not at end of parameter list
parameters  : 'queue' pointer  returns     : True_ if IsEmpty queue, else False_  comments    :
parameters  : queue pointer  returns     : pointer to data element or NULL if queue is IsEmpty.
setjmp() must be called in every non-callback function that calls a PNG-reading libpng function
the head check is important, as the tick handler cannot atomically clear both the head and tail
this function is recursive, thus the value and all of its children (if any) will be duplicated.
use builtin print for GEN_OTHERNAME, GEN_X400, GEN_EDIPARTY, GEN_DIRNAME, GEN_IPADD and GEN_RID
we couldn't create the proxy lock file with the old lock file path so try again via auto-naming
zMaster may be NULL, which is interpreted as no master journal (a single database transaction).
(11) A database file is well-formed at the beginning and at the conclusion of every transaction.
2) By function vtabDisconnectAll(), when it adds a VTable entry to the sqlite3.pDisconnect list.
A 3-byte varint is sufficient, for example, to record the size of a 1048569-byte BLOB or string.
A block of WALINDEX_LOCK_RESERVED bytes beginning at WALINDEX_LOCK_OFFSET is reserved for locks.
A shallow copy of a string or blob just copies a pointer to the string or blob, not the content.
A single  call to xUnpin() unpins the page regardless of the number of prior calls  to xFetch().
A virtual root page is when the real root page is page 1 and we are the only child of that page.
A write-transaction is started if the second argument is nonzero, otherwise a read- transaction.
All of this would be completely automatic if SQLite were coded using C++ instead of plain old C.
Alternately, it could walk the entire vector, but that could be quite slow for very large lists.
An instance of this structure is used to store the LIKE, GLOB, NOT LIKE, and NOT GLOB operators.
Argument ppHead contains a pointer to the current head of a query  expression tree being parsed.
Assign a variable number to an expression that encodes a wildcard in the original SQL statement.
Both will  be NULL for a primary key or an index that is created to satisfy a UNIQUE constraint.
But OP_Column is measurably faster by skipping the subsequent conditional, which is always true.
But the application does not want the user to be able to make arbitrary changes to the database.
By default, the default C locale is used rather than what the building user happens to have set.
Call this routine when the database connection is closing in order to clean up loaded extensions
Check if the user is trying to define the internal pseudo constant name __COMPILER_HALT_OFFSET__
Check the RTree node or entry given by pCellData and p against the MATCH constraint pConstraint.
Code for the non-UTF-8 case for minimum matching of operators other than OP_PROP and OP_NOTPROP.
Compute the iLimit and iOffset fields of the SELECT based on the pLimit and pOffset expressions.
Control jumps to here if an error is encountered above, or upon successful coding of the SELECT.
Convert a sorted list of elements (connected by pRight) into a binary tree with depth of iDepth.
Copy all the necessary stuff from shared memory to regular memory, and protect the shared script
Create a new JsonNode instance based on the arguments and append that instance to the JsonParse.
Create an RBU VFS named zName that accesses the underlying file-system via existing VFS zParent.
Deferred constraints are implemented using a simple counter associated with the database handle.
Do allow the journalmode of an in-memory database to be set to anything other than MEMORY or OFF
Don't bother on windows with php_stream_open_wrapper, return to give apprentice_load() a chance.
Each entry consists of a single 8-byte integer followed by an even number of 4-byte coordinates.
Ends an SHA1 message-digest operation, writing the the message digest and zeroizing the context.
Even reading previously freed memory might result in a segmentation fault or other severe error.
Except, do not close cursors that will be reused by the OR optimization (WHERE_OMIT_OPEN_CLOSE).
Expr.iColumn is set to the column of the pseudo-table to read, or to -1 to read the rowid field.
Extension loading is disabled by default so as not to open security holes in older applications.
For best performance, an attempt is made to guess at the byte-order using C-preprocessor macros.
INPUTS XMLRPC_VALUE of type xmlrpc_vector RESULT Next XMLRPC_VALUE in vector, or NULL if at end.
If P5 is not zero, the check is done on the auxiliary database file, not the main database file.
If SQLITE_OMIT_FLOATING_POINT is defined, then none of the floating point conversions will work.
If a ReadFile() or WriteFile() error occurs, invoke this routine to see if it should be retried.
If an error occurs, an SQLite error code is returned and an error message may be left in *pzErr.
If an expression contains aggregate functions then the EP_Agg property on the expression is set.
If ket is not OP_KETRMAX, this code path is executed after the jump to alternative_matchingpath.
If no error occurs, SQLITE_OK is returned and the iterator is left  pointing to the first entry.
If non-zero is returned, the caller should call fts5MultiIterAdvanced() on the iterator instead.
If result is mismatch and no FIND_NOT_EMPTY option, then the region is not setted in match_at().
If running in non-exclusive rollback mode, the lock on the file is  downgraded to a SHARED_LOCK.
If successful, or if called on a pager for which it is a no-op, this function returns SQLITE_OK.
If that is the case, this routine might think there is a hot journal when in fact there is none.
If the SQL is a query, then for each row in the query result the xCallback() function is called.
If the YYNOERRORRECOVERY macro is defined, then do not attempt to do any kind of error recovery.
If the default value for the new column was specified with a  literal NULL, then set pDflt to 0.
If the event is method entry/exit, check that in the current mode VTune is allowed to receive it
If the file is a JournalFile, and the underlying file on disk has not yet been opened, return 0.
If the page is clean and the reference count drops to 0, then it is made eligible for recycling.
If the parent key is an INTEGER PRIMARY  KEY column, then output variable *ppIdx is set to NULL.
If the payload is larger than the preset amount then surplus bytes are stored on overflow pages.
If the reallocation fails, then free p and set the mallocFailed flag in the database connection.
If the size of the value in blob pPrev is zero, then this is the first term written to the node.
If there are no more deletegated values, resume the generator after the "yield from" expression.
If this allocation attempt  fails, SQLITE_NOMEM is returned and the page size remains unchanged.
If this is to be the first rowid written to the page, set the  rowid-pointer in the page-header.
If we didn't do anything on the last loop (or an error) check to see if we should retry or exit.
If writing out a page causes the database file to grow, Pager.dbFileSize is updated accordingly.
If you declare any globals in php_extname.h uncomment this: ZEND_DECLARE_MODULE_GLOBALS(extname)
If you specify textaddr, a text-printable version of the address will be emalloc'd and returned.
In case of IS_LONG we do nothing, it is ok, in case of string, we just need to set current_type.
In order to be able to rollback, an in-memory database must journal the page we are moving from.
Increment the nRef value on all name contexts from TopNC up to the point where the name matched.
Initialize the state of the random number generator once, the first time this routine is called.
It is the responsibility of the caller to eventually free any  such buffer using sqlite3_free().
Its job is to fill in the TabResult structure appropriately, allocating new memory as necessary.
Larger allocations are an array of these structures where the size of the array is a power of 2.
Looks up a phar archive in the filename map, connecting it to the alias (if any) or returns null
Make copies of relevant WHERE clause terms of the outer query into the WHERE clause of subquery.
NB: zFilename exists and remains valid until the file is closed according to requirement F11141.
Nelson Computer Science Department, 9062 Western Washington University Bellingham, WA 98226-9062
Note in particular that we must go ahead and allocate the record number for the table entry now.
Note that the order of the first four values is in order of precedence when parsing expressions.
Note that there are substantial restrictions on the use of suspension --- see the documentation.
Only indices entries of less than 2GiB are support - anything large must be database corruption.
Only the value 1 matters for class_one_char, so don't increase it if it is already 2 or more ...
Oops:  The first two arguments of sqlite3_snprintf() are backwards from the snprintf() standard.
Opcode: VOpen P1 * * P4 *  P4 is a pointer to a virtual table object, an sqlite3_vtab structure.
Open a new iterator to iterate though all rowid that match the  specified token or token prefix.
Or, if an OOM is encountered, SQLITE_NOMEM is returned (and the output variables are undefined).
Otherwise, if nByte is less than zero, then the  requested size is the size of the file on disk.
Override stream opener function (to eliminate open() call caused by include/require statements )
Overwrite freed memory with the 0x55 bit pattern to verify that it is not used after being freed
PS_WRITE_FUNC() or PS_UPDATE_TIMESTAMP()  - Write session data or update session data timestamp.
Quantities of days, hours, minutes, and seconds can be specified without explicit unit markings.
Refer to the stacks through separate pointers, to allow yyoverflow to reallocate them elsewhere.
Register the query expression parser test function fts3_exprtest()  with database connection db.
Repeat  until the busy callback returns false or until the attempt to  obtain the lock succeeds.
Repeating a DEFINE group is pointless, but Perl allows the syntax, so we just ignore the repeat.
Restore handler in case of error on Windows Not sure if this applicable on Win but just in case.
Return NULL if zName is the last system call or if zName is not the name of a valid system call.
Return the number of bytes allocated for the expression structure  passed as the first argument.
Return the size of the prefix, in bytes, that buffer (nNew/pNew) shares with buffer (nOld/pOld).
Returns PS_TITLE_SUCCESS if the OS supports this functionality and the init function was called.
SRT_Coroutine   Generate a co-routine that returns a new row of results each time it is invoked.
Scan a parenthesized group and compute the minimum length of subject that is needed to match it.
Set *ppModule to a pointer to the sqlite3_tokenizer_module  structure for the unicode tokenizer.
Set the first entry (number of rows in the index) to the estimated  number of rows in the table.
Set the variable isMemdb to true for an in-memory database, or  false for a file-based database.
Should revisit this if / when we switch to compiling with an optimization level higher than -O0.
Spilling is also prohibited when in an error state since that could lead to database corruption.
Start at the beginning of the input hash and copy entries to output hash until offset is reached
Start with the length of the BRA and KET and any extra bytes that are required at the beginning.
Store a private linked list of flexible children so that we can efficiently traverse them later.
Stored immediately after the three collation sequences is a copy of the collation sequence name.
Test for verifying that the Go runtime properly forwards signals when non-Go signals are raised.
The application should resume decompression after it has loaded more data into the input buffer.
The argument is the first in a linked list of dirty pages connected by the PgHdr.pDirty pointer.
The array cannot be constant since changes are made to the FuncDef.pHash elements at start-time.
The assumption is that large doclists represent terms which are more likely to be query targets.
The calling routine is responsible for making sure that the pMem object is eventually destroyed.
The content of a cell looks like this:  SIZE    DESCRIPTION 4     Page number of the left child.
The count is already in characters, but we need to skip over a multibyte character in UTF8 mode.
The deQuote parameter is ignored if pToken is NULL or if the token does not appear to be quoted.
The exception is when the database file is unlocked as the pager moves from ERROR to OPEN state.
The following array of hash tables is used to buffer pending index  updates during transactions.
The frame-header is six big-endian 32-bit unsigned  integer values, as follows:  0: Page number.
The fts5yyzerominor constant is used to initialize instances of fts5YYMINORTYPE objects to zero.
The inFlags parameter must contain exactly one of the bits IN_INDEX_MEMBERSHIP or IN_INDEX_LOOP.
The mutex entered using the unixEnterMutex() function must be held when this function is called.
The next group of routines implement the I/O methods specified by the sqlite3_io_methods object.
The number of different kinds of things that can be limited using the sqlite3_limit() interface.
The page number identifies the page that contains the cell with a pointer to this overflow page.
The response to an error depends upon whether or not the grammar defines an error token "ERROR".
The return of an error code from PRIV(valid_utf)() is a new feature, introduced in release 8.13.
The rowid and root page number values are needed by the code that sqlite3EndTable will generate.
The second argument, "zSql", is the statement to be compiled, encoded as either UTF-8 or UTF-16.
The size of the object (given by the 3rd parameter) is never used and can be any positive value.
The stack segment linkage control information occurs at the high-address end of a stack segment.
The two older interfaces are retained for backwards compatibility, but their use is discouraged.
The variable iDb is set to the index of the database that the table or view is to be created in.
The xRandomness() function attempts to return nBytes bytes of good-quality randomness into zOut.
Then call this function recursively to write the parent of  pTree and its peers to the database.
There are nField slots for the columns of an index then one extra slot for the rowid at the end.
There can be an error in the middle of a multi-statement, which will cancel the multi-statement.
This block copies pointers to the default implementation into the sqlite3GlobalConfig structure.
This call may return SQLITE_ABORT if there has been a savepoint rollback since it was last used.
This enables assert() statements to prove things that are always true for well-formed databases.
This facility is designed to permit INSERT, UPDATE, and DELETE operations against SQLITE_MASTER.
This file contains a no-op memory allocation drivers for use when SQLITE_ZERO_MALLOC is defined.
This function is used to copy the contents of the b-tree node stored  on page pFrom to page pTo.
This is compatible with PQescapeLiteral, but it cannot handle multbyte chars such as SJIS, BIG5.
This is not a performance issue because it happens only when there has been a compilation error.
This is used to speed up seek operations, and merges of large doclists with very small doclists.
This opcode really does match any byte, even newline, independent of the setting of PCRE_DOTALL.
This routine also returns FALSE if there is no chance that the xfer optimization can be applied.
This routine does a case-independent search of zType for the  substrings in the following table.
This routine must be called from the same thread in which the aggregate SQL function is running.
This routine returns NULL if the page is not in cache or if a disk I/O error  has ever happened.
Thus, we determine the type by iterating through the entire array and figuring out each element.
To avoid stomping the errno value on a failed write the lastErrno value is set before returning.
To run the tests, evaluate the fts3_tokenizer_internal_test() scalar function with no arguments.
Try to convert the type of a function argument or a result column into a numeric representation.
Variables above this point are populated when the expression is parsed (by code in fts3_expr.c).
Verify that all AggInfo registers are within the range specified by AggInfo.mnReg..AggInfo.mxReg
Want to return HTTP 500 but apache wants to over write our fault code with their own handling...
We don't need to repeat the search if we haven't yet reached the place we found it at last time.
We have no native chgrp on Windows, nothing left to do if stream doesn't have own implementation
We have no native chown on Windows, nothing left to do if stream doesn't have own implementation
We need a dummy sqlite3Apis pointer for that code if regular extension loading is not available.
When called, *ppPoslist must point to the byte immediately following the end of a position-list.
When there are no IN operators in the constraints, the "addrNxt" label is the same as "addrBrk".
Whether or not paBlob is NULL, *pnBlob is set to the size of the blob in bytes before returning.
With BTREE_INTKEY, the table key is a 64-bit integer and arbitrary data is stored in the leaves.
assuming no autoloader call is necessary, class should have been loaded if it's in backtrace ...
bin - is one or few continuous pages (up to 8) used for allocation of a particular "small size".
duplicate the FROM clause as it is needed by both the DELETE/UPDATE tree and the SELECT subtree.
extra fields in the "structure record" record the state of ongoing incremental merge operations.
flag_longlong               TRUE if the letter 'll' (ell ell) prefixed the conversion character.
for "big boy" drivers, we need to allocate memory to fetch the results into, so lets do that now
fts5WriteInit() should have initialized the buffers to (most likely) the maximum space required.
iTermLeafPgno, iTermLeafOffset: Leaf page number containing the last term read from the segment.
process data in chunks of 8 bits (a more efficient approach would be to take whole-word chunks):
since zend_llist_del_element only remove one matched item once, we should remove them by ourself
soap_call_function_handler should be of type struct _zend_function, not (*handle_function_call).
sqlite3_config() shall return SQLITE_MISUSE if it is invoked while the SQLite library is in use.
sqlite3_tokenizer_cursor is generated by a tokenizer to generate tokens from a particular input.
this could be problematic - alias should never be different from manifest alias for cached phars
update our pointer in the original UTF-8 buffer by as many characters as ubrk_next iterated over
we want to create a copy of this zval that we store in the multihandle structure element "easyh"
xColumnText: This function attempts to retrieve the text of column iCol of the current document.
(OSX only)  Styles 4, 5, and 7 are only available of SQLITE_ENABLE_LOCKING_STYLE is defined to 1.
(SCHW is handled in S) S if -CI-, -CE- or -CY- dropped if -SCI-, SCE-, -SCY- (handed in S) else K
(b) The index is unique Any WhereLoop with an WHERE_COLUMN_EQ constraint on the rowid is one-row.
2002-Feb-14: This routine is extended to remove MS-Access style brackets from around identifiers.
A journal header (JOURNAL_HDR_SZ bytes) is written into the journal file at the current location.
A smaller version of VdbeOp used for the VdbeAddOpList() function because it takes up less space.
Adjust its  size parameters for check-out and return a pointer to the  user portion of the chunk.
Advance the SegReader to point to the next docid in the doclist associated with the current term.
All recursions were so wrapped in the past, but it no longer happens for non-repeated recursions.
Allowed values for the eMode parameter to vdbeMergeEngineInit() and vdbePmaReaderIncrMergeInit().
Also, the file may not have been opened yet, in which case the OsSectorSize() call will segfault.
An ORed combination of these flags appear as the first byte of on-disk image of every BTree page.
An assertion fault will occur if a file is updated without also updating the transaction counter.
And, if currently processing a CTE expression, if it is a recursive reference to the current CTE.
Any OP_Column operations that occur while the cursor is on the null row will always write a NULL.
Anything that is required as part of a commit that may fail is performed in the xSync() callback.
Append term pTerm/nTerm to the segment being written by the writer passed as the second argument.
Arguments pLeft and pRight point to linked-lists of hash-entry objects, each sorted in key order.
As the integrity-check proceeds, for each page used in the database the corresponding bit is set.
But it does destroy memory structures of the indices and foreign keys associated with  the table.
But we keep a reference count in Btree.wantToLock so the behavior of this interface is recursive.
Cached information about the header for the data record that the cursor is currently pointing to.
Compute adj so that the IEEE rounding rules will correctly round rv + adj in some half-way cases.
Copy the characters in the file (up to the next newline) into line and advance s to the next line
Determine if socket is using a protocol with one of the default registered socket stream wrappers
Each entry in the following array defines a rule for folding a range of codepoints to lower case.
Find the perpendicular distance from point C (px, py) to the line segment AB that is being drawn.
Fix the database pointer on page iPtrPage that pointed at iDbPage so that it points at iFreePage.
Fold it into the output buffer if it is a token character, or break out of the loop if it is not.
For 11 and above, the session pool has its own mechanism for doing so for purity NEW connections.
For each length, check that the remaining bytes start with the 0x80 bit set and not the 0x40 bit.
For image rotations, the optimized versions have a lazy antialiasing for the edges of the images.
For now, we impose an arbitrary limit to avoid runaway swapping when large files are passed thru.
For the target the exact string given by the user must be used, relative or not, existing or not.
Handle non-ONCE brackets and possessive ONCEs (which have been converted to non-capturing above).
However, that leads to a large number of relocations when a shared library is dynamically loaded.
I suppose I could have been using a character pointer instead of accesssing the array directly...
IGNORE means that the particular row that caused the constraint error is not inserted or updated.
IMP: R-52756-41993 This function is a wrapper around the sqlite3_total_changes() C/C++ interface.
IN_INDEX_EPH        - The cursor was opened on a specially created and populated epheremal table.
If P4 is not NULL, it points to a KeyInfo structure that defines the format of keys in the index.
If P5 has the OPFLAG_NCHANGE bit set, then the change counter is incremented by this instruction.
If an IO error occurs, an SQLite error code is  returned and the value of *pMode is not modified.
If an exception was thrown in the generator we have to internally rethrow it in the parent scope.
If each indexed column corresponds to a foreign key column of pFKey, then this index is a winner.
If either P1 or P2 is nonzero (true) then the result is 1 (true) even if the other input is NULL.
If expensive assert() statements are available, do a linear search of the wal-index file content.
If no error has occurred so far, check if the "number of entries" field on the node is too large.
If no newline options were set, find the default newline convention from the build configuration.
If not, add the current row to the index and proceed with writing it to the output table as well.
If such a database cannot be found, return a NULL pointer and write an error message to pErrorDb.
If the expression is "x NEAR y", it is  advanced to point to the next row that matches "x AND y".
If the generator has been closed, it can only hold on to three values: The value, key and retval.
If the lock is obtained successfully, set the Pager.state  variable to locktype before returning.
If the options ended with ':' we are heading into a nested group with possible change of options.
If the table already has a primary key (and this is the second primary key) then create an error.
If there is no chance that the (...) contains a NULL value, then *prRhsHasNull is left unchanged.
If this constraint cannot be satisfied by any child within the node, set *peWithin to NOT_WITHIN.
If this integer is non-zero, then it is the root page number of a table moved to location iTable.
If this is a release of the outermost savepoint, truncate  the sub-journal to zero bytes in size.
If we hit the duplicate rowid constraint (or any other error) while doing so, return immediately.
If zKey is NULL, then this foreign key is implicitly mapped to  the PRIMARY KEY of table pParent.
In SQLite, we never try to destroy a parser that was not successfully created in the first place.
In general, writeOnly is false if the transaction being rolled back modified the database schema.
In such cases the, mutex must be exited an equal number of times before another thread can enter.
In the early years, the beginning of the year varied, sometimes based on the ascension of rulers.
In this case Expr.iTable is set to 1 for the new.* pseudo-table, or 0 for the old.* pseudo-table.
In this case the locking-mode must be set on all attached databases, as well as the main db file.
In this case, we do what Perl does: advance the matching position by one character, and continue.
Invalidate the overflow page-list cache for all cursors opened on the shared btree structure pBt.
Invoking Api.xUserData() returns a copy of the pointer passed as the third argument to pUserData.
It is allocated by compile_matchingpath, and contains the arguments for compile_backtrackingpath.
It is the  responsibility of the caller to eventually call sqlite3_free() to release this buffer.
Long-term TODO list: - Fix the expat library so you can install your own memory manager functions
Make this fake index the first in a chain of Index objects with all of the real indices to follow
Memory used to cache database pages to improve performance is an example of non-essential memory.
Move the pager to the error  state to indicate that the contents of the cache may not be trusted.
Neither are quick, thus the clients of this function are obligated to do what they are asked for.
Not going to worry about Path: because we shouldn't be changing urls so path dont matter too much
Note: We pass in the pointer to the server_context in case this is handled by a different thread.
Now we know that no cell in the update box is more than minmaxdist away from some colormap entry.
Numeric pack types will return numbers, a and A will return strings, f and d will return doubles.
Obtain the file timestamps, *before* actually compiling them, otherwise we have a race-condition.
On recent Windows platforms, the localtime_s() function is available as part of the "Secure CRT".
Once a journal  file has been finalized it is not possible to use it to roll back a  transaction.
Only screw with the buffer if we can seek, otherwise we lose data buffered from fifos and sockets
Open a new iterator to iterate though all rowids that match the  specified token or token prefix.
Originally, PCRE did not allow repetition of assertions, but now it does, for Perl compatibility.
Otherwise, an error code (perhaps SQLITE_IOERR_FSTAT) is returned and *pnPage is left unmodified.
P3 is a flag that provides a hint to the b-tree layer that this insert is likely to be an append.
Parameter tr_tm must be a mask with one or both of the TRIGGER_BEFORE and TRIGGER_AFTER bits set.
Passing zero or a negative value as the nFrame parameter disables automatic checkpoints entirely.
Print its message, with a blank before it if the previous item printed and this item isn't empty.
RECURSION IN THE match() FUNCTION Undefine all the macros that were defined above to handle this.
Registers P3+2..P3+1+argc are the argc additional parameters which are passed to xFilter as argv.
Reset flag as XML_SAX2_MAGIC is needed for xmlCreatePushParserCtxt so must be set in the handlers
Return  SQLITE_OK if successful, or an SQLite error code (i.e. SQLITE_NOMEM) if  an error occurs.
Return a pointer to an sqlite3_value structure containing the value bound parameter iVar of VM v.
Returns a struct zip_cdir which contains the central directory  entries, or NULL if unsuccessful.
Returns the peer address in addr/addrlen (it will emalloc these, so be sure to efree the result).
SQLite value pRowid contains the rowid of a row that may or may not be present in the FTS3 table.
Scan a branch and compute the fixed length of subject that will match it, if the length is fixed.
Semaphore 2 (SYSVSEM_SETVAL) serializes the calls to GETVAL SYSVSEM_USAGE and SETVAL SYSVSEM_SEM.
So at this point the data is stored in some number of sorted PMAs within temporary files on disk.
The "stat2" table contains additional information about the distribution of keys within an index.
The UPDATE  statement ensures that the remaining segments have contiguously allocated idx values.
The argument is an Fts3Expr structure for a binary operator (any type except an FTSQUERY_PHRASE).
The complication here is that the destination page size may be different to the source page size.
The ephemeral database might be exclusively in memory, or it might use a disk-based memory cache.
The error_code is cleared, otherwise the caller will read the last error message from the driver.
The expression object indicated by the second argument is guaranteed to be a scalar SQL function.
The first time unixSync() is called the directory file descriptor will be fsync()ed and close()d.
The following example shows how the code generated for a capturing bracket with two alternatives.
The following parameters determine how many adjacent pages get involved in a balancing operation.
The imposter table has the  same schema as the actual target table (less any UNIQUE constraints).
The mapping from character to affinity is given by the SQLITE_AFF_ macros defined in sqliteInt.h.
The next two rules are only for extended grapheme clusters (but that's what we are implementing).
The only special case when we should return -1 ourselves, because inet_addr() considers it wrong.
The optional parameter allows the user to determine the new filename extension (default is phar).
The overlying software layer calls this routine when all of the data on the given page is unused.
The record number is not previously used as a key in the database table that cursor P1 points to.
The remainder of the text passed to the MATCH operator are used as  the special query parameters.
The secondary change counter at 92 is also updated, as is the SQLite version number at offset 96.
The select statement passed as the second parameter is a compound SELECT with an ORDER BY clause.
The server sends 0 but libmysql doesn't read it and has established a protocol of giving back -1.
The value returned from the function is used to determine if the event handler should remain set.
The xShmLock method can transition between unlocked and SHARED or between unlocked and EXCLUSIVE.
There are suggestions that it was to skip a leap year ever 100 years like the Gregorian calendar.
There is no way to know the size of buffer snprint_value() needs in order to print a value there.
These days, synchronous is always on by default regardless of the sign of the default cache size.
These should be initialized by php_rshutdown_session_globals() always when execution is finished.
This block serves to assert() that the cursor really does point  to the last entry in the b-tree.
This check ensures that an EP_TokenOnly expression is never passed down into valueFromFunction().
This file contains inline asm code for retrieving "high-performance" counters for x86 class CPUs.
This function is called by unixOpen() to determine the unix permissions to create new files with.
This function merges the two lists into a single list and returns a pointer to its first element.
This function moves *pp to point to the start of that varint, and sets *pVal by the varint value.
This function sets the data directory or the temporary directory based on the provided arguments.
This function should be called by the user when the process ends, to free the local storage index
This is because some of the "globals" in this module should actually be per-connection variables.
This is correct for typical "arithmetic shift" instructions that shift in copies of the sign bit.
This is the maximum amount of data (in bytes) to store in the  Fts3Table.pendingTerms hash table.
This is the obsolete pcache_methods object that has now been replaced by sqlite3_pcache_methods2.
This is used during testing to verify that this procedure gets called with the correct arguments.
This object is deleted automatically by the destructor mechanism in sqlite3_create_function_v2().
This piece of code has been inspirated from nginx and pureftpd code, which are under BSD licence.
This prevents a call to sqlite3_interrupt from interrupting a statement that has not yet started.
This routine checks for a byte-order mark at the beginning of the  UTF-16 string stored in *pMem.
This routine runs at the end of parsing a CREATE TABLE statement that has a WITHOUT ROWID clause.
This should be done even for local variables, as they might otherwise be expanded by user macros.
Try to convert a value into a numeric representation if we can do so without loss of information.
Update the assumed sector-size to match the value used by  the process that created this journal.
Use of this source code is governed by a BSD-style license that can be found in the LICENSE file.
Variable tname now contains the token that is the old table-name in the CREATE TRIGGER statement.
We ended up on Saturday, but there's still work to do, so move to Sunday and continue from there.
XXX this is a complete mess here with FILE/fd/SOCKET, we should let only one to survive probably.
XXX this will fail again if encoding_converter returns on error something different than SIZE_MAX
convert the array to lowercase , also replace hyphens with the underscore and store it in cur_arr
do not output the error message to the screen, this helps us to to avoid "information disclosure"
find the phar in our trusty global hash indexed by alias (host of phar://blah.phar/file.whatever)
i.e. if there are no active savepoints and no other statement-transactions open, iStatement is 1.
i.e. when the *pp1 token appears before the *pp2 token, but not more than nToken slots before it.
idxNum is 1 if the constraint is found, 3 if the constraint and zRoot are found, and 0 otherwise.
if non-null, this is the path to a temporary file that is to be deleted when the stream is closed
in: a NULL terminated string like "abc,def,ghi"  returns: an emalloced buffer or NULL on failure.
just in case pstr points in the middle of a character, move forward to the start of the next char
make a new tweenColorCache on every call because caching colormappings between calls is not safe.
note that changes here should be reflected in main/streams/streams.c::php_stream_fill_read_buffer
note we assume that fill_input_buffer will never return FALSE, so suspension need not be handled.
on arrays: if recursive, add new elements drop destructed zval watchpoints which were not updated
pCurrent gets an accurate estimate of the amount of memory used to store all prepared statements.
preround the result (tmp_value will always be something * 1e14, thus never larger than 1e15 here)
save_hwm_offset   the hwm forward reference offset at the start of the group Returns:     nothing
some broken servers do not have script_filename or argv0 an example, IIS configured in some ways.
sqlite3SelectPrep() will invoke both sqlite3SelectExpand() and this routine in the correct order.
sqlite3VbeCursorRestore() can only fail if the record has been deleted out from under the cursor.
sqlite_stat3 and sqlite_stat4 are only opened when appropriate compile-time options are provided.
the svc api seems to get confused after an error has occurred, so invalidate the handle on errors
there is no guarantee that this ITypeInfo instance has any relation to this IDispatch instance...
this complies with system.listMethods as defined at http://xmlrpc.usefulinc.com/doc/reserved.html
todo: really, it's not clear why this might occur, as  wal_autocheckpoint ought to be turned off.
xRowCount(pFts5, pnRow)  This function is used to retrieve the total number of rows in the table.
2.0.10: before the drawing routines, some code to clip points that are outside the drawing window.
A column-list is terminated by either a 0x01 or 0x00 byte that is not part of a multi-byte varint.
A failure to match might occur after the group has succeeded, if something later on doesn't match.
A frame-header is made up of a series of  4-byte big-endian integers, as follows:  0: Page number.
Adjust pTemplate cost upward so that it is costlier than p since pTemplate is a proper subset of p
All of the static variables used by this module are collected into a single structure named "mem".
All parameters can be the same matrix (safe to call using the same array for all three arguments).
All the parser does is build the internal data structures that describe the table, index, or view.
Apache will generate REDIRECT_STATUS, Netscape and redirect.so will generate HTTP_REDIRECT_STATUS.
Argument p points to a buffer containing a varint to be interpreted as a position list size field.
Argument zWhere may be a pointer to a buffer containing a table name, or it may be a NULL pointer.
Based on the public domain algorithm found at http://www.isthe.com/chongo/tech/comp/fnv/index.html
Because the parser constructs pTblName from a single identifier, sqlite3FixSrcList can never fail.
But if there was previously a read-lock, do not invoke the busy handler - just return SQLITE_BUSY.
Changing the formula used to compute this checksum results in an incompatible journal file format.
Check for global one-time settings at the start of the pattern, and remember the offset for later.
Check to see if the given expression is of the form  column MATCH expr  If it is then return TRUE.
Convert an ANSI string to Microsoft Unicode, based on the current codepage settings for file apis.
Currently, no such page exists in the page-cache and the  "is journaled" bitvec flag has been set.
Determine a "mid" point and adjust to make sure the mid point is at the beginning of a range pair.
Disallow the transfer optimization if the destination table constains any foreign key constraints.
Don't send COM_QUIT if we are in a middle of a LOAD DATA or we will crash (assert) a debug server.
EVIDENCE-OF: R-37002-32774 The two-byte integer at offset 3 gives the number of cells on the page.
EVIDENCE-OF: R-64536-51728 The values for each column in the record immediately follow the header.
Ends an SHA224 message-digest operation, writing the the message digest and zeroizing the context.
Ends an SHA256 message-digest operation, writing the the message digest and zeroizing the context.
Ends an SHA384 message-digest operation, writing the the message digest and zeroizing the context.
Ends an SHA512 message-digest operation, writing the the message digest and zeroizing the context.
Error, try to be as helpful as possible: (a range ending/starting with '.' won't be captured here)
Exactly VdbeSorter.nTask instances of this object are allocated as part of each VdbeSorter object.
Except, if N is set to 0 then the upper layers will never invoke the xFetch interfaces to the VFS.
Extract a value from the supplied expression in the manner described above sqlite3ValueFromExpr().
Extract the PRIMARY KEY from the end of the index entry and store it in registers regR..regR+nPk-1
Extract the overloaded session_mode parameter into valid Oracle credential and session mode values
For the cross dim, we add both sides at the end because the value is aggregate via a max function.
For the source, an expanded path must be used (in ZTS an other thread could have changed the CWD).
Given a SELECT statement, generate a Table structure that describes the result set of that SELECT.
However, if the  segment does contain any such terms, they are stored within the identified range.
However, on FreeBSD, avoiding longjmp() more than halves the time taken to run the standard tests.
I could find no way of detecting that a macro is defined as an empty string at pre-processor time.
If *pp points past the end of the current position-list, set *pi to  POSITION_LIST_END and return.
If ORDER BY makes no difference in the output then neither does DISTINCT so it can be removed too.
If a Win32 native heap has been configured, this function will attempt to destroy and recreate it.
If a memory allocation error occurs, store NULL in *paCol and 0 in *pnCol and return SQLITE_NOMEM.
If an I/O or malloc() error occurs, the journal-file is not deleted and an error code is returned.
If an error (i.e. an OOM condition) is encountered,  pRc is set to an error code before returning.
If an xDelete callback was specified along with the original pointer, it is invoked at this point.
If right after execute() we have to call the appropriate use_result() or store_result() and clean.
If someone has defined alloca as a macro, there must be some other way alloca is supposed to work.
If split_length is specified, break the string down into chunks each split_length characters long.
If successful, SQLITE_OK is returned and *ppExpr set to point at the allocated Fts3Expr structure.
If the OPFLAG_NCHANGE flag of P2 is set, then the row change count is incremented (otherwise not).
If the OPFLAG_NCHANGE flag of P5 is set, then the row change count is incremented (otherwise not).
If the database supports auto-vacuum, make sure no tables contain references to pointer-map pages.
If the file on disk is smaller than the database image, use  pager_truncate to grow the file here.
If the iterator skips through rowids in the default ascending order, this means the maximum rowid.
If the parent table of an FK constraint on the current table is missing, behave as if it is empty.
If the proper action on seeing token YYTOKEN is to reduce or to detect an error, take that action.
If the register is a temporary register that can be deallocated, then write its number into *pReg.
If the size of the database file is not an integer multiple of the page-size, round up the result.
If there is no shared memory associated with the connection then this routine is a harmless no-op.
If there is, and that master journal file does not exist, then the journal file is not really hot.
If we are to be thread-safe, include the pthreads header and define the SQLITE_UNIX_THREADS macro.
If we see that the page does not contain a well-formed database page, then return  SQLITE_CORRUPT.
In UTF-8 mode, opcodes that are followed by a character may be followed by a multi-byte character.
In addition, the proxy is now able to handle properties of COM objects that smell like PHP arrays.
In no event will the authors be held liable for any damages arising from the use of this software.
In particular, this routine is called after seeing tokens "CREATE" and "TABLE" and the table name.
In that case, do not regenerate the code to manifest a view or the co-routine to implement a view.
In this case SQLite should continue accessing the database using the xRead() and xWrite() methods.
In xShmLock(), one can go from unlocked to shared and back or from unlocked to exclusive and back.
Instead of reading the value out of the header, it instead loads the "DataVersion" from the pager.
It is also possible to use just the second pass to map to an arbitrary externally-given color map.
It is not necessary to check if it is part of a parent key, as parent key columns must be indexed.
Its advantage is that it is guaranteed to return a color index in one search over the color table.
Journal of the Association for Computing Machinery, Volume 21, Number 8, July 1974, pages 491-499.
Keep this as the last member to be freed, as there are dependencies (like env) on the session pool
Link the SubProgram object passed as the second argument into the linked list at Vdbe.pSubProgram.
MAP_NORESERVE is because we want a lot more virtual memory than what we are actually going to use.
Make attention so that the root of each subtree of the Generators tree is referenced once per leaf
Make sure the number of reserved bits is the same in the destination pager as it is in the source.
Maximum number of tokens a phrase may have to be considered for the incremental doclists strategy.
Nevertheless, we include a NEVER() test for the error state as a safeguard against future changes.
Note that the _LENGTH and _TYPEOF values must correspond to OPFLAG_LENGTHARG and OPFLAG_TYPEOFARG.
Note: FILE_SEARCH and FILE_REGEX do not actually copy anything, but setup pointers into the source
OPEN_ALWAYS mode sets the last error to ERROR_ALREADY_EXISTS but the CreateFile operation succeeds
On most systems, this would mean that any file consisting only of characters in the range 0x00 ...
Once all the cookies have been verified and transactions opened,  obtain the required table-locks.
Opcode: Pagecount P1 P2 * * *  Write the current number of pages in database P1 to memory cell P2.
Opcode: VRename P1 * * P4 *  P4 is a pointer to a virtual table object, an sqlite3_vtab structure.
Or if this is the first instance of the wildcard, the next sequential variable number is assigned.
Or, if iLevel is zero or greater, data from the first nSegment segments on level iLevel is merged.
Parameter chngRowid is set to true if the UPDATE statement modifies the rowid fields of the table.
Preprocessor macros are available so that the types can be conveniently redefined at compile-type.
Printable character: same as graphic, with the addition of Zs, i.e. not Zl and not Zp, and U+180E.
Read the contents of frame iRead from the wal file into buffer pOut (which is nOut bytes in size).
Reposition cursor P1 so that  it points to the smallest entry that  is greater than the key value.
Return a bitmask where 1s indicate that the corresponding column of the table is used by an index.
Return an Expr object that refers to a memory register corresponding to column iCol of table pTab.
Return the sqlite3* database handle to which the prepared statement given in the argument belongs.
Return true if the argument is non-NULL and the WAL module is using heap-memory for the wal-index.
SHARED_SIZE is selected so that all locks will fit on a single page even at the minimum page size.
Save start of previous item, in case we have to move it up in order to insert something before it.
Segment leaves:  TERM/DOCLIST FORMAT:  Most of each segment leaf is taken up by term/doclist data.
Set *pRes to 0 if the cursor actually points to something or set *pRes to 1 if the table is empty.
Set an error message and return NULL if the table  name is not found or if any other error occurs.
Setting NDEBUG makes the code smaller and faster by disabling the assert() statements in the code.
Similarly, the value of the "write-version" database header field is stored in rbu_file.iWriteVer.
So make sure that the regFree1 register is not reused for other purposes and possibly overwritten.
So there is no way to know at compile-time whether or not thread A can override locks on thread B.
Such fsyncs are not needed on newer journaling filesystems, but are required on older filesystems.
TODO: Use the real values once the openssl constants are used See the enum at the top of this file
That function does the same as this one, except that it deals with more complicated cases as well.
The DB_SchemaLoaded flag is set after the database schema has been read into internal hash tables.
The P4 value may be either an integer (P4_INT32) or a pointer to a KeyInfo structure (P4_KEYINFO).
The Walker.eCode value is 5 when parsing an existing schema and 4 when processing a new statement.
The buffer that zWalName points to must remain valid for the lifetime of the returned Wal* handle.
The caller is responsible for deallocating the value by passing it to sqlite3ValueFree() later on.
The caller must ensure that there are no outstanding page references when this function is called.
The chunks are kept on a linked list so that they can be deallocated when the RowSet is destroyed.
The content of this structure must not change while it is registered with any database connection.
The cursor can seek to a BTree entry with a particular key, or loop over all entries of the Btree.
The differences between the new and the old syntaxes are:  a) The new syntax supports parenthesis.
The first four parameters are interpreted in the same way as the first 4 parameters to FUNCTION().
The first snippet candidate always starts at offset 0 (even if this candidate has a score of 0.0).
The following loop runs once for each term in a compound-subquery flattening (as described above).
The following routine destroys a virtual machine that is created by the sqlite3_compile() routine.
The hdr-size field is also a varint which is the offset from the beginning of the record to data0.
The inconsistency  is unfortunate but cannot be changed without breaking backwards  compatibility.
The malloc.h header file is needed for malloc_usable_size() function on some systems (e.g. Linux).
The name can optionally begin with "SQLITE_" but the "SQLITE_" prefix is not required for a match.
The number of ZEND_CASE instructions usually terminated by ZEND_FREE that finally kills the value.
The pager falls back to PAGER_READER state if successful, or PAGER_ERROR state if an error occurs.
The parser calls this routine after the CREATE VIRTUAL TABLE statement has been completely parsed.
The parser calls this routine when it sees a DELETE statement inside the body of a CREATE TRIGGER.
The permutation is only valid until the next OP_Compare that has the OPFLAG_PERMUTE bit set in P5.
The sqlite3_mem_methods structure is filled with the currently defined memory allocation routines.
The sqlite3_os_init() routine does operating-system specific initialization of the SQLite library.
There is no way for the underlying implementation to return an error if one occurs during xNext().
This API allows applications to modify the global configuration of the SQLite library at run-time.
This bitmap records the existence of zero or more bits with values between 1 and iSize, inclusive.
This buffer is used internally during rollback and will be overwritten whenever a rollback occurs.
This capability is used during testing and only needs to be supported when SQLITE_TEST is defined.
This file contains the C functions that implement a memory allocation subsystem for use by SQLite.
This file is part of, or distributed with, libXMLRPC - a C library for xml-encoded function calls.
This function determines whether or not the atomic-write optimization can be used with this pager.
This function is called as part of sqlite3rbu_open() when initializing an rbu handle in OAL stage.
This function is called before generating code to update or delete a  row contained in table pTab.
This function is called on a MultiSegReader that has been started using sqlite3Fts3MsrIncrStart().
This function is called to free superfluous dynamically allocated memory held by the pager system.
This function is used by the get_first_set() function below, as well as being generally available.
This guarantees that none of the root-pages to be destroyed is relocated by an earlier OP_Destroy.
This has to be bug-compatible with the original implementation, so only encode 23 of the 24 bytes.
This is overcome by a scan at the end if there's no firstchar, looking for an asserted first char.
This makes some statements involving the REPLACE conflict resolution algorithm go a little faster.
This means that the rest of the journal file consists of pages, there are no more journal headers.
This opcode invokes the parser to create a new virtual machine, then runs the new virtual machine.
This routine does the work of opening a database on behalf of sqlite3_open() and sqlite3_open16().
This routine generates code that jumps to destIfFalse if the LHS is not  contained within the RHS.
This routine is called from sqlite3_initialize() and so it is guaranteed to be serialized already.
This routine is the only way to move the state of a VM from SQLITE_MAGIC_RUN to SQLITE_MAGIC_HALT.
This version is derived from the original implementation of FreeSec (release 1.1) by David Burren.
Thus the program must guarantee that the original will not change during the lifetime of the copy.
Transform a UTF-8 integer literal, in either decimal or hexadecimal, into a 64-bit signed integer.
UNIQUE           REPLACE      The other row that conflicts with the row being inserted is removed.
Using os_unix.c, mxPathname is 512, which is the same as the minimum allowable value for pageSize.
Values that may be OR'd together to form the second argument of an sqlite3BtreeCursorHints() call.
We can still let the OS do its job and be sure that each process gets the same address if desired.
We see the next array, so we update the sort flags of the previous array and reset the sort flags.
We should restore the flags before the label, since other taken jumps has their own flags as well.
We'll set 'write' once we know the user's request requires that the image be written back to disk.
When a name is one of a number of duplicates, a different opcode is used and it needs more memory.
When terms are satisfied by indices, we disable them to prevent redundant tests in the inner loop.
When the Next() operation is invoked, PmaReader 5 will be advanced to the next key in its segment.
do not really flush buffer, but report success to suppress OCI error when flushing not used buffer
fts3ExprIterate() callback to load the 'global' elements of a FTS3_MATCHINFO_HITS matchinfo array.
function    : Q_PopHead  purpose     : remove and return the top element at the head of the queue.
gen fault from xmlrpc style fault codes notice that we get a new node, which must be freed herein.
if the param is NULL, then we assume that they wanted to bind a lob locator into it from the query
only set the sqlite return value if we are a scalar function, or if we are finalizing an aggregate
pUnpacked is either created without a rowid or is truncated so that it omits the rowid at the end.
remove the file created by php_stream_open_wrapper(), it is not needed since BZ2 functions failed.
since the user stream has no way of setting the eof flag directly, we need to ask it if we hit eof
the create/append check will be done on the lock when the lib opens the file it is already created
to it also Hence the following undef for ICU version Same true for the locale_set_default function
we can't immediately free them in zend_generator_close() else yield from won't be able to fetch it
we force PHP_STREAM_CALL_DTOR because that's from where the enclosing stream can free this stream.
(13) A SHARED lock is held on the database file while reading any content out of the database file.
(Bit 0 is for main, bit 1 is for temp, and so forth.)  Bits are set for each database that is used.
(That is, pretend that each branch is the only one.) In the real compile phase, insert an ALT node.
(The error only occurs in one place now, but we retain the subroutine to minimize code disruption.)
*piMoved is set to the  page number that used to be the last root page in the file before the move.
- Calling this with NULL sets as a portable way to sleep with sub-second accuracy is not supported.
A journal header file (JOURNAL_HDR_SZ bytes) is read from the current location in the journal file.
A tokenizer  is registered by providing fts5 with a populated instance of the  following structure.
Additional information is available on the "dbstat.html" page of the official SQLite documentation.
Additionally, in auto-vacuum mode, the following events may invalidate an overflow page-list cache.
After building, copy the resulting file to the folder where your database expects to find its UDFs.
After doing this the directory is synced again before any individual transaction files are deleted.
After the options, we require exactly two arguments, which are the pattern, and the subject string.
All of the static variables used by this module are collected into a single structure named "mem3".
All of the static variables used by this module are collected into a single structure named "mem5".
Allocated but not connected or there was failure when trying to connect with pre-allocated connect.
Also, *ppMinMax is set to point to the  list of arguments passed to the aggregate before returning.
An attempt is made  to coerce both inputs according to this affinity before the comparison is made.
An instance of the following structure holds the context of a sum() or avg() aggregate computation.
Any pages written as part of transaction rollback or database recovery operations are not included.
Because converting to double and back to long can lead to losing precision we need second variable.
Because we are moving code along, we must ensure that any pending recursive references are updated.
Before doing this, remember the cursor number for the original outer query FROM element in iParent.
Before returning, set *piEof to the offset immediately following the last byte written to the file.
But this requires that the range scan loop run twice, once for strings and a second time for BLOBs.
But we need to make sure enough memory is allocated to avoid other spurious errors in the meantime.
COM_FIELD_LIST is broken and has premature EOF, thus we need to hack here and in mysqlnd_res_meta.c
Catch mismatch in the declared columns of a view and the number of columns in the SELECT on the RHS
Check if the cursor is past the end of the docid range specified by Fts3Cursor.iMinDocid/iMaxDocid.
Check to see if we need to create an sqlite_sequence table for keeping track of autoincrement keys.
Checks for constructors only if they are declared in an interface, or explicitly marked as abstract
Convert a filename from whatever the underlying operating system supports for filenames into UTF-8.
Copy the triggers, views, and virtual tables from the main database over to the temporary database.
Don't try to be clever and save effort on exclusive ones - in some locales things may be different.
During testing, it is often desirable to move the pending byte to a different position in the file.
Each function argument translates into an equality constraint against a HIDDEN column in the table.
Each time a statement is executed  that causes a foreign key violation, the counter is incremented.
Erase the eponymous virtual table instance associated with virtual table module pMod, if it exists.
Execute the recursive SELECT taking the single row in Current as the value for the recursive-table.
First byte is ERROR_MARKER on error, but otherwise is starting byte of encoded sequence for length.
For a repeated Unicode property match, there are two extra bytes that define the required property.
For leaf pages, the min-heap has already been initialized and the cells have already been inserted.
Further calls to 'VirtualAlloc' will "commit" pages, meaning they will be bound to physical memory.
Generated temporary filenames are always double-zero terminated for use by sqlite3_uri_parameter().
Given a serial day number (SDN), find the corresponding year, month and day in the Jewish calendar.
Given a year, month and day in the Jewish calendar, find the corresponding serial day number (SDN).
Hence, temporary disk space that is approximately 2x the size of the original database is required.
IMPLEMENTATION-OF: R-57228-12904 Invoking sqlite3_finalize() on a NULL pointer is a harmless no-op.
If *pp does not being with a decimal digit SQLITE_ERROR is returned and the output value undefined.
If SQLite is already shut down when this routine is invoked, then this routine is a harmless no-op.
If a LIMIT clause is provided, then the iteration stops after LIMIT rows have been output to pDest.
If a VFS is registered with a name that is NULL or an empty string, then the behavior is undefined.
If a tokenizer is used directly by any code outside of FTS, this convention might not be respected.
If both are numbers, compare as reals if one is a real, or as integers if both values are integers.
If either of these two conditions are not met, then the mutexes will fail and problems will result.
If it returns zero, then the SQLITE_BUSY error is returned to the caller of the pager API function.
If no such TriggerPrg object exists, a new object is allocated and populated before being returned.
If not, we still carry on, because there may be ranges that start below 256 in the additional data.
If pFree is not NULL, it points to the pSpace buffer used  by a previous call to balance_nonroot().
If pMem is a string or blob, then we make an attempt to convert it into an integer and return that.
If parameter bOptOk is true, then the phrase may (or may not) use the incremental loading strategy.
If resulting string turns out to be shorter than input string, we simply copy the input and return.
If successful, (*ppOut)  should be set to point to the new tokenizer handle and SQLITE_OK returned.
If successful, *ppChild is set to contain a reference to the child  page and SQLITE_OK is returned.
If the PRIMARY KEY expression is NULL, then use OP_NewRowid to generate a unique primary key value.
If the SQLITE_JUMPIFNULL bit of P5 is set and either reg(P1) or reg(P3) is NULL then take the jump.
If the expression list pEList contains more than iLimit elements, leave an error message in pParse.
If the hint blob in *pHint does not contain at least two valid varints, return SQLITE_CORRUPT_VTAB.
If the journal file is too small for there to be a header stored at this point, return SQLITE_DONE.
If the keys are equal (only possible with two EOF values), it doesn't matter which index is stored.
If the number of elements in x.pList is even, then Y is omitted and the "otherwise" result is NULL.
If the previous match was for an empty string, we are finished if we are at the end of the subject.
If the rScore is a tie, then use iLevel as the tie breaker with smaller iLevel values coming first.
If the secure_delete option is enabled, then always fully overwrite deleted information with zeros.
If there isn't enough space in the offset vector, treat this as if it were a non-capturing bracket.
If there were a failure, the prepared statement would have halted before reaching this instruction.
If this is a CREATE TABLE xx AS SELECT ..., execute the SELECT statement to populate the new table.
If this is a savepoint rollback, then memory may have to be dynamically allocated by this function.
If this is the first frame written into the log, write the WAL header to the start of the WAL file.
If we are in the pre-compile phase, accumulate the length used for the previous cycle of this loop.
If we get here it means the result set contains one or more "*" operators that need to be expanded.
If you try to add a key bound to a new value, the binding is added, the old binding is not removed.
In previous versions, most significant bits (MSBs) of the seed affect only MSBs of the state array.
In this case the first call to balance() repairs the tree, and the if(...) condition is never true.
In this case the row change  count is incremented by the number of rows in the table being cleared.
In this case we ignore all text in the remainder of the path, name or value currently being parsed.
Index.aiRowEst may already be set here if there are duplicate  sqlite_stat1 entries for this index.
Invoke sqlite3_log() to provide the source code location where a low-level error is first detected.
Invoke the coroutine to extract information from the SELECT and add it to a transient table srcTab.
It calls out to saveCursorsOnList() in the (unusual) event that cursors are in need to being saved.
It is against the rules to open a column to which either of these descriptions applies for writing.
It is illegal to call sqlite3PagerAcquire() until after this function has been successfully called.
It is the responsibility of the caller to eventually free the returned buffer using sqlite3_free().
It is the responsibility of the caller to eventually release this buffer by calling sqlite3_free().
It returns a pointer to the buffer which is NULL on error, and the size of the buffer in retbuflen.
It uses the RDTSC opcode to read the cycle count value out of the processor and returns that value.
Iterator pIter was used to iterate through the input segments of on an incremental merge operation.
Keys are used to do more restrictive check and they are compared by using a user-supplied callback.
Loop through the table columns, appending offset information to  string-buffer res for each column.
New aggregate function implementations should keep their own counts within their aggregate context.
New data is spilled to a new leaf node when the current node exceeds LEAF_MAX bytes (default 2048).
Notice that when returning from a function the stack pointer is the address of the function return.
One or the other is used, depending on whether the check is for a general or a particular category.
One way around this problem is to check the extended error code returned by an sqlite3_step() call.
Opcode:  Gosub P1 P2 * * *  Write the current address onto register P1 and then jump to address P2.
Or, if pCtx is not NULL, it is assumed that the caller will free any allocated object in all cases.
Otherwise, 0 is returned and the output part of the sqlite3_index_info structure is left populated.
Otherwise, an SQLite error code is returned and the value of *piVal after returning is not defined.
Otherwise, arrange to run another match at the same point to see if a non-empty match can be found.
Otherwise:  The page number of the next overflow page in the linked list is  written to *pPgnoNext.
PATH section entries are used per-request from down to top, each overriding previous if one exists.
Print a sequence of chars in printable format, stopping at the end of the subject if the requested.
Proceeding may generate a false "no such table: xxx" error if pSelect reads from a CTE named "xxx".
RBU_STATE_PROGRESS: Trbul number of sqlite3rbu_step() calls made so far as part of this rbu update.
Read and return an unsigned 32-bit big-endian integer from the buffer  passed as the only argument.
Reports from the internet are that performance is always better if FILE_FLAG_RANDOM_ACCESS is used.
Return SQLITE_CORRUPT if a page number greater than this, or the unused locking-page, is requested.
Return negative, zero, or positive if the first is less than, equal to, or greater than the second.
Return the number of bytes of text that StrAccum is able to accept after the attempted enlargement.
Return true if the BtShared mutex is held on the btree, or if the B-Tree is not marked as sharable.
Return true if the argument interpreted as a unicode codepoint is a diacritical modifier character.
Save the positions of all cursors (except pExcept) that are open on the table with root-page iRoot.
Schema objects are automatically deallocated when the last Btree that references them is destroyed.
Skip any leading whitespace at the beginning of a field unless the format suppresses this behavior.
Store that token type in 'token', and its length in 'len' (to be used next iteration of this loop).
SubProgram.nMem is set to the number of memory cells used by the  program stored in SubProgram.aOp.
Switch to non-blocking mode and try to consume something from the line, if possible, then continue.
TODO(shess) That said, it would be nice to have a better query-side argument for MERGE_COUNT of 16.
The arguments to RowSetTest are such that the rowid of the current row is inserted into the RowSet.
The callback function is called when the event is first registered and when the event is cancelled.
The datatype of the return value is BLOB, but it is really just a pointer to the Stat4Accum object.
The first argument points to a nul-terminated string containing a list of space separated integers.
The first argument to each is the number of usable bytes on each page of the database (often 1024).
The first one has to be handled carefully because it's the original copy, which has to be moved up.
The full list of Unicode newline characters is taken from http://unicode.org/unicode/reports/tr18/.
The implementation of an SQLite user-defined-function that accepts a single integer as an argument.
The isHot parameter indicates that we are trying to rollback a journal that might be a hot journal.
The new entry might overwrite an existing entry, or it might be appended, or it might be discarded.
The next thing included is series of defines which control various aspects of the generated parser.
The node need not contain any terms, but the header must be written before this function is called.
The pager state may be changed from PAGER_ERROR to PAGER_OPEN here without clearing the error code.
The parser calls this routine when it sees an UPDATE statement inside the body of a CREATE TRIGGER.
The returned text includes up to four fragments of text extracted from the data in the current row.
The safety level used to be boolean and older scripts may have used numbers 0 for OFF and 1 for ON.
The second argument indicates the reason that FTS5 is requesting tokenization of the supplied text.
The second parameter may be a NULL pointer, in which case the trigger setting is not reported back.
The value of semaphore 1 (SYSVSEM_USAGE) is a count of the number of processes using the semaphore.
The value returned from the PHP function being called will automatically be converted if necessary.
This allowed the color conversion math to be done only once per colormap entry, not once per pixel.
This alternative to php_register_extensions() works around that by walking the shallower structure.
This anonymous savepoint can be released or rolled back using the sqlite3BtreeSavepoint() function.
This behavior is at least reproducible with VS2012 and earlier, and seems not to be fixed till now.
This file contains code used by the compiler to add foreign key support to compiled SQL statements.
This file was originally part of where.c but was split out to improve readability and editabiliity.
This function is called after the contents of page iPage of the source database have been modified.
This implementation is very closely tied to the that of the native sockets implemented in the core.
This is because it might call sqlite3_release_memory(), which assumes that  this mutex is not held.
This is not the total number of pages referenced, but the sum of the reference count for all pages.
This makes things a bit more complicated, as this module treats each table as a separate structure.
This needs to occur when copying a TK_AGG_FUNCTION node from an outer query into an inner subquery.
This routine is designed for use within an assert() statement, to verify the type of an allocation.
This routine only runs in the exceptional case where the page size is smaller than the sector size.
This test catches attempts to make either operand of a NEAR operator something other than a phrase.
Those keywords will cause indices to be created and the table record must come before the  indices.
Thus, this "checksum" scheme, though fast and simple, catches the mostly likely kind of corruption.
Thus, we cannot look for specific key values if we want to build binaries that run on both systems.
To this end, it stores xml elements, their sub-elements, and their attributes in an in-memory tree.
Very little journalling actually occurs when doing a vacuum since the vacuum_db is initially empty.
We do nothing here, this function is needed to prevent that the fallback header handling is called.
We wrap the execute function to have fire the execute-entry/return and function-entry/return probes
Write a  single byte to the last byte in each block that falls entirely within the extended region.
You can pass a non-zero value as second argument to force the embedded PHP engine to re-initialise.
bCommit is passed true for an auto-vacuum-on-commit  operation, or false for an incremental vacuum.
break and return the current value if the number is not well-formed that's what Linux strtol() does
dbSize, dbOrigSize, dbFileSize  Variable dbSize is set to the number of pages in the database file.
dest_reg is the absolute name of the register Useful for reordering instructions in the delay slot.
function    : Q_DelCur  purpose     : Delete the current queue element as pointed to by the cursor.
get the host ID via gethostuuid(), pHostID must point to PROXY_HOSTIDLEN  bytes of writable memory.
iCur is the index of a cursor open on the pTab table and pointing to the entry that needs indexing.
if a fourth parameter is handed over, it is the charset identifier (but is only used in Oracle 9i+)
if needle was ascii too, we are all done, otherwise we need to try using Unicode to see what we get
if the caller asked for a persistent stream but the wrapper did not return one, force an error here
note: this only works on strings, and only for date and base64, which do not have native php types.
pthreads can automically write to and read from pipes up to N bytes (which I think is usually 512).
singleton found but not a private subtag , hence check further in the string for the private subtag
statement returns a column value, then the affinity of that column is used to build the index keys.
this complies with system.methodHelp as defined at http://xmlrpc.usefulinc.com/doc/sysmethhelp.html
(15)  The outer query is not part of a compound select or the subquery does not have a LIMIT clause.
(An AUTONOMOUS_TRANSACTION in invoked PL/SQL must explicitly rollback/commit else the SELECT fails).
3:  The database must be writable (not on read-only media)  4:  There must be an active transaction.
A JournalFile object is a subclass of sqlite3_file used by as an open file handle for journal files.
A new entry is created if it doesn't already exist or the data for an existing entry is overwritten.
A single database file can be shared by two more database connections, but cursors cannot be shared.
A single database handle may have at most a single write-ahead log callback  registered at one time.
According to documentation the only way to get an error is to have out-of-memory on the server-side.
Add these into the running sums, and simultaneously shift the next-line error sums left by 1 column.
All such structures associated with a single VM are stored in a linked list headed at Vdbe.pAuxData.
Allocate  a cursor to use to search the unique index on the parent key columns  in the parent table.
An input number that is greater than this value, if followed by a legal input character, is too big.
An instance of the following type is used to iterate through the contents of a doclist-index record.
Appends src to string dst of size siz (unlike strncat, siz is the full size of dst, not space left).
As usual, the initial  "Length" field found in doclists stored on disk is omitted from this  buffer.
At most one of these may open a write transaction, but any number may have active read transactions.
At this point it is important that a RESERVED lock is not obtained on the way to the EXCLUSIVE lock.
At this point, "diff" is zero iff the correct and buggy algorithms produced exactly the same result.
At this point, there is a write transaction open on both the  vacuum database and the main database.
Because only the bound variables can point to our internal buffers, then separate or free only them.
Because the supported  syntax is relatively simple, the whole tokenizer/parser system is hand-coded.
Before closing the log file, this function attempts to take an  EXCLUSIVE lock on the database file.
But we can save a little space and improve the speed a little by numbering the values consecutively.
CORRUPT_DB does not indicate that the database is definitely corrupt, only that it might be corrupt.
Calling routines will take care of changing this register value to non-NULL if the RHS is NULL-free.
Check that the entry in the pointer-map for page iChild maps to  page iParent, pointer type ptrType.
Check to see if sqlite3_interrupt() has been called or if the progress callback needs to be invoked.
Deserialize the data blob pointed to by buf as serial type serial_type and store the result in pMem.
Discard all pages from cache pCache with a page number (key value)  greater than or equal to iLimit.
Duplicate removal in the UNION, EXCEPT, and INTERSECT cases is handled within the output subroutine.
Either this is a brand new phar (add the stub), or the default stub is required (overwrite the stub)
Ends a ripemd128 message-digest operation, writing the the message digest and zeroizing the context.
Ends a ripemd160 message-digest operation, writing the the message digest and zeroizing the context.
Ends a ripemd256 message-digest operation, writing the the message digest and zeroizing the context.
Ends a ripemd320 message-digest operation, writing the the message digest and zeroizing the context.
Every code point has a grapheme break property which is one of the ucp_gbXX values defined in ucp.h.
Figure out how much space the key will consume if it is written to the current node of layer iLayer.
For an UPDATE, aChange points to an array of size N, where N is the number of columns in table pTab.
For tables that do not have an external PRIMARY KEY, it also means the same PRIMARY KEY declaration.
For the moment, this source module just uses the default resync method provided by the JPEG library.
Hence, all bytes of a sector need to be journalled in case of a power loss in the middle of a write.
However,  Ted Ts'o tells us that fdatasync() will also write the inode if the file size has changed.
However, if the group was entered as a result of checking a previous iterator, this is not possible.
However, in this case, data is read from the sqlite_stat1 table (if it is present) before returning.
However, php_url_scanner_reset_vars() resets all vars including other URL rewrites set by elsewhere.
However, we still need some kind of function implementation for this routines in the function table.
I would have expected the second lock to fail since there was already a lock on the file due to fd1.
INPUTS root - the element to free RESULT void NOTES SEE ALSO xml_elem_free () xml_elem_new () SOURCE
If MATCH_SKIP_ARG reaches this level it means that a MARK that matched the SKIP's arg was not found.
If SQLITE_CHECK_PAGES is defined then we do some sanity checking on the cache using a hash function.
If SQLITE_IGNORE is returned and pExpr is not NULL, then pExpr is changed to an SQL NULL expression.
If firstline is TRUE, the start of the match is constrained to the first line of a multiline string.
If found, expand each "*" to be every column in every table and TABLE.* to be every column in TABLE.
If is OK to return 0 here even if the expression really is always false or false (a false negative).
If more than one term matches the prefix, sort the Fts3HashElem objects in term order using qsort().
If no error is encountered, the statement transaction will automatically commit when the VDBE halts.
If no error occurs, SQLITE_OK is returned and sqlite3Fts3DeferToken() called on each token to defer.
If pDbPage was a btree-page, then it may have child pages and/or cells that point to overflow pages.
If req_char is set, we know that that character must appear in the subject for the match to succeed.
If the above was successful, each component iterators now points  to the first entry in its segment.
If the fts5YYNOERRORRECOVERY macro is defined, then do not attempt to do any kind of error recovery.
If the input is of the form Z (not Y.Z or X.Y.Z) then the name Z might refer to an result-set alias.
If the lock cannot be obtained, SQLITE_BUSY is returned and no data is written to the database file.
If the maximum is 1 or unlimited, we just have to stick in the BRAZERO and do no more at this point.
If the name cannot be resolved unambiguously, leave an error message in pParse and return WRC_Abort.
If the operation is an UPDATE, then parameter pChanges is passed the list of columns being modified.
If the pager is running in exclusive mode, this method of finalizing the journal file is never used.
If the progress callback returns non-zero, exit the virtual machine with a return code SQLITE_ABORT.
If the same thread tries to enter any other kind of mutex more than once, the behavior is undefined.
If the xBestIndex method sets this flag, SQLite assumes that the strategy may visit at most one row.
If the xDelete parameter was not NULL, it is invoked on the auxiliary data pointer before returning.
If the xSectorsize() method  returns a value larger than this, then MAX_SECTOR_SIZE is used instead.
If this call is successful, *ppPage is set to point to the wal-index page and SQLITE_OK is returned.
If this cannot be obtained, an error (SQLITE_BUSY) is returned and the log connection is not closed.
If we do not block illegal combinations here, it could trigger assert() statements in deeper layers.
In this case, the custom VFS must be explicitly created by the user before the RBU handle is opened.
Information held in the "sqlite3" database connection object and used to manage user authentication.
Initialize an array that records the number of times a variable is assigned to by the format string.
Inserting a single row into a parent table cannot cause (or fix) an immediate foreign key violation.
Invoke sqlite3_declare_vtab() to declare the schema for the FTS3 table passed as the first argument.
It is used to store pointers to all registered FTS5 extensions - tokenizers and auxiliary functions.
It will then try to allocate the new page and will only fail to allocate a new page on an OOM error.
It'd be better to detect fullfsync support once and avoid  the fcntl call every time sync is called.
Mark that we reference the connection, thus it won't be be destructed till there is open statements.
Minor point: If this is the case, then the expression will be re-evaluated for each reference to it.
Next we have the really interesting routines: selection of a colormap given the completed histogram.
Nor does it detect cells or freeblocks that encrouch into the reserved bytes at the end of the page.
Note: this cast is safe, because the origin data point was an int that was cast to a (const char *).
Now check that the iter.nEmpty leaves following the current leaf (a) exist and (b) contain no terms.
Now we can scan the table and, for each entry, print the number, the name, and the substring itself.
Nowadays we allow for larger numbers in UTF-8 mode and 16-bit mode, but no more than 3 octal digits.
OCISessionBegin returns OCI_SUCCESS_WITH_INFO when user's password has expired, but is still usable.
Obtain a CHECKPOINT lock and then backfill as much information as we can from WAL into the database.
Obtain a reference to the index structure and allocate a new segment-id for the new level-0 segment.
Opcode: MaxPgcnt P1 P2 P3 * *  Try to set the maximum page count for database P1 to the value in P3.
Or if the writeOnly flag is set to 1, then only trip write cursors and leave read cursors unchanged.
Or, if the conditions above are not met, *ppMinMax is set to 0 and WHERE_ORDERBY_NORMAL is returned.
Otherwise, if P1 is zero, the  statement counter is incremented (immediate foreign key constraints).
Parameter zSrcData points to a buffer containing the data for  page iSrcPg from the source database.
Parameters: m - The affine transformation  Returns: GD_TRUE if the affine is rectilinear or GD_FALSE
Passing any other pointer in to this routine results in undefined and probably undesirable behavior.
Populate the StatCursor fields with the values to be returned by the xColumn() and xRowid() methods.
RESTRICT is the same as ABORT for IMMEDIATE foreign keys and the same as ROLLBACK for DEFERRED keys.
Release the lock using an OS call only when all threads in this same process have released the lock.
Restriction 17: If the sub-query is a compound SELECT, then it must use only the UNION ALL operator.
Return SQLITE_OK if successful or if no reseek was required, or an  error code if an error occurred.
Return a pointer to the next prepared statement after pStmt associated with database connection pDb.
Return the number of bytes in this text up to but excluding the first character in a host parameter.
Return the size of a memory allocation previously obtained from sqlite3Malloc() or sqlite3_malloc().
Return true if any register in the range iFrom..iTo (inclusive) is used as part of the column cache.
So to determine whether an error has actually occurred, it is also necessary to call GetLastError().
Some versions of windows set the temp file to be read-only, which means that opening it will fail...
TODO: if we want to play nicely, we should check to see if the driver really supports ODBC v3 or not
TODO: we probably should be setting .stdiocast and .fclose_stdiocast or we may be leaking the FILE*.
That way, the FileChunk object will have a size that almost exactly fills a power-of-two allocation.
The OP_String opcodes on the second pass convert the upper and lower bound string contants to blobs.
The apVal parameter is passed a copy of the apVal argument passed by SQLite to the xUpdate() method.
The block of page numbers associated with the first hash-table in a wal-index is smaller than usual.
The caller should invoke sqlite3KeyInfoUnref() on the returned object when it has finished using it.
The character (space) used to separate alternate fonts in the fontlist parameter to gdImageStringFT.
The collation sequences of the comparison and select-list expressions must match those of the index.
The expression pExpr passed as the second argument to this function must be of type FTSQUERY_PHRASE.
The first part does the start of the WHERE loop and the second half does the tail of the WHERE loop.
The following global variable is incremented whenever the library attempts to open a temporary file.
The interior nodes at a given height are naturally tracked by interior nodes at height+1, and so on.
The journal file exists and no other connection has a reserved or greater lock on the database file.
The left query could also be a compound query in which case this routine will be called recursively.
The method used to calculate the color difference is based on the color distance in the RGB(a) cube.
The proxyLockingContext has the path and file structures for the remote  and local proxy files in it
The second argument passed to this function may be NULL, or it may be an existing Fts5Colset object.
The sqlite3_prepare_v2() and sqlite3_prepare16_v2() interfaces are recommended for all new programs.
The various operations on open token or token prefix iterators opened using sqlite3Fts5IndexQuery().
Then another row is extracted from Queue and the iteration continues until the Queue table is empty.
There already exists a WhereLoop on the list that is better than pTemplate, so just ignore pTemplate
These operations are identified in the comment at the top of this file  (fkey.c) as "I.1" and "D.1".
These operations are identified in the comment at the top of this file  (fkey.c) as "I.2" and "D.2".
This block checks that a checksum calculated based on the actual contents of FTS index is identical.
This can and should be used while extending the module as it shows if you are at the right position.
This check even works for scientific notation, because the mantissa always contains a decimal point.
This ensures that the WSD emulation is used when compiling for systems that do not support real WSD.
This function has been extended to cope with forward references for recursions and subroutine calls.
This function is called to estimate the number of rows visited by a range-scan on a skip-scan index.
This happens if a malloc() inside a call to sqlite3_column_text() or sqlite3_column_text16() failed.
This heuristic does not reclaim storage as soon as it becomes invalid, but it will do so eventually.
This includes COMMIT, SKIP, PRUNE and an uncaptured THEN, which means they take their normal effect.
This information is for finding all the numbers associated with a given name, for condition testing.
This is like SRT_Table except that this destination uses OP_OpenEphemeral to create the table first.
This is normally the case when the "TEMP" or "TEMPORARY" keyword occurs in between CREATE and TABLE.
This may result in the head of the tree changing, in which case *ppHead is set to the new root node.
This means that if the iteration order is ASC, then numerically larger rowids are considered larger.
This relies on the fact that the class table starts with alpha, lower, upper as the first 3 entries.
This routine checks the guards at either end of the allocation and if they are incorrect it asserts.
Thus we need to resend the types, if any such values occur, and force resend for the next execution.
To avoid this, update the wal-index header to indicate that the log file contains zero valid frames.
To decrease the number of length checks, we try to concatenate the fixed length character sequences.
We assume any character whose value is greater than 0x80 (any UTF character) can be part of a token.
We assume that right shift corresponds to signed division by 2 with rounding towards minus infinity.
We could link this with -Wl,-no_pie, but it is easier to just open the binary and read it from disk.
We just have to record the current subject position and start match pointer and give a MATCH return.
We would get the correct results if nothing were ever disabled, but joins might run a little slower.
When passing the backup file as isc_spb_dbname and the destination db as bpk_file, things work well.
When this global variable is positive, it gets decremented once before each instruction in the VDBE.
Worst case scenario is:  + 9 bytes for a new rowid, + 4 byte reserved for the "poslist size" varint.
XXX this might be not the end, restart handling with REPARSE_GUID_DATA_BUFFER should be implemented.
XXX: this is horrible memory-usage-wise, but we only expect to do this on small pieces of form data.
adapted from format_octal() in libarchive  Copyright (c) 2003-2009 Tim Kientzle All rights reserved.
end:     Byte offset of the byte immediately following the end of the token within the input string.
i.e. if a full-text index node is 900 bytes in size, then a buffer of 920 bytes is allocated for it.
literals are assumed to not be manipulated during executing of their op_array and as such async safe
only 1 core, use our own zone to contention over global locks,  e.g. we have our own dedicated locks
pName1.pName2 is the name of the index  and pTblList is the name of the table that is to be indexed.
the data we have buffered will be lost to the third party library that will be accessing the stream.
turning on auto_commit with an open transaction is illegal, because we won't know what to do with it
xDelete: This function is invoked to delete a tokenizer handle previously allocated using xCreate().
xTokenize: This function is expected to tokenize the nText byte string indicated  by argument pText.
(zval **)input points to an element of argument stack the base pointer of which is subject to change.
- support for mixed indexed/keyed vector types, making it more compatible with languages such as PHP.
2) Registers any required virtual table modules with the database handle returned by sqlite3rbu_db().
2.0.12: Slaven Rezic: palette images are not the only images with a simple transparent color setting.
A SHARED_LOCK is obtained by locking a single randomly-chosen  byte out of a specific range of bytes.
A frame is only valid if the salt values in the frame-header match the salt values in the wal-header.
A negative nCol is a special marker meaning that we are currently trying to compute the column names.
A recursion, however, causes an a flag to be set that causes the length of this branch to be ignored.
A single object of this type is allocated when the FTS5 module is  registered with a database handle.
A table has a virtual root page when the actual root page contains no cells and a  single child page.
ARCHITECTURE ASSUMPTIONS: This code used to have some nasty ones, but these have been removed by now.
After all inserts are finished, it is possible to extract the elements of the RowSet in sorted order.
After counter exceeds 16 (the number of significant digits in a 64-bit float) '0' is always returned.
All of the keys on page Ptr(1) and its subpages have values greater than Key(0) and less than Key(1).
Any multi-byte character that attempts to encode a value between 0x00 and 0x7f is rendered as 0xfffd.
Any other expression has a height equal to the maximum height of any other  referenced Expr plus one.
Argument pCellptr points to the first entry in the cell-pointer array (part of page pPg) to populate.
As before, show substrings stored in the output vector by number, and then also any named substrings.
At query time, high MERGE_COUNT increases the number of segments which need to be scanned and merged.
Attempt to advance the node-reader object passed as the first argument to the next entry on the node.
B67 also points to the stack segment linkage control area, which is what we are really interested in.
Backup is not possible if the number of bytes of reserve space differ between source and destination.
Before returning, this function always sets *pbFirst to 1 and *piPrev to the value of parameter iVal.
Begin flock Locking ********************************  Use the flock() system call to do file locking.
But for things like temporary table (which will be deleted when the power is restored) we don't care.
But in SQLite, the table can now be identified by a database name, a dot, then the table name: ID.ID.
But we need to go ahead and define the sqlite3_io_methods and finder function for proxy locking here.
Called by each new OS thread to bind its EXC_BAD_ACCESS exception to mach_exception_handler_port_set.
Case 2:  We can directly reference a single row using an equality comparison against the ROWID field.
Check that:  1) All leaves of pSeg between iFirst and iLast (inclusive) exist and contain zero terms.
Check the alternative branches in turn - the matching won't pass the KET for this kind of subpattern.
Check to see if this back reference is recursive, that it, it is inside the group that it references.
Compare the key of the index entry that cursor pC is pointing to against the key string in pUnpacked.
Compute and store the full pathname in an allocated buffer pointed to by zPathname, length nPathname.
Construct one or more SQL statements from the format string given and then evaluate those statements.
Cover protocol error: COM_STMT_SEND_LONG_DATA was designed to be quick and not sent response packets.
Discard all unpinned pages in the cache with a page number equal to or greater than parameter iLimit.
Each pointer stored in the sqlite3.aCollSeq hash table contains an array of three CollSeq structures.
Either way, the ephemeral database will be automatically deleted  when sqlite3BtreeClose() is called.
Even if the whole file is valid UTF-8 sequences, still reject it if it uses weird control characters.
Extract the snippet text for fragment pFragment from cursor pCsr and append it to string buffer pOut.
For a new.rowid reference, p1 is set to (n+1), where n is the number of columns in each pseudo-table.
For additional information see the documentation on the xClose method of the virtual table interface.
For this reason, the division that implements proxy locking is located much further down in the file.
Generate code that will push the record in registers regData through regData+nData-1 onto the sorter.
Grow the output buffer so that there is sufficient space to fit the largest possible utf-8 character.
Hence the first byte in the returned affinity string in this example would be set to SQLITE_AFF_BLOB.
However, if we have already added a sample that shares this prefix, there is no need to add this one.
If "hitend" is set afterwards, remember the first starting point for which a partial match was found.
If *pPgno refers to a pointer-map page, allocate two new pages at the end of the file instead of one.
If N is negative, then the number of pages is adjusted so that the cache uses -N kibibytes of memory.
If P3 greater than P2, then also write NULL into register P3 and every register in between P2 and P3.
If SQLITE_IOCAP_POWERSAFE_OVERWRITE is defined, then padding is not needed and only the sync is done.
If SQLITE_RTREE_INT_ONLY is defined, then this virtual table will only deal with integer coordinates.
If a NULL pointer was passed as the collate function, fall through to the blob case and use memcmp().
If all of the above are true, then WHERE_ORDERBY_MIN or WHERE_ORDERBY_MAX is returned as appropriate.
If any named groups were found, create the name/number table from the list created in the first pass.
If argument pNear is NULL, then a new Fts5ExprNearset object is allocated and populated with pPhrase.
If compiling for a processor that lacks floating point support, substitute integer for floating-point
If no error message is available, zBufOut is left unmodified and SQLite uses a default error message.
If no error occurs, SQLITE_OK is returned and the size of the database in pages is stored in *pnPage.
If that is the case and pB is not using TK_REGISTER but is otherwise equivalent, then still return 0.
If the Walker does not have an xSelectCallback() then this routine is a no-op returning WRC_Continue.
If the connection is open in rollback-mode, a RESERVED or greater  lock is held on the database file.
If the handle had any kind of transaction open, decrement the  transaction count of the shared btree.
If the node is dirty and the reference count drops to zero, the node data is written to the database.
If the record identified by P3 and P4 is not the prefix of any entry in P1 then a jump is made to P2.
If the reference is followed by a COLLATE operator, then make sure the COLLATE operator is preserved.
If the requested reference is  successfully obtained, it is copied to *ppPage and SQLITE_OK returned.
If there are not, there is no need to check if deleting this row resolves any outstanding violations.
If there is no blocking connection, the callback is invoked immediately, before this routine returns.
If they do not match the  magic string found at the start of each journal header, return SQLITE_DONE.
If this is a prefix query, check that the results returned if the the index is disabled are the same.
If this message is triggered you should increase the ZEND_MMAP_AHEAD value in the zend_streams.h file
If this phrase is applies specifically to some column other than  column iCol, return a NULL pointer.
If writable static data is unsupported on the target, we have to locate the state vector at run-time.
If zDatabase is 0, all databases are searched for the table and the first matching index is returned.
If zDatabase is 0, all databases are searched for the table and the first matching table is returned.
Index for the variable is stored using the numeric value of the pointer to the zend_refcounted struct
Instead of using a prefix-index (if one exists),  evaluate the prefix query using the main FTS index.
Invoke the authorization callback for permission to read column zCol from table zTab in database zDb.
It returns a negative, zero or positive integer if key1 is less than, equal to or  greater than key2.
Move the cursor down to the left-most leaf entry beneath the entry to which it is currently pointing.
Move the cursor down to the right-most leaf entry beneath the page to which it is currently pointing.
NN is the number of neighbors on either side of the page that participate in the balancing operation.
Now that it is known how many phrases there are, allocate and zero the required space using malloc().
Now when 1 and 2 are destroyed, 3 can still access 2 in its destructor, with very problematic results
Opcode: VCreate P1 P2 * * *  P2 is a register that holds the name of a virtual table in database  P1.
Or, if an error occurs, an SQLite error code is returned and the final value  of *ppOut is undefined.
Or, if iIdxNoSeek is not a valid cursor number, the position of iDataCur should be preserved instead.
Or, if it is a floating point value, it may continue with either a decimal point or an 'E' character.
Or, if the  allocation comes from the pSpace/szSpace buffer, *ppFree is set to NULL before returning.
Otherwise, an error code and message is left in the RBU handle and a copy of the error code returned.
Pass back the character offset and error code for an invalid string if a results vector is available.
Preventing SQLite from taking this  prevents it from checkpointing the database from sqlite3_close().
RIGHT_SHIFT rounds towards minus infinity, so adding 8 is correct for either sign of the error value.
Register a callback to be invoked each time a transaction is rolled back by this database connection.
Register a statically linked extension that is automatically loaded by every new database connection.
Reset the return code so as not to report a checkpoint failure just because there are active readers.
Restart interation for expression pExpr so that the next call to fts3EvalNext() visits the first row.
Return a pointer to the Pager.nExtra bytes of "extra" space  allocated along with the specified page.
Return a static string containing the name corresponding to the error code specified in the argument.
Return the number of pages still to be backed up as of the most recent call to sqlite3_backup_step().
Return true if the index with affinity idx_affinity may be used to implement the comparison in pExpr.
Returns non-zero if the specified path name starts with a drive letter followed by a colon character.
Round to NUMCOLORS levels of antialiasing for index color images since only 256 colors are available.
SQLite makes the (reasonable) assumption that all bytes of a sector are written together by hardware.
Session creation returns OCI_SUCCESS_WITH_INFO when user's password has expired, but is still usable.
Since Unicode code points in that range are not disallowed in any document type, we could do nothing.
Skip over any whitespace before checking for a keyword, an open or close bracket, or a quoted string.
So we will commandeer the 9th cell to use as storage for an array of pointers to trigger subprograms.
Sometimes, after a file handle is closed by SQLite, the file descriptor cannot be closed immediately.
The "unordered" keyword, if it is present, must be separated from the last integer by a single space.
The OP_NotFound opcode performs the same operation on index btrees (with arbitrary multi-value keys).
The VDBE cursor numbers are small integers contained in  SrcList_item.iCursor and Expr.iTable fields.
The actual file might be larger than this in PAGER_JOURNALMODE_TRUNCATE or PAGER_JOURNALMODE_PERSIST.
The caller is responsible for insuring that there is enough space in *pp to hold the complete output.
The callout item calls an external function, if one is provided, passing details of the match so far.
The contents of the bucket are the element pointed to plus the next _ht.count-1 elements in the list.
The default value for the auto-vacuum property is  determined by the SQLITE_DEFAULT_AUTOVACUUM macro.
The double-precision datatype used by RTree depends on the SQLITE_RTREE_INT_ONLY compile-time option.
The first is the collation sequence preferred for UTF-8, the second UTF-16le, and the third UTF-16be.
The following routines provide output for bcd numbers package using the rules of POSIX bc for output.
The following two macros are used within the PAGERTRACE() macros above to print out file-descriptors.
The last is always set to 1, as once the trailing PK fields are considered all index keys are unique.
The nExtra parameter specifies the number of bytes of space allocated along with each page reference.
The output buffer should be big enough to hold the whole output file and a NUL terminator at the end.
The pPrior and regPrior parameters are used to implement a cache to avoid unnecessary register loads.
The second form of this pragma is a no-op if the main database file has not already been initialized.
The sqlite3ExprIsConstantOrFunction() is used for evaluating expressions in a CREATE TABLE statement.
The value in register (P3+P2-1) corresponds to the  p2th element of the argv array passed to xUpdate.
The value of N is added to the current status value and the high-water mark is adjusted if necessary.
The xSleep() method causes the calling thread to sleep for at least the number of microseconds given.
There must already be a RESERVED or EXCLUSIVE lock on the database  file when this routine is called.
This call will also be intercepted (see the rbuVfsOpen() function) and the *-oal file opened instead.
This function  asserts that page number iChild is the left-child if the iIdx'th cell in page pParent.
This function (for internal use only) locates an element in an hash table that matches the given key.
This function does not clear the VDBE error code or message, just copies them to the database handle.
This function is called just before writing a set of frames to the log file (see sqlite3WalFrames()).
This function moves *ppPoslist so that it instead points to the first byte of the same position list.
This function must be called after all terms have been added to the segment using fts3SegWriterAdd().
This function returns a pointer to a nul-terminated string in memory obtained from sqlite3DbMalloc().
This however means constant hashing of the column name, which is not needed as it can be precomputed.
This is a variant of sqlite3PagerWrite() that runs when the sector size is larger than the page size.
This is the first of several action routines that get called in response to a CREATE TABLE statement.
This loop moves all of the FROM elements of the subquery into the the FROM clause of the outer query.
This means definitely roll back, so just return SQLITE_OK and report a (nul) master-journal filename.
This module uses it opaquely as an argument to sqlite3BackupRestart() and sqlite3BackupUpdate() only.
This opcode leaves the cursor configured to move in forward order, from the beginning toward the end.
This opcode leaves the cursor configured to move in reverse order, from the end toward the beginning.
This routine implements a busy callback that sleeps and tries again until a timeout value is reached.
This routine leaves *ppPoslist pointing to the POS_COLUMN or POS_END that terminates the column-list.
This should be fixed by reallocating the olestring, but as emalloc is used, that doesn't matter much.
This version of the memory allocator is only built into the library SQLITE_ENABLE_MEMSYS3 is defined.
Unable to register shutdown function, presumably because of lack of memory, so flush the session now.
Until IE's user base drops to nill or problem is fixed this code must remain enabled for all systems.
Update the state of the lock has held in the file descriptor then return the appropriate result code.
Usually this is encoded in the same unicode encoding as the main database (see below for exceptions).
VFUNCTION(zName, nArg, iArg, bNC, xFunc) Like FUNCTION except it omits the SQLITE_FUNC_CONSTANT flag.
Varint 1+nCol:  The total size, in bytes, of all text values in all columns of all rows of the table.
WRITE-AHEAD LOG (WAL) FILE FORMAT  A WAL file consists of a header followed by zero or more "frames".
We want to check the current branch of the current pattern to see if it could match the empty string.
Write the local Cell size (the number of bytes on the original page, omitting overflow) into *pnSize.
XXX FIXME we should really check out SQLSTATE with SQLError in case rc is SQL_SUCCESS_WITH_INFO here.
_bc_rm_leading_zeros just moves the data "value" pointer to the correct place and adjusts the length.
auto-detect line endings, looks like unix-lineendings, not to spec, but it is seem in the wild, a lot
com.typelib_file is the path to a file containing a list of typelibraries to register *persistently*.
copy real values from symbol table into CV slots and create INDIRECT references to CV in symbol table
get2byteAligned(), unlike get2byte(), requires that its argument point to a two-byte aligned address.
if we have __set and property that is not part of the properties array is set, we call __set handler.
intentionally using str_find here, in case the hash value is set, but the string val is changed later
invalid fd, unless during file system support introspection, in which  it actually means what it says
not a unicode code point, unless, coincidentally, it's in the 0x20..0x7D range (except 0x5C in sjis).
response is ecalloc()d in Ack() itself and efree()d here because the content is in *error_message now
zOut points to a buffer of at least sqlite3_vfs.mxPathname bytes  (in this case, MAX_PATHNAME bytes).
2.0.13: Bob Ostermann: don't force autohint, that's just for testing freetype and doesn't look as good
A read transaction must have already been started by a prior call to sqlite3WalBeginReadTransaction().
ARM_TP_ADDRESS is (ARM_VECTORS_HIGH + 0x1000) or 0xffff1000 and is known to runtime.read_tls_fallback.
All names are legal except those that begin with the string "sqlite_" (in upper, lower or mixed case).
Allocates all the resources needed, establishes the connection and returns the result handle (or NULL)
Although this software can handle dates all the way back to 4713 B.C., such use may not be meaningful.
Although this software can handle dates all the way back to 4714 B.C., such use may not be meaningful.
An exception is when the trigger is in TEMP in which case it can refer to any other database it wants.
And to the contents of all position lists that will be copied and merged from the input to the output.
Arrays as well as tables can however be accessed by numerical index, with table keys readable ex post.
At this point, the return is converted into MATCH_NOMATCH so that previous backup points can be taken.
Attempting to use RBU with a zipvfs VFS stack that does not include the RBU layer results in an error.
Because an EXCLUSIVE lock is held on the database file, the log and log-summary files will be deleted.
Because the register does not control the string, it might be deleted without the register knowing it.
Both the schema-version and the user-version are 32-bit signed integers stored in the database header.
But by separating it out, the code will be automatically omitted from static links that do not use it.
ClearSilver Templating System  This code is made available under the terms of the ClearSilver License.
Code taken from libxml2 (2.6.20) xmlNewReconciliedNs  Find a close prefix which is not already in use.
Compute in mxSafeFrame the index of the last frame of the WAL that is safe to write into the database.
Construct a trigger step that implements a DELETE statement and return a pointer to that trigger step.
Continues an MD4 message-digest operation, processing another message block, and updating the context.
Continues an MD5 message-digest operation, processing another message block, and updating the context.
Count the number of columns that will be added to the index and used to match WHERE clause constraints
Create a single sqlite_stat1 entry containing NULL as the index name and the row count as the content.
Detect compound SELECT statements that use an ORDER BY clause with  an alternative collating sequence.
Do not allow the total number of threads (main thread + all workers) to exceed the maximum merge count
Do this directly, instead of via sqlite3ApiExit(), to avoid setting the database handle error message.
Don't check the return value so that this works both from a job control shell and from a shell script.
EV: R-30323-21917 Each foreign key constraint in SQLite is classified as either immediate or deferred.
Each sample stored in the sqlite_stat3 table is represented in memory  using a structure of this type.
Either we already exported a stream or the socket came from an import, just return the existing stream
Empirically the best subbox size seems to be about 1/512th of the histogram (1/8th in each direction).
Example: Suppose the join is like this:  A natural cross join B  The operator is "natural cross join".
Figure out whether or not the current contents of memory should be flushed to a PMA before continuing.
Firebird users should use the aliases, so future InterBase-specific changes will not affect their code
For a Real or Integer, use sqlite3_snprintf() to produce the UTF-8 string representation of the value.
For bitmask tests, testcase() can be used to make sure each bit is significant and used at least once.
Fts5 guarantees that this function will be invoked exactly once for each successful call to xCreate().
Get the column number in the table (iColumn) and sort order (revIdx) for the j-th column of the index.
Gives the test harness in go_darwin_arm_exec (which uses lldb) a chance to move the working directory.
IMPORTANT:  Changing the PENDING byte from 0x40000000 results in an incompatible database file format.
If *pRc is not SQLITE_OK when this function is called, it is a no-op (and a NULL pointer is returned).
If P1 is non-zero, the database constraint counter is incremented  (deferred foreign key constraints).
If SQLite is already completely initialized, then this call to sqlite3_initialize() should be a no-op.
If an error occurs, or the table does not contain the specified row, an SQLite error code is returned.
If compiling for a processor that lacks floating point support, substitute integer for floating-point.
If daemonize, the calling process will die soon and the master process continues to initialize itself.
If in/out parameter (*pRc) is set to other than SQLITE_OK when this function is called, it is a no-op.
If nIncr is less than zero, then check at runtime if there are any outstanding constraints to resolve.
If obtaining a child page for a cursor, we must verify that the page is compatible with the root page.
If parameter nReserve is less than zero, then the number of reserved bytes per page is left unchanged.
If required, populate the output variables with a pointer to and the size of the previous offset-list.
If the P1 cursor must be pointing to a valid row (not a NULL row) of a real table, not a pseudo-table.
If the compound query operator is UNION then no duplicate rows are ever inserted into the Queue table.
If the error is in a system call (i.e. localtime()), then an error message is written to context pCtx.
If the iStart argument had been 1 instead of 2, then the result would have been:  A, nil, nil, nil, B.
If the look-ahead token is YYNOCODE, then check to see if the action is independent of the look-ahead.
If the most recent API call was successful, then the return value from sqlite3_errcode() is undefined.
If the options are changed during the branch, the pointer is used to change the external options bits.
If the second argument to this function is NULL, the object is allocated by calling sqlite3ValueNew().
If the value in "options" is zero, it just means we have found all possible matches, so the loop ends.
If there is a matching node and we're at the end of the HDF name, then we update the value of the node
If there is no original file, or if we can't read the DACL, we'll use the default security descriptor.
If there is not a recovery running in another thread or process then convert BUSY errors to WAL_RETRY.
If this array still has elements, add the current one to the parameter list, otherwise use null value.
If this is a leaf page or the tree is not an int-key tree, then  this page contains countable entries.
If we haven't matched any alternatives in any iteration, check to see if a previous iteration matched.
If we hit a bracket or a positive lookahead assertion, recurse to set bits from within the subpattern.
If zTable is NULL it means that the form of the name is Z and that columns from any table can be used.
If zType contains more than one of the substrings, entries toward the top of  the table take priority.
In May 2006, when it was observed to cause compiler warnings about unused values, I took it out again.
In other words, the value is converted into the desired affinity even if that results in loss of data.
In this case invalidate all incrblob cursors open on any row within the table with root-page pgnoRoot.
In this case the purpose of this call is to estimate the number of rows returned by the overall query.
Instead, create a synthetic root node that contains nothing but a  pointer to the single content node.
It is replicated here solely to avoid cluttering  up the real code with the UNUSED_PARAMETER() macros.
It is the responsibility of the caller to eventually free any such error message using sqlite3_free().
Large file support can be disabled using the -DSQLITE_DISABLE_LFS switch on the compiler command line.
Make sure cursor numbers have been assigned to all entries in the FROM clause of the SELECT statement.
Memory barriers are used to prevent the compiler or the hardware from reordering the reads and writes.
NUM is written in base O_BASE using OUT_CHAR as the routine to do the actual output of the characters.
Not multiline mode: assert before a terminating newline or before end of subject unless noteol is set.
Note that we must not include the OP_KETRxxx opcodes here, because they all imply an unlimited repeat.
Note we need not unload belowerrN because it is for the dummy column before or after the actual array.
Now we are going to compile the regular expression pattern, and handle * and errors that are detected.
OP_ONCE removes everything in case of a backtrack, so we don't need to explicitly release the STR_PTR.
Old session creation semantics when session pool cannot be used Eg: privileged connect/password change
On error, errorcode will be set non-zero, so we don't need to look at the result of the function here.
Only write cursors are tripped if writeOnly is true but all cursors are tripped if writeOnly is false.
Opcode: ReadCookie P1 P2 P3 * *  Read cookie number P3 from database P1 and write it into register P2.
Open a cursor to iterate through the contents of the oldest nSeg  indexes of absolute level iAbsLevel.
Or, it could be that the journal is  preserved because of JOURNALMODE_PERSIST or JOURNALMODE_TRUNCATE.
Otherwise an error would have been thrown during name resolution and we would not have gotten this far
Otherwise, it is assumed that the doclist is simply a list of docids stored as delta encoded  varints.
Page references obtained by calling this function should be released by calling pagerReleaseMapPage().
Previously we used strtol here, not is_numeric_string, and strtol gives you LONG_MAX/_MIN on overflow.
Read/write cursors for all indices of pTab must be open as cursor number iIdxCur+i for the i-th index.
Restructure the arrays based on sorted indirect - this is mostly taken from zend_hash_sort() function.
Return an expression that can be used in a WHERE clause to match the primary key of the current table.
Return the approximate number of bytes of memory currently used by the pager and its associated cache.
Return the number of values available from the current row of the currently executing statement pStmt.
Scenario (b) may only occur if the process is holding no other file descriptors open on the same file.
See the division above that contains the IOMETHODS macro for addition information on finder-functions.
Segment merging **** To amortize update costs, segments are grouped into levels and merged in batches.
Short-circuit having to go through method calls and data marshalling when we're using default behavior
So, error_log is used by - SysV init launch php-fpm as a daemon - Systemd launch php-fpm in foreground
Space to hold the binary value has been obtained from malloc and must be freed by the calling routine.
Tables created using by this opcode will be used for automatically created transient indices in joins.
The Incrblob.nByte field is fixed for the lifetime of the Incrblob so no mutex is required for access.
The SQLITE_ECEL_FACTOR argument allows constant arguments to be factored out into initialization code.
The basic idea is that each page of the file contains N database entries and N+1 pointers to subpages.
The child select may contain expression trees of at most (SQLITE_MAX_EXPR_DEPTH-Parse.nHeight) height.
The context consists of a list of tables (the pSrcList) field and a list of named expression (pEList).
The current candidate is no better than any of the mxChoice paths currently in the best-so-far buffer.
The dates and times are stored as the number of days since noon in Greenwich on November 24, 4714 B.C.
The distinctive characteristic of this sqlite3_file is that the actual on disk file is created lazily.
The first argument should be a pointer to a function of type void(*)(void*,sqlite3*,const char*, int).
The first argument to it should be a copy of the pointer passed as the second argument to xTokenize().
The following EBCDIC-to-ASCII table may relate more closely to reality, or at least to modern reality.
The input lists are connected via pRight pointers and are  assumed to each already be in sorted order.
The mutex will already be held (obtained by code in malloc.c) if sqlite3GlobalConfig.bMemStat is true.
The number of tables in the FROM clause is limited by a test early in the sqlite3WhereBegin() routine.
The page cache subsystem reads and writes a file a page at a time and provides a journal for rollback.
The result is a string that identifies the particular version of the source code used to build SQLite.
The results of a SELECT can be distributed in several ways, as defined by one of the following macros.
The return value from this routine is WRC_Abort to abandon the tree walk and WRC_Continue to continue.
The sector size is the minimum write that can be performed without disturbing other bytes in the file.
The server compiles sometimes the full utf-8 (the mb4) as utf8m4, and the old as utf8, for BC reasons.
The sqlite.busyHandler member of the sqlite struct contains the busy callback for the database handle.
The sqlite3_mutex_try() routine is very rarely used, and when it is used it is merely an optimization.
The third argument to this function, aOvflSpace, is a pointer to a buffer big enough to hold one page.
The tokenizer is being called to tokenize  a bareword or quoted string specified as part of the query.
The variable codelink will be added to ecode when the condition is false, to get to the second branch.
The zFilename argument is the filename pointer passed into the xOpen() method of a VFS implementation.
Then match against the list of Unicode properties or large chars or ranges that end with a large char.
There are lots of rules for determining compatibility - see comments embedded in the code for details.
There is an assert() tagged with "NOTE 1" in the overflow cell insertion loop to prove this invariant.
There is no difference between SQLITE_SYNC_FULL and SQLITE_SYNC_NORMAL on platforms other than MacOSX.
This creates the virtual table module "rtree" and the debugging/analysis scalar  function "rtreenode".
This define is here because some versions of libintl redefine setlocale to point to libintl_setlocale.
This file contains C code routines that are called by the SQLite parser when syntax rules are reduced.
This function appends a text representation of the part of the doclist that is present to buffer pBuf.
This function is called to generate code that runs when table pTab is being dropped from the database.
This function is used as part of the big assert() procedure implemented by fts5AssertMultiIterSetup().
This function is used for testing only, it is not included in the build unless SQLITE_TEST is defined.
This function is used internally to remove the page pPage from the  PGroup LRU list, if is part of it.
This is a similar technique to that used by glibc on systems that do not have a real fallocate() call.
This is loaded last, as the TEMP database schema may contain references to objects in other databases.
This is no longer necessary as this function is now only called right before committing a transaction.
This is used by SELECT statements within triggers whose only purpose is the side-effects of functions.
This macro evaluates to true if the leaf contains no terms, or false if it contains at least one term.
This module should not be referenced otherwise, so it should not matter whether it is compiled or not.
This opcode only works for cursors used for sorting and opened with OP_OpenEphemeral or OP_SorterOpen.
This routine is used within assert() and testcase() macros only and does not appear in a normal build.
This routine must be called from the same thread in which the application-defined function is running.
This routine only needs to be called in the uncommon case when pExpect has the BTCF_Multiple flag set.
This routine walks an expression tree and resolves references to table columns and result-set columns.
This step is only for non-persistent connections as persistent connections have private session pools.
This superclass exists in order to define fields of the cursor that are common to all implementations.
Unless this extension is currently being used by a version of SQLite too old to support estimatedRows.
Verify condition (1):  If cells are moving left, update iPg only after iPg-1 has already been updated.
We do this in the real compile phase, not in the pre-pass, where the whole group may not be available.
We need some execute_data placeholder in stacktrace to be replaced by the real stack trace when needed
When a cached column is reused, make sure that its register is no longer available as a temp register.
Whenever a page is  moved to become a free-list leaf page, the corresponding bit is set in the bitvec.
Whether "past" means "less than" or "greater than" depends on whether this is an ASC or DESC iterator.
With the PECL OCI 1.3.x extensions, we release pconnections when oci_close takes the refcount to zero.
Write the supplied master journal name into the journal file for pager pPager at the current location.
block compression parameters -- after all codes are used up, and compression rate changes, start over.
if it is already byref, "move" it into the vargs array, otherwise make vargs a reference to this value
make sure that the trait method is not from a class mentioned in exclude_from_classes, for consistency
pRoot is the root of an incremental merge-tree with depth nDepth (according to vdbeSorterTreeDepth()).
pos is one past the last UChar - and represent the number of code units to advance in the utf-8 buffer
statement are columns, then numeric affinity is used if either column has NUMERIC or INTEGER affinity.
we have to return NULL on error here to avoid memleak because of ZE duplicating uninitialized_zval_ptr
we should still add element even if it's not OK, since we already wrote the length of the array before
(10) The pattern of bits in bytes 24 through 39 shall not repeat in less than one billion transactions.
(5)  Add all table columns to the PRIMARY KEY Index object so that the PRIMARY KEY is a covering index.
(6)  Replace the rowid tail on all automatically generated UNIQUE indices with the PRIMARY KEY columns.
A pointer to this structure will be returned to ocaml and passed in whenever something needs to be done
Adjust base and n to skip over SQLITE_AFF_BLOB entries at the beginning and end of the affinity string.
Advance iterator pIter until it points to a value equal to or laster than the initial value of *piLast.
All subsequent molads can be calculated from this starting point by adding the length of a lunar cycle.
An Explain object accumulates indented output which is helpful in describing recursive data structures.
An object of this type contains the state required to create or append to an appendable b-tree segment.
Applications must not attempt to access any of these methods if the iVersion of the VFS is less than 3.
Argument pArg is cast to a (void *) and made available as the function user-data (sqlite3_user_data()).
At the schema layer (and the SetCookie and ReadCookie opcodes) the number of free pages is not visible.
Attempt to read the database schema and initialize internal data structures for a single database file.
BINARY works for both UTF-8 and UTF-16, so add a version for each to avoid any unnecessary conversions.
But 4 and 5 byte types use so much data space that there can only be 4096 and 32 of them, respectively.
But for the static mutex types, the same mutex is returned on every call that has the same type number.
But we can still statically link against that API as long as we don't call it when running Win95/98/ME.
Changing this from a 64-bit to a 32-bit type limits the number of tables in a join to 32 instead of 64.
Check if we still need to put the file into the cache (may be it was already stored by another process.
Check that the leaf page indicated by the iterator really does contain the rowid suggested by the same.
Construct a WalInterator object that can be used to loop over all  pages in the WAL in ascending order.
Construct a trigger step that implements an UPDATE statement and return a pointer to that trigger step.
Continues an SHA1 message-digest operation, processing another message block, and updating the context.
Copyright (C) 1997 - 2002, Makoto Matsumoto and Takuji Nishimura, Copyright (C) 2000 - 2003, Richard J.
Create a new FTS5 expression by cloning phrase iPhrase of the expression passed as the second argument.
Cut the link between the connection structure and the time_t structure allocated within the OCI session
Determine what state that goes to, based on the state we popped back to and the rule number reduced by.
Do this upfront so that connection close on an error would know that this is a session pool connection.
Docs say FSEventStreamCreate copies the fields out of this context, so it doesn't need to be long lived
Each time a document is  added to or removed from the index, this function is called one or more times.
Ensure no two columns have identical names: keep generating new names until we find one that is unique.
Even with the enabled per thread locale, localeconv won't check any locale change in the master thread.
Every page of the database is written approximately 3 times:  Once for step (2) and twice for step (3).
Figure out how many bytes of space are required to store explicitly specified collation sequence names.
Find the ORDER BY term that corresponds to the j-th column of the index and mark that ORDER BY term off
For LIKE and GLOB matching on EBCDIC machines, assume that every character is exactly one byte in size.
For very long strings (greater than 1GiB) the value returned might be less than the true string length.
Future versions of SQLite may change the behavior of sqlite3_column_type() following a type conversion.
GCC with -pedantic-errors says that C90 does not allow a void* to be cast into a pointer to a function.
Generate a select expression tree to enforce the limit/offset  term for the DELETE or UPDATE statement.
IMPLEMENTATION-OF: R-62028-47212 All calls obtain an exclusive  "checkpoint" lock on the database file.
INTERSECT_COMP_DATA_NONE - array_intersect_key() INTERSECT_COMP_DATA_INTERNAL - array_intersect_assoc()
If SQLITE_OK is returned, the caller is responsible for closing the file descriptor *pFd using close().
If both allow_ipv4 and allow_ipv6 flags flag are used, then the first dot or colon determine the format
If correcting for daylight savings time, we set the adjustment to the value of timezone - 3600 seconds.
If jit for auto globals is enabled we will have to ping the used auto global variables before execution
If not initializing, then create a record for the new table in the SQLITE_MASTER table of the database.
If page 1 was just written, update Pager.dbFileVers to match the value now stored in the database file.
If previous was a recursion call, wrap it in atomic brackets so that previous becomes the atomic group.
If sqlite3FunctionUsesThisSrc() is used differently in the future, the NEVER() will need to be removed.
If srcTab is negative, then the pEList expressions are evaluated in order to get the data for this row.
If the NEAR expression does not match any rows, zero the doclist for  all phrases involved in the NEAR.
If the attempt to reload content from the database is required and fails,  return an SQLite error code.
If the numeric type of argument pVal is "integer", then return it converted to a 64-bit signed integer.
If there is no work to do (and therefore no point in  calling this function again), return SQLITE_DONE.
If there were other file descriptors on this file, then no malloc would be required by findInodeInfo().
If this is not the root-page, then the moveToChild() routine would have already detected db corruption.
If we are already within a transaction, then a checkpoint is set if the setStatement parameter is true.
If we have not already resolved the name, then maybe  it is a new.* or old.* trigger argument reference
If we set a first char from the group, and didn't set a required char, copy the latter from the former.
If zFilename is NULL then a randomly-named temporary file is created and used as the file to be cached.
In the absence of explicit truth probabilities, use heuristics to guess a reasonable truth probability.
In the former case a NULL pointer is returned the user and the latter is an internal programming error.
In this case there have been no changes to the database file, so the playback operation can be skipped.
In this version, it is assumed that each SegReader points to an entry in a doclist for identical terms.
Inspired by http://stackoverflow.com/questions/6161776/convert-windows-filetime-to-second-in-unix-linux
It is assigned a node number when nodeWrite() is called to write the node contents out to the database.
It is painful to recover from incorrectly-computed hashes - merely fixing whatever broke is not enough.
It is the responsibility of the caller to eventually free any  such error message using sqlite3_free().
It merely means that we might do some extra work to journal a  page that does not need to be journaled.
Let the number of samples be S (10 in the standard build) and let C be the number of rows in the index.
MD5 Message-Digest Algorithm" in all material mentioning or referencing this software or this function.
More siblings are taken from one side, however,  if there are fewer than NN siblings on the other side.
NOTE: tidy does not support iterative/cumulative parsing, so chunk-sized output handler is not possible
Note that the relationship between SHAREd and EXCLUSIVE locks is a little different here than in posix.
Note: This method is disabled on MacOS X 10.7 and iOS version 5.0 and will always return SQLITE_MISUSE.
Now that there are no outstanding references to the pager, it can safely move back to PAGER_OPEN state.
Object used to iterate through all "coalesced phrase instances" in  a single column of the current row.
On some platforms the string will not be null-terminated, so return the effective length into *displen.
Once somebody had pointed out RFC 3629 to me (it obsoletes 2279), additional restrictions were applied.
Or, if running in multi-threaded mode, then a background thread is launched to merge the existing PMAs.
Otherwise, the state of the RBU  update application is saved in the RBU database for later  resumption.
Page that were previously rolled back out of the main journal (and are hence in pDone) will be skipped.
Pass back the position in the pattern so that it can be displayed to the user for diagnosing the error.
Possibly because the free-list is empty, or possibly because the  first trunk in the free-list is full.
Pre-fill cross axis dimensions when the child is using stretch before we call the recursive layout pass
Purge the cache before playing back the hot-journal so that we don't end up with an inconsistent cache.
Really, this is a generic string accumulator that can be and is used to create strings other than JSON.
Refer to the comment describing the zipvfs_create_vfs() API below for details on using RBU with zipvfs.
Replace the current "averages" record with the contents of the buffer  supplied as the second argument.
Return -ve if pLeft is smaller than pRight, 0 if they are equal or +ve if pRight is smaller than pLeft.
Set okToChngToIN if an appropriate table and column is found but leave okToChngToIN false if not found.
Since pLeft and pRight are both a column references, their collating sequence should always be defined.
So two or three index blocks are sufficient to cover a typical 10 megabyte WAL file, assuming 1K pages.
String matching - Sunday algorithm http://www.iti.fh-flensburg.de/lang/algorithmen/pattern/sundayen.htm
The "file format" number is an integer that is incremented whenever the VDBE-level file format changes.
The "flags" parameter is a bitmask that might contain bits like BTREE_OMIT_JOURNAL and/or BTREE_MEMORY.
The RC4 algorithm is being used as a PRNG (pseudo-random number generator) not as an encryption device.
The WAL_RECOVER_LOCK is also held so that other threads will know that this thread is running recovery.
The additional sanity checking data is an attempt to discover the garbage in the journal and ignore it.
The caller must hold the write-lock on the log file (obtained using sqlite3WalBeginWriteTransaction()).
The impersonation token is not actually assigned to the thread, but is used in the call to AccessCheck.
The jointype starts out showing the join type between the current table and the next table on the list.
The journal file is then deleted and SQLITE_OK returned, just as if no corruption had been encountered.
The local stats are those elements of the  array that are different for each row returned by the query.
The only reason to read this page is to obtain the page number for the next page in the overflow chain.
The original code caused an unsigned overflow in 64 bit systems, so now we use a conditional statement.
The results of the total query are to be written into a destination of type eDest with parameter iParm.
The second parameter to the callback is an integer code that specifies what action is being authorized.
The second part of a range can be a single-character escape sequence, but not any of the other escapes.
The sqlite3OsFileControlHint() routine has no return value since the return value would be meaningless.
The sqlite3_step() wrapper function might then reprepare the statement and rerun it from the beginning.
The start of the journal file currently contains a single journal  header with the nRec field set to 0.
The tokenizer is being invoked to determine the set of tokens to add to (or delete from) the FTS index.
The value used with sqlite3_win32_set_directory() to specify that the data directory should be changed.
The xConnect() method is not called until the first time the virtual table is used in an SQL statement.
There is already a transaction open, so the prepared statement cannot throw an SQLITE_SCHEMA exception.
This file contains C code routines that are called by the parser to handle INSERT statements in SQLite.
This file contains C code routines that are called by the parser to handle SELECT statements in SQLite.
This file contains a private PCRE function that converts an ordinal character value into a UTF8 string.
This function  leaves the PmaReader pointing to the first key in the PMA (or EOF if the  PMA is empty).
This function is the implementation of both the xConnect and xCreate methods of the FTS3 virtual table.
This function returns the database page-size if it is known, or zero if it is not (or if pWal is NULL).
This function updates the write-counter accordingly and, if necessary, performs incremental merge work.
This interfaces is needed so that users of cursors can preallocate sufficient storage to hold a cursor.
This is implemented by setting them to zerofirstbyte and zeroreqchar when such a repeat is encountered.
This is the 2-bit case and we are on the second iteration and current term is from the first iteration.
This is used to test whether or not the foreign key operation implemented using OP_FkIsZero is working.
This is used, for example, when a trigger sub-program is halted to restore control to the main program.
This routine generates code that will initialize all of the register used by the autoincrement tracker.
This routine should be called when the top of the stack holds a new rowid that is about to be inserted.
This routine should only be called after the expression has been analyzed by sqlite3ResolveExprNames().
This sample is being added because the prefix that ends in column  iCol occurs many times in the table.
This saves a call to the read implementation and will not block where blocking is not necessary at all.
This value is only useful in that it may be passed as the first argument to an FTS5 auxiliary function.
This varint contains the total number of bytes of content in the PMA (not including the varint itself).
Variable iNextHdrOffset is set to the offset at which this problematic header will occur, if it exists.
Verify condition (2):  If cells are moving right, update iPg only after iPg+1 has already been updated.
WAL connections never enter this state (since they do not modify the database file, just the log file).
We point D at C and try to atomically set events to point at D if and only if events still points at C.
When multiple functions have the same name, the hash table points to a linked list of these structures.
When that happens, it returns WAL_RETRY to indicate to the caller that it is safe to retry immediately.
Whether or not the file does end up memory mapped of course depends on the specific VFS implementation.
Windows (win32/crypt) has a stripped down version of libxcrypt and a CryptoApi md5_crypt implementation
brig_in will always be empty here, as the filter MUST attach any un-consumed buckets to its own brigade
if it's a child, stop here without creating the next event this event is reserved to the master process
pIsNocase is set to true if uppercase and lowercase are equivalent for the function (default for LIKE).
sqlite3MemdebugSetType() sets the "type" of an allocation to one of the MEMTYPE_* macros defined below.
then nEq is set to 1 (as the range restricted column, b, is the second  left-most column of the index).
this can actually happen if you use debug_backtrace() in your error_handler and you're in the top-scope
this code borrowed from here: http://lists.apple.com/archives/Darwin-development/2002/Mar/msg00746.html
we have a docref for a function AND - we show errors in html mode AND - the user wants to see the links
we have to iterate through the set of code points for this encoding and map them to unicode code points
(If there is no group 2, there is no problem, because offset_top will then be 2, indicating no capture.)
(This is largely to prevent certain holidays from occurring on the day before or after the Sabbath.)  2.
+ If there is a tokenizer specification included in the arguments, initializes the tokenizer pTokenizer.
5-byte and 6-byte characters are not allowed by RFC 3629, and will be rejected by the length test below.
A copy of pExpr is used instead of the original, as pExpr contains tokens that point to volatile memory.
A memory allocation (also called a "chunk") consists of two or  more blocks where each block is 8 bytes.
Add a character to the end of the current packet, and if it is 254 characters, flush the packet to disk.
Allocate space for the conch filename and initialize the name to the name of the original database file.
Also write an error message into memory obtained from malloc() and make *pzErrMsg point to that message.
Also, do not write out any page that has the PGHDR_DONT_WRITE flag set (set by sqlite3PagerDontWrite()).
Also, when compiling for Virtual Pascal, things are done differently, and global variables are not used.
An example of non-essential memory is memory used to cache database pages that are not currently in use.
But for the static  mutex types, the same mutex is returned on every call that has the same type number.
But that would mean passing a sufficiently large expression to ExprParse() could cause a stack overflow.
But they are stable, as they are part of the definition of the SQLite file format, which may not change.
Check for the special magic call that measures the size of the stack used per recursive call of match().
Check to see if element iRowid was inserted into the rowset as part of any insert batch prior to iBatch.
Code an OP_Affinity opcode to apply the column affinity string zAff to the n registers starting at base.
Database file specified with an absolute path are not impacted by this setting, regardless of its value.
Do not print out fnops, unless everything is an fnop, in which case we will print out just the last one.
Documentation about VDBE opcodes is generated by scanning this file for lines of that contain "Opcode:".
EVIDENCE-OF: R-06529-47362 Following the size varint are one or more additional varints, one per column.
Each extension function is allocated a single auxiliary data slot for each FTS query (MATCH expression).
Each tokenizer module registered with the FTS5 module is represented by an object of the following type.
Every cursor that the virtual machine has open is represented by an instance of the following structure.
For an encrypted database, the situation is more complex:  bytes 24..39 of the database are white noise.
For each subsequent argument, make it a reference, increase refcount, and add it to the end of the array
For example, if passed 235 - "LATIN SMALL LETTER E WITH DIAERESIS" - return 65 ("LATIN SMALL LETTER E").
For now, we return with a failure code to prevent the underlying file's details from being used instead.
For this debugging implementation, we *always* make a copy of the allocation into a new place in memory.
For this reason, it is simplest to treat this case separately, as otherwise the code gets far too messy.
Given a year, find the number of the first day of that year and the date and time of the starting molad.
However, for some POSIX classes (e.g. graph, print, punct) a special property code is compiled directly.
If  an error occurs while running the checkpoint, an SQLite error code is  returned (i.e. SQLITE_IOERR).
If QUALITY is in the range 0-100, increasing values represent higher quality but also larger image size.
If SQLITE_DENY is returned, then the error count and error message in pParse are modified appropriately.
If an error (an OOM or VFS error) occurs, then an SQLite error code is returned and *ppPage is set to 0.
If an error occurs during execution of this function, *pRc is set to  the appropriate SQLite error code.
If any of the indexed columns use a collation sequence other than BINARY, this optimization is disabled.
If argument bErrormsg is true and an error occurs, an error message may be left in sqlite3_vtab.zErrMsg.
If no  such buffer exists or there is no space left in it, this function falls  back to sqlite3Malloc().
If pIdx is NULL, then the parent key is the INTEGER PRIMARY KEY column of the parent table (table pTab).
If so, remove it, schedule the contents of the child for reinsertion and  reduce the tree height by one.
If study option was specified, study the pattern and store the result in extra for passing to pcre_exec.
If the WAL is large (multiple megabytes is typical) that scan can be slow, and read performance suffers.
If the lower four bits of the flag equal SQLITE_SYNC_NORMAL, that means to use normal fsync() semantics.
If the stream was fopencookied, we must NOT touch anything here, as the cookied stream relies on it all.
If the wal-header appears to be corrupt, try to reconstruct the wal-index from the WAL before returning.
If there is a destructor routine associated with the token which is popped from the stack, then call it.
If they actually want to perform the conversion, we need to switch the memory stream to a tmpfile stream
If this is the end of a transaction, then we might need to pad the transaction and/or sync the WAL file.
If this is the first header read from the journal, truncate the database file back to its original size.
If this is the first thing in the branch, there can be no first char setting, whatever the repeat count.
If we've a valid pointer, return the SMTP server response so the error message contains more information
If zNum represents an integer that will fit in 32-bits, then set pValue to that integer and return true.
In order to maintain backwards compatibility with older code, these functions continue  to be supported.
In the pre-compile phase, update the length by the length of the group, less the brackets at either end.
In this case we can mark the page as clean, since there will be no need to write it out to the database.
Indicate that all subsequent calls to sqlite3Fts5IndexWrite() pertain to the document with rowid iRowid.
Insert code to test every subexpression that can be completely computed using the current set of tables.
Invoked when a user calls Phar::mapPhar() from within an executing .phar to set up its manifest directly
It can still happen if the user locks the underlying tables directly  instead of accessing them via FTS.
It is common for the entire key and data to fit on the local page and for there to be no overflow pages.
It is possible for the schema to change multiple times and for the cookie to be set back to prior value.
It is valid to scan an empty directory but we have an invalid handle in this case (no first file found).
It returns false if it is safe to retrieve the page from the pager layer with the 'no-content' flag set.
Make sure it is not a system table being altered, or a reserved name that the table is being renamed to.
Make sure the new table name does not collide with an existing index or table name in the same database.
Memory for this node and for the pToken argument is a single allocation obtained from sqlite3DbMalloc().
NOTES Be careful to rewind any vector passed in to you if you expect to iterate through the entire list.
Needed because some systems do not allow to write to the original file contents with O_APPEND being set.
Note that the SQLITE_TEXT constant was also used in SQLite version 2 for a completely different meaning.
Note that the table for "space" includes everything "isspace" gives, including VT in the default locale.
Notes:  A pager is never in WRITER_DBMOD or WRITER_FINISHED state if the connection is open in WAL mode.
Of course, updating the input segments also involves deleting a bunch of blocks from the segments table.
On a 60 MHz Pentium this takes 34 msec, so you would need 30 seconds to build a 1000 entry dictionary...
Once there are FTS3_MERGE_COUNT segments of level N, they are merged into a single segment of level N+1.
Only the data content may only be modified, it is not possible to  change the length of the data stored.
Or, if argument bFromValid is non-zero, then pNode is advanced until it is at or past rowid value iFrom.
Or, if the name of a WITHOUT ROWID table is supplied instead, find the PRIMARY KEY index for that table.
Otherwise, if argument isClearTable is false, then the row with rowid iRow is being replaced or deleted.
PTRMAP_PAGENO returns the database page number of the pointer-map page that stores the required pointer.
Parse a "special" CREATE VIRTUAL TABLE directive and update configuration object pConfig as appropriate.
Recompute all indices of all tables in all databases where the indices use the collating sequence pColl.
Remove entries from the sqlite_statN tables (for N in (1,2,3)) after a DROP INDEX or DROP TABLE command.
Return SQLITE_OK on success or an error code (probably SQLITE_NOMEM) if unable to complete the resizing.
Return true if the current thread holds the database connection mutex and all required BtShared mutexes.
Returns -1 if not plausible, else the difference between the lowest and the highest fileposition reached
SRT_Output      Generate a row of output (using the OP_ResultRow opcode) for each row in the result set.
Search the first N tables in pSrc, from left to right, looking for a table that has a column named zCol.
Set *pbEof to true there is no next entry because the MergeEngine has reached the end of all its inputs.
Set nSum to the number of distinct (iCol+1) field prefixes that occur in the stat4 table for this index.
Set the WHERE_ONEROW flag if the xBestIndex() method indicated that the scan will visit at most one row.
Should not go over MYSQLND_MAX_PACKET_SIZE, since we expect non-arena memory in mysqlnd_wireprotocol.c .
Should only be used for the insertion of the odd element ,not the piecemeal building of an entire queue.
Since "b" is a non-hidden column but "a" is hidden, the TF_OOOHidden attribute would apply in this case.
Special comments in vdbe.c and the mkopcodeh.awk script in the make process cause these values to align.
TF_OOOHidden applies to virtual tables that have hidden columns that are followed by non-hidden columns.
Temp streams are streams that uses memory streams as long their size is less than a given memory amount.
That will never happend for an IdxRowid opcode, hence the NEVER() arround the check of the return value.
The Parse.pTriggerPrg list never contains two entries with the same values for both pTrigger and orconf.
The TEST primitive will only see elements that were inserted before the last change in the batch number.
The caller will try to open a new file descriptor on the same path, fail, and return an error to SQLite.
The checksum is store in the first page of xShmMap memory as an 8-byte  blob starting at byte offset 40.
The class of our object is the same as the scope, and the private function (EX(fbc)) has the same scope.
The eStmt parameter passed to this function must match that passed to the sqlite3Fts5StorageStmt() call.
The following table describes the relationship between these two values and this functions return value.
The last four columns apply to items that cannot be repeated, so there is no need to have rows for them.
The original design allowed these amounts to vary, but as of version 3.6.0, we require them to be fixed.
The page handle passed as the first argument refers to a dirty page  with a page number other than iNew.
The pager must already hold the exclusive lock on the main database file before invoking this operation.
The parseCellPtr() function fills in this structure based on information extract from the raw disk page.
The pass2 scanning routines call fill_inverse_cmap when they need to use an unfilled entry in the cache.
The prepared statements need to know in advance the complete set of attached databases that will be use.
The presence of a busy handler does not guarantee that it will be invoked when there is lock contention.
The purpose of this SHARED lock is to prevent any other client from unlinking the WAL or wal-index file.
The record consists of a single 32-bit configuration cookie value followed by a list of  SQLite varints.
The second argument is a reference to a page that is  currently dirty but has no outstanding references.
The upper bound on 62 is because a 64-bit integer bitmap is used internally to track attached databases.
The value passed as the first argument to this function is the right-hand operand to the MATCH operator.
Therefore they can be overwritten by different threads if they detect the CPU features in the same time.
Therefore, these apply in the case when only characters less than 256 are recognized to match the types.
These two settings are used in the code for checking a UTF-8 string that follows immediately afterwards.
They are used to verify that different "types" of memory allocations are properly tracked by the system.
This INSERT command is part of a VACUUM operation, which guarantees that the destination table is empty.
This can only occur if a second cursor modifies the page while cursor pCur is holding a reference to it.
This ensures that no new SHARED locks can be obtained, but existing SHARED locks are allowed to persist.
This function tests if there exist any documents with docid values that are different from that integer.
This implementation parses JSON text at 250 MB/s, so it is hard to see how JSONB might improve on that.)
This involves freeing descriptors and rolling back transactions, setting timeout-related parameters etc.
This is a comparison function used as a qsort() callback when sorting an array of pending terms by term.
This is a feature that makes it possible to save compiled regex and re-use them in other programs later.
This is needed to work around problems caused by indexing and/or anti-virus software on Windows systems.
This is not generally possible with a WAL database, as rollback involves simply truncating the log file.
This is very similar to the code for single characters, but we repeat it in the interests of efficiency.
This macro is used only within assert() to verify that the code gets all alignment restrictions correct.
This module contains C code that generates VDBE code used to process the WHERE clause of SQL statements.
This needs to be remedied by loading the page into the pager-cache and setting the PGHDR_NEED_SYNC flag.
This operation must occur while the pager is still holding the exclusive lock on the main database file.
This routine checks if there is a RESERVED lock held on the specified file by this or any other process.
This routine is never called with any other destination other than the ones handled above or SRT_Output.
This routine is used to extract the "offset to cell content area" value from the header of a btree page.
This routine must be called prior to passing the structure to one of the sqliteFixAAAA() routines below.
This text is not quoted - if it is used as part of an SQL statement it needs to be quoted appropriately.
This variable is set to false when running tests for which the on disk structures should not be corrupt.
To avoid this hazard, the pager switches into the ERROR state instead of READER following such an error.
Under LinuxThreads, a lock created by thread A cannot be modified or overridden by a different thread B.
Unless the pager is (or recently was) in exclusive-locking mode, a user-level read transaction is  open.
When this is the case, the nmatch and pmatch arguments are ignored, and the only result is yes/no/error.
Within the RBU_STAGE_OAL stage, each call to sqlite3rbu_step() performs one of the following operations.
check that class_type is traversable at c-level or implements at least one of 'aggregate' and 'Iterator'
don't forget to reset the various libc globals that we might have changed by an earlier call to tzset().
dst must be register, TMP_REG1 arg1 must be register, TMP_REG1, imm arg2 must be register, TMP_REG2, imm
if it is a space, check if it is at the line boundary, copy and insert a break, or just keep track of it
it is sometimes activated temporarily while debugging code responsible  for setting pointer-map entries.
metonic cycle    A 19 year cycle which determines which years are leap years and which are common years.
no check for PG(last_error_file) is needed since it cannot be NULL if PG(last_error_message) is not NULL
pcache1.separateCache is false if the single PGroup in pcache1.grp is used for all page caches (mode-2).
refuse to return an empty string just because by accident we knew of EOF in a read that returned no data
select() may have set it to something else, in which case we leave it alone, so this branch does nothing
when writing file (but not appending), it must NOT exist, unless a context option exists which allows it
xGetAuxdata(pFts5, bClear)  Returns the current auxiliary data pointer for the fts5 extension  function.
(3)  Register to hold the rowid in sqlite_sequence of pTab  The 2nd register is the one that is returned.
(But leave references to the ROWID column  unchanged.)  This routine is part of the flattening procedure.
***  Check to see if pBtree holds the required locks to read or write to the  table with root page iRoot.
A connection with the read-uncommitted flag set will never try to obtain a read-lock using this function.
All triggers associated with a single table form a linked list, using the pNext member of struct Trigger.
Application writers should be aware that experimental interfaces are subject to change in point releases.
Arrange for convenient computation of quotients: shift left if necessary so divisor has 4 leading 0 bits.
Assuming the wal-index file was successfully mapped, populate the page number array and hash table entry.
At the same time, do error checking on function usage and set a flag if any aggregate functions are seen.
At this point it would be dangerous to change back to READER state (as usually happens after a rollback).
Attempt to automatically detect the operating system and setup the necessary pre-processor macros for it.
But because of quirks of some compilers, we have to specify the value in the less intuitive manner shown:
But when LIMIT and OFFSET became arbitrary expressions, we were forced to add restrictions (13) and (14).
Called once per process to initialize a mach port server, listening for EXC_BAD_ACCESS thread exceptions.
Called when iAmt bytes are read from offset iOff of the wal file while the rbu object is in capture mode.
Changing the value of this variable while a database connection is open can result in a corrupt database.
Compare the term in buffer zLhs (size in bytes nLhs) with that in zRhs (size in bytes nRhs) using memcmp.
Continues an SHA224 message-digest operation, processing another message block, and updating the context.
Continues an SHA256 message-digest operation, processing another message block, and updating the context.
Continues an SHA384 message-digest operation, processing another message block, and updating the context.
Continues an SHA512 message-digest operation, processing another message block, and updating the context.
Count the number of times that the LIKE operator (or GLOB which is just a variation of LIKE) gets called.
DEFAULT_FONTPATH and PATHSEPARATOR are host type dependent and are normally set by configure in config.h.
Description: Generic double ended queue (Deque pronounced DEK) for handling any data types, with sorting.
Ensure that we haven't overridden a private function and end up calling the overriding public function...
Entry 0 (the "main" database) and entry 1 (the "temp" database) are never candidates for being collapsed.
Expand the space allocated for the given SrcList object by creating nExtra new slots beginning at iStart.
Extensions should also check to make sure that the pointer to the function is not NULL before calling it.
Features and Architecture: - The XML parsing (xml_element.c) is completely independent of the XMLRPC api.
For a given table, there can be one or more read-only cursors or a single read/write cursor but not both.
For example, an application may allow a user to enter arbitrary SQL queries for evaluation by a database.
Generate a single line of output for the tree, with a prefix that contains all the appropriate tree lines
Generate code for the start of the iLevel-th loop in the WHERE clause implementation described by pWInfo.
Given a metonic cycle number, calculate the date and time of the molad (new moon) that starts that cycle.
Given that the freelist is valid, there is no way that the allocation can extend off the end of the page.
Hence, this routine only compares the prefixes  of the keys prior to the final rowid, not the entire key.
However some might still be in use so even after this clean-up we need to skip entries marked is_deleted.
IMP: R-59782-00072 The soundex(X) function returns a string that is the soundex encoding of the string X.
IMPLEMENTATION-OF: R-42059-47211 If the argument N is positive then the suggested cache size is set to N.
If  WHERE_ONETABLE_ONLY is set, iIdxCur is the cursor number of an index to use for OR clause processing.
If *pRc is not SQLITE_OK when this function is called, then no attempt is made to write any data to disk.
If WHERE_ONEPASS_DESIRED is set, then iIdxCur is the first cursor in an array of cursors for all indices.
If a chunk is checked out, the user data may extend into the u.hdr.prevSize value of the following chunk.
If a similar or greater lock is already held, this function is a no-op (returning SQLITE_OK immediately).
If a tree that appears to be taller than this is encountered, it is assumed that the database is corrupt.
If an AS-name match is found, mark this ORDER BY column as being a copy of the iCol-th result-set column.
If an error has occurred, either while opening or stepping the RBU object, this function may return NULL.
If pDbPage is an overflow page, then the first 4 bytes may store a pointer to a subsequent overflow page.
If the default page cache implementation is overridden, then neither of these two features are available.
If the main database exists, the new sqlite.enc value will be overwritten when the schema is next loaded.
If the minimum is zero, mark it as possessive, then unset the possessive flag when the minimum is 0 or 1.
If the page footer is 0 bytes in size, then this field is the same as the size of the leaf page in bytes.
If the stack pointer reached the top (left the global function) increase the pointer and the top pointer.
If the statement transaction needs to be rolled back, the value of this counter needs to be restored too.
If the sub-journal was opened successfully (or was already open), write the journal record into the file.
If the value of the stack variable bDescDoclist is 0 when this macro is invoked, then it returns (i1-i2).
If there is only one branch in a condition, the implied branch has zero length, so we don't add anything.
If there's no first char and the pattern was studied, there may be a bitmap of possible first characters.
If this is an insert into a table b-tree, invalidate any incrblob  cursors open on the row being replaced
If values are not available for all fields of the index to the left of this one, no estimate can be made.
If we are not using shared cache, then there is no need to use mutexes to access the BtShared structures.
If your stack is a linked list of frames, you have to provide an "address metric" ADDRESS_FUNCTION macro.
In case of error the reference will be released in free_result_internal() called indirectly by our caller
In order for this mem3.iMaster replacement to work, the master chunk must be linked into the hash tables.
In the current implementation the cache is traversed by a linear search from most-recent to least-recent.
In the event of a rollback, it may not be possible to restore the database to its original configuration.
In this case we must scan the list of groups to which the name refers, and use the first one that is set.
In this case, Expr.zSpan is typically the text of a column expression as it exists in a SELECT statement.
In this case, all BtShared mutexes and the mutex associated with the database handle itself must be held.
It does the work of the thread in the main thread, when either the thread is created or when it is joined
It is assumed that the buffer associated with pNode is already large enough to accommodate the new entry.
It is much less likely that the two ends of the journal record will be correct and the middle be corrupt.
It is only valid to call this function from within the xCreate() or xConnect() of a virtual table module.
It turns out that on some non-Unix-like systems there are problems with programs that use a lot of stack.
Jump here for an error that occurs after successfully allocating curMain and calling sqlite3BtreeEnter().
Known to src/cmd/link/internal/ld/sym.go:/0xf8 and to src/runtime/sys_linux_386.s:/0xf8 or /GOOS_android.
Like the other angle in libGD, in which increasing y moves downward, this is a counterclockwise rotation.
Lock the database file to level eLock, which must be either SHARED_LOCK, RESERVED_LOCK or EXCLUSIVE_LOCK.
Loop through all indices on the table, checking each to see if it makes the DISTINCT qualifier redundant.
Nevertheless, a dotlock is an appropriate locking mode for use if no other locking strategy is available.
Next are the tables used to determine what action to take based on the current state and lookahead token.
Nothing is guaranteed in this state - the file may or may not be locked and the database size is unknown.
Now begin substituting subquery result set expressions for  references to the iParent in the outer query.
On success, the *pDifferentRow parameter is false if the cursor is left pointing at exactly the same row.
On the other hand, if SQLITE_OMIT_MEMORYDB has been defined, then ":memory:" is just a regular file-name.
Once it has entered the ERROR state, any attempt to use the pager to read or write data returns an error.
Otherwise the journal might resurrect following a power loss and cause the last transaction to roll back.
Override path resolver function (to eliminate stat() calls caused by include_once/require_once statements
READER:  In this state all the requirements for reading the database in  rollback (non-WAL) mode are met.
Replace every reference to a column in table number iTable with a copy of the iColumn-th entry in pEList.
Reposition cursor P1 so that it points to the largest entry that  is less than or equal to the key value.
Return a pointer to the first character following *pIn in  the string that is not a "bareword" character.
Return the auxiliary data pointer, if any, for the iArg'th argument to the user-function defined by pCtx.
Return true if the argument corresponds to a unicode codepoint classified as either a letter or a number.
Set up the transaction-counter change checking flags when transitioning from a SHARED to a RESERVED lock.
Sets the context function to call to record the traceback context when calling a Go function from C code.
TODO: visit persistent handles: for each persistent statement handle, remove bound parameter associations
Test performance of native C UUID generation To Compile: cc -luuid benchmark-native.c -o benchmark-native
The P4 argument is only needed for the degenerate case where the step function was not previously called.
The Prev opcode is only valid following an SeekLT, SeekLE, or OP_Last opcode used to position the cursor.
The buffer pointed to by argument zNode (size nNode bytes) contains an interior node of a b-tree segment.
The cheapest token in the entire query (i.e. the one visited by the first iteration of this loop), or  b.
The default number of frames to accumulate in the log file before checkpointing the database in WAL mode.
The destination database handle is not locked in this routine, but it is locked in sqlite3_backup_step().
The next rowid or record number (different terms for the same thing) is obtained in a two-step algorithm.
The optional parameter allows the user to determine the new filename extension (default is .zip or .tar).
The proxy file - a single-byte file used for all advisory file locks normally taken on the database file.
The purpose of this superclass is to define certain fields that are common to all module implementations.
The solution is to add an in-memory page to the cache containing the data just read from the sub-journal.
The specified column name was rowid", "oid" or "_rowid_"  and there is no explicitly declared IPK column.
The subtype information can be used to pass a limited amount of context from one SQL function to another.
The table object reference passed as the second argument to this function must represent a virtual table.
The token *pName contains the name of a database (either "main" or "temp" or the name of an attached db).
The zlib notes say output buffer size should be (input size) * 1.01 * 12 - we'll use 1.02 to be paranoid.
There are three other classes that generate special property calls that are recognized only in an XCLASS.
There is no size field for the final position list, as it can be derived from the total size of the blob.
Therefor we need to re-use the exiting PHP instance to handle the request rather then creating a new one.
These addresses must be stored so that we can go back and fill in the P4_KEYINFO and P2 parameters later.
This "finder" function attempts to determine the best locking strategy  for the database file "filePath".
This C function implements an SQL user function that is used by SQL code generated by the ALTER TABLE ...
This algorithm comes from pnmcrop (http://netpbm.sourceforge.net/) Three steps: - if 3 corners are equal.
This allows code that has to deal with the pending byte to run on files that are much smaller than 1 GiB.
This branch may also run if pNewRowid contains a value that cannot be losslessly converted to an integer.
This condition is true when pItem is the FROM clause term on the right-hand-side of a LEFT or CROSS JOIN.
This function attempts to transform the expression tree at (*pp) to an equivalent but more balanced form.
This function is called by check_auto_possessive() when a property item is adjacent to a fixed character.
This function is the implementation of both the xConnect and xCreate methods of the r-tree virtual table.
This function sets up the rest of the iterator so that it points to the first rowid in the doclist-index.
This hash table is not expected to ever contain very many entries, so a fixed number of buckets is  used.
This involves modifying the contents of pParent, which may cause pParent to become overfull or underfull.
This is a hack necessary to accommodate situations where bucket is appended to the stream multiple times.
This is also problem for encoding like UTF-7/UTF-8/ISO-2022 which a single char can be more than 4 bytes.
This makes it easier to decode the various record formats without overreading if the records are corrupt.
This routine is used inside of assert() only ****  Verify that the cursor holds the mutex on its BtShared
To cope with both ways of handling this, I had resort to some messy hackery that does a test at run time.
ToDos  See if example images from http://www.exif.org have illegal thumbnail sizes or if code is corrupt.
Two elements in the vector are set for each substring: the offsets to the start and end of the substring.
Unless this extension is currently being used by a version of SQLite too old to support index-info flags.
Use that approximation to avoid the more expensive call to sqlite3VdbeSerialTypeLen() in the common case.
We work around this by registering a thread-level mach exception handler and intercepting EXC_BAD_ACCESS.
When all references to all pages are released, a rollback occurs and the lock on the database is removed.
When idx reaches MERGE_COUNT (default 16), all level 0 segments are merged into a single level 1 segment.
Whether this speeds things up or slows things down depends on the machine and the number being converted.
Windows "version" 6.2 could be Windows 8/Windows Server 2012, but also Windows 8.1/Windows Server 2012 R2
any              FAIL         Sqlite3_step() returns immediately with a return code of SQLITE_CONSTRAINT.
apply_func() receives the data and decides if the entry should be deleted or recursion should be stopped.
attempt to set security impersonation for fastcgi will only happen on NT based OS, others will ignore it.
certain schemas like mailto: and zlib: may not have any / after them this check ensures we support those.
fts5_config.c contains contains code to parse the arguments passed to the CREATE VIRTUAL TABLE statement.
function    : Q_AtHead  purpose     : tests if cursor is at head of queue  parameters  : 'queue' pointer.
gdImageCreateFromWBMPCtx ------------------------ Create a gdImage from a WBMP file input from an gdIOCtx
if the caller put us in the middle of a grapheme, we can't detect it in all cases since we can't back up.
in case we need to retry the :auto: lock file -  we should never get here except via the 'continue' call.
int8_t DidInitRun() // returns true int8_t DidMainRun() // returns true int32_t FromPkg() // returns 1024
interpreted as the data from the cert/key file and interpreted in same way as openssl_get_privatekey() 5.
it's ok to convert str_len to in32_t since if it were too big intl_convert_utf8_to_utf16 above would fail
libancillary - black magic on Unix domain sockets (C) Nicolas George fd_send.c - sending file descriptors
libancillary - black magic on Unix domain sockets (C) Nicolas George test.c - testing and example program
lunar cycle      The period of time between mean conjunctions of the sun and moon (new moon to new moon).
nAutomerge: The minimum number of segments that an auto-merge operation should attempt to merge together.
no interest in caching and no information already present that is needed later inside zend_call_function.
since there are places where (v)spprintf called without checking for null, a bit of defensive coding here
this complies with system.methodSignature as defined at http://xmlrpc.usefulinc.com/doc/sysmethodsig.html
we also support IPV6_TCLASS, but that can be handled by the default integer optval handling in the caller
(3)  Set the Index.tnum of the PRIMARY KEY Index object in the schema to the rootpage from the main table.
5.5.x reports 21 as scramble length because it needs to show the length of the data before the plugin name
A WhereLoop is one-row if all of the following are true: (a) All index columns match with WHERE_COLUMN_EQ.
A column-list is a list of non-negative delta-encoded varints, each  incremented by 2 before being stored.
A consecutive range of registers starting at regNewData contains the rowid and the content to be inserted.
A position-list blob begins with (nPhrase-1) varints, where nPhrase is the number of phrases in the query.
A subterm is also indexable if it is an AND of two or more subsubterms at least one of which is indexable.
Activate per-dir-system-configuration defined in php.ini and stored into configuration_hash during startup
After this routine is called, the zArg3 argument to authorization callbacks will be zContext until popped.
All functions that may be used in uncaught exception handlers must be final and must not throw exceptions.
An existing WhereLoop entry might be overwritten if the new template is better and has fewer dependencies.
An instance of the following structure is used to accumulate those values while the functions are running.
An instance of the following structure serves as the key used to locate a particular unixInodeInfo object.
Argument zName is the name of the table in the database schema at the time the generated code is executed.
Arrival here can only mean there is something seriously wrong in the code above or the OP_xxx definitions.
As many as MX_CLOSE_ATTEMPT attempts to close the handle are made before giving up and returning an error.
Call sqlite3_declare_vtab() based on the contents of the configuration object passed as the only argument.
Compute a string length that is limited to what can be stored in lower 30 bits of a 32-bit signed integer.
Construct a query to find the rowid or primary key for every row to be deleted, based on the WHERE clause.
Copy a single frame of data from the wal file into the database file, as indicated by the RbuFrame object.
Decreased twice then mysqlnd_free_result() will crash, because it will try to access already freed memory.
Deserialize and return the structure record currently stored in serialized form within buffer pData/nData.
EVIDENCE-OF: R-58015-48175 The two-byte integer at offset 5 designates the start of the cell content area.
Each auxiliary function registered with the FTS5 module is represented by an object of the following type.
Each subsequent argument is the name of a column of the fts3 table that the query expression may refer to.
Even if a read-transaction is not open, it is guaranteed that  there is no hot-journal in the file-system.
Failure either means it doesn't exist or it's a directory and this server fails on listing directory sizes
Finally check session id for dangerous characters Security note: session id may be embedded in HTML pages.
Find the memory cell that will be used to store the blob of memory required for this VdbeCursor structure.
Finds the expansion factor, i.e. the square root of the factor by which the affine transform affects area.
Flags appropriate for the wctrlFlags parameter of sqlite3WhereBegin() and the WhereInfo.wctrlFlags member.
For SHOW we don't create (bypasses PS in server) a result set at prepare and thus a connection was missing
For a WITHOUT ROWID table, create an ephemeral table used to hold all primary keys for rows to be deleted.
For constraints of the form X IN (...) this routine sets up a loop that will iterate over all values of X.
For each color selected by find_nearby_colors, compute its distance to the center of each cell in the box.
For instance, it may make more sense to have a 2.5k leaf node rather than splitting into 2k and .5k nodes.
For some database files, the same underlying database cache might be  shared between multiple connections.
Foreign key processing is only required if the operation modifies one or more child or parent key columns.
Generate code that checks the left-most column of index table iCur to see if it contains any NULL entries.
IMPORTANT: The estimatedRows field was added to the sqlite3_index_info structure for SQLite version 3.8.2.
If any of these pages are pinned, they are implicitly unpinned, meaning that they can be safely discarded.
If aspell was installed using installer, we should have a key pointing to the location of the dictionaries
If creating a master or main-file journal, this function will open a file-descriptor on the directory too.
If inFlags contains IN_INDEX_MEMBERSHIP, then the generated table will be used for a fast membership test.
If it cannot (because  the page needs to be defragmented before the cells will fit), non-zero is returned.
If one subtracts 'size' from the end of the segment, one has the address of the first word of the segment.
If pTab is a WITHOUT ROWID table, then it is the PRIMARY KEY index for that table that is actually opened.
If paBlob is non-NULL, then it is the responsibility of the caller to eventually free the returned buffer.
If table pTab has no temporary triggers, or is itself stored in the  temporary database, NULL is returned.
If the buffer currently allocated is too small for this entry, realloc the buffer to make it large enough.
If the database supports auto-vacuum, write an entry in the pointer-map to indicate that the page is free.
If the docids in the input doclists are sorted in ascending order, parameter bDescDoclist should be false.
If the list is in order (which it should be), ranges of characters are detected and handled appropriately.
If the look-ahead token is fts5YYNOCODE, then check to see if the action is independent of the look-ahead.
If the pager is operating in full-sync mode, then the journal file is synced before this field is updated.
If the path name starts with a letter and a colon it is either a volume relative path or an absolute path.
If the payload for a cell is larger than the max payload, then extra payload is spilled to overflow pages.
If the underlying stream operations block when no new data is readable, we need to take extra precautions.
If there is an ORDER BY clause, then we need to sort the results and send them to the callback one by one.
If this extension is built as part of the sqlite library, then this function is called directly by SQLite.
If this means the iterator points to a value laster than *piLast, update *piLast to the new lastest value.
If we are unsure of the base, it indicates that we are in base 8 or base 16 (if it is followed by an 'x').
If you define some other weird order in jmorecfg.h, you'll get compile errors until you extend this logic.
In Unicode, there are 8-bit characters that have alternate cases that are greater than 255 and vice-versa.
In theory, the call to unixFileLock() cannot fail because another process is holding an incompatible lock.
In this case, call balance_nonroot() to redistribute cells between pPage and up to 2 of its sibling pages.
Inserts can be intermixed with tests to see if a given rowid has been previously inserted into the RowSet.
Instead, we compute with fewer bits and propagate the carry if necessary when rounding the final digit up.
Invoke MustBeInt to coerce the child key value to an integer (i.e.  apply the affinity of the parent key).
Invoke it and retry the lock until either the lock is successfully obtained or the busy-handler returns 0.
It cannot dynamically allocate memory because it might be called while the memory allocator mutex is held.
It could then potentially be written out into the database file before its journal file segment is synced.
It is a grievous error for the application to try to use a prepared statement after it has been finalized.
It is guaranteed that the initial value of ptr is less than the end of the string that is being processed.
Leaving the value of the nonterminal uninitialized is utterly harmless as long as the value is never used.
Maybe that wouldn't add very much to the time taken, but character matching *is* what this is all about...
Memory to hold the UTF-8 string is obtained from sqlite3_malloc and must be freed by the calling function.
Once the molad that starts a year is determined the actual start of the year (Tishri 1) can be determined.
Onepass is only used if the virtual table  implementation indicates that pWhere may match at most one row.
Or, if an error occurs (e.g. an OOM condition or IO error), an appropriate SQLite error code is  returned.
Or, if the virtual table has reached the end of its result set, then fall through to the next instruction.
Or, if this rbu is in the RBU_STAGE_OAL state, use heap memory for *-shm space  instead of a file on disk.
Otherwise, estimate the number of rows using the method described in the header comment for this function.
Put in the magic number, and save the sizes, initial options, internal flags, and character table pointer.
Remove a single entry from the hash table given a pointer to that element and a hash on the element's key.
Return True if it is possible that pIndex might be useful in implementing the ORDER BY clause in pBuilder.
Return a pointer to the first character following *pIn in  the string that is not a white-space character.
Return the maximum height of any expression tree referenced by the select statement passed as an argument.
Return the number of bytes required to create a duplicate of the  expression passed as the first argument.
Routines in other files are for internal use by SQLite and should not be accessed by users of the library.
Running a read-statement here to ensure that doing so does not interfere with the "capture" process below.
Set the return code to the number of captured strings, or 0 if there were too many to fit into the vector.
Skip data --- used to skip over a potentially large amount of uninteresting data (such as an APPn marker).
So if this routine returns 2, then you do not really know for certain if the two expressions are the same.
Some known optimizations are not included to reduce source code size and avoid compile-time configuration.
The bound variables point to them only if the user has started to fetch data (MYSQLND_STMT_USER_FETCHING).
The check for little-endian architectures that tolerate unaligned memory accesses is just an optimization.
The doc states it'll be always true, however it theoretically could be FALSE when the thread was signaled.
The first is a regular expression pattern to compile the second is a string to match against that pattern.
The following two macros - READ_UTF8 and WRITE_UTF8 - have been copied from the sqlite3 source file utf.c.
The following two optimizations are disabled for partial matching or if disabling is explicitly requested.
The inability to allocates space for a larger hash table is a performance hit but it is not a fatal error.
The man page from OS X says "REG_STARTEND affects only the location of the string, not how it is matched".
The memory for a VdbeFrame object is allocated and managed by a memory cell in the parent (calling) frame.
The other allowed parameters to sqlite3_mutex_alloc() each return a pointer to a static preexisting mutex.
The requested column is either a user column (one that contains  indexed data), or the language-id column.
The schema for each SQL table and view is represented in memory by an instance of the following structure.
The second argument points to an FKey object representing a foreign key for which pTab is the child table.
The second parameter may be a NULL pointer, in which case the FK enforcement setting is not reported back.
The synchronous pragma can be set to 'off' for this file, as it is not recovered if a crash occurs anyway.
The value returned is the number of bytes written to the argument buffer (always 2, 4 and 8 respectively).
There is  no way that this operation can fail, so the return code from fts3ExprIterate() can be discarded.
Thereafter, when one of the FuncDef objects is deleted, the reference count on this object is decremented.
These macros pack up tests that are used for partial matching, and which appear several times in the code.
This branch of code also allows blocking streams with buffered data to operate correctly in stream_select.
This constant determines the maximum depth of an FTS expression tree that the library will create and use.
This file contains the implementation of the sqlite3_backup_XXX()  API functions and the related features.
This first day of the year will be the day of the molad unless one of 4 rules (called dehiyyot) delays it.
This function is called after the cursor passed as the only argument is moved to point at a different row.
This function is used for adding the complement of a list of horizontal or vertical whitespace to a class.
This function is used to process a single interior node when searching a b-tree for a term or term prefix.
This function requires 'properties' to contain all props declared in the class and all props being public.
This function returns the size of the output file in bytes (excluding the final NUL terminator character).
This is used to ensure that a page is only rolled back the first time it is encountered in either journal.
This module is responsible for generating the code that loops through a table looking for applicable rows.
This routine needs to reset the extra data section at the end of the page to agree with the restored data.
This routine should only be called for a cursor that just returned TRUE from sqlite3BtreeCursorHasMoved().
This scalar function is used to add ICU collation based collation  types to an SQLite database connection.
This second fsync makes it safe to delete the WAL since the new content will persist in the database file.
This section provides definitions to allow the FTS3 extension to be compiled outside of the  amalgamation.
Though MEM_Str and MEM_Blob values may be discarded, MEM_Int, MEM_Real, and MEM_Null values are preserved.
Use the zone allocator available on apple products unless the SQLITE_WITHOUT_ZONEMALLOC symbol is defined.
Use unixClose to clean up the resources added in fillInUnixFile  and clear all the structure's references.
Using this method, when tokenizing document text, the tokenizer provides multiple synonyms for each token.
We are only willing to ignore this for internal functions because extensions don't always define arg_info.
When building up a FROM clause in the parser, the join operator is initially attached to the left operand.
Whenever it returns a negative (error) response, the outer incarnation must also return the same response.
any other value will be considered as background and will not be written out:    the stream where to write
b) if the *-wal file does not exist, claim that it does anyway, causing SQLite to call xOpen() to open it.
for our return value, we are interested in the number of bytes consumed from the first filter in the chain
it is really faster to scan twice and allocate mem once instead of scanning once and constantly reallocing
julianday( TIMESTRING, MOD, MOD, ...)  Return the julian day number of the date specified in the arguments
nSize is ensured to be in the valid range, fall back to it rather than using an undefined bis scan result.
pMem currently only holds a string type (or maybe a BLOB that we can interpret as a string if we want to).
sqlite3VdbeSorterRowkey()     Return the complete binary blob for the row currently under the read cursor.
we need to do this every time since GLOB_ONLYDIR does not guarantee that all directories will be filtered.
(1) For each jump instruction with a negative P2 value (a label) resolve the P2 value to an actual address.
(2) Compute the maximum number of arguments used by any SQL function and store that value in *pMaxFuncArgs.
*  If the previous match WAS for an empty string, we can't do that, as it * would lead to an infinite loop.
- Don't assume there isn't a lookahead just because this state is a consistent state with a default action.
A lock cannot be moved directly between shared and exclusive - it must go through the unlocked state first.
A routine to convert a binary TK_IS or TK_ISNOT expression into a unary TK_ISNULL or TK_NOTNULL expression.
Absolute positioned elements do not take part of the layout, so we don't use them to compute mainContentDim
Activate per-host-system-configuration defined in php.ini and stored into configuration_hash during startup
After the group has been scanned, all the offsets in the forward reference list for the group are adjusted.
Again, this structure is intended to be opaque, but it can't really be opaque because it is used by macros.
All SELECT statements should have been expanded using sqlite3SelectExpand() prior to invoking this routine.
And that the required b-tree mutex is held to make the pager rollback and schema reset an atomic operation.
At any parenthesis level, the length value can be used to test if anything has been compiled at that level.
Backslash may introduce a single character, or it may introduce one of the specials, which just set a flag.
But I/O is more efficient if it occurs in page-sized blocks where each block is aligned on a page boundary.
But the probability of white noise equaling 16 bytes of 0xff is vanishingly small so we should still be ok.
CHANGED VERSION::PHP7 Changed the refCount to 2 since internally Zend engine increments RefCount value by 1
Change pMem so that its MEM_Str or MEM_Blob value is stored in MEM.zMalloc, where it can be safely written.
Continue as from after the group, updating the offsets high water mark, since extracts may have been taken.
Continues a ripemd128 message-digest operation, processing another message block, and updating the context.
Continues a ripemd160 message-digest operation, processing another message block, and updating the context.
Continues a ripemd256 message-digest operation, processing another message block, and updating the context.
Continues a ripemd320 message-digest operation, processing another message block, and updating the context.
Counter  Provides a counter intended to be increasing over the lifetime of the program including all forks.
Currently, Fts5SegIter.iLeafOffset points to the first byte of position-list content for the current rowid.
Despite having a 'handle' mechanism like gdb, lldb will not allow a SIGSEGV to pass to the running program.
Determine a "mid" point and adjust to make sure the mid point is at the beginning of a case mapping triple.
EVIDENCE-OF: R-53820-33897 Even if there is a busy-handler configured, it will not be invoked in this case.
For an anchored pattern, we use the "required byte" only if it follows a variable length item in the regex.
For following code (kept for historical record only) shows an unrolling for the 3- and 4-byte varint cases.
Function: getPixelInterpolated Returns the interpolated color value using the default interpolation method.
Furthermore, the P3 value must be the same as every other ReopenIdx or OpenRead for the same cursor number.
Future versions of SQLite might make use of additional special filenames that begin with the ":" character.
Given a pointer to the shared memory address space, initializes all the globals that live in shared memory.
Given a set of bundle bits and a specific pipe, returns which instruction the bundle contains in that pipe.
Hence, fill this column with a NULL to avoid taking up data space with information that will never be used.
Hence, we do not need to hold  locks on the schema, we just need to make sure nobody else is  holding them.
However, because extra entries are added to the FTS index, this method uses more space within the database.
However, if a malloc() failure has occurred since the previous invocation SQLITE_NOMEM is returned instead.
However, it is also included in the compilation of dftables.c, in which case the macro DFTABLES is defined.
However, we assume that any slots written before the current read transaction was opened remain unmodified.
However, we may need to convert the string containing its name into UTF-8 (i.e. if it is UTF-16 right now).
If  pnToken is not NULL, then it is set to the number of tokens in all matchable phrases of the expression.
If an error occurred in findInodeInfo(), close the file descriptor immediately, before releasing the mutex.
If an error occurs, NULL is returned and an error code and error message stored in database handle pDestDb.
If bSkip is true, then the caller has already determined that the first two elements in the keys are equal.
If eMode is BTALLOC_LT then the page returned will be less than or equal to nearby if any such page exists.
If it is not NULL, then all entries in the sqlite_statN tables associated with the named table are deleted.
If parameter iCol is greater than or equal to the number of columns in the table, SQLITE_RANGE is returned.
If pkChng is false, then the key of the iDataCur content table is guaranteed to be unchanged by the UPDATE.
If possible, it uses the auto-vacuum pointer-map data instead of reading the content of page ovfl to do so.
If successful, *ppExpr is set to point to the head of the parsed expression tree and SQLITE_OK is returned.
If the P3 value cannot be converted into any kind of a number, then the seek is not possible, so jump to P2
If the destination is an EXISTS(...) expression, the actual values returned by the SELECT are not required.
If the docids in the  input doclists are sorted in ascending order, parameter bDescDoclist should be false.
If the flex share of remaining space doesn't meet min/max bounds, remove this child from flex calculations.
If the nBytes parameter is 0 and the blob of memory has not yet been allocated, a null pointer is returned.
If the record is corrupt, the xRecordCompare routine may read up to two varints past the end of the buffer.
If the set membership test fails, then the result of the  "x IN (...)" expression must be either 0 or NULL.
If the statement journal is open and the page is not in it, then write the page into the statement journal.
If the stream position is not at the start, we need to force the stdio layer to believe it's real location.
If the subroutine is a forward reference, we can't deal with it until the end of the pattern, so return -3.
If there are any codes in the temporary decomposition array, then add the character with its decomposition.
If this is part of a compound SELECT, check that it has the right number of expressions in the select list.
If this will satisfy the client, set the orderByConsumed flag so that  SQLite does not do an external sort.
If we are not at the pattern start, reset the greedy defaults and the case value for firstchar and reqchar.
In the first pass over the image, we accumulate a histogram showing the usage count of each possible color.
It's defined in a macro so that the definition is next to the definition of the opcodes in pcre_internal.h.
Justification of ALWAYS():  A correct vtab constructor must allocate the sqlite3_vtab object if successful.
Late addition:  construct the table according to file size for noticeable speed improvement on small files.
Let any sequence of one or more vowels be represented by V and let C be sequence of one or more consonants.
Let it be known that we are drawing a polygon so that the opacity mask doesn't get cleared after each line.
Like malloc(), but remember the size of the allocation so that we can find it later using sqlite3MemSize().
Link the chunk at index i into either the appropriate small chunk list, or into the large chunk hash table.
Mem address holding flag indicating that at least one row of the input to the aggregator has been processed
Non-capturing or atomic group, except for possessive with unlimited repeat and ONCE group with no captures.
Not sure if this was an implementation artifact or an intentional decision when fts3 was first implemented.
Note that the loop starting at 1 is intentional, since we've already done the first round of the algorithm.
O+ overrides PHP chdir() function and remembers the current working directory in ZCG(cwd) and ZCG(cwd_len).
Or, if an error (e.g. SQLITE_NOMEM) occurs within this function (*pRc) is set accordingly before returning.
Or, if the fourth parameter is 2, then the connection being passed as the second parameter is being closed.
Otherwise it needs to clear out its own stack frame and continue the execution on the backtrack code paths.
Otherwise, if there are one or more outstanding references, the page content is reloaded from the database.
PS_DESTROY_FUNC() must remove the session data specified by *key from session data storage unconditionally.
Parameters: scale_x - X scale factor scale_y - Y scale factor  Returns: GD_SUCCESS on success or GD_FAILURE
Prevent any values from flowing into irreducible loops by replacing all incoming values with explicit phis.
RESULT void NOTES Normally this function will be called for the topmost vector, thus free-ing all children.
Read a numeric value from a pointer, into the value union of a magic  pointer, according to the magic type.
Return 1 if there are 2 or more references to the page and 0 if if this is the first reference to the page.
Return the error code for the first error that occurs, or SQLITE_OK if all xSync operations are successful.
SQLite will typically create one cache instance for each open database file, though this is not guaranteed.
See also the pager_write_changecounter() routine that does an  unconditional update of the change counters.
Setting the default length first and initializing 'offset' avoids compiler warnings in the REF_REPEAT code.
Simplify the code that we create a copy of stripped_header no matter if we actually strip something or not.
Since SQLite does not define USE_PREAD in any form by default, we will not attempt to define _XOPEN_SOURCE.
So do additional corruption checks inside this routine and return SQLITE_CORRUPT if any problems are found.
So if some other shared-cache client already has a write-lock  on page 1, the transaction cannot be opened.
Solid doesn't have ExtendedFetch, if DriverManager is used, get Info, whether Driver supports ExtendedFetch
TODO(shess) Explore whether partially flushing the buffer on forced-flush would provide better performance.
That means the byte after represents a character or is the leading byte of an sequence of 8-bit code units.
The Next opcode is only valid following an SeekGT, SeekGE, or OP_Rewind opcode used to position the cursor.
The PT_CLIST property is a pseudo-property that contains a pointer to a list of case-equivalent characters.
The SQLITE_ACCESS_READ constant is currently unused, though it might be used in a future release of SQLite.
The SQLITE_MUTEX_PTHREADS and SQLITE_MUTEX_W32 implementations are appropriate for use on Unix and Windows.
The details are unknown, but the lengths of the months were adjusted until they finally stablized in 8 A.D.
The first 100 bytes of the first page contain a special header (the "file header") that describes the file.
The first instance is sufficient, though the subroutine to manifest the view does need to be invoked again.
The integrity of the transaction is already guaranteed, but some stray 'cold' journals may be lying around.
The iterator must return a series of strings that are full paths to files that should be added to the phar.
The json_test1(JSON) function return true (1) if the input is JSON text generated by another json function.
The loading of large blobs can be skipped for length() and all content loading can be skipped for typeof().
The logic is that a recursion can only make sense if there is another alternation that stops the recursing.
The numbers are obtained at random and have no special meaning, other than being distinct from one another.
The onError parameter determines which (if any) of the statement and/or current transaction is rolled back.
The pSpace buffer is used to store a temporary copy of the divider cell that will be inserted into pParent.
The parent process has then to wait for the master process to initialize to return a consistent exit value.
The pointer map is a lookup table that identifies the parent page for each child page in the database file.
The previous line is meant for vim and emacs, so it can correctly fold and unfold functions in source code.
The primary key for the row to be deleted must be stored in a sequence of nPk memory cells starting at iPk.
The second argument points to an FKey object representing a foreign key for which pTab is the parent table.
The shared lock and an open file descriptor are maintained until  the connection to the database is closed.
The signature algorithm must be one of Phar::MD5, Phar::SHA1, Phar::SHA256, Phar::SHA512, or Phar::OPENSSL.
The simple case - no more than one database file (not counting the TEMP database) has a transaction active.
The work array elements have to be INT32s, so the work array would need 256Kb at our recommended precision.
The xBestIndex method may optionally populate the idxFlags field with a  mask of SQLITE_INDEX_SCAN_* flags.
These macros invoke routines that report the line-number on which the error originated using sqlite3_log().
This can happen under solaris when a dir does not have read permissions but *does* have execute permissions
This cksum is initialized to a 32-bit random value that appears in the journal file right after the header.
This extension allows it to be used to improve the performance of large transactions on existing databases.
This file contains C code routines that used to generate VDBE code that implements the ALTER TABLE command.
This function applies a compiled re to a subject string and picks out portions of the string if it matches.
This indicates that the MATCH expression is not a full text query, but a request for an internal parameter.
This is analagous to renameTableFunc() above, except for CREATE TRIGGER, not CREATE INDEX and CREATE TABLE.
This is the maximum space required for an in-memory journal file handle  and a regular journal file-handle.
This macro assumes that local variable pRtree points to the Rtree structure associated with the RtreeCoord.
This may be different than the number of offsets actually written because of aligning on a 4-byte boundary.
This same integer code is reused to represent the greater-than-or-equal-to operator in the expression tree.
This should be sqlite3_vfs.mxPathname+1 (to ensure there is enough space to write the master journal name).
Unless it is NULL, apply affinity aff (one of the SQLITE_AFF_* constants) to the value before returning it.
Use sqlite3VdbeMemSetNull() to release just the Mem.xDel space prior to inserting new content into the Mem.
Varint 1..nCol: For each column, the total number of tokens stored in the column for all rows of the table.
We are trying for an exclusive lock but another thread in this same process is still holding a shared lock.
We do not use zend_compile_binary_op for this because we want to retain the left-to-right evaluation order.
When state is saved, any commit to the *-oal file and the commit to the RBU update database are not atomic.
With DEBUG enabled, some asserts below will ensure that the byte order of floating point values is correct.
Writes to this journal would also be no-ops, and any attempt to read the journal would return SQLITE_IOERR.
Zip64 mismatch between preliminary file header written before data and final file header written afterwards
aMagic is used  as a temporary buffer to inspect the first couple of bytes of the potential journal header.
add_assoc_resource automatically creates a new zval to wrap the "resource" represented by the current pz_ch
all non-SGML characters (those marked with UNUSED in DESCSET) should be representable with numeric entities
first arg is 1 because we want to identify valid named entities even if we are only encoding the basic ones
format and language are NULLs, so format is "DD-MON-YY" and language is the default language of the session
if that fails, and this is a lock file (not-conch), try creating the parent directories and then try again.
if the status code did not change, we do not want to change the status line, and no need to change the code
ipkColumn is the index of the primary key as it appears in IDLIST, not as is appears in the original table.
isAgg is true if the outer query uses aggregates and subqueryIsAgg is true if the subquery uses aggregates.
libancillary - black magic on Unix domain sockets (C) Nicolas George fd_send.c - receiving file descriptors
pnOffsetList is set to the length of the set of column-offset lists, not including the nul-terminator byte.
prop-get using first dimension as the property name, all subsequent dimensions and the offset as parameters
try to find if we already have this link in our persistent list, no matter if it is to be persistent or not
we can't do a ZEND_VERIFY_RESOURCE(what), otherwise we end up with a leak if we have an invalid filehandle.
xSize should return the allocated size of a memory allocation previously obtained from xMalloc or xRealloc.
- if data dictionary changed between prepare and execute, for example a table used in the query was altered.
A position list is list of positions (delta encoded) and columns for  a single document record of a doclist.
According to Pierre Joye, Windows in some environments per default creates text files, so force binary mode.
Add the output column list to the name-context before parsing the other expressions in the SELECT statement.
All of the expression analysis must occur on both the outer query and the subquery before this routine runs.
All tokens in a cluster belong to phrases that are connected only by AND and NEAR operators (not OR or NOT).
Allocate and return a pointer to an expression to load the column iCol from datasource iSrc in SrcList pSrc.
An Fts3SegReader object is a cursor that can seek or scan a range of entries within a single segment b-tree.
An instance of the following structure is used to store the busy-handler callback for a given sqlite handle.
An instance of this structure is used to manage a pair of buffers, each (nElem * sizeof(u32)) bytes in size.
As an optimization, SQLITE_AFF_BLOB entries (which are no-ops) at the beginning and end of zAff are ignored.
As before, subsequent error messages are suppressed until three input tokens have been successfully shifted.
Asserts such as the example above are placed on the non-lookaside free() routines to verify this constraint.
BRAZERO, BRAMINZERO and SKIPZERO occur just before a bracket group, indicating that it may occur zero times.
But some embedded platforms might lack LFS in which case the SQLITE_DISABLE_LFS macro might still be useful.
But this sorting ephemeral index might end up being unused if the data can be extracted in pre-sorted order.
Callers should initialize the char* variable to a NULL pointer in case this file-control is not implemented.
Changed ternary operator to an if/else so that additional comparisons can be done on the ssl_method property
Convert it into a string with encoding enc and return a pointer to a zero-terminated version of that string.
Decode the "end_block" field, selected by column iCol of the SELECT  statement passed as the first argument.
EVIDENCE-OF: R-02776-14802 The cell pointer array consists of K 2-byte integer offsets to the cell contents.
EVIDENCE-OF: R-55269-29598 The localtime_r() C function normally only works for years between 1970 and 2037.
EVIDENCE-OF: R-62920-47450 The busy-handler callback is never invoked in the SQLITE_CHECKPOINT_PASSIVE mode.
Each entry of the hash table is an 1-based index of an entry in the mapping section of the same index block.
Expensive, but the only way that produces an acceptable result: mix down to a palette based temporary image.
Final wrapup - pad to 64-byte boundary with the bit pattern 1 0* (64-bit count of bits processed, MSB-first)
Finalize all statements and free all allocations that are specific to the current object (table/index pair).
For each subsequent  call the nBytes parameter is ignored and a pointer to the same blob of memory returned.
For this reason, scoring is designed to pick plans that "do the least harm" if the estimates are inaccurate.
From appnote.txt: This entry in the Local header MUST include BOTH original and compressed file size fields.
GLOSSARY  dehiyyot         The set of 4 rules that determine when the new year starts relative to the molad.
Generate a coroutine to evaluate the SELECT statement to the left of the compound operator - the "A" select.
Generate a subroutine to run when the results from select A are exhausted and only data in select B remains.
Generate a subroutine to run when the results from select B are exhausted and only data in select A remains.
However, the signature of the callback function allows SQLite to pass it an array of void* context pointers.
If *pbFirst is zero when this function is called, the value written to the buffer is that of parameter iVal.
If N is larger than the minimum, use the surplus as an initial allocation of entries available to be filled.
If SQLITE_DEBUG_SORTER_THREADS is defined, to determine if a call to sqlite3ThreadJoin() is likely to block.
If SQLITE_OK is returned, then *ppTokenizer should be set to point at the newly created tokenizer structure.
If an error occurs, an error code and error message are left in the rbu handle passed as the first argument.
If an index is to be used in place of a temp-table, it must be ordered according to this collation sequence.
If connected to a ZIPVFS backend, override the page size and offset with actual values obtained from ZIPVFS.
If in doubt, do not deviate from existing commenting and indentation practices when changing or adding code.
If it is not NULL, then the update-hook  (sqlite3.xUpdateCallback) is invoked following a successful insert.
If minimizing, keep testing the rest of the expression and advancing the pointer while it matches the class.
If no value can be extracted, but no other error occurs (e.g. OOM), return SQLITE_OK and set *ppVal to NULL.
If previous was a character or negated character match, abolish the item and generate a repeat item instead.
If the expression is constant, then this routine might choose to code the expression at initialization time.
If the lower four bits equal SQLITE_SYNC_FULL, that means to use Mac OS X style fullsync instead of fsync().
If the node is not the tree root and now has less than the minimum number of cells, remove it from the tree.
If the parameter is named, it will be removed and correctly disposed of by the hash_update call that follows
If the second parameter is zero, then the cursor is left pointing at an arbitrary location after the delete.
If there is not already a read-only (or read-write) transaction opened on the b-tree database, open one now.
If this condition is true then the largest rowid for the current term may not be stored on the current page.
If this statement has violated immediate foreign key constraints, do not return the number of rows modified.
If we get this far, it means that the reader will want to use the WAL to get at content from recent commits.
If we have Unicode property support, we can use it to test the other case of the character, if there is one.
Implementation in the proxy-lock division, but used by unixOpen() if SQLITE_PREFER_PROXY_LOCKING is defined.
In a table record, all serial types are stored at the start of the record, and the blobs of data at the end.
In this case delete the contents of all three tables and throw away any data in the pendingTerms hash table.
In this case the previous term is not available, so just write a copy of (pTerm/nTerm) into the parent node.
In this module the prescan simply updates the histogram, which has been initialized to zeroes by start_pass.
Increment Parse.nHeight by the height of the largest expression tree referred to by this, the parent select.
Instead, a special call of pcre_exec() * is made with the PCRE_NOTEMPTY_ATSTART and PCRE_ANCHORED flags set.
It finds the first available slot using pthread_key_create and uses it as the offset value for runtime.tlsg.
It is done this way to save having to use another function argument, which would take up space on the stack.
It will verify, amongst other things, that it matches the checksum generated by inspecting the index itself.
Luckily, the value of CHAR_VT is 0x0b in both ASCII and EBCDIC, so we could just adjust the appropriate bit.
Machine code is generated for the checker itself and for the actions depending on the result of the checker.
Move the current position of the file handle passed as the first argument to offset iOffset within the file.
NB is the total number of pages that participate, including the target page and NN neighbors on either side.
NULL fields are 0 length, 0 is not more than 0 String of zero size, definitely can't be the next max_length.
New applications should not use deprecated interfaces - they are supported for backwards compatibility only.
Nice for thumbnails but there's no support for fussy adjustment of the assumed properties of inks and paper.
Once before the original record is deleted from the table using the calling convention described for DELETE.
Otherwise it returns the number of TCHARs written to the output buffer, excluding the terminating null char.
PRAGMA compile_options  Return the names of all compile-time options used in this build, one option per row.
PgHdr is added by the pcache.c layer and contains information used to keep track of which pages are "dirty".
Prevent ON clause terms of a LEFT JOIN from being used to drive an index for tables to the left of the join.
Put a copy of the Table struct in Parse.pNewTable for the sqlite3AddColumn() function and friends to modify.
Reclaim garbage, defined as all alloca'd storage that was allocated from deeper in the stack than currently.
Return non-zero if the expression is constant that does no originate from the ON or USING clauses of a join.
Return the declaration type and origin info for the single column in the result set of the SELECT statement.
Runtime cache relies on bound scope to be immutable, hence we need a separate rt cache in case scope changed
SQLITE_DENY means that the SQL statement will never-run - the sqlite3_exec() call will return with an error.
See the corresponding marks just before function definition, where the functions purpose is also documented.
Set the Table.iPKey field of the table under construction to be the index of the INTEGER PRIMARY KEY column.
Since the table has just been created, it contains no data and the index initialization step can be skipped.
Since then, we have restructured how trigger code is generated and so this condition is no longer  possible.
Skip over any TK_COLLATE operators and any unlikely() or likelihood() function at the root of an expression.
Space to hold the returned string is obtained from sqliteMalloc() and must be freed by the calling function.
TUNING:  If both iUpper and iLower are derived from the same sample, then assume they are 4x more selective.
Test raising SIGIO on a C thread with an alternate signal stack when there is a Go signal handler for SIGIO.
That line and all subsequent comment lines are used in the generation of the opcode.html documentation file.
The MergeEngine object is used to combine two or more smaller PMAs into one big PMA using a merge operation.
The _DEP / _DEP_DEP variants additionally free the temporary values passed in the last / last two arguments.
The btreeHeapInsert() routine inserts an unsigned 32-bit number onto the heap, preserving the heap property.
The callback registered by this function replaces any existing callback registered using sqlite3_wal_hook().
The compiled version of the regular expression can be stored as metadata associated with the pattern string.
The default configuration is recommended for most applications and so this routine is usually not necessary.
The dependency table is made of 2 hashtables, one that can is used to quickly answer if a dependency exists.
The destination copy of iPage needs to be updated with the new data before the backup operation is complete.
The first pass, in the block below, uses a tokenizer cursor to iterate through the tokens in the expression.
The job of this function is to make pPg clean by writing its contents out to the database file, if possible.
The list is being searched and this trunk page is the page to allocate, regardless of whether it has leaves.
The offsets array is on a 4-byte boundary to keep things efficient for architectures that need such a thing.
The rbu_state table is used to save the state of a partially applied update so that it can be resumed later.
The remainder of this file contains the declarations of the functions that make up the Pager sub-system API.
The return value is a pointer to an opaque structure that contains information needed to terminate the loop.
The return value of this routine is the same regardless of whether the journal file has been created or not.
The second parameter to sqlite3BtreeGetMeta or sqlite3BtreeUpdateMeta should be one of the following values.
The sorter can guarantee a stable sort when running in single-threaded mode, but not in multi-threaded mode.
The sqlite3PcacheFetch() and sqlite3PcacheFetchFinish() routines are split this way for performance reasons.
The suggested maximum number of in-memory pages to use for the main database table and for temporary tables.
The surplus columns are part of KeyInfo.nXField and are not used for sorting or lookup or uniqueness checks.
The test procedures use this information to make sure that the zero-blob functionality is working correctly.
The type argument must be 1 in order to set the data directory or 2 in order to set the temporary directory.
The value used with sqlite3_win32_set_directory() to specify that the temporary directory should be changed.
This can happen (for example)  because the table is empty or because BtreeCursorFirst() has not been called.
This function checks if all term iterators point to the same rowid, and if not, advances them until they do.
This function is only used when the journal file is being  opened to write a rollback log for a transaction.
This function touches all 4k pages belongs to the requested stack space, which size is passed in local_size.
This is because the user  might change the definition of a collation sequence and then run a VACUUM command.
This is because we cannot allow a journal header to be written between the pages journaled by this function.
This is done directly instead of using sqlite3_bind_int64() to avoid  triggering asserts related to mutexes.
This is required in case they are holding a reference to an xFetch reference corresponding to page pgnoRoot.
This might cause the application to wait indefinitely for an unlock-notify callback that will never  arrive.
This routine is only called by sqlite3_config(), and therefore is not required to be threadsafe (it is not).
This routine is only called if we already know that the profile callback is defined and needs to be invoked.
This routine is used as an optimization, to skip OP_IsNull opcodes when we know that a value cannot be NULL.
This routine should only be called when there are no outstanding database connections or memory allocations.
This routine uses sqlite3DbRealloc() to extend the array so that there is space for a new object at the end.
This statement is used to determine which level to read the input from when performing an incremental merge.
This structure provides a mapping from the sparse cursor numbers into consecutive integers beginning with 0.
This table is used when checking ALNUM, (PX)SPACE, SPACE, and WORD against a general or particular category.
Transactions still work if synchronous is off, and the database cannot be corrupted if this program crashes.
Under MSVC, this NaN test may fail if compiled with a floating- point precision mode other than /fp:precise.
Walk through each directory in path and apply any found per-dir-system-configuration from configuration_hash
We create always persistent, as if the user want to connecto to p:somehost, we can't convert the handle then
When adding new APIs, add them to the bottom of this structure in order to preserve backwards compatibility.
When this function is called, if *pp points to pEnd or greater, then the end of the buffer has been reached.
Whether or not a new page may be allocated by this function depends on the value of the createFlag argument.
While the xInstCount/xInst APIs are more convenient to use, this API may be faster under some circumstances.
While this is technically valid in an email address, these parts aren't actually part of the address itself.
Within EofA and EofB, and EOF on entry or following nextX causes a jump to the end of the select processing.
call a function to parse all the text, so that we can use the same function to parse text from other sources
don't return on failure, since not closing the default handler could result in memory leaks or other nasties
if we have __call and method which is not part of the class function table is called, we cal __call handler.
intersect modules, unregister modules loaded "too much", announce not yet registered modules (phpdbg_notice)
note: EOF makes readline write prompt again in local console mode - and ignored if compiled without readline
pgnoRoot is the page that will be used for the root-page of the new table (assuming an error did not occur).
shared_free must be valid before we call zend_shared_alloc() - make it temporarily point to a local variable
this state is used after a 'Connection: close' message the parser will error out if it reads another message
we want to serve more requests if this is fastcgi so cleanup and continue, request shutdown is handled later
zMaster points to the name of a master journal file that should be written into the individual journal file.
*piEndOffset should be set to the index of the first byte just past the end of the token in the input buffer.
32 bits for filename length, length of filename, manifest + metadata, and add 1 for trailing / if a directory
A "useful" side-effect is that the user's scripts can then make similar decisions using stream_get_meta_data.
A bound parameter raises an error for new statements, but is silently converted to NULL for existing schemas.
A finder-function is used to locate the appropriate sqlite3_io_methods object for a particular database file.
After it returns, *ppPoslist points to the to the terminator (POS_COLUMN or POS_END) byte of the column-list.
After the maximum size is reached then the least-recently-used element is discarded to make room for the new.
All loads and stores begun before the barrier must complete before any load or store begun after the barrier.
All other Windows platforms expect GetProcAddress() to take an ANSI string regardless of the _UNICODE setting
Always fail if reference not set (and not JavaScript compatible - in that case the length is passed as zero).
An iterator of this type is used to iterate through all objects in the target database that require updating.
Applications that define a custom xFileControl method should use opcodes greater than 100 to avoid conflicts.
Argument pWith (which may be NULL) points to a linked list of nested  WITH contexts, from inner to outermost.
Before OP_ACCEPT there may be any number of OP_CLOSE opcodes, to close any currently open capturing brackets.
Begin Named Semaphore Locking ************************  Named semaphore locking is only supported on VxWorks.
Bounce call to sigpanic through asm that makes it look like we call sigpanic directly from the faulting code.
But by initializing the checksum to random value which is different for every journal, we minimize that risk.
But for all other platforms, it is highly recommended that applications neither read nor write this variable.
But this routine must never return 0 if the two ExprList objects are different, or a malfunction will result.
But to avoid confusion we also all the SQLITE_ENABLE_FTS4 macro to serve as an alisse for SQLITE_ENABLE_FTS3.
But to avoid confusion we also call the SQLITE_ENABLE_FTS4 macro to serve as an alias for SQLITE_ENABLE_FTS3.
Check for a pattern than can match an empty string, so that this information can be provided to applications.
Check to see if pExpr is a duplicate of another aggregate  function that is already in the pAggInfo structure
Come here from named backref handling when the reference is to a single group (i.e. not to a duplicated name.
Compilers are dumb and don't understand that noreturn means that the function does NOT need a return value...
Compute successively longer WherePaths using the previous generation of WherePaths as the basis for the next.
Constants for NodeType - cannot define common types to share with dom as there are differences in these types
Do nothing, the connection will be brutally closed and the server will catch it and free close from its side.
Due to the prefix compression,  the space required changes depending on which node the key is to be added to.
Enclose the string in "..." and escape any double-quotes or backslash characters contained within the string.
Even if the statement is read-only, it is important to perform a statement or transaction rollback operation.
FIXME This doesn't give microseconds as in Unix case, and the resolution is in system ticks, 10 ms intervals.
For example 'inifile' uses this to allow faster access when the key was already found using firstkey/nextkey.
For those that remain as they are, the corresponding character of the rbu_control value should be set to '.'.
However, if a page is moved to the free-list and then reused within the same transaction, a problem comes up.
I opted to disallow the characters that would result in a parse error when preprocessing of the input stream.
If SQLITE_NULLEQ is set in P5 then the result of comparison is always either true or false and is never NULL.
If a binary operator (AND, OR, NOT or NEAR) is encounted when isRequirePhrase is set, this is a syntax error.
If a multi-byte character attempts to encode a value between 0xd800 and 0xe000 then it is rendered as 0xfffd.
If a non-NULL value is returned, set *ppContext to point to the With object that the returned CTE belongs to.
If an error occurs, either SQLITE_NOMEM or SQLITE_CANTOPEN is returned and *pFd is set to an undefined value.
If argument eOp is false, then nByte bytes of data are copied from pPayload to the buffer pointed at by pBuf.
If auto-vacuum is disabled in this build and this is an auto-vacuum database, mark the database as read-only.
If control gets to this point, then actually go ahead and make operating system calls for the specified lock.
If it is a stream that does not have a context assigned, it will create and assign a context and return that.
If it returns SQLITE_OK, then assume that the VFS handled the pragma and generate a no-op prepared statement.
If that new rowid is larger than the maximum rowid in the memId memory cell, then the memory cell is updated.
If the P3 value is non-zero, then the table referred to must be an intkey table (an SQL table, not an index).
If the bPreserve flag is set to true, then the memory cell must already contain a valid string or blob value.
If the character is more than one byte long, we can set firstchar only if it is not to be matched caselessly.
If the close-quote is found, the value returned is the byte offset of the character immediately following it.
If the file on disk is currently larger than nPage pages, then use the VFS xTruncate() method to truncate it.
If the inner loop was generated using a non-null pOrderBy argument, then the results were placed in a sorter.
If the input list contains too few elements, then construct an incomplete tree and leave *ppList set to NULL.
If the log file is successfully opened, SQLITE_OK is returned and  ppWal is set to point to a new WAL handle.
If the log message is longer than a few hundred characters, it will be truncated to the length of the buffer.
If there are outstanding locks, do not actually close the file just yet because that would clear those locks.
If this Btree is a candidate for shared cache, try to find an existing BtShared object that we can share with
If this is a TEMPORARY table, write the entry into the auxiliary file instead of into the main database file.
If this is a converted compound query, move the ORDER BY clause from  the sub-query back to the parent query.
If this is not done, then an unsynced portion of the open journal  file may be played back into the database.
If this is the first branch, the firstchar and reqchar values for the branch become the values for the regex.
If this means there are no entries in the position list, nothing is appended to the buffer (not even iDelta).
If xRead() returns SQLITE_IOERR_SHORT_READ it must also fill in the unread portions of the buffer with zeros.
Implement this as not Z (space or separator) and not C (other), except for Cf (format) with a few exceptions.
In an SQLite index record, the serial type is stored directly before the blob of data that it corresponds to.
In case this page turns out to be an overflow page, delete all overflow page-map caches held by open cursors.
In other words we assume that very common tokens occur exactly once in each  column of each row of the table.
In the actual code below, the value "16" is replaced with the  pre-processor macro FTS_MAX_APPENDABLE_HEIGHT.
In this case it is likely enough that the redundant xSync() call will be changed to a no-op by the OS anyhow.
In this case the journal file is just deleted using OsDelete, *pExists is set to 0 and SQLITE_OK is returned.
It is an error if the string is already of the desired encoding, or if *pMem does not contain a string value.
It is important to run this code, but we don't want to run it too often and soak up CPU cycles for no reason.
It must be directly removed from SG(sapi_header) because sapi_add_header_ex() removes all of matching cookie.
Known to src/cmd/link/internal/ld/sym.go:/0x1d0 and to src/runtime/sys_linux_amd64.s:/0x1d0 or /GOOS_android.
List of Authoritative Name Servers Process when only requesting addtl so that we can skip through the section
Load automatic extensions - extensions that have been registered using the sqlite3_automatic_extension() API.
Lookaside allocations are only allowed for objects that are associated with a particular database connection.
On first evaluation, the FuncDef stored in P4 is converted into an sqlite3_context and the opcode is changed.
On some platforms, there might be race conditions that can cause these routines to deliver incorrect results.
Opcode: IncrVacuum P1 P2 * * *  Perform a single step of the incremental vacuum procedure on the P1 database.
Otherwise, if an OOM error is encountered by this function, NULL is returned and *pRc is set to SQLITE_NOMEM.
Parameters: dst - Where to store the resulting affine transform  Returns: GD_SUCCESS on success or GD_FAILURE
Record the number of outstanding lookaside allocations in schema Tables prior to doing any free() operations.
Register hooks to call when sqlite3BeginBenignMalloc() and sqlite3EndBenignMalloc() are called, respectively.
Return 1 if the iterator is at EOF or if it now points to the start of the position list for the next column.
Return ONEPASS_SINGLE (1) if the statement can operation directly because only a single row is to be changed.
Return SQLITE_OK if the lock may be obtained (by calling setSharedCacheTableLock()), or SQLITE_LOCKED if not.
Return TRUE if the given operator is one of the operators that is allowed for an indexable WHERE clause term.
Return a "position-list blob" corresponding to the current position of cursor pCsr via sqlite3_result_blob().
Return a pointer to a buffer containing a text representation of the expression passed as the first argument.
Return a register number which is the first in a block of registers that holds the elements of the index key.
Return false if it is something other than a directory, or if there is any kind of memory allocation failure.
Return the total number of pages in the source database as of the most  recent call to sqlite3_backup_step().
SQLite happens to pass a pointer to this buffer when using xAccess() or xOpen() to operate on the *-wal file.
Serve as a convenient place to set a breakpoint in a debugger to detect when version error conditions occurs.
Set up SQL objects in database db used to access the contents of the hash table pointed to by argument pHash.
Set up the local name-context to pass to sqlite3ResolveExprNames() to resolve the result-set expression list.
Since in this case the query may return a maximum of one row, the results are already in the requested order.
Since structures used in those callback are freed, we need to use an other callback to which avoid segfaults.
Split the WHERE clause into separate subexpressions where each subexpression is separated by an AND operator.
Store a private linked list of absolutely positioned children so that we can efficiently traverse them later.
The Gregorian calendar was not instituted until October 15, 1582 (or October 5, 1582 in the Julian calendar).
The SQLITE_*_BKPT macros are substitutes for the error codes with the same name but without the _BKPT suffix.
The WHERE clause terms that set the upper and lower bounds are represented by pLower and pUpper respectively.
The amount of extra space required can change depending on the compiler, target platform, and SQLite version.
The contents of the pending-terms hash-table have already been flushed into the database by fts3SyncMethod().
The contents of the pending-terms hash-table have already been flushed into the database by fts5SyncMethod().
The current cursor  (pCursor) is used to execute the query issued by function  fts5CursorFirstSorted() above.
The default initial allocation for the pagecache when using separate pagecaches for each database connection.
The dirent struct is compatible with Unix, except that d_ino is always 1 and d_off is made up as we go along.
The exception is when opening the proxy "conch" file in builds that include the special Apple locking styles.
The following line deals with this case by advancing pIter past the zero-padding added by fts3EvalNearTrim().
The former value of the root page that moved - its value before the move occurred - is stored in register P2.
The index cursors might not be used, but if they are used they need to occur right after the database cursor.
The mapping size limit is used to limit the aggregate size of all memory mapped regions of the database file.
The ptrmapCheckPages() contains assert() statements that verify that all pointer map pages are set correctly.
The result-set expression in all of the following SELECT statements is  considered a column by this function.
The right-most SELECT might also skip this part if it has no ORDER BY clause and no temp tables are required.
The root page numbers of all tables in the database are integer stored in reg(P1), reg(P1+1), reg(P1+2), ....
The shared cache setting effects only future calls to sqlite3_open(), sqlite3_open16(), or sqlite3_open_v2().
The sqlite3_mutex_held() and sqlite3_mutex_notheld() routine are intended for use inside assert() statements.
The table name in the CREATE  TRIGGER statement is replaced with the third argument and the result  returned.
Then, for each column from left to right, the total number of tokens in the column for all rows of the table.
These two functions are repeated in the README.tokenizer file as an example, so it is important to test them.
Things are more complicated if the sqlite3_changes() function is executed while a trigger program is running.
This block advances the phrase iterators until they point to a set of entries that together comprise a match.
This can be significant because tables within the RBU database are always processed in order sorted by  name.
This character is not found in valid UTF-8 sequences and is rarely used in popular 8-bit character encodings.
This function gets one chunk of store and builds a list of pointers and all of the captured substrings in it.
This function is called to close the connection to the log file prior to switching from WAL to rollback mode.
This function is called while writing an FTS segment each time a leaf o node is finished and written to disk.
This function should be called by the user whenever a thread ends, to free the thread "virtual stack" storage
This is called outside of a mutex, so have to be aware about external changes to the structure as we read it.
This is so that expressions in the WHERE clause (etc.) can refer to expressions by aliases in the result set.
This occurs when a page is changed prior to the start of a statement then changed again within the statement.
This routine makes its own copy of zAff so that the caller is free to modify zAff after this routine returns.
WARNING:  In order to maintain backwards compatibility, add new interfaces to the end of this structure only.
We are only ever called like this when the stream is cast to a FILE* for include (or other similar) purposes.
We don't want to leave sensitive data from our actual password hash computation on the stack or in registers.
When actually compiling, we need to check whether this was a forward reference, and if so, adjust the offset.
When found, set *piTab and *piCol to the table index and column index of the matching column and return TRUE.
When the transaction is committed, the commit fails if the current value of the counter is greater than zero.
When there is no more expansion invoke the standard globbing routine to glob the rest of the magic characters
While there is nothing to prevent an application from calling sqlite3_log(), doing so is considered bad form.
With SQLITE_TEST_REALLOC_STRESS grow the op array by the minimum* amount required until the size reaches 512.
Within this division (the proxying locking implementation) the procedures above this point are all utilities.
nBackfill can only be increased by threads holding the WAL_CKPT_LOCK lock (which includes a recovery thread).
parse the return value from one of the stat functions and store the relevant fields into the statbuf provided
phpdbg_parser.y (from php-src root) flex sapi/phpdbg/dev/phpdbg_lexer.l bison sapi/phpdbg/dev/phpdbg_parser.y
pre-evaluate constant functions: defined(x) constant(x) function_exists(x) is_callable(x) extension_loaded(x)
this is to allow a different env var to be configured in case some server does something different than above
2007-01-16:  The wireshark project (www.wireshark.org) reports that without this code, their parser segfaults.
A RESERVED_LOCK is obtained by locking a single byte of the file that is designated as the reserved lock byte.
A month always starts on or near a new moon and has either 29 or 30 days (a lunar cycle is about 29 1/2 days).
Advance it to the next matching documnent in the database and populate the Fts3Doclist.pList and nList fields.
All code should use the MACRO version as  this function assumes the single-byte case has already been handled.
Allocate directly 256 because it's easier to allocate a bit more than update max length even for text columns.
An instance of struct TriggerStep is used to store a single SQL statement that is a part of a trigger-program.
Any new entries added added to the column cache after this call are removed when the corresponding pop occurs.
Applications that override the built-in mutex logic must be prepared to accommodate additional static mutexes.
Assuming no error has occurred, run a "restart" checkpoint with the sqlite3rbu.eStage variable set to CAPTURE.
Assuming no error occurs, *pnOut is adjusted (reduced) to account for the range constraints pLower and pUpper.
At this point they see the new version of the database - including the updates made as part of the RBU update.
Black magic: If the SQLITE_RecoveryMode flag is set, then consider the schema loaded, even if errors occurred.
But initializing the memory prevents valgrind from complaining, so we are willing to take the performance hit.
CAPI3REF: Custom Page Cache Object  The sqlite3_pcache_page object represents a single page in the page cache.
Changing the PENDING byte while any database connection is open results in undefined and deleterious behavior.
Condition (3) is necessary because it can be triggered by a read-only statement executed within a transaction.
Deal with as much of this read request as possible by transfering data from the memory mapping using memcpy().
EVIDENCE-OF: R-23882-45353 The cell pointer array of a b-tree page immediately follows the b-tree page header.
Each instance of this object holds a sequence of WhereLoop objects that implement some or all of a query plan.
Enlarge the memory allocation on a StrAccum object so that it is able to accept at least N more bytes of text.
Ensure the default expression is something that sqlite3ValueFromExpr() can handle (i.e. not CURRENT_TIME etc.)
Even in the case the payload is evenly divisible by this value, the last packet will be empty, namely 0 bytes.
For PS - if stmt_store() is performed, thus we don't have a cursor, it will behave just like old-API buffered.
For a table with the INTKEY flag set, this routine returns the key itself, not the number of bytes in the key.
GCC works hard to eliminate a seemingly unnecessary call to malloc, so we actually use the memory we allocate.
However, if the second argument is non-zero then this b-tree transaction is part of a multi-file  transaction.
If F is a NULL pointer, then sqlite3_uri_parameter(F,P) returns NULL and sqlite3_uri_boolean(F,P,B) returns B.
If an error occurs or the VFS used by the pager does  not support the xShmXXX() methods, return an error code.
If an existing main database file is opened, then the default text encoding for the existing database is used.
If an interface fails with SQLITE_MISUSE, that means the interface was invoked incorrectly by the application.
If data is successfully read from the (sub-)journal file but appears to be corrupted, SQLITE_DONE is returned.
If it turns out that we do not need it after all, the OP_SorterOpen instruction will be converted into a Noop.
If needed, this code will make deep copies of argv and environ and return these to the caller for further use.
If page one was fetched successfully, and this function is not operating in direct-mode, make page 1 writable.
If the auto-commit flag is set to true, then any locks that were held by connection db have now been released.
If the child is position absolute (without top/left) or relative, we put it at the current accumulated offset.
If the fourth parameter is 0, then the database connection passed as the second argument has just been opened.
If the given Mem* has a zero-filled tail, turn it into an ordinary blob stored in dynamically allocated space.
If the pSelect parameter is NULL, that means that the DEFAULT VALUES form of the INSERT statement is intended.
If the page is not already in memory, this routine goes to disk to read it in whereas Lookup() just returns 0.
If the page size is 65536 and the page is empty, the offset should be 65536, but the 2-byte value stores zero.
If the parent is NULL then the class does not extend anything and thus parent does not make any sense, either.
If the quotes were of the form "..." (double-quotes) then the EP_DblQuoted flag is set on the expression node.
If the target encoding was unknown, or no decoder function was specified, return the UTF-8-encoded data as-is.
If there are currently less than nSavepoints open, then open one or more savepoints to make up the difference.
If this is a new rowid, append the 4-byte size field for the previous entry, and the new rowid for this entry.
If we have determined that we need to deviate from the correct algorithm, flip bit 16 in initial expanded key.
In case we don't have PCRE support (for whatever reason...) simply do nothing and return the unmodified header
In order to avoid an upsize followed by a downsize of the buffer, overestimate by the step size (which is 2K).
In other words, the expression must not refer to any non-deterministic function nor any table other than iCur.
In the pre-compile phase, we can move the code pointer back to where it was for the start of the first branch.
In this case there may exist a Pager.pMap mapping that appears to be the right size but is not actually valid.
It is used during rollback, and to determine whether or not pages need to be journalled before being modified.
It may therefore only be used if sqlite3_libversion_number() returns a value greater than or equal to 3009000.
MATCH_ONCE is returned when the end of an atomic group is successfully reached, but subsequent matching fails.
Macros are used to achieve this so that the actual code doesn't look very different to what it always used to.
Make sure some idiot didn't include a vector as a child of itself and thus it would have already free'd these.
Make sure the locking sequence is correct (1) We never move from unlocked to anything higher than shared lock.
No I/O or other system calls are done while the locks are held, so the locks should not be held for very long.
Note that when there are multiple overflow cells, it is always the case that they are sequential and adjacent.
Now that we placed the element, we need to update the variables We only need to do that for relative elements.
Now, if we have to wait some time, and we're supposed to be blocking, wait for the socket to become available.
Opcode: Transaction P1 P2 P3 P4 P5  Begin a transaction on database P1 if a transaction is not already active.
Otherwise, if the command was simply "PRAGMA integrity_check" (or "PRAGMA quick_check"), then iDb is set to 0.
P2  contains the address to jump to if the sub-program throws an IGNORE  exception using the RAISE() function.
Readers holding WAL_READ_LOCK(0) always ignore the entire WAL and read all content directly from the database.
Remove the unserialised properties, since we now have the elements within the spl_fixedarray_object structure.
Reposition cursor P1 so that  it points to the smallest entry that  is greater than or equal to the key value.
Return the ON CONFLICT resolution mode in effect for the virtual table update operation currently in progress.
Return the offset of frame iFrame in the write-ahead log file,  assuming a database page size of szPage bytes.
Return whatever integer value the test callback returns, or return SQLITE_OK if no test callback is installed.
Search in the input string for the first matching character and recursively contine the match from that point.
Set *pCurrent to the total cache hits or misses encountered by all pagers the database handle is connected to.
Set to FALSE if each output row of the SELECT can be written directly into the destination table (template 3).
So first try to lookup the overflow page-list cache, if any, then fall back to the getOverflowPage() function.
Stack layout naming characters: S - Push the current STR_PTR 0 - Push a 0 (NULL) A - Push the current STR_PTR.
TK_REGISTER: original value of Expr.op TK_COLUMN: the value of p5 for OP_Column TK_AGG_FUNCTION: nesting depth
TODO: This function allocates a single block of memory to load the entire contents of the master journal file.
The Gregorian calendar system is used for all dates and times, even those that predate the Gregorian calendar.
The UNION ALL operator works fine with multiSelectOrderBy() even when there are COLLATE terms in the ORDER BY.
The caller must have already opened the stream, and is responsible for closing it after finishing compression.
The code is shared with single-character repeats by setting op_type to add a suitable offset into repeat_type.
The contents of the "structure" record for each index are represented using an Fts5Structure record in memory.
The correct URI for that UNC has only two or four leading / characters file://host/path or file:////host/path.
The extra data appended to a page is always initialized to zeros the  first time a page is loaded into memory.
The flag is cleared as soon as the journal file is finalized (either by PagerCommitPhaseTwo or PagerRollback).
The isRequirePhrase variable is set to true if a phrase or an expression contained in parenthesis is required.
The pager_playback() routine will discover that the journal file is not really hot and  will not roll it back.
The real indices of the table are only considered if the NOT INDEXED qualifier is omitted from the FROM clause
The same space is used in the second phase for remembering where to fill in forward references to subpatterns.
The sanity checking information for the new journal format consists of a 32-bit checksum on each page of data.
The threshold argument defines the tolerance to be used while comparing the image color and the color to crop.
The total number of occurrences of the phrase in each column of  the FTS table (considering all rows), and  2.
The transient database requires temporary disk space approximately equal to the size of the original database.
The u.hdr.prevSize field is the size of the previous chunk in blocks if the previous chunk is on the freelist.
The value passed into szExtra depends on the SQLite version, the target platform, and how SQLite was compiled.
The winMemData structure stores information required by the Win32-specific sqlite3_mem_methods implementation.
There can't be two sort flags of the same type after an array, and the very first argument has to be an array.
These tables have no persistent representation of their own, so xConnect and xCreate are identical operations.
This capability is used during testing and is only available when the SQLITE_TEST compile-time option is used.
This function  appends a human-readable representation of record to the buffer passed  as the second argument.
This function is called when the root page of a b-tree structure is overfull (has one or more overflow pages).
This function is provided for convenience only, the same result could be achieved directly by the application.
This function returns a pointer to the array of opcodes associated with the Vdbe passed as the first argument.
This is done as a macro so that it will be optimized out when virtual table support is omitted from the build.
This is only done if the current call to this function resulted in the heap subsystem actually being shutdown.
This isn't an assert, we need to ensure 019 isn't valid octal Because the lexing itself doesn't do that for us
This means that when the end of a node is reached, the next term is in the node with the next greater node id.
This routine generates code to open those VDBE cursors and sqlite3WhereEnd() generates the code to close them.
This strategy involves a two rowid lookups on an B-Tree structures and then a linear search of an R-Tree node.
This table is used to check whether auto-possessification is possible between adjacent character-type opcodes.
This turns out to be trickier than you   * might think because of the possibility of matching an empty string.
To do this in a way that is testable, mask the sign bit off of negative values, resulting in a positive value.
Use sqlite3OsFileControl() when we are doing something that might fail and we need to know about the failures.
WBMP ---- WBMP Level 0: B/W, Uncompressed This implements the WBMP format as specified in WAPSpec 1.1 and 1.2.
We cannot use a table of offsets, because the lengths of inserts such as XSTRING(MAX_NAME_SIZE) are not known.
We have to allow for a named reference to a duplicated name (this cannot be determined until the second pass).
We should keep an reference to return_value to prevent it from being dtor in case nesting calls to unserialize
__isset handler is called with one argument: property name it should return whether the property is set or not
all memory is allocated, proxys are created and assigned,  switch the locking context and pMethod then return.
iLimit and iOffset should have been preset to appropriate default values (zero) prior to calling this routine.
if our parent node, by definition a vector, is not an array, then our element name must be our key identifier.
trise set to time when the sun is at south, minus 12 hours while *tset is set to the south time plus 12 hours.
(In that case, we'd really want to copy the outer WHERE-clause terms onto the HAVING clause of the inner query.
A column-list is list of delta-encoded positions for a single column within a single document within a doclist.
A cost of N indicates that the cost of the strategy is similar to a linear scan of an SQLite table with N rows.
A segment merge traverses all segments at a given level in parallel, performing a straightforward sorted merge.
After passing the buffer and buffer size to the lookaside-reader init function, zero the phrase poslist buffer.
Also, it is possible/likely that optimizations to things like doclist merging will swing the sweet spot around.
Also, the beginning of a year varied from one culture to another - not all accepted January as the first month.
An I/O method finder function called FINDER that returns a pointer to the METHOD object in the previous bullet.
An OR-ed combination of these values can be used when searching for particular WhereTerms within a WhereClause.
An instance of the following structure is used as a dynamic buffer to build up nodes or other blobs of data in.
Backreferences and subroutine calls are treated in the same way: we find the minimum length for the subpattern.
But its access pattern is the same as header meta values, and so it is convenient to read it from this routine.
C LALR(1) parser skeleton written by Richard Stallman, by simplifying the original so-called "semantic" parser.
Catch unrecognized opcodes so that when new ones are added they are not forgotten, as has happened in the past.
Change the P2 operand of instruction addr so that it points to the address of the next instruction to be coded.
Check that the affinity that will be used to perform the  comparison is the same as the affinity of the column.
Compare two UTF-8 strings for equality where the first string can potentially be a "glob" or "like" expression.
Create a lowercased header for all the searches so we're finally case insensitive when searching for a pattern.
Deal with as much of this write request as possible by transfering data from the memory mapping using memcpy().
Finally, if the expression is an SQL function (TK_FUNCTION), then Expr.token contains the name of the function.
First, 510 dates from a table in "Jewish Calendar Mystery Dispelled" were calculated and compared to the table.
For  example, the following:  "a OR b AND c NOT d NEAR e"  is equivalent to:  "a OR (b AND (c NOT (d NEAR e)))"
For MS Visual Studio and Symbian OS, there are problems in initializing these variables to non-local functions.
For the purposes of this routine, a cursor is any cursor that is capable of reading or writing to the database.
GLOB_NOMAGIC: Same as GLOB_NOCHECK, but it will only append pattern if it did not contain any magic characters.
Generate code that will extract the iColumn-th column from table pTab and store the column value in a register.
Helper function used by the implementation of the overloaded snippet(), offsets() and optimize() SQL functions.
However, the functions and classes exported by the module will not be available until the module is 'reloaded'.
If P4 is not NULL then the P1 cursor must have been positioned using OP_NotFound prior to invoking this opcode.
If both values are text, then the appropriate collating function specified in P4 is  used to do the comparison.
If eMode is ONEPASS_MULTI, then this call is being made as part of a ONEPASS delete that affects multiple rows.
If it did not delete it, the row-trigger may still have modified  some of the columns of the row being updated.
If non-zero is returned, then it is not necessary to include the nul-terminator character in the output buffer.
If that is being changed dlsym() should only be used when building this extension sharedto offer compatibility.
If the "nearby" parameter is not 0, then an effort is made to  locate a page close to the page number "nearby".
If the VM did not run to completion or if it encountered an error, then it might not have been halted properly.
If the entry specified by zName and nName is not found and parameter 'create' is true, then create a new entry.
If the fourth parameter is 1, then the SQL statement that the third parameter points to has just been executed.
If the parent does not exist, removing the child row resolves an  outstanding foreign key constraint violation.
If the second parameter is greater than 0 and the sub-journal is not already open, then it will be opened here.
If the string is too large (if it exceeds the SQLITE_LIMIT_LENGTH size limit) then no memory allocation occurs.
If there are other active statements that belong to this database handle, downgrade to a read-only transaction.
If this image is the result of alpha channel blending, it will not contain an interesting alpha channel itself.
If we reach this points it means that the new candidate path needs to be added to the set of best-so-far paths.
If zKey is non-NULL, then this foreign key was declared to map to an explicit list of columns in table pParent.
In an affine transform composed of scaling, rotation, shearing, and translation, returns the amount of scaling.
In fact, because we do the check for a number below, the paths that would actually be in error are never taken.
In this case there is no need to make a copy of the data, just return a  pointer into the buffer to the caller.
In this version of BtreeMoveto, pKey is a packed index record such as is generated by the OP_MakeRecord opcode.
It also sets a flag in local variable "flags" to indicate the memory management (one of MEM_Dyn or MEM_Static).
It is guaranteed that the initial value of ptr is greater than the start of the string that is being processed.
Later: if a malloc() or IO error occurs during a Movepage() call, then the page may not be in the cache either.
Let nOther be the number of other phrases for which it is certain that one or more tokens will not be deferred.
License to copy and use this software is granted provided that it is identified as the "RSA Data Security, Inc.
Load the entire master journal file into space obtained from sqlite3_malloc() and pointed to by zMasterJournal.
Make sure the number of columns in the source data matches the number of columns to be inserted into the table.
Most of the work of this routine is checking to see if there are indices that can be used to speed up the loop.
NB:  If you define USE_PREAD or USE_PREAD64, then it might also be necessary to define _XOPEN_SOURCE to be 500.
Nevertheless, be sure  to test the case where a malloc error occurs while trying to set  a bit in a bit vector.
Nevertheless, it is formally deprecated in Bison 2.4.2's NEWS entry, where a plan to phase it out is discussed.
Null-terminate the string, so strdup can work even if the packets have a string at the end, which is not ASCIIZ
ON and USING clauses are shifted into WHERE statements Wildcards "*" and "TABLE.*" in result sets are expanded.
Or, if it is set, then the rule only applies to every second codepoint in the range, starting with codepoint C.
Otherwise, if we know what the first byte has to be, save it, because that speeds up unanchored matches no end.
Record in the column cache that a particular column from a particular table is stored in a particular register.
Remove from the column cache any entries that were added since the the previous sqlite3ExprCachePush operation.
Restore the cursor to the position it was in (or as close to as possible) when saveCursorPosition() was called.
Return TRUE if database connection db has unfinalized prepared statements or unfinished sqlite3_backup objects.
Return the SorterCompare function to compare values collected by the sorter object passed as the only argument.
Return true if the Mem object contains a TEXT or BLOB that is too large - whose size exceeds SQLITE_MAX_LENGTH.
STEP 1: Look for an entry of the correct size in either the small chunk table or in the large chunk hash table.
So unique matches will be used to generate a help message but non-unique one will be used to list alternatives.
Some operating systems might need to do some cleanup in this routine, to release dynamically allocated objects.
The "d1+serial_type1+2" subexpression will always be greater than or equal to the amount of required key space.
The BtCursor object is opaque to users so they cannot do the sizeof() themselves - they must call this routine.
The OP_REF and OP_REFI opcodes are used for a reference to a numbered group or to a non-duplicated named group.
The application should never modify anything within the sqlite3_vfs object once the object has been registered.
The arguments to this routine should be the same as the first six arguments to sqlite3GenerateConstraintChecks.
The bitmap records up to 31 back references to help in deciding whether (.*) can be treated as anchored or not.
The checksum is calculated by XORing the checksums of each individual entry (see fts3ChecksumEntry()) together.
The checksums for all entries in the index are XORed together to create a single checksum for the entire index.
The circumstances under which SQLite will enforce the soft heap limit may changes in future releases of SQLite.
The column on the left-hand side of the MATCH operator is column number idxNum-FTS3_FULLTEXT_SEARCH, 0 indexed.
The content being read or written might appear on the main page or be scattered out on multiple overflow pages.
The first time a column affinity string for a particular index is required, it is allocated and populated here.
The following table is searched linearly, so it is good to put the most frequently used conversion types first.
The hash table might fail to resize if sqlite3_malloc() fails or if the new size is the same as the prior size.
The particular combination of bits in each WhereLoop help to determine the algorithm that WhereLoop represents.
The reason being that it is not guaranteed that the content table actually contains the same data as the index.
The repeating kets try the rest of the pattern or restart from the preceding bracket, in the appropriate order.
The second argument to this function contains the text of an SQL statement that returns a single integer value.
The size of the local bulk allocation can be adjusted using   sqlite3_config(SQLITE_CONFIG_PAGECACHE, 0, 0, N).
The sizes of all cells that are to be freed have already been computing while deciding which cells need freeing
The state variable is passed in to allow a function like fgetss to maintain state across calls to the function.
The term/doclist format described above is accurate if the entire term/doclist data fits on a single leaf page.
The xml serialization layer(s) will then return a value * of null, when the right thing may be no value at all.
Then free any overflow pages associated with the entry and finally remove the cell itself from within the page.
These are already defined in the sqliteInt.h, but the definitions need to be repeated for separate compilation.
These routines is used to get quick access to key and data in the common case where no overflow pages are used.
This also ensures that if any database schemas have been modified by an uncommitted transaction they are reset.
This ensures that other threads/requests that might have disabled the loader do not affect the current request.
This function assumes that an authorization callback has been registered (i.e. that sqlite3.xAuth is not NULL).
This function is called by the parser when it parses a command to create, release or rollback an SQL savepoint.
This function is called from both BtreeCommitPhaseTwo() and BtreeRollback() at the conclusion of a transaction.
This function is used to add terms implied by JOIN syntax to the WHERE clause expression of a SELECT statement.
This function scans through a branch of a compiled pattern to see whether it can match the empty string or not.
This is because assert() statements in some VFS implementations fail if  xShmLock() is called before xShmMap().
This is required in case this index is actually a  PRIMARY KEY and the table is actually a WITHOUT ROWID table.
This is so as to ensure that the buffer is big enough to hold the current doclist AND'd with any other doclist.
This means if a write-lock was already held and a read-lock requested, we don't incorrectly downgrade the lock.
This module contains the external function pcre_fullinfo(), which returns information about a compiled pattern.
This only works for very simple expressions that consist of one constant token (i.e. "5", "5.1", "'a string'").
This routine is called prior to sqlite3PagerCommit when a transaction is committed for an auto-vacuum database.
This routine is like sqlite3_malloc() except that it assumes the memory subsystem has already been initialized.
This routine makes the necessary adjustments to pPg so that it contains the correct cells after being balanced.
This routine puts the finishing touches on the VDBE program and resets the pParse structure for the next parse.
This structure is defined inside of vdbeInt.h because it uses substructures (Mem) which are only defined there.
Ticket b351d95f9cd5ef17e9d9dbae18f5ca8611190001: The value in regFree1 might get SCopy-ed into the file result.
To avoid this, make sure to also run the full LIKE on all candidate expressions by clearing the isComplete flag
Unless it is NULL, argument zSql points to a buffer allocated using sqlite3_malloc containing an SQL statement.
Verify that the every entry in the mapping region is still reachable via the hash table even after the cleanup.
Verify that the number of entries in the hash table exactly equals the number of entries in the mapping region.
We allocate them with 2MB size granularity, to avoid many  reallocations when they are extended by small pieces
We do it this way so that the user's traceback function will be called by a C function with proper unwind info.
We want to use read() instead of fread() for the large shared memory block because buffering slows things down.
When we find the nearest color for a cell, its colormap index plus one is recorded in the cache for future use.
Whether or not the journal file is opened by this function, the Pager.pInJournal bitvec structure is allocated.
XXX this might need an additional fix so it uses size_t, whereby unsigned is quite big so leaving as is for now
YYNOCODE           is a number of type YYCODETYPE which corresponds to no legal terminal or nonterminal number.
allow for arrays with one element, no allowance for arrays with none but probably not required, gerrit thomson.
iLimit and iOffset  are the integer memory register numbers for counters used to compute  the limit and offset.
session_adapt_url() may be used to set Session ID to target url without starting "URL-Rewriter" output handler.
somehow some gcc release builds will play a bit around with order in combination with setjmp..., hence volatile
this is a convenience function for fetching a particular element from a (possibly multi-dimensional) safe array
yygotominor is uninitialized when a rule reduces that does not set the value of its left-hand side nonterminal.
zNum is empty or contains non-numeric text or is longer than 19 digits (thus guaranteeing that it is too large)
A "real" property test implies no starting bits, but the fake property PT_CLIST identifies a list of characters.
A copy of the following object occurs in the wal-index immediately following the second copy of the WalIndexHdr.
API oddity: If successful, SetFilePointer() returns a dword containing the lower 32-bits of the new file-offset.
Allocate cursors for the pTab table and all its indices and generate code to open and initialized those cursors.
Argument pCsr must be a cursor opened for writing on an  INTKEY table currently pointing at a valid table entry.
Arguments nArg/azArg contain the string arguments passed to the xCreate or xConnect method of the virtual table.
Assuming no errors have occurred, set up a merger structure to  incrementally read and merge all remaining PMAs.
Before doing anything else, call the xSync() callback for any virtual module tables written in this transaction.
Before returning, *pnVal is incremented by the current cache hit or miss count, according to the value of eStat.
But then, on the other hand, dlsym() will not work on such a system either, so we have not really lost anything.
Check to see if index pSrc is compatible as a source of data for index pDest in an insert transfer optimization.
Check whether the current request was referred to by an external site which invalidates the previously found id.
Computes dominator tree using algorithm from "A Simple, Fast Dominance Algorithm" by Cooper, Harvey and Kennedy.
Creating a new table may probably require moving an existing database to make room for the new tables root page.
Current implementation of prepared statements can't send result set metadata for these queries on prepare stage.
Data is then  loaded into the buffers belonging to pReadr and it is set to point to  the first key in its range.
Each available memory allocation in the lookaside subsystem is stored on a linked list of LookasideSlot objects.
Each btree pages is divided into three sections:  The header, the cell pointer array, and the cell content area.
Each varint is the byte offset of the current term within the page, delta-compressed against the previous value.
Essentially, we are waiting for the socket to become writeable, which means that all pending data has been sent.
First check that we haven't called match() too many times, or that we haven't exceeded the recursive call limit.
For leaf pages, the coverage check will occur in the same loop as the other cell checks, so initialize the heap.
However, due to rounding errors, it may be that the cost of the OR-scan is equal to its most expensive sub-scan.
However, in future that may change, so we include them here so as not to leave a gotcha for a future maintainer.
However, we cannot do this when the assertion contains subroutine calls, because they can be forward references.
If an OOM error does occurs, then the prior value of pList that is input to this routine is automatically freed.
If compiled with SQLITE_TEST defined, then this module exports the symbol "int sqlite3_fts3_enable_parentheses".
If it is already present, control skips the Gosub opcode and jumps straight to the code generated by WhereEnd().
If it is not NULL, the xSelectCallback() callback is invoked before the walk of the expressions and FROM clause.
If neither operand is NULL the result is the same as it would be if the SQLITE_NULLEQ flag were omitted from P5.
If not, then split a block of the next larger power of two in order to create a new free block of size iLogsize.
If one or more IN operators appear, then this routine allocates an additional nEq memory cells for internal use.
If so, the row has already been included in the result set and can be ignored (by jumping past the Gosub below).
If the PAGER_GET_NOCONTENT flag is set, it means that we do not care about the content of the page at this time.
If the attempt to grab the exclusive lock failed, release the  pending lock that may have been obtained instead.
If the bIncrRowid parameter is 0, then any OP_Rowid instructions on cursor iTabCur are transformed into OP_Null.
If the database was unlocked prior to this instruction then a read lock is acquired as part of this instruction.
If the page record is successfully read from the (sub-)journal file and played back, then SQLITE_OK is returned.
If the pager is already in PAGER_ERROR state when this function is called, it returns Pager.errCode immediately.
If the phrase instances in the column being considered do not overlap, this object simply iterates through them.
If there are no entries in the input position list for column iCol, then pnList is set to zero before returning.
If this instruction attempts to get a read lock but fails, the script terminates with an SQLITE_BUSY error code.
If this was an atomic group and there are no capturing groups within it, generate OP_ONCE_NC instead of OP_ONCE.
If we reach this point, it means that pExpr refers to a table that is in the FROM clause of the aggregate query.
If xOpen() is called from a different process id, indicating that a fork() has occurred, the PRNG will be reset.
If you subtract pseg from the current end of the stack, you get the address of the previous stack segment's end.
In rollback mode the journal file is opened (if it is not already open) and a header written to the start of it.
In that alternative use, pRight points to the next entry in the list, pLeft points to the tree, and v is unused.
In that case only the column names and types will be used, so there is no need to test for namespace collisions.
In this case all that is required is to call vdbePmaReaderNext() on each PmaReader to point it at its first key.
In this case it sets the default encoding that will be used for the main database file if a new file is created.
Invert the P-box permutation, and convert into OR-masks for handling the output of the S-box arrays setup above.
It closes the directory and file handles, if they are valid, and sets all fields of the unixFile structure to 0.
It is incremented by SQLite whenever the database schema is modified (by creating or dropping a table or index).
Latest update build anc tested on Linux 2.2.14  This has been built and tested on Solaris 2.6 and Linux 2.1.122.
NOTE: the purposes are added as integer keys - the keys match up to the X509_PURPOSE_SSL_XXX defines in x509v3.h
Need to make a copy of path if we extracted the value from the conch file or the path was allocated on the stack
Normally, if a back reference hasn't been set, the length that is passed is negative, so the match always fails.
Not Yet Implemented though defined in libxml as of 2.6.9dev PHP_ME(xmlreader, resetState, NULL, ZEND_ACC_PUBLIC)
Note also that the numeric types are grouped together so that testing for a numeric type is a single comparison.
Note: A break point must always set the correct id and type A set breakpoint function must always map new points
Otherwise, *ppExpr is set to 0 and SQLITE_NOMEM (out of memory error) or SQLITE_ERROR (parse error) is returned.
Otherwise, at least a savepoint  transaction must be rolled back to restore the database to a  consistent state.
Otherwise, if the realloc() fails, *pIdx is set to -1, *pnEntry remains unchanged and a copy of pArray returned.
Otherwise, zero the new portion in case a  malloc failure occurs while populating it in the for(...) loop below.
P2 is the number of arguments that the step function takes and P4 is a pointer to the FuncDef for this function.
PS_UPDATE_TIMESTAMP_FUNC() updates time stamp(mtime) so that active session data files will not be purged by GC.
Playback the journal and thus restore the database file to the state it was in before we started making changes.
Remove the remnants of that writers uncommitted transaction from  the hash-table before writing any new entries.
Return 0 if no changes are made and non-zero if one or more WHERE clause terms are duplicated into the subquery.
Return a copy of input string zInput enclosed in double-quotes (") and with all double quote characters escaped.
Return the column declaration type (if applicable) of the 'i'th column of the result set of SQL statement pStmt.
Return true if the underlying VFS for the given pager supports the primitives necessary for write-ahead logging.
SELECT" statement), it is advantageous to leave the cursor pointing to the last entry in the b-tree if possible.
SHARED_SIZE is the number of bytes available in the pool from which a random byte is selected for a shared lock.
SQLITE_MAX_U32 is a u64 constant that is the maximum u64 value that can be stored in a u32 without loss of data.
SQLITE_OK is returned if successful, or if an error occurs while saving a cursor position, an SQLite error code.
Set up the signal handlers in a high priority constructor, so that they are installed before the Go code starts.
So we want the default action to be for NDEBUG to be set and NDEBUG to be undefined only if SQLITE_DEBUG is set.
Software that links against both SQLite version 2 and SQLite version 3 should use SQLITE3_TEXT, not SQLITE_TEXT.
The 'true' case is called as the matching path (expected path), and the other is called as the 'backtrack' path.
The SQLite core only provides implementations for these routines when it is compiled with the SQLITE_DEBUG flag.
The SUM() function follows the (broken) SQL standard which means that it returns NULL if it sums over no inputs.
The VDBE implements an abstract machine that runs a simple program to access and modify the underlying database.
The average document size in pages is calculated by first calculating  determining the average size in bytes, B.
The average document size, which is required to calculate the cost of each doclist, has not yet been determined.
The caller must have already opened the stream, and is responsible for closing it after finishing decompression.
The change from SHARED to RESERVED marks the beginning of a normal write operation (not a hot journal rollback).
The content to returned is determined by the parameter J which is one of the STAT_GET_xxxx values defined above.
The key is generated using MD5, but we only use the first 8 bytes because it allows us to use atomic operations.
The master database table is a special table that holds the names and attributes of all user tables and indices.
The next 5 must be kept together and in sequence so that a test that checks for any one of them can use a range.
The number of levels of transitivity is limited, but is enough to handle most commonly occurring SQL statements.
The one-pass algorithm only works if the WHERE clause constrains the statement to update or delete a single row.
The pager filename is invariant as long as the pager is open so it is safe to access without the BtShared mutex.
The parser inserted a special expression with the TK_ALL operator for each "*" that it found in the column list.
The proxy file and the lock file are never deleted so they only need to be created the first time they are used.
The run loop thread is responsible for running the loop and then executing the callbacks when they are triggered
The sqlite3_profile() function is considered experimental and is subject to change in future versions of SQLite.
The third integer is the average number of rows in the index that have the same value for the first two columns.
The users INSERT statement may have specified a value for the "rowid" field, for the "docid" field, or for both.
These routines all implement some additional formatting options that are useful for constructing SQL statements.
These routines only compile the first statement in zSql, so *pzTail is left pointing to what remains uncompiled.
This (sqlite3EndBenignMalloc()) is called by SQLite code to indicate that subsequent malloc failures are benign.
This allows many compilers to do optimizations that would not be possible if the files were compiled separately.
This division contains definitions of sqlite3_io_methods objects that implement various file locking strategies.
This function attempts to  allocate an instance of Fts5Config containing the results of parsing those arguments.
This function checks to see if the position list contains any entries for a token in position 0 (of any column).
This function compares two index or table record keys in the same way as the sqlite3VdbeRecordCompare() routine.
This function is invoked by the vdbe to call the xCreate method of the virtual table named zTab in database iDb.
This function merges the content of the two doclists together and sets buffer p1 to the result before returning.
This implies that the thread must also be holding a mutex on the sqlite3 connection pointer that owns the Btree.
This is an expensive option, so search through the constraints to see if a more efficient  strategy is possible.
This is different from a normal transaction rollback, as no locks are released and the transaction remains open.
This opcode causes the xFileControl method to swap the file handle with the one pointed to by the pArg argument.
This prevent using ordinary floating-point arithmetic when the result could be computed with one rounding error.
This reduces the recommended histogram size from 256Kb to 128Kb, which is a useful savings on PC-class machines.
This routine converts an ephemeral string into a dynamically allocated string that the register itself controls.
This routine is used to allow virtual table implementations to overload MATCH, LIKE, GLOB, and REGEXP operators.
This routine sets the value to be returned by subsequent calls to sqlite3_changes() on the database handle 'db'.
This structure is used to implement an iterator that loops through all frames in the WAL in database page order.
Tishri 1 will be the day of the molad unless it is delayed by one of the following four rules (called dehiyyot).
To avoid problems, the necessary byte swapping is carried out using a 64-bit integer rather than a 64-bit float.
To maintain a fully accurate histogram, we'd need to allocate a "long" (preferably unsigned long) for each cell.
To prevent these separators from being replaced with a space, we use the SKIP_LONG_HEADER_SEP to skip over them.
Use inline code for maximizing the speed, and do the type test once at the start (i.e. keep it out of the loop).
Use of the destination database connection while a backup is in progress might also also cause a mutex deadlock.
We do a little bit-flipping magic, repeating the MSB as the LSB, to ensure that 0 maps to 0 and 127 maps to 255.
We need to do slightly different things based on client/server method so lets remember which method was selected
We optimize the result set, so we don't convert all the data from raw buffer format to zval arrays during store.
We've modified it slightly to serve as a standalone hash table implementation for the full-text indexing module.
When the NATURAL keyword is present, add WHERE clause terms for every column that the two tables have in common.
__get handler is called with one argument: property name it should return whether the call was successful or not
and also when all branches start with non-atomic .* for non-DOTALL matches when *PRUNE and SKIP are not present.
call a function to parse all the text, so that we can use the same function no matter where the headers are from
check if the stylesheet is using xsl:key, if yes, we have to clone the document _always_ before a transformation
for this perpouse we allocate additional PHP_IMAP_ADDRESS_SIZE_BUF bytes by default this buffer is 10 bytes long
if "length" position is negative, set it to the length needed to stop that many chars from the end of the string
otherwise we will crash because the EG(persistent_list) has been freed already, before the modules are shut down
(2007-08-30)  Frank van Vugt has studied this problem closely and has send his findings to the SQLite developers.
(5) All writes to the database file are synced prior to the rollback journal being deleted, truncated, or zeroed.
(This is the CONFIG_FPE_FASTFPE option.)  On such systems, floating point byte swapping becomes very complicated.
(This will be either the table itself for rowid tables or to the primary key index for WITHOUT ROWID tables.)  2.
(Trickery for forcing an array to do double duty as a linked list when objects do not align with word boundaries.
A jump to addrRepeat is made and the N+1 values are popped from the stack if the top N elements are not distinct.
A list of errata for this book has been posted to the sci.crypt newsgroup by the author and is available for FTP.
A position-list blob contains the current position-list for each phrase in the query associated with cursor pCsr.
A special output routine for "multi-character digits."  Exactly SIZE characters must be output for the value VAL.
Add a WO_MATCH auxiliary term to the constraint set if the current expression is of the form:  column MATCH expr.
Add a single OP_Explain instruction to the VDBE to explain a simple count(*) query ("SELECT count(*) FROM pTab").
Added hdpi and vdpi to support images at non-screen resolutions, i.e. 300 dpi TIFF, or 100h x 50v dpi FAX format.
Adding 5 to the font index so we will never have font indices that overlap with the old fonts (with indices 1-5).
Advance the 'head' iterator of each phrase to the first offset that is greater than or equal to (iNext+nSnippet).
After that we require an 'm' or something else where 'm' stands for members and anything else should be an array.
All kinds can now be repeated except for assertions that are conditions (Perl also forbids these to be repeated).
All subsequent calls to sqlite3_blob_read(), blob_write() or blob_reopen() will  immediately return SQLITE_ABORT.
Allocator for "lage sizes" may easily find a free page (or a continuous number of pages) searching for zero bits.
As will all I/O modules, most functions are for local use only (called via function pointers in the I/O context).
Assuming mem5.zPool is divided up into an array of Mem5Link structures, return a pointer to the idx-th such link.
Before returning, *pzBuffer is set to the first byte past the portion of the buffer copied into by this function.
But one should test the page skipping logic  by setting PENDING_BYTE low and running the entire regression suite.
Check that the leaf contains at least one term, and that it is equal to or larger than the split-key in zIdxTerm.
Committing the whole shared heap at once would require the same amount of free space in memory (or in swap file).
Conditions under which the destination must be empty:  (1) There is no INTEGER PRIMARY KEY but there are indices.
Copy the buffer, we have perhaps allocate a lot more than we need, so we erealloc() the buffer to the proper size
Defining this symbol does not mean that the library will use a memory-pool by default, just that it is available.
Exactly one of the following macros must be defined in order to specify which memory allocation subsystem to use.
FTS5 assumes the xToken() callback is invoked for each token in the  order that they occur within the input text.
First convert the x509 struct back to a DER encoded buffer and let Windows decode it into a form it can work with
For MinGW, check to see if we can include the header file containing its version information, among other things.
For caseless UTF-8 mode when UCP support is available, check whether this character has more than one other case.
For compatibility with auto-callouts, we allow a callout to be specified before a condition that is an assertion.
Furthermore, because the temporary table has no indices, the WHERE clause on the outer query cannot be optimized.
Generate a subroutine that outputs the current row of the A select as the next output row of the compound select.
Generate a subroutine that outputs the current row of the B select as the next output row of the compound select.
Generate code to start a transaction on each used database and to verify the schema cookie on each used database.
However, a WAL_WRITE_LOCK thread can move the value of nBackfill from mxFrame back to zero when the WAL is reset.
However, the sqlite3_backup_remaining() and sqlite3_backup_pagecount() APIs are not strictly speaking threadsafe.
INSERT operations:  I.1) For each FK for which the table is the child table, search the parent table for a match.
INTERIOR_MIN_TERMS (default 7) keeps large terms from monopolizing interior nodes and making the tree too skinny.
If N is negative, then the default memory map limit determined by sqlite3_config(SQLITE_CONFIG_MMAP_SIZE) is set.
If P5 is positive and the jump is taken, then event counter number P5-1 in the prepared statement is incremented.
If a VFS object is destroyed before all database handles that use it have been closed, the results are undefined.
If an error is encountered it is returned immediately - no attempt is made to checkpoint any remaining databases.
If any term is found to match no documents at all, return immediately without initializing any further iterators.
If in WRITER_DBMOD, WRITER_FINISHED or OPEN state, then we update the pager cache if it exists and the main file.
If lookbehind, check that this branch matches a fixed-length string, and put the length into the OP_REVERSE item.
If nByte is larger than the maximum string or blob length, then raise an SQLITE_TOOBIG exception and return NULL.
If oci_old_close_semantics is set, we artificially bump up the refcount and decremented only at request shutdown.
If possible, this estimate is loaded from the sqlite_stat1 table (with RTREE_MIN_ROWEST as a hard-coded minimum).
If sqlite3SrcListLookup() returns 0, indicating the table does not exist, the error is caught by the block below.
If the EP_Reduced flag is set in the Expr.flags mask, then no space is allocated for the fields below this point.
If the application then re-attempts the "DROP TABLE" or "DROP INDEX" query, an infinite loop might be the result.
If the bPreserve flag is set to true, then the cursor position must be preserved following this delete operation.
If the depth as specified on the root node is greater than RTREE_MAX_DEPTH, the r-tree structure must be corrupt.
If the double is out of range of a 64-bit signed integer then return the closest available 64-bit signed integer.
If the input day is in the third month, it doesn't matter which molad is returned, because both will be required.
If the month is 8 (Nisan) or greater, the calculation is simple subtraction from beginning of the following year.
If the return value is 1, then ALWAYS() is either hard-coded to true or else it asserts if its argument is false.
If the subpattern set a required byte (or set a first byte that isn't really the first byte - see above), set it.
If the translation is between UTF-16 little and big endian, then  all that is required is to swap the byte order.
If the zFilename parameter to xOpen is a NULL pointer then xOpen must invent its own temporary name for the file.
If there are any triggers to fire, allocate a range of registers to use for the old.* references in the triggers.
If there are two or more cursors on the same btree, then all such cursors *must* have the BTCF_Multiple flag set.
If there is a "*-oal" file in the file-system corresponding to the target database in the file-system, delete it.
If this function does return a pointer, the caller must eventually release the reference by calling winUnfetch().
In some circumstances, we are able to run the xfer optimization only if the destination table is initially empty.
In theory, it is only necessary to write the 28 bytes that the  journal header consumes to the journal file here.
Inline immutable values from the target node to avoid excessive method invocations during the layout calculation.
It also contains part of the implementation of the SQLITE_CONFIG_PAGECACHE and sqlite3_release_memory() features.
Magic entries with no description get a bonus because they depend on subsequent magic entries to print something.
Moving an existing blob handle to a new row can be faster than closing the existing handle and opening a new one.
NOTE: modifying 'collator_XX_args' do not forget to modify approptiate 'collator_XX_args' for the procedural API.
Normally, new pages allocated by this block can be requested from the pager layer with the 'no-content' flag set.
On some systems, calls to fchown() will trigger a message in a security log if they come from non-root processes.
Once the VM has finished passing records to the sorter, or when the in-memory buffer is full, the list is sorted.
One or more phrases that must appear within a certain token distance of each other within each matching document.
Opcode: Next P1 P2 P3 P4 P5  Advance cursor P1 so that it points to the next key/data pair in its table or index.
Opcode: ResetSorter P1 * * * *  Delete all contents from the ephemeral table or sorter that is open on cursor P1.
Opcode: VNext P1 P2 * * *  Advance virtual table P1 to the next row in its result set and jump to instruction P2.
Optionally, the connect can be made asynchronously, which will implicitly enable non-blocking mode on the socket.
Or if N is negative, then -1024*N bytes of memory are allocated and used for as many pages as can be accomodated.
Or, that if SQLITE_MIXED_ENDIAN_64BIT_FLOAT is defined that 64-bit floating point values really are mixed endian.
Ordinarily, if no value is explicitly provided, SQLite creates databases with page size SQLITE_DEFAULT_PAGE_SIZE.
Otherwise, if an error is encountered (i.e. an IO error or database corruption) an SQLite error code is returned.
Otherwise, if there's a dval or no need to check for a full match, stop when there are too many digits for a long
Parameter eMode must be one of PAGER_LOCKINGMODE_QUERY, PAGER_LOCKINGMODE_NORMAL or  PAGER_LOCKINGMODE_EXCLUSIVE.
Parameters z and n contain a pointer to and length of a buffer containing an fts3 query expression, respectively.
Pending-terms doclists are always built up in ascending order, so we have to iterate through them backwards here.
Register a callback to be invoked each time a row is updated, inserted or deleted using this database connection.
Return TRUE if zTable is the name of the system table that stores the list of users and their access credentials.
Return negative, zero, or positive if the first is less than, equal to, or greater than the second, respectively.
Return the CollSeq* pointer for the collation sequence named zName for the encoding 'enc' from the database 'db'.
Return the VDBE address or label to jump to in order to continue immediately with the next row of a WHERE clause.
Return the index i of the matching column, as an indication to the caller that it should sort by the i-th column.
Similar to sqlite3Fts3GetVarint(), except that the output is truncated to a 32-bit integer before it is returned.
Some (but not all) possessively repeated subpatterns have already been completely handled in the code just above.
The ISAUTOVACUUM macro is used within balance_nonroot() to determine if the database supports auto-vacuum or not.
The WAL subsystem issues this signal during rare circumstances in order to fix a problem with priority inversion.
The aggregate accumulator is a set of memory cells that hold intermediate results while calculating an aggregate.
The arguments should have their types declared as well, but you're free to pass arguments of other types instead.
The busy callback should not take any actions which modify the database connection that invoked the busy handler.
The caller is guaranteed to have locked the WAL_WRITE_LOCK byte, and may have also locked the WAL_CKPT_LOCK byte.
The database cache and the schema associated with the database file are all contained within the BtShared object.
The definition of "at or after" depends on whether this iterator iterates in ascending or descending rowid order.
The doNotSpill ROLLBACK and OFF bits inhibits all cache spilling regardless of whether or not a sync is required.
The error at a given pixel is propagated to its not-yet-processed neighbors using the standard F-S fractions, ...
The expression is the default value for the most recently added column of the table currently under construction.
The intent was to create a new calendar system that was based on scientific principals, not religious traditions.
The left-hand (repeated) opcode is used to select the row, and the right-hand opcode is use to select the column.
The next global variable records the size of the largest MEM_Blob or MEM_Str that has been used by a VDBE opcode.
The only difference between OP_CLASS and OP_NCLASS occurs when a data character outside the range is encountered.
The remainder will be in r1, the upper 16 bits of the quotient will be in d2 and the lower 16 bits will be in d1.
The sqlite3DbFree() routine requires two parameters instead of the  one parameter that destructors normally want.
These no-op macros are used in front of interfaces to mark those interfaces as either deprecated or experimental.
This allows disabling scanning for ini files in the PHP_CONFIG_FILE_SCAN_DIR but still load an optional ini file.
This ensures that all data has really hit the disk before nRec is updated to mark it as a candidate for rollback.
This fails for languages like Japanese that legally use multiple scripts within a single word, so we turn it off.
This file contains the implementation of the sqlite3_unlock_notify() API method and its associated functionality.
This function attempts to extend the file to nByte bytes in size and to ensure that the VFS has memory mapped it.
This function is invoked by the vdbe to call the xDestroy method of the virtual table named zTab in database iDb.
This function is registered as the module destructor (called when an FTS3 enabled database connection is closed).
This function is used to read or overwrite payload information for the entry that the pCur cursor is pointing to.
This hack uses a standard trick for avoiding calling the STRING macro with an empty argument when doing the test.
This is a convenience routine that makes sure that all thread-specific data for this thread has been deallocated.
This is slightly tricky as the leaf node may be underfull, and the internal node may be either under or overfull.
This means that we cannot use POSIX locks to synchronize file access among competing threads of the same process.
This routine changes the values of iLimit and iOffset only if a limit or offset is defined by pLimit and pOffset.
This routine examines all entries on the given list and tries to coalesce each entries with adjacent free chunks.
This routine invokes the collation factory if the named collation cannot be found and generates an error message.
Turn parser tracing on by giving a stream to which to write the trace and a prompt to preface each trace message.
Unless the table has an external primary key index  (i.e. unless *peType is set to 3), then *piPk is set to zero.
User semantic actions sometimes alter yychar, and that requires that yytoken be updated with the new translation.
Usually, the sector size is less than or equal to the page size, in which case pages can be individually written.
Verify that all sibling pages are of the same "type" (table-leaf, table-interior, index-leaf, or index-interior).
Warning:  changing the way overflow payload is distributed in any way will result in an incompatible file format.
We can't return from hh_add until we know that hh_mem would succeed, which is to say that addr is no longer null.
When EXIF_DEBUG is defined the module generates a lot of debug messages that help understanding what is going on.
When that happens, the second error will be reported since these interfaces always report the most recent result.
don't assign closure_object since we only reflect the invoke handler method and not the closure definition itself
function    : Q_Destroy  purpose     : Free all queue resources  parameters  : queue pointer  returns     : null.
if that fails, try to open the file read-only otherwise return BUSY (if lock file) or CANTOPEN for the conch file
json_array_length(JSON) json_array_length(JSON, PATH)  Return the number of elements in the top-level JSON array.
libxslt uses _private, so we must copy the imported stylesheet document otherwise the node proxies will be a mess
mysqlnd_stmt_store_result() has been called free the bind variables to prevent leaking of their previous content.
random NFS retry error, unless during file system support  introspection, in which it actually means what it says
recurses    chain of recurse_check to catch mutual recursion Returns:      TRUE if what is matched could be empty
we either have a query that returned a result set or an error occurred lets see if we have access to a result set
we never take stdin if we're (f)cgi, always rely on the web server giving us the info we need in the environment.
xShmLock() calls to unlock the same locks are no-ops (so that once obtained, these locks are never relinquished).
(later):  It is reported to me that the mixed-endian problem on ARM7 is an issue with GCC, not with the ARM7 chip.
(omit this argument when calling the function) The return type of the function is the declared type of the result.
- Save handler _MUST_ use PS_GET_MOD_DATA()/PS_SET_MOD_DATA() macro to set/get save handler module data(mod_data).
A list of expressions can also be used as the argument to a function, in which case the a.zName field is not used.
A non-NULL profile is a pointer to a function that is invoked at the conclusion of each SQL statement that is run.
A pointer to an instance of this structure is the first argument to the routines used implement the SQL functions.
A program called dftables (which is distributed with PCRE) can be used to build alternative versions of this file.
A temp table must be used if the table being updated is also one of the tables being read by the SELECT statement.
After a database is initialized, the DB_SchemaLoaded bit is set bit is set in the flags field of the Db structure.
Allocate registers for holding the rowid of the new row, the content of the new row, and the assembled row record.
And since the statement required here reads from this very virtual  table, saving it creates a circular reference.
Assert that the mutex (if any) associated with the BtShared database  that contains table p is held by the caller.
But we are getting ready to store this value back into an index, where it should be converted by to INTEGER again.
Called when a page of data is written to offset iOff of the database file while the rbu handle is in capture mode.
Concretely, if you try to add a key/value pair that is already in the table the data structure is left unmodified.
Copy the contents of the child page into the parent, decreasing the overall height of the b-tree structure by one.
Definitions of sqlite3_io_methods objects for all locking methods plus "finder" functions for each locking method.
Don't bind LONG / BINARY columns, so that fetch behaviour can be controlled by odbc_binmode() / odbc_longreadlen()
EVIDENCE-OF: R-11498-58022 In a well-formed b-tree page, the total number of bytes in fragments may not exceed 60.
Extend the gl_pathv member of a glob_t structure to accommodate a new item, add the new item, and update gl_pathc.
FIXME: I need to have this somehow handled if USE_SAPI is defined, because cgi will also be interfaced in USE_SAPI
For more information on the IJG JPEG software (and JPEG documentation, etc.), see ftp://ftp.uu.net/graphics/jpeg/.
Forever loops are also detected at runtime, so those that occur in conditional subpatterns will be picked up then.
Functions sqlite3Error() or sqlite3ErrorWithMsg() should be used during statement execution (sqlite3_step() etc.).
GIF Image compression - modified 'compress'  Based on: compress.c - File compression ala IEEE Computer, June 1984.
However, since LogEst quantities are suppose to be estimates, not exact values, this imprecision is not a problem.
However, there is an option that disables these, for testing and for ensuring that all callouts do actually occur.
However, this can happen only at top level - if we are within parentheses, the starting BRA will still be present.
If a term is the BETWEEN operator, create two new virtual terms that define the range that the BETWEEN implements.
If bind_one_parameter was used, but not everything was bound and nothing was fetched, then some `zv` could be NULL
If parameter iCol is not 0, write an POS_COLUMN (1) byte followed by the value of iCol encoded as a varint to *pp.
If register P1 contains a RowSet object and that RowSet object contains the value held in P3, jump to register P2.
If required, this routine calls the 'collation needed' callback to request a definition of the collating sequence.
If that fails, try it as an SUS integer type if it begins with "d" or as an SUS string type if it begins with "s".
If the  authorization callback returns SQLITE_IGNORE, behave as if any values read from the parent table are NULL.
If the bClear argument is non-zero, then the auxiliary data is cleared (set to NULL) before this function returns.
If the buffer turned out to be too small then allocate another buffer dynamically and use it to format the number.
If the column number is greater than the number of bits in the bitmask then set the high-order bit of the bitmask.
If the compilation succeeded, we call PCRE again, in order to do a     * pattern match against the subject string.
If the content of register P1 is initially nonzero, then subtract P3 from the value in register P1 and jump to P2.
If the cursor is already positioned at the point we are trying to move to, then just return without doing any work
If the journal header file appears to be corrupted, SQLITE_DONE is returned and *pNRec and *PDbSize are undefined.
If the maximum is limited, it replicates the group in a nested fashion, remembering the bracket starts on a stack.
If the page size is changed, then this function uses sqlite3PagerMalloc()  to obtain a new Pager.pTmpSpace buffer.
If the sorter is running in single-threaded mode, then all PMAs generated are appended to a single temporary file.
If there was such a clause and the named index cannot be found, return  SQLITE_ERROR and leave an error in pParse.
If this means that the phrase does not appear in the current row, doclist.pList and doclist.nList are both zeroed.
If we are creating a set for an "expr IN (SELECT ...)" construct, then there should be a single item on the stack.
In case of the 'a+b' append mode, the handler is responsible to handle any rewind problems (see flatfile handler).
In order for the operator to be optimizible, the RHS must be a string literal that does not begin with a wildcard.
In order to avoid problems with upper layers, we need to report this file size as zero even though it is really 1.
In other words, it disables all mutexing and puts SQLite into a mode where it can only be used by a single thread.
In principle, we could implement several newline "types", each referring to a different set of newline characters.
In the 16-bit and 32-bit libraries, codepoints greater than 255 may be encountered even when UTF is not supported.
In these cases the fk constraint counters might be set incorrectly if any OP_FkCounter related scans are  omitted.
In this case the buffer will be used to store the converted string to, and may be resized (made larger) if needed.
In this case, set iDb to -1 here, to indicate that the VDBE should verify the integrity of all attached databases.
It is the responsibility of the caller to ensure that it is safe to overwrite this part of the cell-pointer array.
It may be that the BEFORE triggers moved the cursor or of already deleted the row that the cursor was pointing to.
It passes back up the tree (causing captured values to be reset) until the original atomic group level is reached.
It uses the output of the operations by C99 as the reference to check the implementation of complex numbers in Go.
Locks are removed from this list when a transaction is committed or rolled back, or when a btree handle is closed.
Look for ctor, dtor, clone If it's an old-style constructor, store it only if we don't have a constructor already.
Multiple copies of a single function are created when create_function() is called with SQLITE_ANY as the encoding.
NOTE: preprocess away the availability information to allow use of unsupported APIs on certain targets (i.e. tvOS)
Note that the sqlite3_vfs.pNext field of the VFS object is modified by the SQLite core when the VFS is registered.
On WinNT/2K/XP systems, LockFileEx() and UnlockFileEx() are available, which means we can use reader/writer locks.
Otherwise, it is set to point to an allocated array of size N, where N is the number of columns in the parent key.
PARAMETERS: PS_CREATE_SID_ARGS in php_session.h RETURN VALUE: Valid session ID(zend_string *) or NULL for FAILURE.
PS_CREATE_SID() and/or PS_VALIDATE_SID() - PS_CREATE_ID() is called if session ID(key) is not provided or invalid.
Parse through the leading whitespace, and display a warning if we get to the end without encountering a delimiter.
Return a pointer to a buffer containing the term associated with the  entry that the iterator currently points to.
Return an error code if an OOM fault or I/O error prevents us from positioning the cursor to its correct position.
SET reads 4 input bytes in little-endian byte order and stores them in a properly aligned word in host byte order.
SQLite calls this function immediately after a call to unixDlSym() or unixDlOpen() fails (returns a null pointer).
SQLite will use the extra szExtra bytes on each page to store metadata about the underlying database page on disk.
See http://connect.microsoft.com/VisualStudio/feedback/details/759720/vs2012-strftime-crash-with-z-formatting-code
Set the auxiliary data pointer and delete function, for the iArg'th argument to the user-function defined by pCtx.
Set up the SIGIO signal handler in a high priority constructor, so that it is installed before the Go code starts.
Shift JIS, Big5 and HKSCS use multi-byte encodings where an ASCII range byte can be part of a multi-byte sequence.
Similarly, iUpper is to be set to the estimate of the number of rows less than the upper bound of the range query.
Since the permanent table is hidden by the TEMP table, we can also safely ignore the index on the permanent table.
SubProgram structures associated with a single trigger all have the same value for the SubProgram.token  variable.
TUNING: The cost of implementing DISTINCT using a B-TREE is similar but with a larger constant of proportionality.
Tell the wal layer that an EXCLUSIVE lock has been obtained (or released) by the pager layer on the database file.
The FuncDef.pDestructor member of each of the new FuncDef objects is set to point to the allocated FuncDestructor.
The affinity of the parent key column should be applied to each child key value before the comparison takes place.
The alternative page cache mechanism is an extreme measure that is only needed by the most demanding applications.
The callback passed to this function should take an event name (string) and a link resource id (int) as arguments.
The code can also be used to build a tree via API then write out the tree to a buffer, thus "serializing" the xml.
The database connection cannot see the internals of this structure and only deals with pointers to this structure.
The following blocks should probably assert in debug mode, but they are to cleanup in case any locks remained open
The journal file is open and the first header has been written  to it, but the header has not been synced to disk.
The left-hand (repeated) opcode is used to select the row, and the right-hand opcode is used to select the column.
The new segment id must be between 1 and 65335 inclusive, and must not be used by  any currently existing segment.
The only difference  is that the counter used is stored as part of each individual statement object (struct Vdbe).
The result is written into the buffer supplied as the second parameter whose size is given by the first parameter.
The root page is then overwritten to make it an empty page with the right-child  pointer pointing to the new page.
The second parameter is the web startup filename and also defaults to "index.php" (falling back to CLI behaviour).
The sqlite3BtreeCommitPhaseOne() routine does the first phase and should be invoked prior to calling this routine.
The sqlite3_mutex_held() and sqlite3_mutex_notheld() routine are intended for use only inside assert() statements.
The supported encoding types are hardcoded here because we are limited to the encodings supported by expat/xmltok.
The value of the "pending" byte must be 0x40000000 (1 byte past the 1-gibabyte boundary) in a compatible database.
Then again after the original record is deleted but before the new record is inserted using the INSERT convention.
These tables have no persistent representation of their own, so xDisconnect and xDestroy are identical operations.
This cannot  happen if the connection is actually in exclusive mode (as no xShmLock locks are taken in this case).
This constraint creates the same index as a previous constraint specified somewhere in the CREATE TABLE statement.
This function is a substitute for real alpha channel operations, so it doesn't pay attention to the alpha channel.
This function returns true if any of the columns that are part of the child key for FK constraint *p are modified.
This is what we do if the grammar does not define ERROR:  Report an error message, and throw away the input token.
This linear search probably limits the usefulness of this implementation to cache sizes of a few tens of elements.
This occurs if some other client appends a transaction to the wal file in the middle of an incremental checkpoint.
This page cache implementation works in one of two modes:  (1)  Every PCache is the sole member of its own PGroup.
This routine sets the busy callback for an Sqlite database to the given callback function with the given argument.
This routine translates a standard POSIX errno code into something useful to the clients of the sqlite3 functions.
This version of the memory allocation subsystem is included in the build only if SQLITE_ENABLE_MEMSYS3 is defined.
This version of the memory allocation subsystem is included in the build only if SQLITE_ENABLE_MEMSYS5 is defined.
This will produce suitable results if people depend on DES-encryption available (passing always 2-character salt).
Unfortunately we cannot tell whether a name is a duplicate in the first pass, so we have to allow for more memory.
Use the line loop to position children in the main axis for as long as they are using a simple stacking behaviour.
Various methods of the page cache use pointers to instances of this object as parameters or as their return value.
We can use unsafe because we know the codepoint is in valid range and that 4 bytes is enough for any unicode point
We want those files to have *exactly* the same permissions as their original database, unadulterated by the umask.
When resuming an RBU update, the zState argument must be passed the same value as when the RBU update was started.
When the LockFile function was used, it was always expected to fail immediately if the lock could not be obtained.
When using ENABLE_MEMORY_MANAGEMENT, memory cell buffers can be freed lazily via the sqlite3_release_memory() API.
Whenever  possible, WAL and journal files are created using the same permissions  as the associated database file.
YYMAXDEPTH -- maximum size the stacks can grow to (effective only if the built-in stack extension method is used).
caml_alloc_string might trigger the GC, when that happens, the GC needs to scan the stack to find the OCaml roots.
if the *-wal file does not exist, set the output parameter to non-zero (to tell SQLite that it does exist) anyway.
in_free will let streams code skip destructing - big HACK, but STREAMS suck big time regarding persistent streams.
notnull:    True if 'NOT NULL' is part of column declaration dflt_value: The default value for the column, if any.
under some circumstances, the properties hash table may contain numeric properties (e.g. when casting from array).
xInstCount: Set *pnInst to the total number of occurrences of all phrases within the query within the current row.
(2)  An application crash or power loss can leave stale lock files sitting around that need to be cleared manually.
Apparently, implementations are supposed to know the type of action based on state, which strikes me as a bit lame.
As all child key values are guaranteed to be NULL, it is not possible for adding this row to cause an FK violation.
Because of OP_RECURSE, the data are not necessarly known in compile time, thus we need a dynamic restore mechanism.
But later on, nLimit and nOffset become the memory locations in the VDBE that record the limit and offset counters.
Changing the definition of GD2_DBG (below) will cause copious messages to be displayed while it processes requests.
Check to see if it has been allocated (i.e. if the wal-index file is large enough to contain the requested region).
Check to see if the given expression is a LIKE or GLOB operator that can be optimized using inequality constraints.
Class name is stored as a string, we might also get "self" or "parent" - For "self", simply use the function scope.
Config settings (essentially constants, so they don't need to live in shared memory), initialized in hh_shared_init
Disabled unsafe pattern: in conjunction with ZEND_VM_SMART_BRANCH() this may improperly eliminate assignment to Ti.
EVIDENCE-OF: R-60985-57662 SQLite will convert the value back to floating point when extracting it from the record.
Each time a statement is executed that removes an existing violation from the database, the counter is decremented.
Either Y will be held constant and Z will be incremented or else Y will be incremented and Z will be reset to zero.
Either way, record the fact that the ORDER BY and GROUP BY clauses are the same by setting the orderByGrp variable.
Except, each sample may be extended to ensure that it is greater than or equal to the previous sample in the array.
For a simple insert with data coming from a single-row VALUES clause, the code executes once straight down through.
For each column, the number of rows in the table for which the column contains at least one instance of the phrase.
For read, if the entry is marked unmodified, it is assumed that the file pointer, if present, is opened for reading
Fsync is also called on the database file if (and only if) the entire WAL content is copied into the database file.
Generate code to put the value of this select in a memory cell and record the number of the memory cell in iColumn.
However, that integer is too large to be stored in a 2-byte unsigned integer, so a value of 0 is used in its place.
INPUTS value     The target XMLRPC_VALUE s         The desired new binary value len       The length of s, or NULL.
If Fts3Cursor.pMIBuffer is NULL, then this is the first time the matchinfo function has been called for this query.
If SQLITE_CASE_SENSITIVE_LIKE is defined, then the LIKE operator is case sensitive causing 'a' LIKE 'A' to be false
If a continuation matches, we bump the current continuation level so that higher-level continuations are processed.
If a transient table is required, just use the automatically created table with root-page 1 (an BLOB_INTKEY table).
If an error does occur, an error message is stored in the parser and some error code other than SQLITE_OK returned.
If both this  constraint and the previous equivalent constraint have explicit ON CONFLICT clauses this is an error.
If no error has occurred and pPage has an overflow cell, call balance()  to redistribute the cells within the tree.
If support is added for switching proxy locking mode off then it will need to fail if the journal mode is WAL mode.
If the EP_TokenOnly flag is set in the Expr.flags mask, then no space is allocated for the fields below this point.
If the callback returns other than SQLITE_OK, it is not invoked again and the error code is returned to the caller.
If the main database file is not open, or the pager is not in either DBMOD or OPEN state, this function is a no-op.
If the target table column is an "INTEGER PRIMARY KEY", add "PRIMARY KEY" to the imposter table column declaration.
If the zval is not a GMP instance, then we try to convert the value to a temporary gmp number using convert_to_gmp.
If this function does return a pointer, the caller must eventually  release the reference by calling unixUnfetch().
If this is the case, then search for the closing quote and pass the whole string to getNextString() for processing.
If this routine is  generating code because of a call to sqlite3NestedParse(), do not invoke the callback function.
If you want to use this code to quantize a non-RGB color space, you'll probably need to change these scale factors.
If zFilename is ":memory:" then an in-memory database is created that is automatically destroyed when it is closed.
In Y format we must always have something in Y2, since it has no fnop, so this conveys that Y2 must always be used.
In particular, if pthread_equal() is not an atomic operation, then these routines might delivery incorrect results.
In this case it is not possible to determine the size of the segment, and so segment promotion does not take place.
In this case we accept the default page size and delay actually opening the file until the first call to OsWrite().
Instead, it stores the same values (A, B and C above) in a register array and makes a single invocation of VUpdate.
Instead, the entire table should be passed to sqlite3_free_table() when the calling procedure is finished using it.
It implements atomic commit and rollback through the use of a journal file that is separate from the database file.
It is illegal to open, release or rollback any such savepoints while the statement transaction savepoint is active.
Loop through the elements that will make up the record to figure out how much space is required for the new record.
Make sure the allocated memory does not assume that it is set to zero or retains a value from a previous allocation
Memory to hold the text of the statement is obtained from sqliteMalloc() and must be freed by the calling function.
NetWare has strtok() (in LibC) and allows both slashes in paths, like Windows -- but rest of the stuff is like Unix
Note that the values returned are one less that the values that should be passed into sqlite3BtreeSetSafetyLevel().
Note that we truncate to zero bytes as truncating to the journal_size_limit might leave a corrupt WAL file on disk.
Once sqlite3_initialize() has been called, the amount of memory available to SQLite is fixed and cannot be changed.
One extra bucket is added to catch overflow in case something ever changes to make the previous sentence incorrect.
Opcode: Param P1 P2 * * *  This opcode is only ever present in sub-programs called via the  OP_Program instruction.
Otherwise, after balancing the leaf node, walk the cursor up the tree to the internal node and balance it as  well.
Otherwise, assuming no error has occurred, save the current state of the RBU update appliation to the RBU database.
Processing for aggregates with GROUP BY is very different and much more complex than aggregates without a GROUP BY.
Read a single varint from the doclist at *pp and advance *pp to point to the first byte past the end of the varint.
SEE ALSO XMLRPC_SetValueDateTime_IOS8601 () XMLRPC_GetValueDateTime () XMLRPC_CreateValueDateTime_IOS8601 () SOURCE
Save phar contents to disk  user_stub contains either a string, or a resource pointer, if len is a negative length.
See XMLRPC_GetValueTypeEasy SEE ALSO XMLRPC_SetIsVector () XMLRPC_GetValueType () XMLRPC_GetValueTypeEasy () SOURCE
Some glob implementation simply return no data if no matches were found, others return the GLOB_NOMATCH error code.
Sometimes we need a small amount of code such as a variable initialization to setup for a later assert() statement.
TODO: Strangely, it is not possible to associate a column specifier with a quoted phrase, only with a single token.
Take the binary representation of the length of the key and for every 1 add the alternate sum, for every 0 the key.
That is why the "so" value is used to bump the start location rather than being passed as a PCRE "starting offset".
The calling routine should invoke walIteratorFree() to destroy the WalIterator object when it has finished with it.
The classes that have their own maps are: space, xdigit, digit, upper, lower, word, graph, print, punct, and cntrl.
The code generator calls this routine if is discovers that it is possible to abort a statement prior to completion.
The createFlags should be 0 to check for existing pages and should be 3 (not 1, but 3) to try to create a new page.
The data is currently in the process of being written, wait until it actually is ready to be used before returning.
The data that follows the key is in a similar, but not identical format to the doclist data stored in the database.
The following group of routines make deep copies of expressions, expression lists, ID lists, and select statements.
The full-text index is stored in a series of b+tree (-like) structures called segments which map terms to doclists.
The integer returned is an SQLITE_ success/failure code that describes the result of executing the virtual machine.
The maximum (and only) versions of the wal and wal-index formats that may be interpreted by this version of SQLite.
The module name has been parsed, but the optional list of parameters that follow the module name are still pending.
The number of virtual machine operations can be  used as a proxy for the total work done by the prepared statement.
The pSrc corresponds to the FROM clause of a SELECT or to the table being operated on by INSERT, UPDATE, or DELETE.
The pager_truncate() call uses xFilesize() to measure the database file on disk, and then truncates it if required.
The second  parameter is a pointer to an integer that contains the offset at which to write into the output buffer.
There is a race here which might cause WAL_RETRY to be returned even if BUSY_RECOVERY would be technically correct.
This function is called if the incremental merge step has finished but the input has not been completely exhausted.
This function returns a linked list of FKey objects (connected by FKey.pNextTo) holding all children of table pTab.
This function returns true if any of the columns that are part of the parent key for FK constraint *p are modified.
This is a newer "info" function which has an extensible interface so that additional items can be added compatibly.
This is because an "ALTER TABLE RENAME TABLE" statement inside a transaction  always opens a savepoint transaction.
This is called when the pager layer detects that the database has been modified by an external database connection.
This is required in a few obscure LEFT JOIN cases where control jumps over the top of the loop into the body of it.
This macro is used inside of various testcase() macros to verify that we have tested SQLite for large-file support.
This means that when a WHEN, FOR or BEGIN  token is read and 'dist' equals 2, the condition stated above to be met.
This optimization also only applies if the (x1 OR x2 OR ...) term is not contained in the ON clause of a LEFT JOIN.
This routine is used by the DbMaskAllZero() and DbMaskNotZero() macros when SQLITE_MAX_ATTACHED is greater than 30.
This routine sets the error code and string returned by sqlite3_errcode(), sqlite3_errmsg() and sqlite3_errmsg16().
This should not occur: we list all opcodes explicitly so that when new ones get added they are properly considered.
This used to be a conditional around just the two extra args, but that might be undefined if yyoverflow is a macro.
This variable is kept up to date as locks are taken and released by the pagerLockDb() and pagerUnlockDb() wrappers.
Use the SQLITE_GroupByOrder flag with SQLITE_TESTCTRL_OPTIMIZER to  disable this optimization for testing purposes.
Use the sqlite3VdbeRewind() procedure to restore a virtual machine back to its initial state after it has been run.
Use this information to construct a string that contains the typename of the column and store that string in zType.
WRITER_LOCKED:  The pager moves to this state from READER when a write-transaction is first opened on the database.
We don't want to do this as it leads to a memory leak when trying to delete the referenced counted node structures.
We we pretend that the query was positional even if it was named so that we fall into the named rewrite case below.
When it reaches zero, the u1.isInterrupted field of the sqlite3 structure is set in order to simulate an interrupt.
When no string data is being returned, or no vector has been passed in which to put it, ensure that nmatch is zero.
When the IN_INDEX_LOOP bit is set, the IN index will be used to loop over all values of the RHS of the IN operator.
While the pager remains in the ERROR state, all major API calls on the Pager will immediately return Pager.errCode.
Windows has GetTempFileName(), but it closes the file after creation, leaving it open to a horrible race condition.
With GROUP BY and DISTINCT the only requirement is that equivalent rows appear immediately adjacent to one another.
XXX - The 16-bit string compare probably needs to be done differently, especially if the flags are to be supported.
check to see if we are the last parent's last_child, if so repoint so hash table inserts will go to the right place
don't try to allocate more than possible - mnd_XXalloc expects size_t, and it can have narrower range than uint64_t
enumerate all the arguments: assume every non-resource argument specifies modifiers for the link ids that follow it
fts5yygotominor is uninitialized when a rule reduces that does not set the value of its left-hand side nonterminal.
nLt is another list of integers that show the approximate number of entries that are strictly less than the sample.
parameters  : 'queue' pointer  returns     : pointer to data at tail , if queue IsEmpty returns NULL  comments    :
see XML_ELEM_OUTPUT_OPTIONS RESULT void NOTES SEE ALSO xml_elem_serialize_to_string () xml_elem_parse_buf () SOURCE
sqlite3ParserTOKENTYPE     is the data type used for minor tokens given  directly to the parser from the tokenizer.
sqlite3VdbeSetColName() installs column names as UTF8 strings so there is no way for sqlite3_column_name() to fail.
(3)  Add terms to the WHERE clause to accommodate the NATURAL keyword on joins and the ON and USING clause of joins.
(3) The inner query has a LIMIT clause (since the changes to the WHERE close would change the meaning of the LIMIT).
A WhereOrTerm object is computed and attached to the term under analysis, regardless of the outcome of the analysis.
A pointer to the first element of the linked list is stored as the "pTrigger" member of the associated struct Table.
A read lock allows other processes to read the database but prohibits any other process from modifying the database.
Additionally, *pzErrmsg may be set to point to a buffer containing a utf-8 formatted English language error message.
Additionally, the callback function is invoked for each frame written to the WAL since the start of the transaction.
Allocate space for memory registers, SQL variables, VDBE cursors and  an array to marshal SQL function arguments in.
An instance of this structure is returned by the first half and passed into the second half to give some continuity.
An instance of this structure is used to iterate through the terms on a contiguous set of segment b-tree leaf nodes.
Before returning, set pzOut to point to a new buffer containing a nul-terminated, dequoted copy of the gobbled word.
Code an OP_TableLock instruction for each table locked by the statement (configured by calls to sqlite3TableLock()).
Conceptually, the index space is divided into S uniform buckets and the samples are the middle row from each bucket.
Create an sqlite3_backup process to copy the contents of zSrcDb from connection handle pSrcDb to zDestDb in pDestDb.
Destroy the private VFS created for the rbu handle passed as the only argument by an earlier call to rbuCreateVfs().
Different versions of libjpeg use either 'jboolean' or 'boolean', and some platforms define 'boolean', and so forth.
Even entries are the meta value number and odd entries are an increment to apply to the meta value after the vacuum.
Every interface that accepts sqlite3_value arguments specifies whether or not it requires a protected sqlite3_value.
Existing representations MEM_Int and MEM_Real are invalidated if bForce is true but are retained if bForce is false.
For each subject entry, convert it to string, then perform replacement and add the result to the return_value array.
For most applications, sqlite_stat1 provides all the statistics required for the query planner to make good choices.
Force exponential buffer size growth as long as it does not overflow, to avoid having to call this routine too often
If SQLITE_DEBUG is defined, an assert() at the bottom of this function verifies that this invariant is not violated.
If argument addrExplain is not 0, it must be the address of an  OP_Explain instruction that describes the same loop.
If column 'x' is the first one after the nEq equality constraints in the index, this requires some special handling.
If it is SAVEPOINT_ROLLBACK, then rollback all changes that have occurred since the specified savepoint was created.
If pCtx is NULL and an error occurs after the sqlite3_value object has been allocated, it is freed before returning.
If such a journal is used as a hot-journal during hot-journal rollback, 0 changes will be made to the database file.
If the atomic-update optimization is being used, this sync will not  create the journal file or perform any real IO.
If the former, then *ppFree is set to a pointer that should be eventually freed by the caller using sqlite3DbFree().
If the operating system support deletion of open files, then close the journal file when dropping the database lock.
If the page at *pOffset has already been played back (if the corresponding pDone bit is set) then skip the playback.
If the system is so sick that we are unable to allocate a mutex, there is not much SQLite is going to be able to do.
If there are two or more cursors on the same btree, then all such  cursors should have their BTCF_Multiple flag set.
If there is already an auxiliary data pointer when this function is invoked, then it is replaced by the new pointer.
If this module is built with SQLITE_TEST defined, these constants may be overridden at runtime for testing purposes.
If we succeed, we return non-zero and the NetWare Loader will leave us up, otherwise we fail to load and get dumped.
Implement steps 3, 4, and 5 of the pcache1Fetch() algorithm described in the header of the pcache1Fetch() procedure.
In the case where two connects were being made, without closing the first connect, access violations were occurring.
Legacy behavior (sqlite3_close() behavior) is to return SQLITE_BUSY if the connection can not be closed immediately.
Note that assign_pipes may have re-ordered the instrs (by inserting no-ops in lower slots) so we need to reset them.
Now chain through the pending brackets, and fill in their length fields (which are holding the chain links pro tem).
On machines with a small stack size, you can redefine the SQLITE_PRINT_BUF_SIZE to be something smaller, if desired.
Opcode: InitCoroutine P1 P2 P3 * *  Set up register P1 so that it will Yield to the coroutine located at address P3.
Or, if some error occurs before the query completes or is aborted by the callback, an SQLite error code is returned.
Parameter eType describes the type of pointer to be modified, as  follows:  PTRMAP_BTREE:     pPage is a btree-page.
Parameter ignoreJump is the instruction that control should jump to if a trigger program raises an IGNORE exception.
Parameter orconf is the default conflict resolution algorithm for the trigger program to use (REPLACE, IGNORE etc.).
Return SQLITE_ERROR if the maximum depth of the expression tree passed  as the only argument is more than nMaxDepth.
Return a pointer to the FuncDef structure that defines that function, or return NULL if the function does not exist.
Return true if, for the purposes of tokenization, codepoint iCode is considered a token character (not a separator).
See the pcresample documentation for a short discussion ("man pcresample" if you have the PCRE man pages installed).
So it safe to end the transaction by manually setting the autoCommit flag to true and detaching the vacuum database.
Some protocols are sending content like the FTP one, and libcurl try to use the WRITEFUNCTION or the HEADERFUNCTION.
Specifically, each language-id/index combination is allocated 1024  64-bit integer level values ("absolute levels").
Starting from windows Vista, heap randomization occurs which might cause our mapping base to be taken (fail to map).
TODO Also this should be revisited as no initialization might be needed for TS build (libxml build with TLS support.
Take care, as the sprintf implementation may return less places than we requested due to internal buffer limitations
Terms of the WHERE clause are also used to limit which rows actually make it to the "..." in the middle of the loop.
The *-shm pages returned by xShmMap() for a target db file in RBU_STAGE_OAL mode are actually stored in heap memory.
The *pLen parameter holds the length of the string in *pz and is decremented once for each character in the integer.
The Index.onError field determines whether or not the indexed columns must be unique and what to do if they are not.
The SQLITE_AFF_MASK portion of P5 must be an affinity character - SQLITE_AFF_TEXT, SQLITE_AFF_INTEGER, and so forth.
The SQLITE_SHM_DIRECTORY compile-time option is considered "unsupported" and may go away in a future SQLite release.
The behavior is undefined if the mutex is not currently entered by the calling thread or is not currently allocated.
The callback implementation must not do anything that will modify the database connection that invoked the callback.
The core of the MD5 algorithm, this alters an existing MD5 hash to reflect the addition of 16 longwords of new data.
The doNotSpill NOSYNC bit is set during times when doing a sync of journal (and adding a new header) is not allowed.
The finder-function returns a pointer to the sqlite_io_methods object that implements the desired locking behaviors.
The following macros redefine the API routines so that they are redirected through the global sqlite3_api structure.
The header must be exactly 16 bytes including the zero-terminator so the string itself should be 15 characters long.
The interior of the tree is assembled in memory and written out only once all leaves have been populated and stored.
The usual value is zero but it might be more if the alias is contained within a subquery of the original expression.
The xSelectCallback2() method, if it is not NULL, is invoked following the walk of the  expressions and FROM clause.
There are several fprintf() calls here, because gcc in pedantic mode complains about the very long string otherwise.
These macros are provided to "stringify" the value of the define for those options in which the value is meaningful.
This function is called when the PCRE_AUTO_CALLOUT option is set, to insert callout points before each pattern item.
This function takes a string and returns a pointer to a block of store holding a compiled version of the expression.
This is used for testing only - to verify that SQLite always gets the same answer with and without the column cache.
This module contains internal functions for testing newlines when more than one kind of newline is to be recognized.
This occurs during calls to sqlite3PagerWrite() while trying to journal multiple pages belonging to the same sector.
This routine installs a default busy handler that waits for the specified number of milliseconds before returning 0.
This routine uses Heckbert's "locally sorted search" criterion to select the colors that need further consideration.
This technique allows multiple concurrent readers to view different versions of the database content simultaneously.
This way, php_pollfd_for will return a mask with POLLOUT if the connection is successful and with POLLPRI otherwise.
To make this routine a no-op, replace it with a stub that returns SQLITE_OK but leaves pFd set to a negative number.
Under certain circumstances, b-tree nodes (doclists) can be loaded into memory incrementally instead of all at once.
Undo the hack that converts floating point types to integer for builds on processors without floating point support.
Unlike most of the SQLite API, this function is not guaranteed to operate consistently from one release to the next.
Virtual tables for which the "rowid" column does  not function like a primary key value cannot be updated using RBU.
We calculate argc ourselves in order to be on the safe side, even though it is also available from the symbol table.
We need to iterate through the pattern, searching for the ending delimiter, but skipping the backslashed delimiters.
What follows is a massive switch statement where each case implements a separate instruction in the virtual machine.
When compiling to use the heap rather than the stack for recursive calls to match(), the RRETURN() macro jumps here.
When suspending, the compressor will back up to a convenient restart point (typically the start of the current MCU).
When the count reaches zero, close any other file descriptors whose close was deferred because of outstanding locks.
When this function is called the *pFlags variable should contain the default flags to open the database handle with.
When we hit a repeat whose minimum is zero, we may have to adjust these values to take the zero repeat into account.
any              IGNORE       The attempt in insert or update the current row is skipped, without throwing an error.
gd_jpeg.c: Read and write JPEG (JFIF) format image files using the gd graphics library (http://www.boutell.com/gd/).
nSeg is always a power of two greater than or equal to the number of segments that this object is merging data from.
sqlite3_bind_  ***************************  Routines used to attach values to wildcards in a compiled SQL statement.
strtok() call in LibC is abending when used in a different address space -- hence using PHP's version itself for now
val        The desired new integer value RESULT SEE ALSO XMLRPC_GetValueInt () XMLRPC_VALUE XMLRPC_VALUE_TYPE SOURCE
without the following downcast, the write will fail (i.e., will write a zero byte) for all big endian architectures:
xCheckReservedLock() is defined as returning true "if there is a RESERVED  lock held by this process or any others".
zend_hash_quick_update does not check, as add_assoc_zval_ex do, whether the index is a numeric and convert it to it.
(If you do not have  the "sqlite3.h" header file at hand, you will find a copy embedded within the text of this file.
(The xfer optimization  is unable to test uniqueness.)  (3) onError is something other than OE_Abort and OE_Rollback.
*pDifferntRow is the row the cursor was pointing to has been deleted, forcing the cursor to point to some nearby row.
Add the smallest possible penalty  (equivalent to multiplying the cost by 1.07) to ensure that  this does not happen.
After they occur, SQLite abandons the current operation and returns an error code (usually SQLITE_NOMEM) to the user.
Also the Fts3Expr.bDeferred variable is set to true for any expressions for which all descendent tokens are deferred.
Although libicu offers iterator functions, they are not used here: libicu does iterate irrespective of array indices.
Append any punctuation that occurred between the end of the previous token and the end of the document to the output.
Arranging for additional bytes to be discarded before reloading the input buffer is the application writer's problem.
Before PCRE 8.34, we had to preserve the VT bit if it was previously set by something earlier in the character class.
But only do the conversion if it is possible without loss of information and return the revised type of the argument.
By default PENDING_BYTE is set high so that we don't have to allocate an unused page except for very large databases.
Convert the ORDER BY term into an integer column number iCol, taking care to preserve the COLLATE clause if it exists
EVIDENCE-OF: R-13523-04394 The second integer on a freelist trunk page is the number of leaf page pointers to follow.
Enabling the read cache exposes a cache coherency problem that is present on all OS X supported network file systems.
For example, if new functions or collating sequences are registered or if an authorizer function is added or changed.
For operators other than UNION ALL we have to make sure that the ORDER BY clause covers every term of the result set.
For the local hostname obtained via gethostname which is different from the dns-related MAXHOSTNAMELEN constant above
Forward declaration for the function that does the work of the virtual table module xCreate() and xConnect() methods.
Free all memory associated with the Vdbe passed as the second argument, except for object itself, which is preserved.
If an error has already occurred when this function is called, it  immediately returns zero (without doing any work).
If compiled with SQLITE_WIN32_MALLOC on Windows, we will use the various Win32 API heap functions instead of our own.
If format of 1 is specified, then the function will return an array containing all the words found inside the string.
If it does not match the  value stored as part of the in-memory schema representation, set Parse.rc to SQLITE_SCHEMA.
If it is a common (not leap) year and the molad occurs on Tuesday at or after 3:11:20 A.M., Tishri 1 must be delayed.
If it sees a chunk that is larger than mem3.iMaster, it replaces  the current mem3.iMaster with the new larger chunk.
If successful, SQLITE_OK is returned and the NodeReader object set to  point to the first entry on the node (if any).
If the PRIMARY KEY is on a single column whose datatype is INTEGER, then we will try to use that column as the rowid.
If the argument has no default value and no typehint, it is possible to pass less arguments than the function expects
If the argument p points to a JournalFile structure, and the underlying file has not yet been created, create it now.
If the branch contains OP_RECURSE, the result is -3 because there may be forward references that we can't check here.
If the function makes the distinction between uppercase and lowercase (as does GLOB) then *pIsNocase is set to false.
If the isPoslist argument is true, then it is assumed that the doclist contains a position-list following each docid.
If the third argument is non-NULL, then this function releases a reference obtained by an earlier call to winFetch().
If we have a timeout, we switch to non-blocking mode for the duration of the operation, using select to do our waits.
Implements Jenkins's one-at-a-time hashing algorithm as presented on http://www.burtleburtle.net/bob/hash/doobs.html.
In case we did yield from, the Exception must be rethrown into its calling frame (see above in if (check_yield_from).
In fact, all dates after the 3rd month are consistent from year to year (once it is known whether it is a leap year).
Invalidate the existing cache, otherwise reads can fail, see note in main/streams/filter.c::_php_stream_filter_append
It is done like this so that those without OP_RECURSE that are not fixed length get a diagnosic with a useful offset.
It is not  considered an error if the iterator reaches EOF, or if it is already at  EOF when this function is called.
It is useful either for creating backups of databases or for copying in-memory databases to or from persistent files.
Jump here (skipping the main loop body subroutine) if the current sub-WHERE row is a duplicate from prior sub-WHEREs.
Name:  MailConnect Input:   None Output:  None Description: Connect to the mail host and receive the welcome message.
Name:  unsigned long GetAddr (LPSTR szHost) Input: Output: Description: Given a string, it will return an IP address.
Now that there is a read-lock on the source database, query the source pager for the number of pages in the database.
Opcode: Prev P1 P2 P3 P4 P5  Back up cursor P1 so that it points to the previous key/data pair in its table or index.
Or, if iIdx is equal to the total number of cells in pParent, that page number iChild is the right-child of the page.
Otherwise the iMax-th mapping entry of the current index block corresponds to the last entry that references  page P.
Pick which browser pattern replaces the least amount of characters when compared to the original user agent string...
Register a geometry callback named zGeom that can be used as part of an R-Tree geometry query as follows:  SELECT ...
Repeat the above with the next record to be updated, until all record selected by the WHERE clause have been updated.
Return the number of bytes required to store a JournalFile that uses vfs pVfs to create the underlying on-disk files.
SEE ALSO XMLRPC_REQUEST_ToXML () XMLRPC_REQUEST_FromXML () XMLRPC_Free () XMLRPC_VALUE_ToXML () XMLRPC_REQUEST SOURCE
See the comment above for a rare situation in which the transparent pixel may not work properly with 16-bit channels.
Set the 32-bit cookie value stored at the start of all structure  records to the value passed as the second argument.
Set useTempTable to TRUE if the result of the SELECT statement should be written into a temporary table (template 4).
Since mem5.szAtom is always at least 8 and 32-bit integers are used, it is not actually possible to reach this limit.
Statement subtransactions are used around individual SQL statements that are contained within a BEGIN...COMMIT block.
Summary: - Horizontal filter contributions are calculated on the fly, as each column is mapped from src to dst image.
TODO this file, or part of it, could be machine generated, to allow extensions and SAPIs adding their own init stuff.
Terminate the current execution of an SQL statement and reset it back to its starting state so that it can be reused.
The OS might guarantee only one guard page at the bottom of the stack, and a page size can be as small as 4096 bytes.
The RowSet object is optimized for the case where successive sets of integers, where each set contains no duplicates.
The SQLITE_PROTOCOL return indicates that some other process has gone rogue and is not honoring the locking protocol.
The busy-handler callback can be used when upgrading to the EXCLUSIVE lock, but not when obtaining the RESERVED lock.
The character values in the arguments will be within the valid values for the current mode (8-bit, 16-bit, UTF, etc).
The contents of level -1 (which is never used, except transiently here), will be moved back to level iAbsLevel below.
The copies can be deleted (by being passed to their respective ...Delete() routines) without effecting the originals.
The cross dimension is the max of the elements dimension since there can only be one element in that cross dimension.
The database opened by the first argument is an auto-vacuum database nOrig pages in size containing nFree free pages.
The following terms apply to all files associated with the software unless explicitly disclaimed in individual files.
The index is identified by the "idx" column and the "tbl" column is the name of the table to which the index belongs.
The input text that generated the token is identified by the byte offsets returned in *piStartOffset and piEndOffset.
The job of this routine is to analyze the subexpression and populate all the other fields of the WhereTerm structure.
The maximum number of times that a statement will try to reparse itself before giving up and returning SQLITE_SCHEMA.
The new mutex is recursive when SQLITE_MUTEX_RECURSIVE is used but not necessarily so when SQLITE_MUTEX_FAST is used.
The nth character of the string indicates the column affinity that should be used for the nth field of the index key.
The particular policies used here have proved out well in experimental comparisons, but better ones may yet be found.
The primary purpose of this is to allow access to the sqlite_master table even when its contents have been corrupted.
The returned position list does not include the "number of bytes" varint field that starts the position list on disk.
The sqlite3ValueFromExpr() function is capable of transforming these types of expressions into sqlite3_value objects.
The starting points of the name/number translation table and of the code are passed around in the compile data block.
The subtree at iBlockid will contain all terms less than the first term encoded (or all terms if no term is encoded).
The target database name of the index  currently being written, or NULL if the main table is currently being updated.
The two values that may be meaningfully bound to the :1 parameter in statements SQL_REPLACE_STAT and SQL_SELECT_STAT.
This file was split off from where.c on 2015-06-06 in order to reduce the size of where.c and make it easier to edit.
This function appends a human-readable representation of the same object to the buffer passed as the second argument.
This function is called on each phrase after the position lists for any deferred tokens have been loaded into memory.
This function is called to configure the RtreeConstraint object passed as the second argument for a MATCH constraint.
This function is called when a row is inserted into or deleted from the  child table of foreign key constraint pFKey.
This function is used by the matchinfo() module to query a phrase  expression node for the following information:  1.
This function is used to estimate the number of rows that will be visited by scanning an index for a range of values.
This is to stop RBU connections from automatically checkpointing a *-wal (or *-oal) file from within sqlite3_close().
This macro is used inside of assert() statements to indicate that the assert is only valid on a well-formed database.
This should be  considered almost as quick as a direct rowid lookup (for which  sqlite uses an internal cost of 0.0).
This will cause the OP_Ne below to always fail on the first iteration of the loop even if the first row is all NULLs.
To avoid deadlocks and other threading problems, the sqlite3_log() routine will not use dynamically allocated memory.
To work around this problem, each unixInodeInfo object maintains a count of the number of pending locks on tha inode.
Unlink the given table from the hash tables and the delete the table structure with all its indices and foreign keys.
Update the value of the change-counter at offsets 24 and 92 in the header and the sqlite version number at offset 96.
Various scripts scan this source file in order to generate HTML documentation, headers files, or other derived files.
You will lose timing support for many of the debugging and testing utilities, but it should at least compile and run.
assume that create isn't overwritten, so when clone depends on the overwritten one then it must itself be overwritten
for auto-named local lock file, just check the host ID and we'll use the local lock file path that's already in there
function    : Q_AtTail  purpose     : boolean test if cursor at tail of queue  parameters  : 'queue' pointer to test.
gdAntiAliased passed as color: use the much faster, much cheaper and equally attractive gdImageAALine implementation.
replace modes not supported by fdopen and fopencookie, but supported by PHP's fread(), so that their calls won't fail
s and e are integers modulo 360 (degrees), with 0 degrees being the rightmost extreme and degrees changing clockwise.
sequences We use php_str_to_str() and not php_str_replace_in_subject(), since the latter uses ZVAL as it's parameters
set the pixel at (x,y) and its 4-connected neighbors with the same pixel value to the new pixel value nc (new color).
since calling malloc() from within a signal handler is not portable, pre-allocate a few records for recording signals
softmagic - lookup one file in parsed, in-memory copy of database Passed the name and FILE * of one file to be typed.
the qualifiedName or its prefix is "xmlns" and the namespaceURI is different from  "http://www.w3.org/2000/xmlns/" 5.
top level elements don't actually represent values, so we just pass the current value along until we are deep enough.
(3) Writes to the database file are an integer multiple of the page size in length and are aligned on a page boundary.
After an error is returned by an OS function, SQLite calls this function with zBuf pointing to a buffer of nBuf bytes.
Also check that if there is also a rowid pointer within the leaf page header, it points to a location before the term.
Altered source versions must be plainly marked as such, and must not be misrepresented as being the original software.
An instance of the following structure contains all information needed to generate code for a single SELECT statement.
An instance of the following structure is allocated for each active savepoint and statement transaction in the system.
Attempt to extract a value from expression pExpr using the methods as described for sqlite3Stat4ProbeSetValue() above.
But this is not considered overhead as it would also be required by a crisis-merge that used the same input  segments.
By this means we can handle the group by iteration rather than recursion, thereby reducing the amount of stack needed.
Care must be taken that any sqlite3_log() calls that occur while the memory mutex is held do not use these mechanisms.
Catch the case where the destination is an in-memory database and the page sizes of the source and destination differ.
Checks whether the base and the current opcode have a common character, in which case the base cannot be possessified.
Copyright (C) 2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
Could not retrieve or send the file this data will only be sent to us after connection on the data port was initiated.
Databases managed by external sources can be given much smaller limits designed to prevent a denial of service attack.
Each entry consists of two varints, the absolute level number of the input segments  and the number of input segments.
Even if the data structure on disk is corrupted, this (reading two varints from the buffer) does not risk an overread.
Finding a particular key requires reading O(log(M)) pages from the  disk where M is the number of entries in the tree.
For an in-memory database, make sure the original page continues to exist, in case the transaction needs to roll back.
For backwards compatibility of the rollback journal file format, we cannot reduce the effective sector size below 512.
For deletions, we write an empty doclist (varint(docid) varint(POS_END)), for updates we simply write the new doclist.
For each matching starting delimiter, we increment nesting level, and decrement it for each matching ending delimiter.
For example, each thread requries its own UnpackedRecord object to unpack records in as part of comparison operations.
Format of sqlite_stat1:  There is normally one row per index, with the index identified by the name in the idx column.
Generate code that will load into register regOut a value that is appropriate for the iIdxCol-th column of index pIdx.
I'm guessing that isn't likely to happen, but by using the same locking range we are at least open to the possibility.
If another process were to do this just after this client opened one of these files, the system would be badly broken.
If it is not NULL, it points to an array of size nCol*3, where nCol is the number of columns in the queried FTS table.
If maximizing, advance up to the maximum number of matching characters, until eptr is past the end of the maximum run.
If none of the doclists associated with the tokens spill onto overflow pages, or if there is only 1 token, exit early.
If the coroutine that is launched by this instruction ends with Yield or Return then continue to the next instruction.
If the database may grow as a result of this checkpoint, hint about the eventual size of the db file to the VFS layer.
If the end of the file has been reached, the routine has a choice of ERREXIT() or inserting fake data into the buffer.
If the expression can be converted directly into a value, then the value is allocated and a pointer written to *ppVal.
If the former, then all row-records are guaranteed to include a value for the column and the P4 value is not required.
If the page previously located at pgno is not already in the rollback journal, it is not put there by by this routine.
If the pattern was successfully studied with JIT support, run the JIT executable instead of the rest of this function.
If the table is not located in the temp-db (in which case NULL is  returned, loop through the tables list of triggers.
If there is insufficient space in *ppFrom to satisfy the request, then increment *pnByte by the amount of the request.
If there is no ORDER BY clause or if this routine is called from an UPDATE or DELETE statement, then pOrderBy is NULL.
If this function fails, close the mcrypt module to prevent crashes when further functions want to access this resource
If this is a non-composite (single column) foreign key, check if it  maps to the INTEGER PRIMARY KEY of table pParent.
If this page has already been played back before during the current rollback, then don't bother to play it back again.
If this path name begins with "/X:", where "X" is any alphabetic character, discard the initial "/" from the pathname.
If this routine returns 1 it means that the db pointer is valid and 0 if it should not be dereferenced for any reason.
If we reach something we don't understand, it means a new opcode has been created that hasn't been added to this code.
In that case, the calling routine should implement the IN operator using a sequence of Eq or Ne comparison operations.
In the case where we had to get some local store to hold offsets for backreference processing, copy those that we can.
In the second case, SQLITE_CONSTRAINT must be returned regardless of the conflict-handling mode specified by the user.
It may roll back all of this connections data, then proceed to rolling back the old, out-of-date data that follows it.
It's purpose it to accumulate statistical data and/or samples in the Stat4Accum object about the index being analyzed.
Leap years are every fourth year (year 3, 7, 11, etc.)  TESTING  This algorithm has been tested from the year 1 to 14.
Limit the length of the LIKE or GLOB pattern to avoid problems of deep recursion and N*N behavior in patternCompare().
Load the values for  all columns not modified by the update statement into their  registers in case this has happened.
More relevant info always comes earlier, so only use this field if we don't have appropriate aperture information yet.
Not sure why the memset is necessary here, but without it, we get a bogus stack size out of pthread_attr_getstacksize.
Note that the expression in the result set should have already been resolved by the time the WHERE clause is resolved.
Note that this read relies on the __sync call above preventing the compiler from caching the value read out of memory.
Notice is thrown after creation of the property, to avoid EG(std_property_info) being overwritten in an error handler.
Notice that because of the way SQLite parses compound SELECTs, the individual selects always group from left to right.
Oh, and it is also binary safe, ie it can handle strings with embedded NULLs, so long as the real length is passed in.
Only if the day number is actually found to be in the ambiguous period of 29 to 31 days is the other molad calculated.
Opcode: Permutation * * * P4 *  Set the permutation used by the OP_Compare operator to be the array of integers in P4.
Otherwise the changes made by this write cursor would be visible to the read cursors in the other database connection.
Otherwise, if an error occurs, an SQLite error code is returned and the final values of (*pz) and (*pn) are undefined.
Otherwise, it advances the expression passed as the second argument to point to the next matching row in the database.
Parse Composite Document Files, the format used in Microsoft Office document files before they switched to zipped XML.
Periodically, the content of the WAL is transferred back into the database file in an operation called a "checkpoint".
Return SQLITE_OK if all checks pass without error, or some other SQLite error code if another error (e.g. OOM) occurs.
SQLite's knowledge of upper and lower case equivalents extends only to the 26 characters used in the English language.
Should *not* be optimized as load_immediate, as pcre relocation mechanism will match this fixed 4-instruction pattern.
Since it is a virtual-table, the Table structure contains a pointer to the head of a linked list of VTable structures.
Small sizes are rounded up to nearest greater predefined small size (there are 30 predefined sizes: 8, 16, 24, 32, ...
So, the first molad was 5 hours 793 halakim after the start of Tishri 1, 0001 (which was Monday September 7, 4761 B.C.
The ALWAYS and NEVER macros surround boolean expressions which  are intended to always be true or false, respectively.
The SQLITE_IOCAP_SEQUENTIAL property means that information is written to disk in the same order as calls to xWrite().
The WhereOrSet object holds a set of possible WhereOrCosts that correspond to the subquery(s) of OR-clause processing.
The call below sets the pName pointer to point at the token (pName1 or pName2) that stores the unqualified table name.
The context and API objects  passed to the callback function may be used to access the properties of each matched row.
The end of these brackets will always be OP_KETRPOS, which returns MATCH_KETRPOS without going further in the pattern.
The normal repeating kets try the rest of the pattern or restart from the preceding bracket, in the appropriate order.
The other sqlite3_backup_XXX() API functions, backup_remaining() and backup_pagecount() are not thread-safe functions.
The start/end pattern and initial options are already set from the pre-compile phase, as is the name_entry_size field.
The test procedures use this information to make sure that sorting is occurring or not occurring at appropriate times.
The third argument to this function, zName, is used as the name of both the scalar and, if created, the virtual table.
The three arguments to the function come directly from a detach statement:  DETACH DATABASE x  SELECT sqlite_detach(x)
The value returned is the number by which the JsonNode counter should increment in order to go to the next peer value.
The xCreate and xConnect methods create an instance of this structure and xDestroy and xDisconnect free that instance.
The xRoundup method returns what would be the allocated size of a memory allocation given a particular requested size.
Then create and open the ephemeral table in which the records created from these arguments will be temporarily stored.
Then increments pEnd once more so that it points to the byte immediately following the last byte in the position-list.
There are three basic components:  sqlite3_tokenizer_module is a singleton defining the tokenizer interface functions.
There would be a check here for the IS_VOID type hint, which would trigger an error because a value had been returned.
These functions and type are only ever used by code within the fts3SegWriterXXX() family of functions described above.
They are build using the ctype functions, and consequently their contents will depend upon the current locale setting.
They following macros handle the common case without a procedure call, but then call the procedure for larger varints.
This can occur if there exists an index on a TEMP table which has the same name as another index on a permanent index.
This case is really difficult, since ecx itself may used for addressing, and we must ensure to work even in that case.
This contributes to making scripts portable between setups that have and don't have zlib compression enabled globally.
This file contains C code routines that are called by the parser in order to generate code for DELETE FROM statements.
This function does an "OR" merge of two doclists (output contains all positions contained in either argument doclist).
This function returns SQLITE_OK if the merge is successful, or an SQLite error code (SQLITE_NOMEM) if an error occurs.
This happens if the segment is being used as an input to an incremental merge and all data has already been "trimmed".
This only happens when committing a transaction, or rolling back a transaction (including rolling back a hot-journal).
This replaces inet_addr, the return value from which cannot distinguish between failure and a local broadcast address.
This routine sets the progress callback for an Sqlite database to the given callback function with the given argument.
This turns out to be a really, really expensive thing to check, so only do this occasionally - not on every iteration.
This value determines the size of the initial vector that is used for remembering named groups during the pre-compile.
Under the assumption that input will be rounded nearest, mode 0 renders 1e23 as 1e23 rather than 9.999999999999999e22.
Unfortunately, it is too late to change this without breaking compatibility, so we just have to live with the mistake.
Use as many entries from the input list as required and update the ppList to point to the unused elements of the list.
We chain together the bracket offset fields that have to be filled in later when the ends of the brackets are reached.
We used to require that sqlite3_reset() be called before retrying sqlite3_step() after any error or after SQLITE_DONE.
What is important is that sparse cursor numbers all get mapped into bit numbers that begin with 0 and contain no gaps.
When WSD is unsupported, the variable declarations scattered throughout the SQLite code must become constants instead.
When create_function_v2() is called to create a function with a destructor, a single object of this type is allocated.
When doing a search of an r-tree, instances of the following structure record intermediate results from the tree walk.
When suspending, the decompressor will back up to a convenient restart point (typically the start of the current MCU).
When the SQLITE_SYNC_DATAONLY flag is used, it means that the sync operation only needs to flush data to mass storage.
Whether the function call succeeded or failed, set the output parameters to whatever their local counterparts contain.
Write into *pRes a number that is negative, zero, or positive if pC is less than, equal to, or greater than pUnpacked.
as soon as someone touches the stdio layer, buffering may ensue, so we need to stop using the fd directly in that case
count after serializing name, since php_var_serialize_class_name changes the count if the variable is incomplete class
if that failed, assumed that the GUID is actually a CLSID and attempt to get the library via an instance of that class
if we are releasing the stream only (and preserving the underlying handle), we need to do things a little differently.
ignore SIGPIPE in standalone mode so that sockets created via fsockopen() don't kill PHP if the remote site closes it.
pLimit and pOffset hold the expressions that appear in the original SQL statement after the LIMIT and OFFSET keywords.
(3) Update the Vdbe.readOnly and Vdbe.bIsReader flags to accurately indicate what the prepared statement actually does.
(although the in-memory journal implementation may  return SQLITE_IOERR_NOMEM while the journal file is being written).
A description of some of the more important member variables follows:  eState  The current 'state' of the pager object.
A dirty read is detected by verifying that both copies of the header are the same and also by a checksum on the header.
A specially optimized version of vdbeSorterCompare() that assumes that the first field of each key is an INTEGER value.
Actually, the way the column cache is currently used, we are guaranteed that the object will never already be in cache.
Also, if pPage contains cells that point to overflow pages, set the pointer map entries for the overflow pages as well.
And none of the simple select queries that make up the compound SELECT are allowed to be aggregate or distinct queries.
Any attempt to use a page associated with this page cache after this function returns will likely result in a coredump.
Because this module is responsible for selecting indices, you might also think of this module as the "query optimizer".
Bison implementation for Yacc-like parsers in C Copyright (C) 1984, 1989-1990, 2000-2013 Free Software Foundation, Inc.
Bison implementation for Yacc-like parsers in C Copyright (C) 1984, 1989-1990, 2000-2015 Free Software Foundation, Inc.
By themselves, these optimizations work fine and provide a handy performance boost to bulk delete or insert operations.
CHECK-DAG: libswiftSpriteKit.dylib CHECK-DAG: libswiftUIKit.dylib CHECK-DAG: libswiftCore.dylib CHECK: Flawless victory
Compiling and using WAL mode requires several APIs that are only available in Windows platforms based on the NT kernel.
Conceptually, a collating sequence consists of a name and a comparison routine that defines the order of that sequence.
Convert the OP_CreateTable opcode that would normally create the root-page for the table into an OP_CreateIndex opcode.
Disable the DISTINCT optimization if SQLITE_DistinctOpt is set via sqlite3_test_ctrl(SQLITE_TESTCTRL_OPTIMIZATIONS,...)
EVIDENCE-OF: R-28375-38319 SQLite will never request a scratch buffer that is more than 6 times the database page size.
Each  page has a small header which contains the Ptr(N) pointer and other information such as the size of key and data.
For help in interpreted the obscure C code in the function definition, see the header comment on the previous function.
Generate an expression tree to implement the WHERE, ORDER BY, and LIMIT/OFFSET portion of DELETE and UPDATE statements.
Given a day number, find the molad of Tishri (the new moon at the start of a year) which is closest to that day number.
I've reviewed the changes made in OpenBSD (as of 2.7) and modified the original code in a similar way where applicable.
If *pRc is not SQLITE_OK, or if pExpr is not the root node of a NEAR cluster, then this function returns 1 immediately.
If a pointer to a MemPage object is passed as the second argument, its reference count is not altered by this function.
If a truth probability is specified using the likelihood() hints, then use the probability provided by the application.
If an OOM as occurred, then the connection error-code (the value returned by sqlite3_errcode()) is set to SQLITE_NOMEM.
If an error occurs, an SQLite error code is  returned, *ppOut is set to NULL and an error message may be left in pzErr.
If an older version of the function with a configured destructor is being replaced invoke the destructor function here.
If argument eMode is set to INCRINIT_NORMAL, then all PmaReaders in the sub-tree headed by pReadr are also initialized.
If changing between the various rollback modes (delete, truncate, persist, off and memory), this is a simple operation.
If it is not a no-op, a single OP_Explain opcode  is added to the output to describe the table scan strategy in pLevel.
If pTab is a virtual table, then this routine is a no-op and the piDataCur and *piIdxCur values are left uninitialized.
If successful, output parameter *pazDequote is set to point at the array of dequoted strings and SQLITE_OK is returned.
If the LHS is NULL, then the result is either false or NULL depending on whether the RHS is empty or not, respectively.
If the conch is held by another process (with a shared lock), the exclusive lock will fail and SQLITE_BUSY is returned.
If the database contents have changes since the previous read transaction, then *pChanged is set to 1 before returning.
If the first digit is 8 or 9, Perl used to generate a binary zero byte and then treat the digit as a following literal.
If the isCopyTerm parameter is true, then the buffer pointed to by zTerm is transient, so take a copy of the term data.
If the original is changed while the copy is still in use, the string or blob might be changed out from under the copy.
If the third argument is non-NULL, then this function releases a  reference obtained by an earlier call to unixFetch().
If the zNum value is representable as a 64-bit twos-complement  integer, then write that value into *pNum and return 0.
If there are no triggers that fire at the specified time for the specified operation on pTab, this function is a no-op.
If there is anything other than a rowset object in memory cell P1, delete it now and initialize P1 with an empty rowset
If there is space in the offset vector, save the current subject position in the working slot at the top of the vector.
If there was a master journal and this routine will return success, see if it is possible to delete the master journal.
If we compile with SQLITE_OMIT_TRIGGER, all of the computation needed to recognize the end of a trigger can be omitted.
If zDb is NULL, or if the buffer zDb points to contains a zero-length string, all attached databases are  checkpointed.
In fact, this can happen for a non-forward reference because another group with the same number might be created later.
In that case, this routine returns FALSE so that the caller will know to go ahead and generate an unoptimized transfer.
In the case where we have large paths, though, it gets a little tricker, and I like writing lockless data structures :P
In the first case, if the conflict-handling mode is REPLACE, then the conflicting row can be removed before proceeding.
In this case, the map will fail and we have to sleep some time (until the child releases the mapping object) and retry.
In this way, the initialization of the sqlite3_context only happens once, instead of on each call to the step function.
Initialize the first page of the database file (creating a database consisting of a single page and no schema objects).
Invoke the 'collation needed' callback to request a collation sequence in the encoding enc of name zName, length nName.
It builds a tree of MergeEngine/IncrMerger/PmaReader objects that  can be used to incrementally merge all PMAs on disk.
It checks that the primitives for serializing and deserializing characters in each encoding are inverses of each other.
It is allocated on the stack, but if it is too small, it is expanded using malloc(), in a similar way to the workspace.
It is not possible to create a database for which the final page is either a pointer-map page or the pending-byte page.
Justification of ALWAYS():  The xConstructor method is required to create a valid sqlite3_vtab if it returns SQLITE_OK.
N2 times N1 is put int PROD with the scale of the result being MIN(N2 scale+N1 scale, MAX (SCALE, N2 scale, N1 scale)).
Note that first_significant_code() skips over backward and negative forward assertions when its final argument is TRUE.
Once this function returns, the first key of merged data may be read from the  MergeEngine object in the usual fashion.
One or more character type fudges the pointer and restarts, knowing it will hit a single character type and stop there.
Only WORD actually needs all four entries, but using repeats for the others means they can all use the same code below.
Otherwise, if no such child journal can be found, file zMaster is deleted from the file-system using sqlite3OsDelete().
Otherwise, if there is an open read-transaction, return SQLITE_ERROR and leave an error  message in database handle db.
PS_VALIDATE_SID() is called to verify session ID already exists or not to mitigate session adoption vulnerability risk.
PostgreSQL is released under the PostgreSQL License, a liberal Open Source license, similar to the BSD or MIT licenses.
Pull a 32-bit integer from the generator state Every other access function simply transforms the numbers extracted here
Remove the page supplied as an argument from the hash table  (PCache1.apHash structure) that it is currently stored in.
Remove xInit from the set of routines that is invoked for each new database connection, if it is currently on the list.
Separate PMAs all need to be combined into one big PMA in order to be able to step through the sorted records in order.
Set up the OR-mask arrays for the initial and final permutations, and for the key initial and compression permutations.
Since there can be a very large number of doclists to merge, the merging is done pair-wise using the TermSelect object.
Some options are unpacked into BOOL variables in the hope that testing them will be faster than individual option bits.
Systems that support the isnan() library function should probably make use of it by compiling with -DSQLITE_HAVE_ISNAN.
Takes an already filled in unix file and alters it so all file locking  will be performed on the local proxy lock file.
That way, if the name is longer than any in the table, the comparison will fail without reading beyond the table entry.
The SrcList passed as the second argument to this function contains a single entry guaranteed to resolve to table pTab.
The antipenultimate character of the master journal name must be "9" to avoid name collisions when using 8+3 filenames.
The assumption here is that if that is happening, the other client may only be increasing the value, not decreasing it.
The caller should be careful not to doubly free the data value, which may optionally be free'd by XMLRPC_RequestFree().
The code is written this way for performance, to avoid having to run the interrupt and progress checks on every opcode.
The code that sqlite3WhereBegin() generates leaves the cursors named in pTabList pointing at their appropriate entries.
The current values for a and b will be stored in consecutive registers and the index of the first register is returned.
The following are special cases for mutex enter routines for use in single threaded applications that use shared cache.
The nth character of the string indicates the column affinity that should be used for the nth memory cell in the range.
The packing computed by the previous block is biased toward the siblings on the left side (siblings with smaller keys).
The page-mapping is an array of HASHTABLE_NPAGE (or HASHTABLE_NPAGE_ONE for the first index block) 32-bit page numbers.
The safest way to deal with the problem is to always use this wrapper which always has the same well-defined interface.
The third and fourth arguments are a pointer to a buffer containing the token text, and the size of the token in bytes.
The value returned by sqlite3_column_type() is only meaningful if no type conversions have occurred as described below.
These statistics are made available to the query planner to help it make better decisions about how to perform queries.
These tables are used to implement functions that take a state number and lookahead value and return an action integer.
They are:  The byte offset of the first rowid on the page, if it exists and occurs before the first term (otherwise 0).
This file contains functions used to access the internal hash tables of user defined functions and collation sequences.
This function may only be called if the b-tree connection already has a read or write transaction open on the database.
This happens, for example, when the page has been added as a leaf of the freelist and so its content no longer matters.
This implementation uses a state machine with 8 states:  (0) INVALID   We have not yet seen a non-whitespace character.
This is a query for the current default locking mode (which may be different to the locking-mode of the main database).
This is not a problem, because ZEND_ACC_HAS_TYPE_HINTS is never set, and we won't check arguments on internal function.
This is safe because this thread is  currently holding locks that exclude all other readers, writers and checkpointers.
This leads to a year that is 365.25 days long, but the current accepted value for the tropical year is 365.242199 days.
This only works when x is the left-most column of an index and sqlite_stat3 histogram data is available for that index.
This routine converts the sqlite3_pcache_page object returned by sqlite3PcacheFetch() into an initialized PgHdr object.
This routine is similar to alloca() in that it is not intended for situations where the memory might be held long-term.
This table reflects a particular philosophy about what constitutes "text," and there is room for disagreement about it.
Use this routine prior to clean up prior to abandoning a Mem, or to reset a Mem back to its minimum memory utilization.
We re-use the histogram space as an "inverse color map", essentially a cache for the results of nearest-color searches.
We use a small timeout which should encourage the OS to send the data, but at the same time avoid hanging indefinitely.
When there is an IN operator, we also have a "addrNxt" label that means to continue with the next IN value combination.
Which can only happen if the database is corrupt in such a way as to link the page into more than one b-tree structure.
You MUST NOT use this function for any other weird games, or call it at any other time after the object is constructed.
You are responsible for making sure that it is not linked into the TSRM hash, and not marked as the current interpreter
_zip_headercomp: compares a central directory entry and a local file header Return 0 if they are consistent, -1 if not.
except when the .* appears inside capturing parentheses, and there is a subsequent back reference to those parentheses.
fts5YYNOCODE           is a number of type fts5YYCODETYPE which corresponds to no legal terminal or nonterminal number.
function    : Q_Next  purpose     : Move to the next element in the queue without popping  parameters  : queue pointer.
if he does not there is no way to determine the libmysql does not allow us to allocate 0 bytes for a buffer so we try 1
locale_get_default has a conflict since ICU also has a function with the same  name in fact ICU appends the version no.
something went terribly awry, unless during file system support  introspection, in which it actually means what it says
strings with special characters will need to be quoted, as a safety measure we add 2 bytes for the quotes just in case.
(c)  The page number is greater than the largest page that existed in the database file at the start of the transaction.
********************************************************************* InitDynamic - Return a dynamically resizable void*
0x9F, which ISO-8859 considers to be control characters but the IBM PC and Macintosh consider to be printing characters.
A comparison is made against this value and the output is skipped if the next results would be the same as the previous.
A list of all children for a table named Z (which might not even exist) is held in Schema.fkeyHash with a hash key of Z.
A new savepoint cannot be created if there are active write  statements (i.e. open read/write incremental blob handles).
After it returns, *piPos contains the value of the next element of the list and *pp is advanced to the following varint.
An error occurs while attempting to finalize a journal file following a commit in function sqlite3PagerCommitPhaseTwo().
And if iSet is -1, assume that there is no  need to insert the key into the temp table, as it will never  be tested for.
As a result, we need to allocate our own TLS space while preserving the existing TCB that has been setup via librthread.
Assume that the total number of output rows that will need to be sorted will be nRowEst (in the 10*log2 representation).
Assuming no error occurs, it is  set to the offset immediately following the last byte of the last PMA before returning.
At present, PCRE supports only NLTYPE_FIXED, which gets handled without these functions, NLTYPE_ANYCRLF, and NLTYPE_ANY.
At the point this routine is called, we already know that the ORDER BY term is not an integer index into the result set.
Begin iterating through the set of documents in index pIdx matched by the MATCH expression passed as the first argument.
Begin popping the stack until we enter a state where it is legal to shift the error symbol, then shift the error symbol.
But 8_3_NAMES is only used for FAT filesystems and permissions do not matter there, so just use the default permissions.
But we want the maximum correction applied to a pixel to be much less, otherwise obviously wrong pixels will be created.
CASCADE means that a DELETE or UPDATE of the referenced table row is propagated into the row that holds the foreign key.
Calculate the phrase frequency (symbol "f(qi,D)" in the documentation) for each phrase in the query for the current row.
Callers of this function must not attempt to treat it as a relative path name (i.e. they should simply use it verbatim).
Calling this function with an argument that is not a NULL pointer or an open blob handle results in undefined behaviour.
Changing the value sets a specific directory to be used for database files that were specified with a relative pathname.
Character iterators, which are not inside a repeated bracket, gets a private slot instead of allocating it on the stack.
Compiled items are thrown away as soon as possible, so that a fairly large buffer should be sufficient for this purpose.
Data beyond this point will be regenerated after resumption, so do not write it out when emptying the buffer externally.
Determine which colormap entries are close enough to be candidates for the nearest entry to some cell in the update box.
DosQueryAppType will return FAPPTYP_DOS on a file ending with ".com" (other than an OS/2 exe or Win exe with this name).
Each entry in this list occupies LINK_SIZE bytes, so even when LINK_SIZE is 4 there is plenty of room for most patterns.
Erase all schema information from all attached databases (including "main" and "temp") for a single database connection.
Every effort is made to force the conversion, even if the input is a string that does not look completely like a number.
Extract the next token from buffer z (length n) using the tokenizer and other information (column names etc.) in pParse.
FULL means that the WAL file is synced following each commit operation, in addition to the syncs associated with NORMAL.
For THEN (and THEN_ARG) we pass back the address of the opcode, so that the branch in which it occurs can be determined.
For each trigger that is not part of the temp-db schema, add a clause to the WHERE  expression being built up in zWhere.
Hack to make it process IDF1 I hope There are 2 IDFs, the second one holds the keys (0x0201 and 0x0202) to the thumbnail
Hash table entries that correspond to frames greater than the new K value are removed from the hash table at this point.
However, by keeping a bitmap of the first 31 back references, we can catch some of the more common cases more precisely.
INPUTS id        id of the new value, or NULL s         The desired new binary value len       The length of s, or NULL.
INPUTS none RESULT newly allocated XMLRPC_SERVER NOTES SEE ALSO XMLRPC_ServerDestroy () XMLRPC_GetGlobalServer () SOURCE
If an OOM error is encountered, return NULL and set the error code in the Fts5Index handle passed as the first argument.
If an illegal or unsupported join type is seen, then still return a join type, but put an error in the pParse structure.
If nByte is less than zero, return the number of unicode characters in pZ up to (but not including) the first 0x00 byte.
If no column names were specified as part of the CREATE VIRTUAL TABLE statement, use all columns from the content table.
If not at EOF but the current rowid occurs earlier than iFirst in the iteration order, move to document iFirst or later.
If one of the BtreeCommitPhaseOne() calls fails, this indicates an IO error while deleting or truncating a journal file.
If padding is needed, then the final frame is repeated (with its commit mark) until the next sector boundary is crossed.
If statement  compilation is successful, *ppStmt is set to point to the new statement  handle and SQLITE_OK is returned.
If the PGHDR_NEED_SYNC flag is set for any of the nPage pages  starting at pg1, then it needs to be set for all of them.
If the exception was thrown during a function call there might be arguments pushed to the stack that have to be dtor'ed.
If the file was truncated to a size smaller than the currently mapped region, reduce the effective mapping size as well.
If the locking level of the file descriptor is already at or below the requested locking level, this routine is a no-op.
If the pager is in the ERROR state and the call to unlock the database file fails, set the current lock to UNKNOWN_LOCK.
If the target database table has an INTEGER PRIMARY KEY, it is not  possible to insert a NULL value into the IPK column.
If the user didn't specify a width or height, and it has not been set by the container, then we set it via the children.
If the user then queries for '1st + place', the tokenizer substitutes "first" for "1st" and the query works as expected.
If tokenizers are to be allowed to call sqlite3_*() functions, then we will need a way to register the API consistently.
In either case,  if the pager is not in no-sync mode, sync the journal file immediately  after writing or truncating it.
In other words, the WAL can fill up with frames and then be checkpointed and then new frames can overwrite the old ones.
In that case, the database should have never been written in the first place so it is OK to simply abandon the rollback.
Interfaces for opening a shared library, finding entry points within the shared library, and closing the shared library.
It does not have a set first character (relevant if it is repeated, because it will then be wrapped with ONCE brackets).
Just specifying the zend_class_unserialize_deny handler is not enough, because it is only invoked for C unserialization.
Libxml 2.9.2 prefixes local paths with file:/ instead of file://, thus the php stream wrapper will fail on a valid case.
Memory for the buffer containing the column index affinity string is managed along with the rest of the Index structure.
Note that in caseless UTF-8 mode, the number of subject bytes matched may be different to the number of reference bytes.
Now that no other errors can occur, finish filling in the BtCursor variables and link the cursor into the BtShared list.
Other threads might append new content to the WAL and wal-index but that extra content is ignored by the current thread.
Otherwise, leave nUp pointing to the number of statements currently in the cache and pUp to the last object in the list.
PQunescapeBytea - converts the null terminated string representation of a bytea, strtext, into binary, filling a buffer.
Parameter anSize must point to an array of size nCol, where nCol is the number of user defined columns in the FTS table.
Return one of the WHERE_DISTINCT_xxxxx values to indicate how this WHERE clause returns outputs for DISTINCT processing.
SIZE    DESCRIPTION 2     Byte offset of the next freeblock 2     Bytes in this freeblock  Cells are of variable length.
SQLITE_OK if everything works, SQLITE_NOMEM if a malloc failure occurs, or SQLITE_ERROR if a parse error is encountered.
Since we have no way of knowing the true length either, we'll bump up our buffer size to a reasonable size, just in case
The Vdbe.aColName array contains 5n Mem structures, where n is the  number of columns of data returned by the statement.
The first OP_Column against a pseudo-table after the value of the content register has changed should have this bit set.
The function returns a pointer to the data (the size can be accessed by looking at the address: chunk - sizeof(size_t)).
The loop below pulls entries from the min-heap in order and compares the start_address against the previous end_address.
The loop that calls php_random_bytes should be terminated by the exception instead of proceeding to demand more entropy.
The memcpy() statement assumes that the wildcard characters are the first three statements in the compareInfo structure.
The middle slot is expanded to two slots in order to make space for the two elements in the FROM clause of the subquery.
The only number that _can_ be determined is the number of rows that have already been pre-fetched by the client library.
The pager journal filename is invariant as long as the pager is open so it is safe to access without the BtShared mutex.
The stat_get() SQL function will later be used to extract relevant information for constructing the sqlite_statN tables.
The upper 16-bits contain a combination of the following bits, used to describe extra constraints on full-text searches.
The variable-length output codes are re-sized at this point, and a special CLEAR code is generated for the decompressor.
These use local variables, so do them in a separate routine to avoid having to move the frame pointer in the common case
This branch is taken if an error occurs while trying to open or roll back a hot-journal while holding an EXCLUSIVE lock.
This brings the estimated selectivity more in line with what it would be if estimated without the use of STAT3/4 tables.
This can be used to prevent unreasonably large trace strings when dealing with large (multi-megabyte) strings and blobs.
This ensures that if the new content is persistent in the WAL and can be recovered following a power-loss or hard reset.
This function currently works by first transforming the UTF-16 encoded string to UTF-8, then invoking sqlite3_prepare().
This function invokes either the xRollback or xCommit method of each of the virtual tables in the sqlite3.aVTrans array.
This function is called to obtain a pointer to region iRegion of the shared-memory associated with the database file fd.
This function is handed a compiled expression that it must study to produce information that will speed up the matching.
This function is used to obtain an SQLite prepared statement handle for the statement identified by the second argument.
This function works around problems caused by this by making a copy of any  such cells before overwriting the page data.
This is just like sqlite3ResolveExprNames() except that it works for an expression list rather than a single expression.
This is much faster than synthesizing  a new poslist the way we have to for more complicated phrase or NEAR expressions.
This is not actually used, but is here for completeness, in case someone wants to use the HWB stuff for anything else...
This routine is broken out from sqlite3VdbeAddOp4() since it needs to also needs to mark all btrees as having been used.
This routine is called to handle SQL of the following forms:  insert into TABLE (IDLIST) values(EXPRLIST),(EXPRLIST),...
This routine sets the *ppUnqual pointer to point at the token (pName1 or pName2) that stores the unqualified table name.
This work-around is unlikely to work correctly on any system where you really cannot cast a function pointer into void*.
Twelve of these alternating 29-30 day months gives a year of 354 days, which is about 11 1/4 days short of a solar year.
WRITER_CACHEMOD:  A pager moves from WRITER_LOCKED state to this state when a page is first modified by the upper layer.
We do not need to select pcre16_printint.c specially, because the COMPILE_PCREx macro will already be appropriately set.
When converting from UTF-16, the maximum growth results from translating a 2-byte character to a 4-byte UTF-8 character.
Write the current contents of in-memory linked-list pList to a level-0 PMA in the temp file belonging to sub-task pTask.
to guarantee that the cleanup is not made twice and compomise the rest of the application if sockets are used elesewhere
typically of type xmlrpc_request_response RESULT 1 if it contains a fault, else 0 SEE ALSO XMLRPC_ValueIsFault () SOURCE
zend_alloc allocates memory from OS by CHUNKs, these CHUNKs and huge memory blocks are always aligned to CHUNK boundary.
A larger block is obtained from malloc() unless the ultimate limit has been reached or the increase will be rather small.
A single WhereMaskSet structure translates cursor number into bits and the translated bit is stored in the prereq fields.
Another big comment (similar to this one) will mark the point in the code where we transition back to normal indentation.
Any corruption is detected in sqlite3BtreeParseCellPtr(), though, so this code can safely assume that nCellKey is 32-bits
Any other VTable structures in the list are moved to the sqlite3.pDisconnect list of the associated  database connection.
Any virtual table module for which xConnect and xCreate are the same method can have an eponymous virtual table instance.
Buffer zInput, length nInput, contains the contents of a quoted string that appeared as part of an fts3 query expression.
Compare the key in memory cell pVal with the key that the sorter cursor passed as the first argument currently points to.
Consider alpha in the foreground color itself to be an upper bound on how opaque things get, when truecolor is available.
Depending on how it is changed, you might not notice the incompatibility right away, even running a full regression test.
First initialize the descriptor Notice that if no length is given, we initialize buf_end to the highest possible address.
For now, if you're binding output columns, it's better to use LAZY or BOUND fetches if you want to shave off those cycles
For tables with implicit rowids - RBU_PK_EXTERNAL and RBU_PK_NONE, append the text ", old._rowid_" to the returned value.
Generate code that will cause the most recent index analysis to be loaded into internal hash tables where is can be used.
GetMeta() and UpdateMeta() cannot fail in this context because we already have page 1 loaded into cache and marked dirty.
Heckbert-style quantizers vary a good deal in their policies for choosing the "largest" box and deciding where to cut it.
However if the application attempts to commit the  transaction before fixing the constraint violation, the attempt fails.
If SQLITE_ENABLE_8_3_NAMES is set to 2 at compile-time, then always do the suffix shortening regardless of URI parameter.
If a cell is less than 4 bytes in size, it is rounded up to 4 bytes by the various routines that manipulate binary cells.
If a power failure occurs while the journal is being written, it could cause invalid data to be written into the journal.
If argument pColset is NULL, then the position list is filtered according to pColset before being appended to the buffer.
If it is SQLITE_DYNAMIC, then the buffer pointed to by zName will be freed by sqlite3DbFree() when the vdbe is destroyed.
If some thread using this PID has a lock via a different unixFile* handle that precludes the requested lock, return BUSY.
If the "data" parameter to this function is NULL, then the element corresponding to "key" is removed from the hash table.
If the checksum doesn't add up, then one or more of the disk sectors containing the master journal filename is corrupted.
If the cursor is not currently open or is open on a different index, then fall through into OP_OpenRead to force a reopen
If the expression is a subquery then Expr.iColumn holds an integer register number containing the result of the subquery.
If the file cannot be loaded directly, attempts are made to load with various operating-system specific extensions added.
If the handle has a write-transaction open, commit the shared-btrees  transaction and set the shared state to TRANS_READ.
If the isPrefixIter parameter is zero, then the returned SegReader iterates through each term in the pending-terms table.
If the next call to a user function or aggregate calls sqlite3GetFuncCollSeq(), this collation sequence will be returned.
If the node is the root node (node 1), then the first 2 bytes of the node contain the tree depth as a big-endian integer.
If the value is being opened for writing, check that the column is not indexed, and that it is not part of a foreign key.
If there is space in the offset vector, set any unused pairs at the end of the pattern to -1 for backwards compatibility.
If there were FTS5_MIN_DLIDX_SIZE or more empty leaf pages written to the database, also write the doclist-index to disk.
If we are returning a large unsigned value, we have to convert it back to a string since PHP only supports signed values.
In case this is such a statement, close any statement transaction opened by this VM before returning control to the user.
In other words, strings will compare equal to one another as long as they differ only in the number of spaces at the end.
In some cases this optimization prevents the table from ever being read, which can yield a significant performance boost.
In this case btreeMoveto() recognizes that the cursor is already where it needs to be and returns without doing any work.
Instead, the divider  cell consists of the integer key for the right-most cell of  the sibling-page assembled above only.
Is used while compiling a function, using the context to keep track of an approximate size to avoid to relocate to often.
It is important, therefore, to check the length along the reference, not along the subject (earlier code did this wrong).
It is the responsibility of the caller to free this allocation by eventually passing the *pazCol value to sqlite3_free().
Level 1 is the same as asynchronous (no syncs() occur and there is a high probability of damage)  Level 2 is the default.
More complicated way of expressing exposure time, so only use this value if we don't already have it from somewhere else.
No commit or rollback needed if the program never started or if the SQL statement does not read or write a database file.
One or more of the following flags are set to indicate the validOK representations of the value stored in the Mem struct.
One way to improve the situation is to sort the operations on each index by index key before applying them to the b-tree.
Only checking MAY_MERGE for IS_NULL here  is because only IS_NULL can be default value for class type hinting(RECV_INIT).
Or, if the zParent parameter is passed NULL,  then the new RBU VFS uses the default system VFS to access the file-system.
Or, it  may mean that the pager was in the error-state when this function was called and the journal file does not exist.
Release all the table locks (locks obtained via calls to the setSharedCacheTableLock() procedure) held by Btree object p.
Restore the clients cache of the wal-index header to the state it was in before the client began writing to the database.
Return the appropriate collating sequence for the iCol-th column of the result set for the compound-select statement "p".
Return true if we are able to the IN operator optimization on a query of the form  x IN (SELECT ...)  Where the SELECT...
Returning false might cause a performance reduction, but it will always give the correct answer and is hence always safe.
Round the union size down to the nearest pointer boundary, since that's how  it will be aligned within the Bitvec struct.
SEE ALSO XMLRPC_ServerAddIntrospectionData () XMLRPC_ServerRegisterIntrospectionCallback () XMLRPC_CleanupValue () SOURCE
Set nStr to the number of bytes of space required to store a copy of each column name, including the nul-terminator byte.
Since WhereClause contains an 8-byte field (type Bitmask) it must be aligned on an 8-byte boundary on some architectures.
Since files cannot be loaded via this kind of stub, no parameters are accepted when the Phar object is zip- or tar-based.
Some cleanups are only necessary if the generator was closed before it could finish execution (reach a return statement).
Temporary files are named starting with this prefix followed by 16 random alphanumeric characters, and no file extension.
The 0x48 base mentioned above is the offset of the tsd array within the per-thread structure on Leopard and Snow Leopard.
The call to fts3AllocateSegdirIdx() will merge the segments at level iLevel+1 to  a single iLevel+2 segment if necessary.
The commands implemented by this function are documented in the "Special INSERT Directives" section of the documentation.
The following variables are used by fts3SegReaderNextDocid() to iterate  through the current doclist (aDoclist/nDoclist).
The hash table must been initialized to use string keys, and to take a private copy  of the key when a value is inserted.
The implementation of dupedExprStructSize() contain multiple assert() statements that attempt to enforce this constraint.
The isDirectMode flag may only be non-zero if the library was compiled with the SQLITE_ENABLE_ATOMIC_WRITE macro defined.
The iterator passed as the second argument is guaranteed to point to a table (not an index) when this function is called.
The only way to find out whether SQLite automatically rolled back the transaction after an error is to use this function.
The output written into *pp contains all positions of both *pp1 and *pp2 in sorted order and with any duplicates removed.
The page cache implementation is not obligated to free any memory, but well-behaved implementations should do their best.
The sqlite3_index_info structure contains many fields that are declared "const" to prevent xBestIndex from changing them.
The value passed as iArg is cast to a (void*) and made available as the user-data (sqlite3_user_data()) for the function.
There are a LOT of them, so they're separated out into include files, leaving this source file for actual implementation.
These macros used to resolve to various kinds of compiler magic that would generate warning messages when they were used.
They are required if (a) this is not the first fragment, or (b) this fragment does not begin at position 0 of its column.
This allows integrity-check to  detect pages that are used twice and orphaned pages (both of which  indicate corruption).
This function is called to obtain a pointer to region iRegion of the  shared-memory associated with the database file fd.
This function is exactly the same as sqlite3_create_function(), except that it is designed to be called by internal code.
This function takes an integer value in the range 0 - 0x10ffff and encodes it as a UTF-8 character in 1 to 4 pcre_uchars.
This is more than the usual guess of 10 rows, since we have no way of knowing how selective the index will ultimately be.
This should count as an absolute local path as well, however IS_ABSOLUTE_PATH doesn't care about this path form till now.
This thread runs independently of its creator until it is joined using sqlite3ThreadJoin(), at which point it terminates.
To determine the table corresponding to the index being written, this function has to search through the database schema.
To prevent these separators from being replaced with a space, we use the SKIP_LONG_HEADER_SEP_MBSTRING to skip over them.
Using this makes it easier to write code that can merge doclists that are sorted in either ascending or descending order.
We need both SetEnvironmentVariable and _putenv here as some dependency lib could use either way to read the environment.
When reading the journal this value tells SQLite to assume that the rest of the journal file contains valid page records.
When sending the next command, which expects response we will read the unexpected data and error message will look weird.
both values are integers overflown to the same side, and the double comparison may have resulted in crucial accuracy lost
if you prepare and then execute passing an array of params keyed by names, then this will trigger, and we don't want that
logic above is as follows: If an explicit alias was requested, ensure the filename passed in matches the phar's filename.
remove error handlers before destroying classes and functions, so that if handler used some class, crash would not happen
zend_object_store_set_object: It is ONLY valid to call this function from within the constructor of an overloaded object.
- The only way there can be no lookahead present (in yychar) is if this state is a consistent state with a default action.
After calling semget(), if a process finds that the usage count is 1, it will set the value of SYSVSEM_SEM to max_acquire.
After the journal is safely on oxide, the changes to the database are written into the database file and flushed to oxide.
All colors within a histogram cell will be mapped to the same colormap entry, namely the one closest to the cell's center.
All the encoding functions are set to NULL right now, since all the encoding is currently done internally by expat/xmltok.
Although the value is, strictly, in characters, we treat it as bytes to avoid spending too much time in this optimization.
An in-memory database is the same as a temp-file that is never written out to disk and uses an in-memory rollback journal.
An instance of this structure contains information needed to generate code for a SELECT that contains aggregate functions.
An integer is written into *pRes which is the result of comparing the key with the entry to which the cursor is  pointing.
At this point we have established that the statement is of the correct syntactic form to participate in this optimization.
But a single Win95 reader will lock out all WinNT readers and a single WinNT reader will lock out all other Win95 readers.
But sometimes (for example when during a DROP of a large table) most or all of the pages in a database can get journalled.
Call the following routines in order to register the various SQL functions and the virtual table implemented by this file.
Convenience functions for opening and closing files using  sqlite3_malloc() to obtain space for the file-handle structure.
Create a opendir() directory stream handle by iterating over each of the files in a phar and retrieving its relative path.
Cursors will behave like a bit different, but mostly like old-API unbuffered and thus will populate this array with value.
EVIDENCE-OF: R-63257-11740 Calling sqlite3_close() or sqlite3_close_v2() with a NULL pointer argument is a harmless no-op.
Each iteration of the following for() loop searches one hash table (each hash table indexes up to HASHTABLE_NPAGE frames).
Each type field is a varint representing the serial type of the  corresponding data element (see sqlite3VdbeSerialType()).
Else insert an UPTO if the max is greater than the min, again preceded by the character, for the previously inserted code.
Essentially what we now have is a set of tokens each consisting of a hexadecimal number followed by a separator character.
Even if an IO or diskfull error occurs while journalling the page in the block above, set the need-sync flag for the page.
Execute the statement pStmt, either until a row of data is ready, the statement is completely executed or an error occurs.
For a temporary or in-memory database (neither of which require any locks), this variable is always set to EXCLUSIVE_LOCK.
For virtual tables, hidden columns are optional - they are updated by RBU if present in the input table, or not otherwise.
Hence for a particular database connection, once malloc starts failing, it fails consistently until mallocFailed is reset.
Hence the definition of zeroreqchar and zerofirstchar outside the main loop so that they can be accessed for the back off.
I include bell because some programs (particularly shell scripts) use it literally, even though it is rare in normal text.
If SQLITE_MALLOC_SOFT_LIMIT is not zero, then try to keep the sizes of memory allocations below this value where possible.
If another element already exists with the same key, then the new data replaces the old data and the old data is returned.
If fts3 is built as a dynamically loadable extension, this function is called by the sqlite3_extension_init() entry point.
If pLast is NULL at this point, then the last rowid for this doclist lies on the page currently indicated by the iterator.
If the P3 value could not be converted into an integer without loss of information, then special processing is required...
If the P5 parameter is non-zero, the cursor will be left pointing at  either the next or the previous record in the table.
If the value of register P1 is not positive (if it is less than 1) then set the value of register P2 to be the integer P3.
If there is an ORDER BY clause on a term of a compound-select other than the right-most term, then that is a syntax error.
If there is more header available for parsing in the record, try to extract additional fields up through the p2+1-th field
If there is no AS clause then the name of the column is unspecified and may change from one release of SQLite to the next.
If there were no rowids on the leaf page either and the doclist-index has already been started, append an 0x00 byte to it.
If this happens, the next iteration of the do-loop will balance pParent  use either balance_nonroot() or balance_deeper().
If this process is running as root, make sure that the SHM file is owned by the same user that owns the original database.
If we might modify it, we continue to scan the tag, otherwise we simply copy the complete HTML stuff to the result buffer.
Ignore EBADF here, it's caused by the fact that STDIN/STDOUT/STDERR streams are/could be closed before fflush() is called.
In 8.13, the code was changed as below for ONCE, so that backups pass through the group and thereby reset captured values.
In PAGER_ERROR state, Pager.errCode  is always set to SQLITE_FULL, SQLITE_IOERR or one of the SQLITE_IOERR_XXX  sub-codes.
In addition, TOTAL always returns a float where SUM might return an integer if it never encounters a floating point value.
In fact, the VFS is required to either truncate or zero the header of the wal-index when the last connection to it closes.
In the event that an invalid digit is found, halt the conversion and return the portion which has been converted thus far.
In the second form this pragma sets the text encoding to be used in new database files created using this database handle.
In the usual case where WSD is supported, the SQLITE_WSD and GLOBAL macros become no-ops and have zero performance impact.
In this case, it is guaranteed that the database page  pPg refers to will not be written to again within this transaction.
Internally, each RBU connection uses a separate SQLite database  connection to access the target and rbu update databases.
It constructs a string where each character of the string is the unicode character for the corresponding integer argument.
It is unsigned, so if a negative came from userspace, it'll convert to UINT_MAX, but we wan't to keep the userspace value.
None of these objects has any associated storage, so all we have to do is copy their entries from the SQLITE_MASTER table.
Note that it is illegal for the driver to take a reference to param, as it resides in transient storage only at this time.
Object for iterating through the merged results of one or more segments, visiting each term/rowid pair in the merged data.
Or it could be the case that the same database connection is being used by two or more threads at the same moment in time.
Otherwise, if *target is non-NULL, we assume that it points to a dynamically allocated buffer of *target_len bytes length.
Parameter T is set to half the value of the memory threshold used  by Write() above to determine when to create a new PMA.
Register a callback to be invoked each time a transaction is written into the write-ahead-log by this database connection.
Return a pointer to the collation sequence that should be used by a binary comparison operator comparing pLeft and pRight.
Return non-zero if the table pTab in database iDb or any of its indices have been opened at any point in the VDBE program.
See XMLRPC_GetValueTypeEasy SEE ALSO XMLRPC_SetValue* XMLRPC_CreateValue* XMLRPC_Append* XMLRPC_GetValueTypeEasy () SOURCE
See ticket http://www.sqlite.org/src/info/6709574d2a  This transformation is only needed for EXCEPT, INTERSECT, and UNION.
Select the fragment of text consisting of nFragment contiguous tokens  from column iCol that represent the "best" snippet.
Set iBlock to the index of the block pointed to by pOld in  the array of mem5.szAtom byte blocks pointed to by mem5.zPool.
So any terms for which all prerequisites are satisfied by  mExtra may be specified as "usable" in all calls to xBestIndex.
The 2/3/1 scale factors used here correspond loosely to the relative weights of the colors in the NTSC grayscale equation.
The VDBE knows that a P2 value is a label because labels are always negative and P2 values are suppose to be non-negative.
The code generator maintains a stack of active WITH clauses with the inner-most WITH clause being at the top of the stack.
The content is the same sequence of bytes, it is merely interpreted as a BLOB instead of a string, as if it had been CAST.
The first time this is called on a shared-btree, nBytes bytes of memory are allocated, zeroed, and returned to the caller.
The following code just has to locate the TK_ALL expressions and expand each one to the list of all columns in all tables.
The function is global in the C sense so that it can be called from pcre_study() when finding the minimum matching length.
The global stats are those elements  of the matchinfo array that are constant for all rows returned by the  current query.
The isTemp flag is true if the table should be stored in the auxiliary database file instead of in the main database file.
The names are now all in a single string, to reduce the number of relocations when a shared library is dynamically loaded.
The non flexible children can overflow the container, in this case we should just assume that there is no space available.
The purpose of the pointer map is to facility moving pages from one position in the file to another as part of autovacuum.
The scalar function context passed as the first argument is  loaded with an error message based on the following two args.
The sqlite3GetBoolean() function is used by other modules but the remainder of this file is specific to PRAGMA processing.
The table name in  the CREATE TABLE or CREATE INDEX statement is replaced with the third argument and the result returned.
The third case is a chunk of heap memory (defaulting to 100 pages worth) that is allocated when the page cache is created.
The update hook implementation must not do anything that will modify the database connection that invoked the update hook.
The use of this interface is only necessary if the default setting is found to be suboptimal for a particular application.
The value of TK_ and OP_ constants are arranged such that we can compute the mapping above using the following expression.
The value returned is the error state error code (i.e.  one of SQLITE_IOERR, an SQLITE_IOERR_xxx sub-code or SQLITE_FULL).
There may be calls to zend_vm_stack_free_call_frame(), which modifies the VM stack globals, so need to load/restore those.
These routines should return true if the mutex in their argument is held or not held, respectively, by the calling thread.
Think of each WhereLoop object as a node in a graph with arcs showing dependencies and costs for travelling between nodes.
This causes future drawing operations to perform alpha channel blending with the background, resulting in an opaque image.
This does not change the allocated size of the page-mapping array - the page-mapping array merely contains unused entries.
This function is called between compiling passes to add an entry to the name/number table, maintaining alphabetical order.
This function will allocate a new SegmentWriter object and return it via the input/output variable *ppWriter in this case.
This gives the application an opportunity to prioritize any actions  related to the set of unblocked database connections.
This is the "Composite Document File" format, and not the "Compound Document Format", nor the "Channel Definition Format".
This is the common case where the desired content fits on the original page - where the content is not on an overflow page
This is the xColumn method, called by SQLite to request a value from the row that the supplied cursor currently points to.
This is used to initialize a newly created index or to recompute the content of an index in response to a REINDEX command.
This module contains code that implements a parser for fts3 query strings (the right-hand argument to the MATCH operator).
This object is a convenience wrapper holding all information needed to construct WhereLoop objects for a particular query.
This operation is used to detect when that the cookie has changed and that the current process needs to reread the schema.
This routine allocates a range of nEq+nExtraReg memory cells and returns the index of the first memory cell in that range.
This routine generates the code needed to write autoincrement maximum rowid values back into the sqlite_sequence register.
This sets group 1 as part of the atomic group, but this is not on the final matching path, so must be unset when 2 is set.
This space is used for "compiling" into during the first phase, when we are computing the amount of memory that is needed.
This structure is used to pass data from sqlite3_get_table() through to the callback function is uses to build the result.
Thus, a test for both these conditions is necessary to ensure we correctly detect the start of the pattern in both phases.
USAGE  The API declared below allows an application to apply an RBU update  stored on disk to an existing target database.
Unlink the global (r/o) copies of the class, function and constant tables, and use a fresh r/w copy for the startup thread
Using the interfaces defined in this file,  FTS5 may be extended with:  custom tokenizers, and custom auxiliary functions.
We can then clear the array and begin accumulating any further context pointers without  requiring any dynamic allocation.
We make sure "nnn" is not too be to avoid a denial of service attack when the SQL statement comes from an external source.
When deep is false Element nodes still require the attributes Following taken from libxml as xmlDocCopyNode doesnt do this
Words that are longer than about 20 bytes are stemmed by retaining a few bytes from the beginning and the end of the word.
You can also insert new BTree entries or retrieve the key or data from the entry that the cursor is currently pointing to.
ensure we want: - to log (fastcgi.logging in php.ini) - we are currently dealing with a request - the message is not empty
gdDPExtractData is the exception to this: it will return the pointer to the internal data, and reset the internal storage.
if it doesn't, open a new pgsql link, add it to the resource list, and add a pointer to it with hashed_details as the key.
method/function oplines need to be normalized (leading backslash, lowercase) and file oplines need to be resolved properly
pPage is not necessarily writeable since pCell might be auxiliary buffer space that is separate from the pPage buffer area
(4)  Scan the list of columns in the result set (pEList) looking for instances of the "*" operator or the TABLE.* operator.
(b) If the JavaScript compatibility flag is set, set the length to zero so that the back reference matches an empty string.
- Various output options, including: xml escaping via CDATA or entity, case folding, vocab version, and character encoding.
A blob encoding of a record is created by the OP_MakeRecord opcode of the VDBE and is disassembled by the OP_Column opcode.
A long-standing parser bug is that this syntax was allowed:  CREATE TRIGGER attached.demo AFTER INSERT ON attached.tab ....
A zero value means there is no possessified version - in those cases the item in question must be wrapped in ONCE brackets.
Advance it to the next matching document in the database and populate output variable *p with the details of the new entry.
After scanning the current FTS table row for the deferred tokens, it is determined that the row does *not* match the query.
An instance of the following structure encodes all information that can be gleaned from the CREATE VIRTUAL TABLE statement.
An objected used to accumulate the text of a string where we do not necessarily know how big the string will be in the end.
Any attempt to use the destination database connection while a backup is in progress may cause a malfunction or a deadlock.
As each page of the file is loaded into memory, an instance of the following structure is appended and initialized to zero.
As usual, return a negative , zero or positive value if *pMem1 is less than, equal to or greater than  pMem2, respectively.
Coding an expression that is part of an index where column names in the index refer to the table to which the index belongs
Copyright (C) 1999-2015 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
Copyright (C) 2006-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
Data beyond this point must be rescanned after resumption, so move it to the front of the buffer rather than discarding it.
Decode the flags byte (the first byte of the header) for a page and initialize fields of the MemPage structure accordingly.
Deferred and Immediate FKs --------------------------  Foreign keys in SQLite come in two flavours: deferred and immediate.
Do not allow the upper bound of a LIKE optimization range constraint to mix with a lower range bound from some other source
Do not raise errors because that might break legacy and because it does not hurt anything to just ignore the database name.
Don't use ChangeTimerQueueTimer() as it will not restart an expired timer, so we could end up with just an ignored timeout.
EVIDENCE-OF: R-22564-11647 The header begins with a single varint which determines the total number of bytes in the header.
EVIDENCE-OF: R-55530-52930 In a well-formed b-tree page, there will always be at least one cell before the first freeblock.
EXTENSION API FUNCTIONS  xUserData(pFts): Return a copy of the context pointer the extension function was  registered with.
Escape U+2028/U+2029 line terminators, UNLESS both JSON_UNESCAPED_UNICODE and JSON_UNESCAPED_LINE_TERMINATORS were provided
First try to detect BOM: ZERO WIDTH NOBREAK SPACE (FEFF 16) since we have no encoding support for the BOM yet we skip that.
For example:  abc NEAR/5 "def ghi"  Parameter nNear is passed the NEAR distance of the expression (5 in the example above).
IMPORTANT NOTE FOR ZIPVFS USERS: The RBU extension works with all of SQLite's built-in VFSs, including the multiplexor VFS.
If FTS_LOG_MERGES is defined, call sqlite3_log() to report each automatic and incremental merge operation that takes place.
If LcsIterator.iCol is set to the following value, the iterator has finished iterating through all offsets for all columns.
If P is a query parameter of F has no explicit value, then sqlite3_uri_parameter(F,P) returns a pointer to an empty string.
If P1 is zero, the jump is taken if the statement constraint-counter is zero (immediate foreign key constraint violations).
If a disconnect is attempted while a virtual table is locked, the disconnect is deferred until all locks have been removed.
If an error occurs during the rollback  a hot journal may be left in the filesystem but no error is returned to the caller.
If isWrite is non-zero and the requested shared-memory region has not yet been allocated, it is allocated by this function.
If it fails here, it surely means that the user running this process does not have the permission(s) to use this container.
If it is not NULL, then pColl must point to the database native encoding  collation sequence with name zName, length nName.
If that guess turns  out to be wrong, fall back to loading the data of page  number ovfl to determine the next page number.
If the SQLITE_PreferBuiltin flag is set, then search the built-in functions even if a prior app-defined function was found.
If the cost of computing an automatic index is not paid back within the first 28 rows, then do not use the automatic index.
If the db-size header field is incorrect (as it may be if an old client has been writing the database file), update it now.
If the first page of the wal-index has been mapped, try to read the wal-index header immediately, without holding any lock.
If the interior node term is larger than the specified term, then the tree headed by iChild may contain the specified term.
If the name is duplicated, add one to the opcode to change CREF/RREF into DNCREF/DNRREF and insert appropriate data values.
If the rbu_control field contains an invalid value, an error code and message are left in the RBU handle and zero returned.
If the return value is 2, that means ALWAYS() and NEVER() are both no-op pass-through macros, which is the default setting.
If there are currently more than nMaxPage pages allocated, try to recycle pages to reduce the number allocated to nMaxPage.
If they are called while some other thread is calling backup_step() or backup_finish(), the values returned may be invalid.
If this assert() ever fires, it probably means that the KeyInfo.nField or KeyInfo.nXField values were computed incorrectly.
If this cursor was opened expecting an index b-tree, then the caller should be inserting blob keys with no associated data.
If we do not do this and we encounter a power failure, the directory entry for the journal might not exist after we reboot.
If zTerm is not NULL, and this segment is not stored entirely on its root node, the range of leaves scanned can be reduced.
Immediately after obtaining the SHARED lock, the file-system is checked for a hot-journal, which is played back if present.
In a phar.zip or phar.tar archive, the default stub is used only to identify the archive to the extension as a Phar object.
In test mode, increase the size of this structure a bit so that  it is larger than the struct CrashFile defined in test6.c.
In the course of balancing the page and its siblings, cells may be inserted into or removed from the parent page (pParent).
In this case, the  In the above example, this means that the tokenizer returns the same token for inputs "first" and "1st".
Individual OS interface implementations will want to subclass this object by appending additional fields for their own use.
Invoke either the xSavepoint, xRollbackTo or xRelease method of all virtual tables that currently have an open transaction.
It *target is NULL then we allocate a large enough buffer, store the converted string into it, and make target point to it.
Its contents are now stored either on real database pages or within the  new pSpace buffer, so it may be safely freed here.
Make sure we detect we are a cgi - a bit redundancy here, but the default case is that we have to check only the first one.
Multiple synonyms may be specified for a single token by making multiple calls to xToken(FTS5_TOKEN_COLOCATED) in sequence.
Normally the execute_data is allocated on the VM stack (because it does not actually do any allocation and thus is faster).
Note that some of the more obscure formatting options from recent C-library standards are omitted from this implementation.
On a little-endian architecture, it returns the u32 value that results from interpreting the 4 bytes as a big-endian value.
On switch statements where multiple cases go to the same block of code, testcase() can insure that all cases are evaluated.
Only set the lastErrno if the error code is a real error and not  a normal expected return code of SQLITE_BUSY or SQLITE_OK
Opcode: Destroy P1 P2 P3 * *  Delete an entire database table or index whose root page in the database file is given by P1.
Opcode: Savepoint P1 * * P4 *  Open, release or rollback the savepoint named by parameter P4, depending on the value of P1.
Otherwise, either SQLITE_NOMEM (out of memory error) or SQLITE_ERROR (tokenization error) is returned and *ppExpr set to 0.
Otherwise, if op is  SAVEPOINT_RELEASE, then the xRelease method of each virtual table with an open transaction is invoked.
Otherwise, the page is not synced until the xSync method of the VFS is called successfully on the file containing the page.
Otherwise, the value inserted into the child key column will have INTEGER affinity applied to it, which may not be correct.
Query to see if Btree handle p may obtain a lock of type eLock  (READ_LOCK or WRITE_LOCK) on the table with root-page iTab.
Regardless of the current state, a temp-file connection always behaves as if it has an exclusive lock on the database file.
Register this backup object with the associated source pager for callbacks when pages are changed or the cache invalidated.
Return TRUE if the result is a valid real number (or integer) and FALSE if the string is empty or contains extraneous text.
Return non-zero (SQLITE_READONLY_DBMOVED or some other error code from sqlite3OsAccess()) if the database has gone missing.
Return some kind of integer value which is the best we can do at representing the value that *pMem describes as an integer.
Set the P5 operand of the OP_Program instruction to non-zero if recursive invocation of this trigger program is disallowed.
The authorizer callback must not do anything that will modify the database connection that invoked the authorizer callback.
The code that calls this routine will use that memory range to store keys for start and termination conditions of the loop.
The code to make the lock occur is generated by a later call to codeTableLocks() which occurs during sqlite3FinishCoding().
The column affinity string will eventually be deleted by sqliteDeleteIndex() when the Index structure itself is cleaned up.
The dupedExpr*Size() routines each return the number of bytes required to store a copy of an expression or expression tree.
The iDistinct table keeps a copy of all rows that have ever been inserted into Queue and causes duplicates to be discarded.
The mutex associated with the specific b-tree being checkpointed is taken by this function while the checkpoint is running.
The on-disk record stores integer coordinates if eInt is true and it stores 32-bit floating point records if eInt is false.
The position is set by the parent, but we need to complete it with a delta composed of the margin and left/top/right/bottom
The query generator uses an array of instances of this structure to help it analyze the subexpressions of the WHERE clause.
The structures are like b+trees in layout, but are constructed from the bottom up in optimal fashion and are not updatable.
The two subsequent arguments should be the name of the OS function that failed and the associated file-system path, if any.
The xDelete callback, if one is specified, is also invoked on the auxiliary data pointer after the FTS5 query has finished.
There is no need to check the return values of the btree methods here, as "committing" a read-only transaction cannot fail.
There is no way for a call to BackupUpdate() or BackupRestart() to interfere with backup_remaining() or backup_pagecount().
Therefore, the client has no way to find out whether there are more result sets of a multiple-result-set statement pending.
This assumption is dangerous, as if a failure occurred whilst writing to the journal file it may contain some garbage data.
This call sets the output parameter as follows, depending on the type of the table specified by parameters dbName and zTbl.
This file contains implementations of the low-level memory allocation routines specified in the sqlite3_mem_methods object.
This function is called as the second part of each xNext operation when iterating through the results of a full-text query.
This function is called when deleting or updating a row to implement any required CASCADE, SET NULL or SET DEFAULT actions.
This function is only ever called on iterators created by calls to Fts5IndexQuery() with the FTS5INDEX_QUERY_DESC flag set.
This function reads the contents of the master-journal file into  memory and loops through each of the child journal names.
This function returns either when the end of the buffer is reached or an unmatched  closing bracket - ')' - is encountered.
This happens when code in  expr.c is trying to resolve a reference to a transient table (i.e. one created by a sub-select).
This is a very unreasonable result, but Windows is notorious for being unreasonable so I do not doubt that it might happen.
This is best for palette images, and libpng defaults to it for palette images anyway, so we don't need to do it explicitly.
This is used for testing purposes only - to make sure the transfer optimization really is happening when it is supposed to.
This module contains the external function pcre_maketables(), which builds character tables for PCRE in the current locale.
This operation is required when a row is deleted (or updated - an update is implemented as a delete followed by an insert).
This proc moves the *-oal file to the *-wal path, then reopens the database file (this time in vanilla, non-oal, WAL mode).
This routine acquires a read-lock the first time it has to go to disk, and could also playback an old journal if necessary.
This routine implements an SQL function that returns the "depth" parameter from the front of a blob that is an r-tree node.
This type is used as an fts3ExprIterate() context object while  accumulating the data returned by the matchinfo() function.
Usage Paradigm: The user of this library will typically be implementing either an XMLRPC server, an XMLRPC client, or both.
User defined ini files (like .htaccess for apache) are parsed for each request and stored in separate hash defined by SAPI.
We call AltB, AeqB, AgtB, EofA, and EofB "subroutines" but they are not actually called using Gosub and they do not Return.
When a cursor is in  this state, restoreCursorPosition() can be called to attempt to seek the cursor to the saved position.
pBuf must be a pointer to at least BITVEC_SZ bytes of temporary storage that BitvecClear can use to rebuilt its hash table.
pre-evaluate functions: constant(x) defined(x) function_exists(x) extension_loaded(x) BAD: interacts badly with Accelerator
sigh, breaking the encapsulation, there aren't any functions manipulating the llist at the place of the zend_llist_position
sqlite3Fts5ParserFTS5TOKENTYPE     is the data type used for minor tokens given  directly to the parser from the tokenizer.
we've got an unterminated enclosure, assign all the data from the start of the enclosure to end of data to the last element
(This is only checked in the single-threaded case since checking in the multi-threaded case would be much more complicated.)
A bracket expression starting with an unquoted circumflex character produces unspecified results (IEEE 1003.2-1992, 3.13.2).
A bunch of assert() statements to check the transaction state variables of handle p (type Btree*) are internally consistent.
All structure methods must be defined, setting any member of the fts5_tokenizer struct to NULL leads to undefined behaviour.
An internal mutex is held for a protected sqlite3_value object but no mutex is held for an unprotected sqlite3_value object.
Ascii value 4 is actually EOT character which is not defined anywhere in the LibC or else we can use instead of hardcoded 4.
Because of the way auto-callout works during compile, a callout item is inserted between OP_COND and an assertion condition.
But odds are that we will be inserting new entries at the end soon afterwards so the nearly empty page will quickly fill up.
But we cannot delete it, in case the master journal file name was written into the journal file before the failure occurred.
CAPI3REF: SQL Function Context Object  The context in which an SQL function executes is stored in an sqlite3_context object.
CAPI3REF: Text Encodings  These constant define integer codes that represent the various text encodings supported by SQLite.
Do not attempt to use an IN constraint if the virtual table says that the equivalent EQ constraint cannot be safely omitted.
Do the tar test first, because if the first file in the tar archive starts with a dot, we can confuse it with an nroff file.
Failure will leave zkeyval alone which will land us on the final else block below which is to append the value as next_index
Flags that may be passed by the tokenizer implementation back to FTS5 as the third argument to the supplied xToken callback.
For the OP_NoConflict opcode, take the jump if any of the input fields are NULL, since any key with a NULL will not conflict
Forward declaration to account for the circular dependency between functions fts3SegmentMerge() and fts3AllocateSegdirIdx().
From release 8.00 this will always return TRUE because NOPARTIAL is no longer ever set (the restrictions have been removed).
GROUP BY and DISTINCT do not require rows to appear in any particular order as long as equivalent rows are grouped together.
Give a better score to a function with a specific number of arguments than to function that accepts any number of arguments.
Here are two possible cases: 1) this is an attempt to modifiy the visibility of a method introduce as part of another alias.
Historians usually use the julian calendar for dates prior to 1582-10-15 and for some dates afterwards, depending on locale.
However, based on certain device characteristics (sector-size and atomic write() support), SQLite may choose a larger value.
IMP: R-02065-49465 The left-hand side of the LIKE or GLOB operator must be the name of an indexed column with TEXT affinity.
IMPLEMENTATION-OF: R-35210-63508 The sqlite3_libversion_number() function returns an integer equal to SQLITE_VERSION_NUMBER.
If P5 has the OPFLAG_PERMUTE bit set, then the order of comparison is determined by the most recent OP_Permutation operator.
If QUALITY is negative, the IJG JPEG library's default quality is used (which should be near optimal for many applications).
If eMode is ONEPASS_OFF then this function must seek iDataCur to the entry identified by iPk and nPk before reading from it.
If it is called in PAGER_NONE or PAGER_SHARED state and the lock held is less exclusive than a RESERVED lock, it is a no-op.
If malloc failed, then the while() loop above may not have iterated through all opcodes and hasAbort may be set incorrectly.
If the SF_Converted flags is set, then this Select object was was created by the convertCompoundSelectToSubquery() function.
If the p2 instruction of this OP_Halt instruction is set to OE_Ignore, then the sub-program is throwing an IGNORE exception.
If the parent page becomes overfull, the overflow cell or cells are stored in the pSpace buffer allocated immediately below.
If we (now or from before) have no firstchar, a firstchar from the branch becomes a reqchar if there isn't a branch reqchar.
In order to be consistent, we have to make sure we add the good amount of nulls depending on the current number of elements.
In other words, the value returned is the same integer value that would be used in the SQL statement to indicate the column.
In this say, all root pages are kept at the beginning of the database file, which is necessary for AUTOVACUUM to work right.
Initial sources code is avaibable in the Gems Source Code Packages: http://www.acm.org/pubs/tog/GraphicsGems/GGemsIII.tar.gz
List of properties expected to be found in the Unicode Character Database including some implementation specific properties.
Logically, the '+' notation is just syntactic sugar, taken from Sun's Java package, but the special opcodes can optimize it.
Loop through all of the arguments passed by the user to the FTS3/4 module (i.e. all the column names and special arguments).
Mapping retries: When Apache2 restarts, the parent process startup routine can be called before the child process is killed.
Maybe we can make it automatic by checking what's the value of max_allowed_packet_size on the server and resending the data.
Mostly used by vprintf_alloc for non-C99 compliant snprintfs, this is like vsprintf_alloc except it takes a "suggested" size
My gut feeling is that it will modify the size field to reflect that so lets be safe and set it to the BIND_OPTS2 size again
Note that ON cannot be a database, table or column name, so there is no need to worry about syntax like  "CREATE TRIGGER ...
Once the EXCLUSIVE lock is released, any other database readers detect the new *-wal file and read the database in wal mode.
Opcode: Init * P2 * P4 * Synopsis:  Start at P2  Programs contain a single instance of this opcode as the very first opcode.
Opcode: NextIfOpen P1 P2 P3 P4 P5  This opcode works just like Next except that if cursor P1 is not open it behaves a no-op.
Opcode: PrevIfOpen P1 P2 P3 P4 P5  This opcode works just like Prev except that if cursor P1 is not open it behaves a no-op.
Or, if they do overlap (share one or more tokens in common), each set of overlapping instances is treated as a single match.
POSIX locks will work fine to synchronize access for threads in separate processes, but not threads within the same process.
Public interfaces:  sqlite3ConnectionBlocked() sqlite3ConnectionUnlocked() sqlite3ConnectionClosed() sqlite3_unlock_notify()
Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
Regardless of whether or not the call to xUnlock() succeeds, set the Pager.eLock variable to match the (attempted) new lock.
Release a reference to an Fts5Structure object returned by an earlier  call to fts5StructureRead() or fts5StructureDecode().
Return an approximation for the amount of memory currently used by all pagers associated with the given database connection.
Return non-zero if the cursor does not currently point to a valid  record (i.e if the scan has finished), or zero otherwise.
SELECTTRACE_ENABLED will be either 1 or 0 depending on whether or not the Select query generator tracing logic is turned on.
Segment doclist indexes:  Doclist indexes are themselves b-trees, however they usually consist of a single leaf record only.
Semaphore 0 (SYSVSEM_SEM) is the actual semaphore, it is initialized to max_acquire and decremented as processes acquire it.
So if either zTarget or zRbu begin with "file:", it will be interpreted as an SQLite  database URI, not a regular file name.
Some SQLITE_OPEN_ flags (for example, SQLITE_OPEN_FULLMUTEX or SQLITE_OPEN_SHAREDCACHE) are blocked before reaching the VFS.
The (slower) btreeNext() helper routine is called when it is necessary to move to a different page or to restore the cursor.
The call to pager_unlock() will discard all in-memory pages, unlock the database file and move the pager back to OPEN state.
The check can be turned off for maximum performance, but the consequences of supplying an invalid string are then undefined.
The collating sequence for the compound select is taken from the left-most term of the select that has a collating sequence.
The endian- specific implementations are much faster and are preferred if the processor endianness is known at compile-time.
The first argument passed to this function is a pointer to an Fts5Tokenizer object returned by an earlier call to xCreate().
The first time the bm25() function is called for a query, an instance of the following structure is allocated and populated.
The handling of escape sequences consisting of a string of digits starting with one that is not zero is not straightforward.
The initial batch number is zero, so if the very first TEST contains a non-zero batch number, it will see all prior INSERTs.
The next call to sqlite3_randomness() will reseed the PRNG using a single call to the xRandomness method of the default VFS.
The pX parameter is the expression on the RHS of the IN operator, which might be either a list of expressions or a subquery.
The size of the buffer in the first argument must be greater than or equal to the product of the second and third arguments.
The table consists of integer keys mapped to values as follows:  RBU_STATE_STAGE: May be set to integer values 1, 2, 4 or 5.
These routines are Walker callbacks used to check expressions to see if they are "constant" for some definition of constant.
These variables do not need to be preserved over recursion in this function, so they can be ordinary variables in all cases.
This array is of size MxN, where M is the number of entries in each input array and N is the number of the input arrays + 1.
This file contains code for implementations of the r-tree and r*-tree algorithms packaged as an SQLite virtual table module.
This function either releases or rolls back the savepoint identified by parameter iSavepoint, depending on the value  of op.
This function is called for each Fts3Phrase in a full-text query  expression to initialize the mechanism for returning rows.
This function returns a 32-bit bitmask indicating which columns of the  old.* or new.* tables actually are used by triggers.
This function returns the collation sequence for database native text encoding identified by the string zName, length nName.
This gives a return value similar to that from fcvt, except that trailing zeros are suppressed, and ndigits can be negative.
This is a little safety check for instances when we are dealing with a regenerated session that was not yet written to disk.
This is the theoretical max (will never get beyond len * 2 as long as we are converting from single-byte characters, though)
This is used when an equivalent integer value is  stored in place of an 8-byte floating point value in order to save  space.
This object holds the prerequisites and the cost of running a subquery on one operand of an OR operator in the WHERE clause.
This routine is called when an INITIALLY IMMEDIATE or INITIALLY DEFERRED clause is seen as part of a foreign key definition.
This was a premature performance optimization that isn't thread safe, if we want it thread safe we need to add mutex code...
Unless it is NULL, the argument must be an UnpackedRecord object returned by an earlier call to sqlite3Stat4ProbeSetValue().
Very simple SMTP Send-mail program for sending command-line level emails and CGI-BIN form response for the Windows platform.
When the minimum is greater than 1, there will be earlier copies of the group, and so we still have to wrap the whole thing.
When the stmt will again be executed then the result set will be cleaned, the bound variables will be separated before that.
When this routine is the Walker.xExprCallback then expression trees are walked without any actions being taken at each node.
call ap_set_content_type only once, else each time we call it, configured output filters for that content type will be added
first, iterate over the manifest and close all PHAR_TMP entry fp handles, this prevents unnecessary unfreed stream resources
if it is inside the docroot, we scan the tree up to the docroot to find more user.ini, if not we only scan the current path.
we don't care if the function name is longer, in fact lowercasing only the beginning of the name speeds up the check process
A VALUES clause is really just short-hand for a SELECT statement that omits the FROM clause and everything else that follows.
A new child page is allocated and the contents of the current root page, including overflow cells, are copied into the child.
Add an INDEXED BY or NOT INDEXED clause to the most recently added  element of the source-list passed as the second argument.
All updates required by each b-tree are completed before moving on to the next, and all updates are done in sorted key order.
Also all getXY() methods are final because thy serve as read only access to their corresponding properties, no more, no less.
Also, whether or not P4 is set, check that this is not being called from within a callback to a virtual table xSync() method.
Alternative implementations use flock(), dot-files, various proprietary locking schemas, or simply skip locking all together.
And never try to change the state of exceptions and never implement anything that gives the user anything to accomplish this.
Append the current term and doclist pointed to by cursor pCsr to the appendable b-tree segment opened for writing by pWriter.
Array of lists of free blocks according to the block size  for smaller chunks, or a hash on the block size for larger chunks.
At this point, both p1 and p2 point to the start of column-lists for the same column (the column with index iCol1 and iCol2).
Buffer like gray8 gray16 or rgb8 will require some tweak and can be done in this function (called from the autocrop function.
CAPI3REF: Online Backup Object  The sqlite3_backup object records state information about an ongoing online backup operation.
Change the OP_OpenEphemeral coded earlier to an OP_Null sets the MEM_Cleared bit on the first register of the previous value.
Compare this key value against the index that P1 is currently pointing to, ignoring the PRIMARY KEY or ROWID on the P1 index.
Continuations at the current level are processed as, if we see one, there's no lower-level continuation that may have failed.
Control gets here if there has been an error, or if the overall match attempt has failed at all permitted starting positions.
Create and populate a new TriggerPrg object with a sub-program  implementing trigger pTrigger with ON CONFLICT policy orconf.
EG(current_execute_data) points into nirvana and therefore cannot be safely accessed inside zend_executor callback functions.
EVIDENCE-OF: R-43263-13491 The total number of bytes in all fragments is stored in the fifth field of the b-tree page header.
Encode Unicode string as UTF-8, returning pointer to character after end of string, or NULL if an invalid character is found.
Encode or decode file as MIME base64 (RFC 1341) by John Walker http://www.fourmilab.ch/ This program is in the public domain.
Even if a subsequent open() call does succeed, the consequences of not searching for a reusable file descriptor are not dire.
For a reference to any other column in the new.* pseudo-table, p1 is set to (n+2+i), where n and i are as defined previously.
For a sequence of tokens contained in double-quotes (i.e. "one two three") nToken will be the number of tokens in the string.
For any given WHERE  clause, the cursor numbers might not begin with 0 and they might contain gaps in the numbering sequence.
For metasequences that actually match a character, we disable the setting of a first character if it hasn't already been set.
For mode (2) there is only a single PGroup which is the pcache1.grp global variable and its mutex is SQLITE_MUTEX_STATIC_LRU.
For some reason, the macros don't work properly if an expression is given as the argument to RRETURN when the heap is in use.
Header file for the Virtual DataBase Engine (VDBE)  This header defines the interface to the virtual database engine or VDBE.
Helper function used to store the latest found warnings and errors while parsing, from either strtotime or parse_from_format.
I think that SetStmtOption is of little use, since most of those can only be specified before preparing/executing statements.
If  bExtend is non-zero and the requested shared-memory region has not yet  been allocated, it is allocated by this function.
If  malloc() has failed, the threads mallocFailed flag is cleared and the result code of statement pStmt set to SQLITE_NOMEM.
If either the iTab or iSortIdx values for two WhereLoop are different then those WhereLoops need to be considered separately.
If it is set, allow the name with a different number, but continue scanning in case this is a duplicate with the same number.
If loading from memory, we need to set the base directory for the document but it is not apparent how to do that for schema's
If maximizing, it is worth using inline code for speed, doing the type test once at the start (i.e. keep it out of the loop).
If required (i.e. if it was not allocated by extending the file), the current page at position pgnoMove is already journaled.
If the current operation is an UPDATE, then the pChanges parameter is passed a pointer to the list of columns being modified.
If the database contains foreign key violations when the  transaction is opened, this may cause the mechanism to malfunction.
If the expression evaluates to NULL (neither true nor false), then take the jump if the jumpIfNull flag is SQLITE_JUMPIFNULL.
If the file has the SQLITE_IOCAP_POWERSAFE_OVERWRITE property, then set the effective sector size to its minimum value (512).
If the file was just truncated to a size smaller than the currently mapped region, reduce the effective mapping size as well.
If the record number is not being modified, then regNewRowid is the same register as regOldRowid, which is already populated.
If there is a write-transaction spanning more than one database file, this routine takes care of the master journal trickery.
If this is an INSERT operation, or an UPDATE that modifies the rowid value, then this operation requires constraint handling.
If this is an in-memory db, or no pages have been written to, or this function has already been called, it is mostly a no-op.
If this is successful, a random byte from the 'shared byte range' is read-locked and the lock on the 'pending byte' released.
If this journal was created by a process other than this one, then this routine is being called from within pager_playback().
If this table is used instead of the above one, some of the special cases for the NEL character can be taken out of the code.
If two adjacent free blocks are the halves of a larger block, then the two blocks are coalesced into the single larger block.
In UTF-8 mode, for characters greater than 127, we can only do the caseless thing when Unicode property support is available.
In order to ensure that there are no database readers, an EXCLUSIVE lock is obtained here before the *-oal is moved to *-wal.
In this case, instead of using a counter, an exception is thrown immediately if the INSERT violates a foreign key constraint.
In this case, when tokenizing query text, the tokenizer may  provide multiple synonyms for a single term within the document.
It also simplifies the handling of Z_ADDREF_P because we don't need to check if only either NUM or ASSOC is set but not both.
It seems to be the only way to do such a check at compile time, as the sizeof() operator does not work in the C preprocessor.
Or, even if a larger default MMAP_SIZE is specified at compile-time, make sure that it does not exceed the maximum mmap size.
Otherwise, if the connection does not already have an EXCLUSIVE lock on  the database file, an attempt is made to obtain one.
Otherwise, if the second argument is non-zero, then this function is  being called indirectly by sqlite3Stat4ProbeSetValue().
Otherwise, it means we have failed to find a non-empty-string match at a point where there was a previous empty-string match.
RENAME command to modify the definition of any foreign key constraints that use the table being renamed as the  parent table.
RESULT void NOTES The returned data must be free'd by caller SEE ALSO xml_elem_serialize_to_string () xml_elem_free () SOURCE
Redistributions of source code must retain the above copyright notices, this list of conditions and the following disclaimer.
Return the P5 value that should be used for a binary comparison opcode (OP_Eq, OP_Ge etc.) used to compare pExpr1 and pExpr2.
See comments above writeMasterJournal() for the format used to store a master journal file name at the end of a journal file.
Set the current transaction state to TRANS_NONE and unlock the  pager if this call closed the only read or write transaction.
Similarly, values accessed by AFTER triggers are only included in the returned mask if the TRIGGER_AFTER bit is set in tr_tm.
Start this only for the time of the run or eval command, for so long that the main thread is busy serving some debug session.
TODO: Async connects need to check the enable_on_connect option when we notice that the connect has actually been established
TODO: Technically the following is an error because it assumes that buffer Pager.pTmpSpace is (mxPathname+1) bytes or larger.
That way, when multiple affinity types are concatenated into a string and used as the P4 operand, they will be more readable.
The code is duplicated for the caseless and caseful cases, for speed, since matching characters is likely to be quite common.
The direct assignment in the previous line is possible only because the WO_ and SQLITE_INDEX_CONSTRAINT_ codes are identical.
The first entry in the  first index-block contains the database page number corresponding to the first frame in the WAL file.
The following are used as the second parameter to sqlite3Savepoint(), and as the P1 argument to the OP_Savepoint instruction.
The following global variable is incremented every time a cursor moves, either by the OP_SeekXX, OP_Next, or OP_Prev opcodes.
The hello method is not inherited by SSL structs when assigning a new context inside the SNI callback, so the just use SSLv23
The intent of the integer argument is to let the fault simulator know which of multiple sqlite3FaultSim() calls has been hit.
The pAppData field of the sqlite3_vfs VFS objects are initialized to be pointers to the correct finder-function for that VFS.
The regNewData parameter is the first register in a range that contains the data to be inserted or the data after the update.
The regOldData parameter is similar to regNewData except that it contains the data prior to an UPDATE rather than afterwards.
The rowid for each segment leaf is found by passing the segment id and  the leaf page number to the FTS5_SEGMENT_ROWID macro.
The sqlite3_log() interface is intended for use by extensions such as virtual tables, collating functions, and SQL functions.
The use of the new "v2" interface is recommended for new applications but the legacy interface will continue to be supported.
The user is required to ensure that no other thread accesses the destination handle for the duration of the backup operation.
The various locks exhibit the following semantics:  SHARED:    Any number of processes may hold a SHARED lock simultaneously.
There used to be a separate OP_VRowid opcode for use with virtual tables, but this one opcode now works for both table types.
These will do the right thing for either R,G,B or B,G,R color order, but you may not like the results for other color orders.
This can be used, for example, in diagnostic routines to search for prepared  statements that are holding a transaction open.
This file contains routines used for analyzing expressions and for generating VDBE code that evaluates expressions in SQLite.
This function attempts to create any imposter table required to write to the main table b-tree of the table before returning.
This helps to keep entries in the disk file in order so that a scan of the table is closer to a linear scan through the file.
This is called by the parser when it sees a CREATE TRIGGER statement up to the point of the BEGIN before the trigger actions.
This optimisation fails on a zero key (which is weak and has bad parity anyway) in order to simplify the starting conditions.
This routine is called just before cursor pExcept is used to modify the table, for example in BtreeDelete() or BtreeInsert().
This source code is licensed under the BSD-style license found in the LICENSE file in the root directory of this source tree.
Try to lookup the cached regex entry, and if successful, just pass back the compiled pattern, otherwise go on and compile it.
Use c to hold the length of the character in bytes, plus UTF_LENGTH to flag that it's a length rather than a small character.
We need to define _XOPEN_SOURCE as follows in order to enable recursive mutexes on most Unix systems and fchmod() on OpenBSD.
Whatever FuncDef structure is returned it will have fields overwritten with new information appropriate for the new function.
When the page is next fetched by the b-tree layer, it  will be read from the database file, which may or may not be  current.
_xmlwriter_get_valid_file_path should be made a common function in libxml extension as code is common to a few xml extensions
compact() is probably most used with a single array of var_names or multiple string names, rather than a combination of both.
expat will not expand internal entities if default handler is present otherwise it will expand and pass them to cdata handler
if the current word puts us over the linelength, copy back up until the last space, insert a break, and move up the laststart
(**)  Restriction (10) was removed from the code on 2005-02-05 but we accidently carried the comment forward until 2014-09-15.
(The function will only free the JIT data if the bit remains set, as the bit indicates that the pointer to the data is valid.)
0xFF, or one of the following control characters: backspace, tab, line feed, vertical tab, form feed, carriage return, escape.
A negative number N translations means that a buffer of -1024*N bytes is allocated and used for as many pages as it will hold.
A very long time ago php_module_startup() was refactored in a way which broke calling it with more than one additional module.
Also, provde the Utf8Read() macro for fast reading of the next character in the common case where the next character is ASCII.
Although we will cope with a later change in dither_mode, we do not promise to honor max_memory_to_use if dither_mode changes.
An instance of this structure represents a set of one or more CTEs (common table expressions) created by a single WITH clause.
And asserting PSOW makes a large reduction in the amount of required I/O for journaling, since a lot of padding is eliminated.
As zend_multibyte_set_functions() gets called after ini settings were populated, we need to reinitialize script_encoding here.
Attach PmaReader pReadr to file pFile (if it is not already attached to that file) and seek it to offset iOff within the file.
But they probably won't help there so do not bother.)  (2) The inner query is the recursive part of a common table expression.
CAPI3REF: Mutex Methods Object  An instance of this structure defines the low-level routines used to allocate and use mutexes.
Call the xFindFunction method on the virtual table implementation to see if the implementation wants to overload this function
Commands and events are passed back and forth between the main thread and the run loop thread using two lockless linked lists.
Copy a value currently stored in a memory  cell of the calling (parent) frame to cell P2 in the current frames  address space.
Do not allow backup if the destination database is in WAL mode and the page sizes are different between source and destination
EVIDENCE-OF: R-05119-02637 The 4-byte big-endian integer at offset 36 stores stores the total number of pages on the freelist.
EVIDENCE-OF: R-31624-24737 RTRIM is like BINARY except that extra spaces at the end of either string do not change the result.
Except, if the delta string is malformed or intended for use with a source file other than zSrc, then this routine returns -1.
Except, if the other Btree object has the read-uncommitted flag set, then it is OK for the other object to have a read cursor.
For a single, positive character, get the value into mcbuffer, and then we can handle this with the normal one-character code.
For an INSERT, the pkChng boolean indicates whether or not the rowid was explicitly specified as part of the INSERT statement.
For example, an application that does not care about crash recovery or rollback might make the open of a journal file a no-op.
For text forms, the host parameter index is found by scanning the prepared statement for the corresponding OP_Variable opcode.
For the entry that cursor pCur is point to, return as many bytes of the key or data as are available on the local b-tree page.
HOWMANY specifies the maximum offset libmagic will look at this is currently hardcoded in the libmagic source but not exported
If bCommit is zero, this loop runs exactly once and page pLastPg is swapped with the first free page pulled off the free list.
If defined, the "winIoerrCanRetry2" macro must exhibit external semantics identical to those of the "winIoerrCanRetry1" macro.
If it is, then ask the code in where.c to attempt to sort results as if there was an "ORDER ON x" or "ORDER ON x DESC" clause.
If the SQL statement does not currently point to a valid row, or if the column index is out of range, the result is undefined.
If the size of the content area is extended, ppData is updated to point to the new start of the content area before returning.
If the source-list item passed as an argument was augmented with an INDEXED BY clause, then try to locate the specified index.
If the table being dropped is the table with the largest root-page number in the database, put the root page on the free list.
If this is an EXISTS, write an integer 0 (not exists) or 1 (exists) into a memory cell and record that memory cell in iColumn.
If this is an INSERT on a view with an INSTEAD OF INSERT trigger, do not attempt any conversions before assembling the record.
If this scan uses an index, make VDBE code substitutions to read data from the index instead of from the table where possible.
If triggers are not supported by this compile then the statement machine used to detect the end of a statement is much simpler
If we have HOWMANY bytes, it indicates that the data might have been truncated, probably even before this function was called.
In order to facilitate testing on a WinNT system, the test fixture can manually set this value to 1 to emulate Win98 behavior.
Initialize the iterator object indicated by the final parameter to  iterate through coalesced phrase instances in column iCol.
Instead of a lock on the table/index rooted at page iRoot, the caller may hold a write-lock on the schema table (root page 1).
Instead, it assumes a hot-journal exists and obtains an EXCLUSIVE lock on the database file before attempting to roll it back.
It might just as well be a procedure (returning void) but we continue to return an integer result code for historical reasons.
It then calls the output subroutine and resets the aggregate accumulator registers in preparation for the next GROUP BY batch.
NB: nData can only be less than nDim*2+3 if the rtree is mis-declared with "column" that are interpreted as table constraints.
New data is spilled to a new interior node at the same height when the current node exceeds INTERIOR_MAX bytes (default 2048).
On systems with ample stack space and that support alloca(), make use of alloca() to obtain space for large automatic objects.
On the other hand, a false negative (returning FALSE when the result could be NULL) will likely result in an incorrect answer.
Or, if zState is non-NULL, it must be a path to a database file in which  the RBU extension can store the state of the update.
Otherwise, the next time a read transaction is opened the cache will be flushed (as the change-counter values will not match).
Otherwise, this function assumes that an "IS NOT NULL" term has a likelihood of 0.50, and any other term a likelihood of 0.25.
P1 is a 32-bit bitmask indicating whether or not each argument to the  function was determined to be constant at compile time.
POSIX.1, 7.x tty functions, TODO POSIX.1, 8.x interactions with other C language functions POSIX.1, 9.x system database access
Page paths:  The value of the 'path' column describes the path taken from the  root-node of the b-tree structure to each page.
Parameter nFin is the number of pages that this database would contain were this function called until it returns SQLITE_DONE.
Regardless of whether this is a RELEASE or ROLLBACK, destroy all  savepoints nested inside of the savepoint being operated on.
Retry ftruncate() calls that fail due to EINTR  All calls to ftruncate() within this file should be made through this wrapper.
Return ONEPASS_OFF (0) if an UPDATE or DELETE statement is unable to operate directly on the rowis returned by a WHERE clause.
Return a pointer to a human readable string in a static buffer containing the state of the Pager object passed as an argument.
Return the number of bytes in the nChar character prefix of the buffer, or 0 if there are less than nChar characters in total.
RowSetEntry objects are allocated in large chunks (instances of the following structure) to reduce memory allocation overhead.
Search through the cursors list of Fts5Auxdata objects for one that corresponds to the currently executing auxiliary function.
See the file "license.terms" for information on usage and redistribution of this file, and for a DISCLAIMER OF ALL WARRANTIES.
Sends the first SIGSEGV and lets lldb catch the second one, avoiding a loop that locks up iOS devices requiring a hard reboot.
State variables used for validating that the transaction control methods of the virtual table are called at appropriate times.
Test that a signal handler that uses up stack space does not crash if the signal is delivered to a thread running a goroutine.
The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
The global mutex is used to protect the winLockInfo objects used by this file, all of which may be shared by multiple threads.
The one byte written is an ASCII 'S' character which also happens to be the first byte in the header of every SQLite database.
The only way we can do that is to re-do the match at the same point, with a flag to force SKIP with an argument to be ignored.
The progress handler callback must not do anything that will modify the database connection that invoked the progress handler.
This allows max_acquire to be set and track the PHP code without having a global init routine or external semaphore init code.
This file contains character tables that are used when no external tables are passed to PCRE by the application that calls it.
This function is called by the VDBE to adjust the internal schema used by SQLite when the btree layer moves a table root page.
This function is called when an ICU function called from within the implementation of an SQL scalar function returns an error.
This optimization can save a huge amount of backtracking in patterns with nested unlimited repeats that aren't going to match.
This routine is a no-op except on its very first call for the process, or for the first call after a call to sqlite3_shutdown.
This usually works, but may fail if the wal-index header is corrupt or currently  being modified by another thread or process.
This works better with a C99 compliant vsnprintf, but should work ok with versions that return a -1 if it overflows the buffer
Though they are intended for internal use by SQLite, code that links against SQLite is permitted to use any of these routines.
Thus, detecting the absence of a lookahead is sufficient to determine that there is no unexpected or expected token to report.
Unix passed away at the age of 11 1/2 on September 14, 1996, 12:18 PM PDT, after a two-month bout with cirrhosis of the liver.
Using a new file-control "SQLITE_FCNTL_RBU", a main db rbu_file  object can be marked as the target database of an RBU update.
Variables related to the accumulation of tokens and doclists within the in-memory hash tables before they are flushed to disk.
VdbeSorter.nTask is set to the number of worker threads allowed (see SQLITE_CONFIG_WORKER_THREADS) plus one (the main thread).
WAL mode sets Pager.eState to PAGER_WRITER_LOCKED or CACHEMOD when it has an open transaction, but never to DBMOD or FINISHED.
When recursion is being used, local variables are allocated on the stack and get preserved during recursion in the normal way.
When the number of output rows reaches nRow, that means the listing has finished and sqlite3_step() should return SQLITE_DONE.
WhereLoop p is better if: (1)  p has no more dependencies than pTemplate, and (2)  p has an equal or lower cost than pTemplate
Writers of suspendable-input applications must note that skip_input_data is not granted the right to give a suspension return.
dbHintSize  The dbHintSize variable is used to limit the number of calls made to the VFS xFileControl(FCNTL_SIZE_HINT) method.
if we are cutting, and we've accumulated enough characters, and we haven't see a space for this line, copy and insert a break.
pRHS cannot be NULL because a malloc error would have been detected before now and control would have never reached this point
parameters  : queue pointer, data pointer  returns     : boolean- True_ if successful, False_ if cursor at NULL  comments    :
use a newly define parameter into the do_modify so ldap_mod_add can be used the way it is supposed to be used , Gerrit THomson
(**)  At one point restrictions (4) and (5) defined a subset of DISTINCT sub-queries that were excluded from this optimization.
Advance ecode past the assertion to the start of the first branch, but adjust it so that the general choosing code below works.
Also, if this is a top-level parse (not a trigger), clear the multi-write flag so that the VM does not open a statement journal
Also, the sqlite3.dfltLockMode variable is set so that any subsequently attached databases also use the specified locking mode.
Although the maximum base in general in GMP is 62, mpz_get_str() is explicitly limited to -36 when dealing with negative bases.
An error occurs while attempting to write to the journal or database file in function pagerStress() in order to free up memory.
Analyze the min-heap looking for overlap between cells and/or  freeblocks, and counting the number of untracked bytes in nFrag.
Applications can substitute working mutex routines at start-time using the  sqlite3_config(SQLITE_CONFIG_MUTEX,...)  interface.
As PHP strings have length inside, this function makes not much sense in the context of PHP, to be called as separate function.
Assuming zIn points to the first byte of a UTF-8 character, advance zIn to point to the first byte of the next UTF-8 character.
Before doing this the RBU module takes an EXCLUSIVE lock on the database file, ensuring that there are no other active readers.
Before returning, all pointer-map entries corresponding to pages  that the new child-page now contains pointers to are updated.
But for that to be true, the next byte must contain either whitespace, an open or close parenthesis, a quote character, or EOF.
Callback used by fts5Bm25GetData() to count the number of rows in the table matched by each individual phrase within the query.
Copy to YYRES the contents of YYSTR after stripping away unnecessary quotes and backslashes, so that it's suitable for yyerror.
Each page of the wal-index mapping contains a hash-table made up of an array of HASHTABLE_NSLOT elements of the following type.
FTS4 virtual tables may maintain multiple indexes - one index of all terms in the document set and zero or more prefix indexes.
Few of the cell counts will overflow, and clamping those that do overflow to the maximum value will give close- enough results.
Generate code to skip over the creation and initialization of the transient index on 2nd and subsequent iterations of the loop.
If *pMonth is 13, the SDN represents one of the holidays at the end of the year and pDay will be in the range 1 to 6 inclusive.
If a transient index is required, create it by calling sqlite3BtreeCreateTable() with the BTREE_BLOBKEY flag before opening it.
If cursor P1 refers  to an SQL index, then P3 is the first in an array of P4 registers  that are used as an unpacked index key.
If it can be used, then the value returned is the size of the journal file when it contains rollback data for exactly one page.
If it has not already been allocated, allocate the UnpackedRecord structure that  that function will return to its caller here.
If such a fragment of text cannot be found, the second iteration of the loop attempts to locate a pair of fragments, and so on.
If the "last page" field of the wal-index header snapshot is 0, then no data will be read from the wal under any circumstances.
If the above search did not find a BtLock struct associating Btree p with table iTable, allocate one and link it into the list.
If the cursor was opened expecting an intkey table, the caller should be inserting integer keys with a blob of associated data.
If the main database has not been initialized and/or created when ATTACH is executed, this is done before the ATTACH operation.
If the options ended with ')' this is not the start of a nested group with option changes, so the options change at this level.
If the pBase expression originated in the ON or USING clause of a join, then transfer the appropriate markings over to derived.
If this database is not shareable, or if the client is reading and has the read-uncommitted flag set, then no lock is required.
If this interface is invoked outside the context of an xConnect or xCreate virtual table method then the behavior is undefined.
If this is the case, it is quite safe to close handle h - as it is guaranteed that no posix locks will be released by doing so.
If we are on an architecture with mixed-endian floating  points (ex: ARM7) then swap the lower 4 bytes with the  upper 4 bytes.
If we end up here we didn't find a position for "charset_token", so we need to set it to the start of the yet unextracted data.
If you use this software in a product, an acknowledgment in the product documentation would be appreciated but is not required.
In RBU_STAGE_CAPTURE mode, all xRead() calls on the wal file, and all xWrite() calls on the target database file perform no IO.
In general it's also possible to do it for any CV variable as well, but it would require complex dataflow and/or type analysis.
In no reference was obtained (because the pointer-map was used to obtain the value for *pPgnoNext), then ppPage is set to zero.
In the new version, the original SQL text is retained and the statement is automatically recompiled if an schema change occurs.
In this branch, the RHS of the IN might contain a NULL and the presence of a NULL on the RHS makes a difference in the outcome.
In this case calling Fts3SegReaderPending might segfault, as the data structures used by  fts4aux are not completely populated.
In this case, no work is done on iAbsLevel - fall through to the next iteration of the loop  to start work on some other level.
Initialize PmaReader pReadr to scan through the PMA stored in file pFile starting at offset iStart and ending at offset iEof-1.
It must be harmless to invoke xMutexInit() multiple times within the same process and without intervening calls to xMutexEnd().
Malloc function used by SQLite to obtain space from the buffer configured using sqlite3_config(SQLITE_CONFIG_PAGECACHE) option.
NULL will work for the value for strings and blobs and whatever is in the payloadSize64 variable will work for everything else.
Note: the calls to BtreeKeyFetch() and DataFetch() below assert()  that both the BtShared and database handle mutexes are held.
Opcode: Clear P1 P2 P3  Delete all contents of the database table or index whose root page in the database file is given by P1.
Opcode: DropIndex P1 * * P4 *  Remove the internal (in-memory) data structures that describe the index named P4 in database P1.
Opcode: DropTable P1 * * P4 *  Remove the internal (in-memory) data structures that describe the table named P4 in database P1.
Or, if this is not possible, it may return SQLITE_CONSTRAINT, in which case SQLite falls back to OR ABORT  constraint handling.
Otherwise, when we are doing the actual compile phase, check to see whether this group is one that could match an empty string.
Populate the low-level memory allocation function pointers in sqlite3GlobalConfig.m with pointers to the routines in this file.
Return non-zero if the eponymous virtual table instance exists when this routine returns, and return zero if it does not exist.
SQLite provides the rowid of the row to delete, which can be used to find the leaf on which the entry resides (argument pLeaf).
So if the sort is stable, there is never any reason to compare PK fields and they can be ignored for a small performance boost.
So, the approach used is to take the given day number and round it to the closest molad of Tishri (first new moon of the year).
The callback is invoked by the library in three separate circumstances, identified by the value passed as the fourth parameter.
The following call to PagerSetPagesize() serves to set the value of  Pager.pageSize and to allocate the Pager.pTmpSpace buffer.
The following nCol varints contain the total amount of data stored in all rows of each column of the table, from left to right.
The nDLt column is like nLt except that it contains the  number of distinct entries in the index that are less than the sample.
The next few lines are basically copied from gd2CreateFromFile we change the file size, so don't want to use the code directly.
The only declarations within blocks below are for variables that do not have to be preserved over a recursive call to RMATCH().
The subsequent call to sqlite3ResolveOrderGroupBy() will convert the expression to a copy of the iCol-th result-set expression.
The variable req_caseopt contains either the REQ_CASELESS value or zero, according to the current setting of the caseless flag.
Then attempt to move the cursor to a rowid equal to or laster (in the cursors sort order - ASC or DESC) than the current rowid.
Then the single extracted row (now in the iCurrent table) becomes the content of the recursive-table for a recursive-query run.
There is no way to distinguish between an incorrect zDbName and an SQLITE_ERROR return from the underlying xFileControl method.
These are just some last resort values that might match some Un*x system if building this version of gd separate from graphviz.
These routines are concerned with the time-critical task of mapping input colors to the nearest color in the selected colormap.
This function is called (optionally) at the start of compile or match, to check that a supposed UTF-8 string is actually valid.
This is a magic string that appears at the beginning of every SQLite database in order to identify the file as a real database.
This is because in auto-vacuum mode the backend may need to move another root-page to fill a gap left by the deleted root page.
This is called during initialization to register the fts5_expr() scalar UDF with the SQLite handle passed as the only argument.
This procedure generates VDBE code for a single invocation of either the sqlite_detach() or sqlite_attach() SQL user functions.
This routine makes a (partial) copy of the Table structure for the table being altered and sets Parse.pNewTable to point to it.
This routine updates the pointer map entry for page number 'key' so that it maps to type 'eType' and parent page number 'pgno'.
This source code is licensed under the BSD-style license found in the LICENSE file in the "hack" directory of this source tree.
To achieve the same effect using this new  interface, add the DELETEONCLOSE flag to those specified above for  OpenExclusive().
UnixWare and Netware define shutdown to _shutdown, which causes problems later on when using a structure member named shutdown.
We cannot allow two or more BtShared objects in the same database connection since doing so will lead to problems with locking.
We store the result in the private property string so we can access the result in uncaught exception handlers without memleaks.
We, the developers, have no way to independently verify this, but Frank seems to know what he is talking about so we trust him.
When a database instance goes down, it can leave several bad connections that need to be flushed out before getting a good one.
When columnType() is called on the expression  "(SELECT t1.col)", the correct type is returned (see the TK_SELECT branch below.
When inserting multiple records into an intkey b-tree using a single cursor (as can happen while processing an "INSERT INTO ...
When recursion is not being used, all "local" variables that have to be preserved over calls to RMATCH() are part of a "frame".
findCellPastPtr() does the same except it skips past the initial 4-byte child pointer found on interior pages, if there is one.
if cgi.fix_pathinfo is set to "1" and script cannot be found (404) the sapi_globals.request_info.path_translated is set to NULL
number of rows equal to pRec  Return the index of the sample that is the smallest sample that is greater than or equal to pRec.
or the birth of Jesus Christ, did not come into use until several centuries later when Christianity became a dominant religion.
wait for 10s before exiting with error the child is supposed to send 1 or 0 into the pipe to tell the parent how it goes for it
xSetAuxdata(pFts5, pAux, xDelete)  Save the pointer passed as the second argument as the extension functions  "auxiliary data".
(6) If a master journal file is used, then all writes to the database file are synced prior to the master journal being deleted.
(See the MakeRecord opcode for additional information about the format of the data.)  Extract the P2-th column from this record.
- If none of the src pixels within a sampling region differ, then the output pixel is forced to equal (any of) the source pixel.
A Btree handle  A database connection contains a pointer to an instance of this object for every database file that it has open.
A CellArray object contains a cache of pointers and sizes for a consecutive sequence of cells that might be held multiple pages.
A pointer to this structure is used to communicate information from sqlite3Init and OP_ParseSchema into the sqlite3InitCallback.
A significant reduction is made by putting all the names into a single, large string and then using offsets in the table itself.
All individual term iterators in pPhrase are guaranteed to be valid and pointing to the same rowid when this function is called.
Also obtain sufficient space (in zMasterPtr) to hold the names of master journal files extracted from regular rollback-journals.
Also, given xmlrpc-epi API/architecture, it's likely that we don't have a methodname for the response, so we have to check that.
Apparently it takes more time to parse and run the PRAGMA to turn journalling off than it does to write the journal header file.
But we have found that many systems do not have a working isnan() function so this implementation is provided as an alternative.
But with POWERSAFE_OVERWRITE, the blast radius is zero (that is what POWERSAFE_OVERWRITE means), so we minimize the sector size.
Case 2:     expr IN (exprlist)  For each expression, build an index key from the evaluation and store it in the temporary table.
Concats two affine transforms together, i.e. the result will be the equivalent of doing first the transformation m1 and then m2.
For a co-routine, change all OP_Column references to the table of the co-routine into OP_Copy of result contained in a register.
Free slots in the allocator used to divide up the global page cache buffer provided using the SQLITE_CONFIG_PAGECACHE mechanism.
However if this limit is reached midway through a transaction, a new  segment is created and the hash table cleared immediately.
However, that choice is controversial since technically the underlying file system does not always provide powersafe overwrites.
However, the resulting error message is misleading if the real problem is an empty input file, so we handle that case specially.
If *ppVal is initially NULL then the caller is responsible for  ensuring that the value written into *ppVal is eventually freed.
If a journal file exists, and there is no RESERVED lock on the database file, then it either needs to be played back or deleted.
If an error (i.e. an OOM condition) occurs, return NULL and leave an  error code in the rbu handle passed as the first argument.
If an error occurs, either SQLITE_NOMEM (out-of-memory error) or SQLITE_ERROR (parse error) is returned and *ppExpr is set to 0.
If another thread is already within the mutex, sqlite3_mutex_enter() will block and sqlite3_mutex_try() will return SQLITE_BUSY.
If argument bSkip is non-zero, it is assumed that the caller has already determined that the first fields of the keys are equal.
If compiled with SQLITE_MUTEX_NOOP, then the no-op mutex implementation is used regardless of the run-time threadsafety setting.
If pExpr is a column in a virtual table, then let the virtual table implementation have an opportunity to overload the function.
If parameter bZero is non-zero, then any part of the input list following the end of the output list is zeroed before returning.
If successful, SQLITE_OK is returned and *ppOut set to point to the MergeEngine object at the root of the tree before returning.
If the caller is an UPDATE or DELETE statement that is requesting to use a one-pass algorithm, determine if this is appropriate.
If the code incorrectly assumes that it is the POSIX version that is available, the error message will often be an empty string.
If the expression is not an integer or if it is too big to fit in a signed 32-bit integer, return 0 and leave *pValue unchanged.
If the pSelect argument is not NULL, it means that this routine was called to create a table generated from a  "CREATE TABLE ...
If the phrase is part of a NEAR expression, then only phrase instances that meet the NEAR constraint are included in the counts.
If the return value of sqlite3BtreeGetFilename() is a zero length string, it means the main database is :memory: or a temp file.
If the upper layer is doing a rollback, it is guaranteed that there are no outstanding references to any page other than page 1.
If zNum is too big for a 64-bit integer and is not 9223372036854775808  or if zNum contains any non-numeric text, then return 1.
In shared cache mode, a single Schema object can be shared by multiple Btrees that refer to the same underlying BtShared object.
In this case, use an intkey B-Tree to store the set of IN(...) values instead of the usual (slower) variable length keys B-Tree.
It also specified that there would be exactly 12 months per year and 365.25 days per year with every 4th year being a leap year.
It is not possible for rc to be other than SQLITE_OK if this branch is taken, as pager_wait_on_lock() is a no-op for temp-files.
It is possible that the range of returned leaf nodes does not contain  the specified term or any terms for which it is a prefix.
It is the callers responsibility to arrange for the returned array to be eventually freed using the  vdbeFreeOpArray() function.
Locate a user function given a name, a number of arguments and a flag indicating whether the function prefers UTF-16 over UTF-8.
Locks are added (or upgraded from READ_LOCK to WRITE_LOCK) when a cursor  is opened on the table with root page BtShared.iTable.
Make any required updates to pointer map entries associated with  cells stored on sibling pages following the balance operation.
Make sure we pass back the pointer to the bit vector in the external block, not the internal copy (with flipped integer fields).
Only way this happens is if file is opened with NO_DEFAULT_CONTEXT param, but then something is called which requires a context.
Option to prohibit processing of unassigned codepoints in the input and do not check if the input conforms to STD-3 ASCII rules.
Perl space used to exclude VT, but from Perl 5.18 it is included, which means that Perl space and POSIX space are now identical.
Return 1 for file backed temporary databases, 2 for the Red-Black tree in memory database and 0 to use the compile-time default.
Return 1 if the transition is made and 0 if the WAL is already in exclusive-locking mode - meaning that this routine is a no-op.
Returns the code point in the target charset (whose mapping table was given) or 0 if the unicode code point is not in the table.
Routines called by the parser as the column definition is parsed (i.e. sqlite3AddColumn()) add the new Column data to  the copy.
Special values 1 and 2 for the iSrcLine parameter mean that this particular branch is always taken or never taken, respectively.
TODO: It would be better to have some system for reusing statement handles here, rather than preparing a new one for each query.
The "sqlite3_stmt" structure pointer that is returned by sqlite3_prepare() is really a pointer to an instance of this structure.
The (slower) btreePrevious() helper routine is called when it is necessary to move to a different page or to restore the cursor.
The MAX_PATH macro is in characters, so we allocate 4 bytes per character assuming worst-case of 4-bytes-per-character for UTF8.
The SQLite core never uses these routines except inside an assert() and applications are advised to follow the lead of the core.
The checkProfileCallback(DB,P) macro checks to see if a profile callback is needed, and it invokes the callback if it is needed.
The database size is not available from the WAL sub-system if the log file is empty or contains no valid committed transactions.
The first argument is a pointer to the pager structure, the second  the error-code about to be returned by a pager API function.
The first pointer (the memory pointer) must be aligned to an 8-byte boundary or subsequent behavior of SQLite will be undefined.
The first register (the one that regNewData points to) will contain the new rowid, or NULL in the case of a WITHOUT ROWID table.
The following macros define the the default file format for new databases and the maximum file format that the library can read.
The memory size function can always be overridden manually by defining the macro SQLITE_MALLOCSIZE to the desired function name.
The min leaf payload fraction is like the min embedded payload fraction except that it applies to leaf nodes in a LEAFDATA tree.
The original code used just to take the least significant 8 bits of octal numbers (I think this is what early Perls used to do).
The pFirst token is the first token in the sequence of tokens that describe the type of the column currently under construction.
The set of system calls that can be overridden varies from one VFS to another, and from one version of the same VFS to the next.
The trick here is that any conflict on the rowid value must be detected before any  modifications are made to the database file.
The upper 16 bits are the index of the first byte of a range and the lower 16 bits are the index of the last byte of that range.
The vfsFlags parameter is a bitmask to pass to the flags parameter of the xOpen() method of the supplied VFS when opening files.
There are three versions of this macro, one each for little-endian and big-endian processors and a third generic implementation.
There is no point storing per-file entries as it would not be possible to detect added / deleted entries between separate files.
This allows a schema that contains virtual tables to be loaded before the required virtual table implementations are registered.
This block sets stack variable iPg to the leaf page number that may contain term (pTerm/nTerm), if it is present in the segment.
This database connection handle may then be used by the virtual table implementation to access real tables  within the database.
This function creates the second imposter table used when writing to a table b-tree where the table has an external primary key.
This function performs the printf() style substitutions and executes the result as an SQL statement on the RBU handles database.
This little application will list the DLL dependencies for a PE module to it's stdout for use by distro/installer building tools
This loop is needed because ap_get_brigade() can return us partial data which would cause premature termination of request read.
This product includes software developed by the Apache Group for use in the Apache HTTP server project (http://www.apache.org/).
This would probably be much more efficient than the implementation currently in gd.c if the errors in the output were corrected.
Update the 'idx' values of the remaining segments in the level so that the idx values are a contiguous sequence starting from 0.
VALID RANGE  Although this software can handle dates all the way back to the year 1 (3761 B.C.), such use may not be meaningful.
We house it in a separate routine from sqlite3_log() to avoid using stack space on small-stack systems when logging is disabled.
We want the backtrace to look as if the generator function was called from whatever method we are current running (e.g. next()).
We'll just assume that everything is Windows NT unless the programmer explicitly says otherwise by setting SQLITE_OS_WINNT to 0.
When compiled as part of the library, the store is obtained via PUBL(malloc)(), but when compiled inside dftables, use malloc().
When the constructor gets called the object is already created by the engine, so we must only call 'additional' initializations.
Writing separate code for cased/caseless versions makes it go faster, as does using an autoincrement and backing off on a match.
accommodate a string that needs to be fully quoted bind placeholders are at least 2 characters, so the accommodate their own "'s
always propagate the error code back up to the dbh, so that we can catch the error information when execute is called via query.
if php dies (no chance to run RSHUTDOWN) during execution it has no chance to DEALLOCATE the prepared statements it has created.
sqlite3_test_control(BENIGN_MALLOC_HOOKS, xBegin, xEnd)  Register hooks to call to indicate which malloc() failures  are benign.
this can happen if you use a connection pooling software line pgpool which doesn't close the db-connection once php disconnects.
- If you supply a mixture of handles and sockets, the system will interleave calls between select() and WaitForMultipleObjects().
A DISTINCT list is redundant if any subset of the columns in the DISTINCT list are collectively unique and individually non-null.
Additionally, if SQLITE_DEBUG is defined, an instance of the following structure is used to record the current transaction state.
And if that is the case, there is no point in having more than a few dozen values in any of the other situations described above.
Applications that use SQLite mutexes should use only the dynamic mutexes returned by SQLITE_MUTEX_FAST or SQLITE_MUTEX_RECURSIVE.
Assuming no error occurs, *pbMax is set to 1 if iAbsLevel is indeed the largest level, or 0 otherwise, and SQLITE_OK is returned.
Begin by rolling back records from the main journal starting at PagerSavepoint.iOffset and continuing to the next journal header.
But the race is benign since with WAL_RETRY this routine will be called again and will probably be right on the second iteration.
CURSOR_REQUIRESEEK: The table that this cursor was opened on still exists, but has been  modified since the cursor was last used.
Column definitions created by an ALTER TABLE command may only have  literal default values specified: a number, null or a string.
Compare this key value against the index  that P1 is currently pointing to, ignoring the PRIMARY KEY or ROWID  fields at the end.
Create the homogeneous session pool - We have different session pools for every different username, password, charset and dbname.
Except, do not disable the term if it controls a LEFT OUTER JOIN and it did not originate in the ON or USING clause of that join.
Failing to get the memory needed to hold the sub-bitmap is the only that can go wrong with an insert, assuming p and i are valid.
Figure out how much space is required for each journal file-handle (there are two of them, the main journal and the sub-journal).
Flattening is only attempted if all of the following are true:  (1)  The subquery and the outer query do not both use aggregates.
For a recursion/subroutine call, if its end has been reached, which implies a backward reference subroutine call, we can scan it.
For example, if pPhrase refers to the "def ghi" phrase, then *paPoslist points to the position list associated with phrase "abc".
Foreign key processing is required if the  table in question is either the child or parent table for any  foreign key constraint.
Handle the case of a single charater - either with no UTF support, or with UTF disabled, or for a single character UTF character.
However such a page may be rolled back as a result of an internal error resulting in an automatic call to sqlite3PagerRollback().
If *piPartIdxLabel is not NULL, fill it in with a label and jump to that label if pIdx is a partial index that should be skipped.
If SUBSTR_COMPATIBILITY is defined then substr(X,0,N) work the same as as substr(X,1,N) - it returns the first N characters of X.
If a journal file does not contain a master-journal pointer, it is finalized by overwriting the first journal header with zeroes.
If a master journal file name is present at the end of the journal file, then it is copied into the buffer pointed to by zMaster.
If an ACCEPT was previously encountered, use the length that was in force at that time, and pass back the shortest ACCEPT length.
If an error (e.g. an OOM condition) occurs within this function, an the auxiliary data is set to NULL and an error code returned.
If an expression is an integer literal that fits in a signed 32-bit integer, then the EP_IntValue flag will have already been set
If it is the year following a leap year and the molad occurs on Monday at or after 9:32:43 and 1/3 sec, Tishri 1 must be delayed.
If memory status is enabled, then the malloc.c wrapper will already hold the STATIC_MEM mutex when the routines here are invoked.
If no error occurs, *paOut is set to point at an sqlite3_malloc'd buffer containing the output doclist and SQLITE_OK is returned.
If the SPILLFLAG_NOSYNC bit is set, writing to the database from pagerStress() is permitted, but syncing the journal file is not.
If the SQLITE_TRACE_SIZE_LIMIT macro is defined to an integer, then then long strings and blobs are truncated to that many bytes.
If the new Btree uses a sharable pBtShared, then link the new Btree into the list of all sharable Btrees for the same connection.
If the open statement-transaction is not closed here, then the user may step another VM that opens its own statement transaction.
If the table has a virtual root page, then the cursor is moved to point to the virtual root page instead of the actual root page.
If this is a delete operation to remove a row from a table b-tree, invalidate any incrblob cursors open on the row being deleted.
If tracing is enabled (by the sqlite3_trace()) interface, then the UTF-8 string contained in P4 is emitted on the trace callback.
If we end up with a forward reference, first check that the bracket does occur later so we can give the error (and position) now.
If we hit ALT or KET, it means we haven't found anything mandatory in this branch, though we might have found something optional.
It is not safe to allow the reader to continue here if frames may have been appended to the log before READ_LOCK(0) was obtained.
Malloc may fail when setting the page-size, as there is an internal buffer that the pager module resizes using sqlite3_realloc().
Maximum length value to check against when making sure that the integer that holds the compiled pattern length does not overflow.
Note that it is not safe to retry close() after EINTR since the file descriptor might have already been reused by another thread.
Notes On Invalid UTF-8:  This routine never allows a 7-bit character (0x00 through 0x7f) to be encoded as a multi-byte character.
Now that pcre_maketables is a function visible to the outside world, we make use of its code from here in order to be consistent.
On the initial downward pass, only condition (1) above needs to be tested because (2) will always be true from the previous step.
Once the lock has been upgraded and, if necessary, the file opened, the pages are written out to the database file in list order.
Pacify compilers like GCC when the user code never invokes YYERROR and the label yyerrorlab therefore never appears in user code.
Process the remaining bytes in the internal buffer and the usual prolog according to the standard and write the result to RESBUF.
Put all the names into a single string, in order to reduce the number of relocations when a shared library is dynamically linked.
Random numbers are used by some of the database backends in order to generate random integer keys for tables or random filenames.
Refer to the comments below and the header comment attached to  the implementation of each function in log.c for further details.
So the mimimum allowable IDF is (1e-6) - roughly the same as a term that appears in just over half of set of 5,000,000 documents.
So the unixInodeInfo object contains a pointer to this unixShmNode object and the unixShmNode object is created only when needed.
TODO: unlink current from the global linked list, and replace it it with the new context, protected by mutex where/if appropriate
Tell the code in notify.c that the connection no longer holds any locks and does not require any further unlock-notify callbacks.
The "pnLargest" argument, if non-zero, will be used to return the size of the largest committed free block in the heap, in bytes.
The PGHDR_DIRTY bit is set above when the page was added to the dirty-list and before writing the page into the rollback journal.
The Trigger structure or any of its sub-components may be allocated from the lookaside buffer belonging to database handle dbMem.
The argument is a pointer to a value of type sqlite3_int64 that is an advisory maximum number of bytes in the file to memory map.
The array of interior nodes that are parents of the leaf nodes start at block (start_block + (1 + end_block - start_block) / 16).
The calling function must ensure that p is a valid Bitvec object and that the value for "i" is within range of the Bitvec object.
The following while-loop moves pEnd to point to the first byte that is not  immediately preceded by a byte with the 0x80 bit set.
The implementation plan is to implement the two coroutines and seven subroutines first, then put the control logic at the bottom.
The level of the new segment is equal to the numerically greatest segment level currently present in the database for this index.
The mutex associated with the source database BtShared structure will always  be held when either of these functions are invoked.
The parser calls this routine when it sees the first token of an argument to the module name in a CREATE VIRTUAL TABLE statement.
The script cannot reasonably know the size of the message body after compression, so it's best do disable compression altogether.
The second form sets both the current page cache size value and the persistent page cache size value stored in the database file.
The sqlite3ValueBytes() routine returns the number of bytes in the sqlite3_value object assuming that it uses the encoding "enc".
The test case is inserting 1000 rows into a table  with no indexes using a single prepared INSERT statement, bind()  and reset().
The third and fourth entries are a general and a particular category, respectively, that include one or more relevant characters.
The value returned includes space to create a copy of the Expr struct itself and the buffer referred to by Expr.u.zToken, if any.
The xMalloc, xRealloc, and xFree methods must work like the malloc(), realloc() and free() functions from the standard C library.
There is only one exported symbol in this file - the function sqlite3RegisterDateTimeFunctions() found at the bottom of the file.
There may be up to 65535 such values, which is too large to put on the stack, but using malloc for small numbers seems expensive.
These integers will be replaced by copies of the corresponding result set expressions by the call to resolveOrderGroupBy() below.
These types are mentioned as array types in the manual, but I wouldn't know how to create an array field with any of these types.
This checks any of the "extra" bytes allocated due to rounding up to an 8 byte boundary to ensure  they haven't been overwritten.
This exercises the locking code and gives more opportunity for asserts(sqlite3_mutex_held()) statements to find locking problems.
This function attempts to parse the query expression and create a tree of Fts3Expr structures representing the parsed expression.
This function returns a pointer to a new colset object containing the contents of (p) with new value column number iCol appended.
This function tests if the current row contains instances of each phrase sufficiently close together to meet the NEAR constraint.
This structure is passed around through all the sanity checking routines in order to keep track of some global state information.
This variable has file scope during normal builds, but the test harness needs to access it so we make it global for  test builds.
Triggers are handled separately because a trigger can be created in the temp database that refers to a table in another database.
Unrecognized escapes fall through and are either treated as literal characters (by default), or are faulted if PCRE_EXTRA is set.
Values added after the read transaction was opened may have been written incorrectly - i.e. these slots may contain garbage data.
Walk the expression tree pExpr and increase the aggregate function depth (the Expr.op2 field) by N on every TK_AGG_FUNCTION node.
We can compute an upper bound for the size of the result in advance and so we can prepare the buffer we pass to `sha256_crypt_r'.
We can compute an upper bound for the size of the result in advance and so we can prepare the buffer we pass to `sha512_crypt_r'.
We need to rollback the statement transaction, if there is one, or the complete transaction if there is no statement transaction.
When this is called, the master journal should already have been created, populated with this journal pointer and synced to disk.
__set handler is called with two arguments: property name value to be set it should return whether the call was successful or not
aWalData must point to an array of WAL_SAVEPOINT_NDATA u32 values that has been previously populated by a call to WalSavepoint().
default behaviour is different, as 'is_a' used to be used to test mixed return values and there is no easy way to deprecate this.
iTermLeafOffset may be equal to szLeaf if the term is the last thing on the page - i.e. the first rowid is on the following page.
make sure that the PGSQL_CONNECT_FORCE_NEW bit is not part of the hash so that subsequent connections can re-use this connection.
quick check to see if the string might be there I realize that 'offset' is 'grapheme count offset' but will work in spite of that
sqlite3_tokenizer is used to define a particular tokenizer, perhaps including customization information defined at creation time.
sqlite3_value_  ******************************* The following routines extract information from a Mem or sqlite3_value structure.
sqlite3_vfs methods ****************************  This division contains the implementation of methods on the sqlite3_vfs object.
"Expanding" means to do the following:  (1)  Make sure VDBE cursor numbers have been assigned to every element of the FROM clause.
"copyKey" is true if the hash table should make its own private copy of keys and false if it should just use the supplied pointer.
ALGORITHMS  The calculations are based on two different cycles: a 4 year cycle of leap years and a 5 month cycle of month lengths.
Abort if the requested allocation size is larger than the largest power of two that we can represent using 32-bit signed integers.
AggInfo.pGroupBy and AggInfo.aFunc.pExpr point to fields within the original Select structure that describes the SELECT statement.
An instance of the following object is used to record information about the ORDER BY (or GROUP BY) clause of query is being coded.
An instance of the following structure keeps track of a mapping between VDBE cursor numbers and bits of the bitmasks in WhereTerm.
As more of the CREATE TABLE statement is parsed, additional action routines will be called to add more information to this record.
Behavior when the string is invalid or out of range is not well defined, but will probably result in Jan 1, 1970 (0) being passed.
But if (due to a coding error elsewhere in the system) it does get called, just return the same error code without doing anything.
COMMIT, SKIP, PRUNE, and an uncaptured THEN cause the whole assertion to fail to match, without considering any more alternatives.
Character class where all the information is in a bit map: set the bits and either carry on or not, according to the repeat count.
Check whether we're running in a PHP context, since the entity loader we've defined is an application level (true global) setting.
Currently, SQLite never calls the LockFileEx function without wanting the call to fail immediately if the lock cannot be obtained.
Except for some memory allocation errors,  an error message held in memory obtained from malloc is returned if *pnErr is non-zero.
For example, if a malloc fails while resizing a hash table, this  is completely recoverable simply by not carrying out the resize.
Hence, the current size of the soft heap limit can be determined by invoking sqlite3_soft_heap_limit64() with a negative argument.
However, in Perl's warning mode, a warning is given, so PCRE now faults it as it is almost certainly a mistake on the user's part.
IMP: R-04922-24076 The sqlite_compileoption_get() SQL function is a wrapper around the sqlite3_compileoption_get() C/C++ function.
If P1 does contain a record with rowid P3 then  leave the cursor pointing at that record and fall through to the next instruction.
If a column is marked as 'hidden' (currently only possible for virtual tables), do not include it in the expanded result-set list.
If a memory allocation error has occurred prior to the calling of this routine, then a pointer to a dummy VdbeOp will be returned.
If a value can be extracted, the affinity passed as the 5th argument is applied to it before it is copied into the UnpackedRecord.
If an error was generated during comilation PHP will compile such scripts recursivly, but some CG() variables may be inconsistent.
If eOp is true, then sqlite3PagerWrite() is called on pDbPage and nByte bytes of data are copied from the buffer pBuf to pPayload.
If one can be found, then jump over the entire DELETE if there are no outstanding deferred constraints when this statement is run.
If page iPage has already been  copied into the destination database, then the data written to the destination is now invalidated.
If successful, SQLITE_OK is returned and subsequent calls to sqlite3_blob_read() or sqlite3_blob_write() access the specified row.
If the  database page-size is so large that more than RTREE_MAXCELLS entries  would fit in a single node, use a smaller node-size.
If the allocation fails, call sqlite3_result_error_nomem() to notify the database handle that malloc() has failed and return NULL.
If the child table is the same as the parent table, then add terms to the WHERE clause that prevent this entry from being scanned.
If the file was successfully opened for read/write access, choose a default page size in case we have to create the database file.
If the number of virtual machine operations exceeds 2147483647 then the value returned by this statement status code is undefined.
If the pager is in full-sync mode, the journal file descriptor is advanced to the next sector boundary before anything is written.
If the stream buffer contains more data than the caller requested, we can also avoid that costly step and simply return that data.
If the subjInMemory argument is non-zero, then any sub-journal opened within this transaction will be opened as an in-memory file.
If this is a conditional bracket, check that there are no more than two branches in the group, or just one if it's a DEFINE group.
In this situation, the decompressor will return to its caller (with an indication of the number of scanlines it has read, if any).
Instead it creates "imposter" tables using the SQLITE_TESTCTRL_IMPOSTER interface that it uses to update each b-tree individually.
It does not explicitly say so, but this implies that it overrides locks set by the same process using a different file descriptor.
It is better to execute the op on an index, as indexes are almost always spread across less pages than their corresponding tables.
It's done like this so that the start of the bracket has a zero offset until it is closed, making it possible to detect recursion.
Let's go back and see if there are further encoded words or bare content, and hope they might actually have a valid character set.
Likewise, registering a callback using sqlite3_wal_hook() disables the automatic checkpoint mechanism configured by this function.
Meanwhile, the second reader using K1 will see additional values that were inserted later, which is exactly what reader two wants.
Note that only run-time accessed data need to be cleaned up, pre-defined data can not contain objects and thus are not probelmatic
Once the RBU update is finished, the RBU extension does not  automatically remove any zState database file, even if it created it.
Opcode: SetCookie P1 P2 P3 * *  Write the content of register P3 (interpreted as an integer) into cookie number P2 of database P1.
Otherwise, it arranges things so that the next call to sqlite3rbu_step() continues on from where the previous rbu handle left off.
P5 is the error actions (OE_Replace, OE_Fail, OE_Ignore, etc) to apply in the case of a constraint failure on an insert or update.
Page number PAGER_MJ_PGNO is never used in an SQLite database (it is reserved for working around a windows/posix incompatibility).
Return a pointer to a TriggerPrg object containing the sub-program for trigger pTrigger with default ON CONFLICT algorithm orconf.
SIZE    DESCRIPTION 4     Page number of next overflow page Data  Freelist pages come in two subtypes: trunk pages and leaf pages.
SQLite still works when you do this, but concurrency is reduced since only a single process can be reading the database at a time.
Saved stack frames: Atomic blocks and asserts require reloading the values of private data when the backtrack mechanism performed.
Skip incrementing the color count so that the dither / matching phase won't use it on pixels that shouldn't have been transparent.
Test all UNIQUE constraints by creating entries for each UNIQUE index and making sure that duplicate entries do not already exist.
The BTREE_BULKLOAD flag is set on index cursors when the index is going to be filled with content that is already in sorted order.
The caller is responsible for ensuring that the input buffer remains valid until the cursor is closed (using the xClose() method).
The collating sequence might be determined by a COLLATE operator or by the presence of a column with a defined collating sequence.
The first argument is a pointer to a structure obtained from "sqlite3ParserAlloc" which describes the current state of the parser.
The following macros mimic the standard library functions toupper(), isspace(), isalnum(), isdigit() and isxdigit(), respectively.
The following three macros, FUNCTION(), LIKEFUNC() and AGGREGATE() are used to create the initializers for the FuncDef structures.
The increment is used to increase the schema cookie so that other connections to the same database will know to reread the schema.
The variable is stored at the numeric value of the pointer + 1, which cannot be the location of another zend_refcounted structure.
They allow macros like PCRE_MAJOR to be defined without quotes, which is convenient for user programs that want to test its value.
This can be useful, for example, to ensure that "external content" FTS4 tables are updated before their underlying content tables.
This causes UnlockAndRollback to unlock the database and close the journal file without attempting to roll it back or finalize it.
This field of the structure is documented as private, and sure enough it's gone in the latest libjpeg, replaced by something else.
This function checks if argument pFrom refers to a CTE declared by  a WITH clause on the stack currently maintained by the parser.
This function is called to allocate an array of Fts3Index structures representing the indexes maintained by the current FTS table.
This is Ok, as the b+-tree fanout is usually very large, meaning that the interior of the tree consumes relatively  little memory.
This is useful because it means we can invoke OP_Column to fill in the vdbe cursors type  and offset cache without causing any IO.
This loop terminates either when a readJournalHdr() or  pager_playback_one_page() call returns SQLITE_DONE or an IO error  occurs.
This module contains the external function pcre_version(), which returns a string that identifies the PCRE version that is in use.
This routine is called after all of the trigger actions have been parsed in order to complete the process of building the trigger.
This routine returns a pointer to an sqlite3_pcache_page object if such an object is already in cache, or if a new one is created.
This routine sets the state to CURSOR_FAULT and the error code to errCode for every cursor on any BtShared that pBtree references.
This was either supplied by the user when the table was created, or added later to the table definition by an ALTER TABLE command.
Values accessed by BEFORE triggers are only included in the returned mask if the TRIGGER_BEFORE bit is set in the tr_tm parameter.
We make it a bit less than INT_MAX to allow for adding in group terminating bytes, so that we don't have to check them every time.
We need to store the 'pos' since we'll modify it in the functions we're going to call and which do not support 'pos' as parameter.
We use select rather than sleep because in older versions of glibc the sleep function does some signal fiddling to handle SIGCHLD.
When the     * newline convention is such that CRLF is a valid newline, we must       * advance by two characters rather than one.
code in this file relies on the path being nul terminated, even though this is not required, at least on linux for abstract paths.
f* UTILITY/XMLRPC_Free NAME XMLRPC_Free SYNOPSIS void XMLRPC_Free(void* mem) FUNCTION frees a block of memory allocated by xmlrpc.
if we don't stop an array/iterator yield from, the exception will only reach the generator after the values were all iterated over
logic copied from _php_stream_stat, but we only want to fail if the wrapper supports stat, otherwise, figure it out from the open.
script_path_translated being set is a good indication that we are running in a cgi environment, since it is always null otherwise.
A PGroup is a set  of one or more PCaches that are able to recycle each other's unpinned pages when they are under memory pressure.
A hash search begins with the last index block and moves toward the first index block, looking for entries corresponding to page P.
A shared-cache write-lock is not required to write to the new table, as a schema-lock must have already been obtained to create it.
A single step of an incremental checkpoint - frame iWalFrame of the wal file should be copied to page iDbPage of the database file.
Also initialize regReturn to contain the address of the instruction  immediately following the OP_Return at the bottom of the loop.
Because of the FTS3_NODE_PADDING bytes of padding, the following is  safe (no risk of overread) even if the node data is corrupted.
Because this function only inspects interior segment nodes (and never loads leaf nodes into memory), it is not possible to be sure.
By locking a random byte from a range, concurrent SHARED locks may exist even if the locking primitive used is always a write-lock.
EVIDENCE-OF: R-07161-27322 The one-byte integer at offset 7 gives the number of fragmented free bytes within the cell content area.
Except, this version does handle the single byte case that the core version depends on being handled before its function is called.
Executed, but the user hasn't started to fetch This will clean also the metadata, but after the EXECUTE call we will have it again.
External mutex implementations are only required to provide these routines if SQLITE_DEBUG is defined and if NDEBUG is not defined.
Find the closest colormap entry for each cell in the update box, given the list of candidate colors prepared by find_nearby_colors.
For a LEFT OUTER JOIN, generate code that will record the fact that at least one row of the right table has matched the left table.
Generate code that pushes the value of every element of the given expression list into a sequence of registers beginning at target.
If doTruncate is non-zero or the Pager.journalSizeLimit variable is set to 0, then truncate the journal file to zero bytes in size.
If rMayHaveNull is non-zero, that means that the operation is an IN (not a SELECT or EXISTS) and that the RHS might contains NULLs.
If sqlite3.nVdbeExec is 1, then the string contains a copy of zRawSql but with host parameters expanded to  their current bindings.
If the eMode parameter is BTALLOC_EXACT and the nearby page exists anywhere on the free-list, then it is guaranteed to be returned.
If the initial value of register P1 is less than 1, then the value is unchanged and control passes through to the next instruction.
If the number of captured subpatterns on this run is less than the total possible number, pad the result arrays with empty strings.
If the previous chunk is checked out, then u.hdr.prevSize can be part of the data for that chunk and should not be read or written.
If the transaction is committed or rolled back while  in WRITER_LOCKED state, all that is required is to unlock the database  file.
If the two values are of different types, then numbers are considered less than strings and strings are considered less than blobs.
If this happens, then all  subsequent calls to sqlite3_blob_xxx() functions (except blob_close())  immediately return SQLITE_ABORT.
If this is a capturing subpattern, add to the chain of open capturing items so that we can detect them if (*ACCEPT) is encountered.
If this is an AUTOINCREMENT table, look up the sequence number in the sqlite_sequence table and store it in memory cell regAutoinc.
If we are in a negated POSIX class within a non-negated overall class, characters with code points greater than 255 must all match.
If we created a new conch file (not just updated the contents of a  valid conch file), try to match the permissions of the database
In all cases new databases created using the ATTACH command are created to use the same default text encoding as the main database.
In the places where this routine is used, it does not hurt to get an extra 2 - that just might result in some slightly slower code.
In this case b-tree root pages may be moved or deleted from the database altogether, making it unsafe for read cursors to continue.
It ensures that the result currently stored in *pRes is the correct result of comparing the current positions of the two iterators.
It is known that the final (nSegment-nSuspect) members are already in sorted order (according to the comparison function provided).
Locate the colormap entries close enough to an update box to be candidates for the nearest entry to some cell(s) in the update box.
Looking at the OS X headers, the conflicting typehints are gated with these definitions, so this was the easiest workaround for me.
Macros to determine whether the machine is big or little endian, and whether or not that determination is run-time or compile-time.
Numbers are always smaller than strings int this function as it anyway doesn't make much sense to compare two different data types.
On a 2's complement machine, negating the most negative integer results in a number that cannot be represented as a signed integer.
Once the memory available to (2) or (3) is exhausted, subsequent allocations fail over to the general-purpose memory allocator (1).
One format that is acceptable to both is Weekday, DD-Mon-YY HH:MM:SS TIMEZONE TIMEZONE can be any timezone name (3 or more letters)
One of our parent classes are the same as the scope, and it contains a private function with the same name that has the same scope.
Opcode: DropTrigger P1 * * P4 *  Remove the internal (in-memory) data structures that describe the trigger named P4 in database P1.
Otherwise, the original item is left in place and, if the maximum is greater than 1, we use OP_UPTO with one less than the maximum.
Parameter zName points to a nul-terminated buffer containing the name of a database ("main", "temp" or the name of an attached db).
Parameters: m1 - The first affine transformation m2 - The first affine transformation  Returns: GD_SUCCESS on success or GD_FAILURE
RESULT void NOTES Data is set/stored/retrieved as passed in, but is base64 encoded for XML transfer, and decoded on the other side.
RFC850, Section 2.1.4: http://www.ietf.org/rfc/rfc850.txt Format must be acceptable both to the ARPANET and to the getdate routine.
Returns NULL if hash is full Returns pointer the actual hash entry on success key needs to be already allocated as it is not copied
SEE ALSO XMLRPC_GetValueDateTime_ISO8601 () XMLRPC_CreateValueDateTime_ISO8601 () XMLRPC_CreateValueDateTime () XMLRPC_VALUE SOURCE
SKIP passes back the next starting point explicitly, but if it is no greater than the match we have just done, treat it as NOMATCH.
Skip this step if pTab is really a view (in which case the only effect of the DELETE statement is to fire the INSTEAD OF triggers).
Sometimes a virus scanner or indexing program will open a journal file shortly after it is created in order to do whatever it does.
Test calling a Go function to raise SIGIO on a C thread with an alternate signal stack when there is a Go signal handler for SIGIO.
The "step_list" member points to the first element of a linked list containing the SQL statements specified as the trigger program.
The WAL header is 32 bytes in size and consists of the following eight big-endian 32-bit unsigned integer values:  0: Magic number.
The first entry in the second index block in the WAL file corresponds to the (HASHTABLE_NPAGE_ONE+1)th frame in the log, and so on.
The first parameter, pTokenizer, is passed the fts3 tokenizer module to use to normalize query tokens while parsing the expression.
The following strings, "none", "full" and "incremental" are  acceptable, as are their numeric equivalents: 0, 1 and 2 respectively.
The following three forward declarations are for functions declared in these files used to retrieve the respective implementations.
The root node is the top node of the segment's tree after encoding the entire segment, restricted to ROOT_MAX bytes (default 1024).
The sqlite3_prepare() and sqlite3_prepare_v2() interfaces use UTF-8, and sqlite3_prepare16() and sqlite3_prepare16_v2() use UTF-16.
The use of a bitmask encoding for the operator allows us to search quickly for terms that match any of several different operators.
These two statements stop the compiler for warning about possibly unset variables caused by the jump to HANDLE_NUMERICAL_RECURSION.
This branch runs if the record-size field of the cell is a single byte varint and the record fits entirely on the main b-tree page.
This file contains code used to insert the values of host parameters (aka "wildcards") into the SQL text output by sqlite3_trace().
This function is invoked once for each page that has already been  written into the log file when a WAL transaction is rolled back.
This is sufficient to allow us to identify EBCDIC text and to distinguish between old-style and internationalized examples of text.
This loop scans all that code looking for opcodes that reference the table and converts them into opcodes that reference the index.
This routine constructs a binary expression node out of two ExprSpan objects and uses the result to populate a new ExprSpan object.
This routine is called after a single SQL statement has been parsed and a VDBE program to execute that statement has been prepared.
This source file is organized into divisions where the logic for various subfunctions is contained within the appropriate division.
This structure encapsulates a user-function destructor callback (as configured using create_function_v2()) and a reference counter.
Unless an error occurs, the following loop runs one iteration for each page in the B-Tree structure (not including overflow pages).
Use the separate sqlite3BtreeCursorRestore() routine to restore a cursor back to where it ought to be if this routine returns true.
VALID RANGE  These routines only convert dates in years 1 through 14 (Gregorian dates 22 September 1792 through 22 September 1806).
We do this unconditionally so that out-of-scope pconnects are now consistent with oci_close and out-of-scope new connect semantics.
When the virtual-table mechanism stabilizes, we will declare the interface fixed, support it indefinitely, and remove this comment.
When this function is called, *ppRec must either point to an object allocated by an earlier call to this function, or must be NULL.
if the file doesn't exist, try to extract PATH_INFO out of it by stat'ing back through the '/' this fixes url's like /info.php/test
pTemplate is better than p if: (1)  pTemplate has no more dependences than p, and (2)  pTemplate has an equal or lower cost than p.
readwbmp ------- Actually reads the WBMP format from an open file descriptor It goes along by returning a pointer to a WBMP struct.
return a relative file path if for any reason we cannot cannot getcwd() and the requested, relatively referenced file is accessible
tell ODBC to put it straight into our buffer, but only if it isn't "long" data, and only if we haven't already bound a long column.
A node header is a single 0x00 byte for a leaf node, or a height varint followed by the left-hand-child varint for an internal node.
As Firebird and InterBase are developed independently, functionality might be different between the two branches in future versions.
Assigning to YYVAL unconditionally makes the parser a bit smaller, and it avoids a GCC warning that YYVAL may be used uninitialized.
Check for the following errors:  Too many attached databases, Transaction currently open Specified database name already being used.
Clear the buffer for the intermediate result so that people attaching to processes or reading core dumps cannot get any information.
Do not invoke the SELECT callback on p, but do (of course) invoke any expr callbacks and SELECT callbacks that come from subqueries.
During a write-transaction, if pages with page-numbers greater than dbSize are modified in the cache, dbSize is updated accordingly.
EVIDENCE-OF: R-53367-43190 If either argument to this option is negative, then that argument is changed to its compile-time default.
Each WHERE clause subexpression is separated from the others by AND operators, usually, or sometimes subexpressions separated by OR.
Either the call to sqlite3PcacheFetch() returned an error or the pager was already in the error-state when this function was called.
Fill in the terminating state and check for disastrous overflow, but if debugging, leave the test till after things are printed out.
GetDiskFreeSpaceEx is only available in NT and Win95 post-OSR2, so we have to jump through some hoops to see if the function exists.
However, if the number of possible capturing brackets is small, use a block of store on the stack, to reduce the use of malloc/free.
IMP: R-39564-36305 The sqlite_compileoption_used() SQL function is a wrapper around the sqlite3_compileoption_used() C/C++ function.
If a transaction is open on the database being checkpointed, this  function returns SQLITE_LOCKED and a checkpoint is not attempted.
If all query phrases seen by fts3BestSnippet() are present in at least one of the nSnippet snippet fragments, break out of the loop.
If an error occurs, *pzErr is set to point an an English language description of the error and an SQLITE_XXX error code is returned.
If either of the sqlite3_blob_open() or sqlite3_blob_reopen() calls above returned SQLITE_ERROR, return SQLITE_CORRUPT_VTAB instead.
If it evaluates to false (or NULL) the sub-vdbe is immediately halted by jumping to the  OP_Halt inserted at the end of the program.
If no move is pending, check to see if the row has been deleted out from under the cursor and if it has, mark the row as a NULL row.
If pBuf is not NULL, it means that memory space has already been allocated and that this routine should not allocate any new memory.
If scope is NULL then the function is global and thus self does not make any sense  - For "parent", use the function scope's parent.
If setting the version fields to 1, do not automatically open the WAL connection, even if the version fields are currently set to 2.
If the callback function returns anything other than SQLITE_OK,  the iteration is abandoned and the error code returned immediately.
If the index uses a collation sequence that is different from the default collation sequence for the column, this index is unusable.
If the overflow page-list cache has been allocated and the entry for the first required overflow page is valid, skip directly to it.
If the start value lies in the current range, then simply set the new end point of the range to the end value passed as a parameter.
If the value passed is SQLITE_TRANSIENT, then the  string is copied into a (possibly existing) buffer managed by the  Mem structure.
If there is just one branch, we must not make use of its firstchar or reqchar, because this is equivalent to an empty second branch.
If this instruction implements a COMMIT and other VMs are writing return an error indicating that the other VMs must complete first.
In  that case the convertToWithoutRowidTable() routine will replace the Noop with a Goto to jump over the VDBE code generated below.
In most cases, we should be able to acquire the lock we want without having to go through the ascending lock procedure that follows.
In this case, the eventual  call to fts3InsertData() (either just below or further on in this function) will return SQLITE_MISMATCH.
It  just sets the internal state of the pager object so that the  truncation will be done when the current transaction is committed.
It returns a pointer to a Trigger structure containing a trigger equivalent to the ON UPDATE or ON DELETE action specified by pFKey.
Many compilers we encounter do not define constants for the minimum and maximum 64-bit integers, or they define them inconsistently.
Other conditions use OP_CREF/OP_DNCREF/OP_RREF/OP_DNRREF, and all need to skip at least 1+IMM2_SIZE bytes at the start of the group.
Otherwise, if minimizing, keep trying the rest of the expression and advancing one matching character if failing, up to the maximum.
Parser parses the tokens and passes the name/value pairs to the callback function which stores them in the configuration hash table.
Previous revisions of the code would do explicit cleanups, but simply running the self-test after hash computation is more reliable.
Removed because this can not be safely done, e.g. in this situation: Object 1 creates object 2 Object 3 holds reference to object 2.
Results: chPtr is filled with the Tcl_UniChar, and the return value is the number of bytes from the UTF-8 string that were consumed.
See http://swift.org/LICENSE.txt for license information See http://swift.org/CONTRIBUTORS.txt for the list of Swift project authors
Since the values are variably sized and can get quite large, they are stored separately from the hashes in a garbage-collected heap.
Sometimes the xfer optimization will only work if the destination table is empty - a factor that can only be determined at run-time.
Text will be wrapped according to the STDOUT terminal width, so paragraphs are flowed using the C stringizing and the CR definition.
The caller must ensure that there are no outstanding references to any pages other than page 1 with a page number greater than pgno.
The default strategy is to create an ephemeral table that contains for each row to be changed:  (A)  The original rowid of that row.
The format is similar to FTS3/4, except that:  all segment b-tree leaf data is stored in fixed size page records  (e.g. 1000 bytes).
The goal of these settings is to pack together groups of small doclists while making it efficient to directly access large doclists.
The implicit assumption here is that if fstat() fails, things are in such bad shape that dropping a lock or two doesn't matter much.
The initialization of pTo can actually fail under fairly obscure circumstances, even though it is a copy of initialized  page pFrom.
The only reason the dbFileSize variable is required is to suppress  unnecessary calls to xTruncate() after committing a transaction.
The p2 value always comes from a prior OP_CreateTable opcode and that opcode will always set the p2 value to 2 or more or else fail.
The purpose of the following assert() is to check that only a single call to balance_quick() is made for each call to this function.
The seed value does not need to contain a lot of randomness since we are not trying to do secure encryption or anything like that...
The system could just by delete the RBU update database and *-oal file and have the device download the update again and start over.
The value returned by this function should always be the same as the (CellInfo.nSize) value found by doing a full parse of the cell.
The values are now limited to be between 0 and 0x0010ffff, no more than 4 bytes long, and the subrange 0xd000 to 0xdfff is excluded.
This also covers the 0 case, since if we start on the weekend, we want to move forward as if we stopped there while going backwards.
This call is Ok even if this savepoint is actually a transaction savepoint (and therefore should not prompt xSavepoint()) callbacks.
This function is called only when doing the real compile, not during the pre-compile that measures the size of the compiled pattern.
This function is used after merging multiple segments into a single large segment to delete the old, now redundant, segment b-trees.
This is important for SQLite because we are not able to use a "," as the decimal point in place of "." as specified by some locales.
This is ok, as the xBestIndex() method leaves the sqlite3_index_constraint.omit flag clear for range constraints on the rowid field.
This module contains some convenience functions for extracting substrings from the subject string after a regex match has succeeded.
This prevents many unnecessary merge/sort operations for the case where single segment b-tree leaf nodes contain more than one term.
This routine checks to see if pE is a simple identifier which corresponds to the AS-name of one of the terms of the expression list.
This routine has either 3 or 6 parameters depending on whether or not the SQLITE_ENABLE_COLUMN_METADATA compile-time option is used.
Under Unix, also make sure that the directory entry for the file has been created by fsync-ing the directory that contains the file.
When virtual tables intend to provide an overloaded function, they should call this routine to make sure the global function exists.
While this module could theoretically support it, sqlite3RowSetNext() is never called after sqlite3RowSetText() for the same RowSet.
flags contains all information about the conflict resolution algorithms specified in the ON DELETE, ON UPDATE and ON INSERT clauses.
iSpecial: If this is a 'special' query (refer to function fts5SpecialMatch()),  then this variable contains the result of the query.
if DOCUMENT_ROOT is set, this is easy, otherwise, we have to play the game of hide and seek to figure out what SCRIPT_NAME should be
insert into TABLE (IDLIST) select insert into TABLE (IDLIST) default values  The IDLIST following the table name is always optional.
set a lower artificial limit on this in the interest of security and resource friendliness 255 arguments should be more than enough.
All positions in the pPhrase position list that are not sufficiently close to a position in the *paPoslist position list are removed.
All such objects are stored in the linked list headed at Parse.pTriggerPrg and deleted once statement compilation has been completed.
An EXCLUSIVE lock, obtained after a PENDING lock is held, is implemented by obtaining a write-lock on the entire 'shared byte range'.
As per the RFC, automatically redirected requests MUST NOT use other methods than GET and HEAD unless it can be confirmed by the user
Because positions are delta-encoded, the value of the previous position is needed in order to compute the value of the next position.
Brackets with fixed upper repeat limits are compiled as a number of copies, with the optional ones preceded by BRAZERO or BRAMINZERO.
CAPI3REF: Memory Allocation Subsystem  The SQLite core uses these three routines for all of its own internal memory allocation needs.
Clearing the P3 column cache as part of this opcode saves us from having to issue a separate NullRow instruction to clear that cache.
Convert the byte order of the data we are looking at While we're here, let's apply the mask operation (unless you have a better idea)
Date/time functions that use 'now', and other functions like sqlite_version() that might change over time cannot be used in an index.
Depending on the SQLite configuration, the database handles and/or the Btree objects may have their own mutexes that require locking.
Despite MSDN has documented it won't to, the length returned by GetFinalPathNameByHandleA includes the length of the null terminator.
Determine whether or not a cursor has moved from the position where it was last placed, or has been invalidated for any other reason.
Do not invoke the select callback on p, but do invoke it on each FROM clause subquery and on any subqueries further down in the tree.
Don't do any authorization checks if the database is initialising or if the parser is being invoked from within sqlite3_declare_vtab.
EVIDENCE-OF: R-38229-40159 If the callback function to sqlite3_exec() returns non-zero, then sqlite3_exec() will return SQLITE_ABORT.
Each call to sqlite3rbu_step() performs a single b-tree operation, so thousands of calls may be required to apply  a complete update.
Eberhard Mattes remarks Tue, 6 Apr 93: Moreover, it reports the type of the (new and very bug ridden) Win Emacs as "OS/2 executable".
Essentially, this structure contains all those fields of the VdbeSorter structure for which each thread requires a separate instance.
For example, if an IO error occurs while performing a rollback,  the contents of the page-cache may be left in an inconsistent state.
For tokenizers with no "unicode" modifier, the set of token characters is the same as the set of ASCII range alphanumeric characters.
I'm leaving it in place for people who can live with the limitations, which I only found out about after I had implemented it anyway.
IMP: R-51513-12026 The last_insert_rowid() SQL function is a wrapper around the sqlite3_last_insert_rowid() C/C++ interface function.
If all terms of the record are not-NULL then a check is done to determine if any row in the P1 index btree has a matching key prefix.
If an application invokes any sqlite3_xxx API functions from within an unlock-notify callback, a crash or deadlock may be the result.
If an exact match is not found, then the cursor is always left pointing at a leaf page which would hold the entry if it were present.
If pBt points to an empty file then convert that empty file into a new empty database by initializing the first page of the database.
If successful, merge all segments in the database (including the new segment, if  there was any data to flush) into a single segment.
If the  operation to finalize the journal file fails, then the code still tries to unlock the database file if not in exclusive mode.
If the SELECT passed as the second argument has an associated WITH  clause, pop it from the stack stored as part of the Parse object.
If the VDBE has be run even partially, then transfer the error code and error message from the VDBE into the main database structure.
If the caller happens to have a pointer to the MemPage object  corresponding to page iPage handy, it may pass it as the second value.
If the subquery is not correlated and if we are not inside of a trigger, then we only need to compute the value of the subquery once.
If the value is a string or blob, then the copy is only a pointer to the original and hence if the original changes so will the copy.
If there are more than SORTER_MAX_MERGE_COUNT PMAs in total when  Rewind() is called, then a hierarchy of incremental-merges is used.
If there is also an OFFSET clause with a positive value, then the first OFFSET outputs are discarded rather than being sent to pDest.
If this is the case, then an entry with a matching TriggerPrg.pTrigger field will be present somewhere in the Parse.pTriggerPrg list.
If we compile with the SQLITE_TEST macro set, then the following block of code will give us the ability to simulate a disk I/O error.
In other words, move all segments being promoted to level -1, setting the "idx" fields as appropriate to keep them in the same order.
In this case  allocate the array used to accumulate the matchinfo data and initialize those elements that are constant for every row.
In this case SQLite runs a "DELETE FROM xxx" on the table being dropped before actually dropping it in order to check FK constraints.
In this way, the initialization of the sqlite3_context object occurs only once, rather than once for each evaluation of the function.
It checks if the existing segment with index value iIdx at absolute level  (iAbsLevel+1) can be appended to by the incremental merge.
It could be that the work of the "thread" is done by the main thread at either the sqlite3ThreadCreate() or sqlite3ThreadJoin() call.
It is best to avoid this because if FTS3 returns any error when  committing a transaction, the whole transaction will be rolled back.
It is helpful to detect this before calling freePage2(), as  freePage2() may zero the page contents if secure-delete mode is enabled.
It is set to true when the change-counter field is updated, which  can only happen if an exclusive lock is held on the database file.
Like sqlite3ExprIfFalse() except that a copy is made of pExpr before code generation, and that copy is deleted after code generation.
Otherwise, the caller should call Tcl_UtfCharComplete() before calling this routine to ensure that enough bytes remain in the string.
Requesting the lock proxy does not immediately take the conch, it is only taken when the first request to lock database file is made.
Return SQLITE_LOCKED if this or any other connection has an open  transaction on the shared-cache the argument Btree is connected to.
Setting sqlite3GlobalConfig.m to all zeros will cause malloc to revert to its default implementation when sqlite3_initialize() is run
Sorting is accomplished by writing records into a sorting index, then rewinding that index and playing it back from beginning to end.
The calendar was created in 46 B.C., but the details did not stabilize until at least 8 A.D., and perhaps as late at the 4th century.
The change may be disallowed for the following reasons:  An in-memory database can only have its journal_mode set to _OFF or _MEMORY.
The client will use the library to build an in-memory representation of a request, and then serialize (encode) that request into XML.
The contents of this array are generated by parsing the CaseFolding.txt file distributed as part of the "Unicode Character Database".
The difference is that if a malloc() fails in sqlite3_create_function(), an error code is returned and the mallocFailed flag cleared.
The implementation of this routine was generated by a program, mkkeywordhash.h, located in the tool subdirectory of the distribution.
The memory is used by client code for its own purposes (for example, to store a high-level schema associated with  the shared-btree).
The scope is known if we're in a free function (no scope), but not if we're in a file/eval (which inherits including/eval'ing scope).
The second argument should be passed zero to access the target database handle, or non-zero to access the rbu update database handle.
The sqlite3_blob_close() function finalizes the vdbe program, which closes the b-tree cursor and (possibly) commits the  transaction.
The sqlite3_os_init() interface is called automatically by sqlite3_initialize() and sqlite3_os_end() is called by sqlite3_shutdown().
There are one or more outstanding references to pages (after the last reference is dropped the pager should move back to OPEN state).
There must be no references to the page previously located at pgno (which we call pPgOld) though that page is allowed to be in cache.
Therefore, use it as the basis for converting the relative path name to an absolute one by prepending the data directory and a slash.
These routines walk (recursively) an expression tree and generate a bitmask indicating which tables are used in that expression tree.
These routines work with a list of "boxes", each representing a rectangular subset of the input color space (to histogram precision).
They can be turned off from pcretest so that automatic tests on bytecode can be written that do not depend on the value of LINK_SIZE.
This  function appends text to pStr that describes the subset of table rows scanned by the strategy in the form of an SQL expression.
This assumes a minimum cell size of 6 bytes  (4 bytes for the cell itself plus 2 bytes for the index to the cell in the page header).
This function is called whenever an IOERR or FULL error that requires the pager to transition into the ERROR state may ahve occurred.
This function may return SQLITE_NOMEM (sqlite3Malloc() is used to allocate memory), SQLITE_CANTOPEN or  various SQLITE_IO_XXX errors.
This function should only be called on a sharable b-tree after it  has been determined that no other b-tree holds a conflicting lock.
This global variable is a relic that exists for backwards compatibility of legacy applications and should be avoided in new projects.
This is called by several functions that scan a compiled expression looking for a fixed first character, or an anchoring op code etc.
This routine is based in part on the Chapter 13 demo code in "PNG: The Definitive Guide" (http://www.cdrom.com/pub/png/pngbook.html).
Thus the process of scanning the NameContext list corresponds to searching through successively outer subqueries looking for a match.
To work around this, if a call to xUnlock() fails when unlocking the database in the ERROR state, Pager.eLock is set to UNKNOWN_LOCK.
Unlike the command parser, the help search is sloppy that is partial matches can occur Any single character key is taken as an alias.
WRITER_DBMOD:  The pager transitions from WRITER_CACHEMOD into WRITER_DBMOD state when it modifies the contents of the database file.
We do not handle case conversions for the UTF character set since the tables involved are nearly as big or bigger than SQLite itself.
We only care about the file size, not the other file attributes, so as far as SQLite is concerned, an fdatasync() is always adequate.
We use the last block on the worklist, because predecessors tend to be located before the succeeding block, so this converges faster.
Wraps around at the maximum value of an ocaml int, which is something like 30 or 62 bits on 32 and 64-bit architectures respectively.
finally, close the temp file, rename the original phar, move the temp to the old phar, unlink the old phar, and reload it into memory
if (a) the open flags are not O_RDWR, (b) the conch isn't there, and (c) the file system is read-only, then enable no-locking access.
if cgi, or fastcgi and not found in fcgi env check the regular environment this leaks, but it's only cgi anyway, we'll fix it for 5.0
if the stream is a stdio stream let's give it a chance to respond first, to avoid doubling up the layers of stdio with an fopencookie
nCellKey will always be between 0 and 0xffffffff because of the way that btreeParseCellPtr() and sqlite3GetVarint32() are implemented
stream.chunk_size is actually a size_t, but php_stream_set_option can only use an int to accept the new value and return the old one.
- The argument "all" determines if all numeric entities are decode or only those that correspond to quotes (depending on quote_style).
8 or 10 comparisons (on average) suffice to either locate a frame in the WAL or to establish that the frame does not exist in the WAL.
According to the book "Jewish Calendar Mystery Dispelled" by George Zinberg, the patriarch Hillel II published these rules in 358 A.D.
Additionally to the index, we also store the variable, to ensure that it is not destroyed during serialization and its pointer reused.
Allocate memory for the Pager structure, PCache object, the three file descriptors, the database file name and the journal  file name.
An instance of the TreeView object is used for printing the content of data structures on sqlite3DebugPrintf() using a tree-like view.
At first glance you would think we could optimize out the ORDER BY in this case since the order of entries in the set does not matter.
But the main beneficiary of the transfer optimization is the VACUUM  command, and the VACUUM command disables foreign key constraints.
But they make a real mess on VT100-style displays if they're not paired properly, so we are probably better off not calling them text.
Calls to xShmLock(UNLOCK) to release the exclusive shm WRITER,  READ0 and CHECKPOINT locks taken as part of the checkpoint are no-ops.
Checks whether the code points to an opcode that can take part in auto- possessification, and if so, fills a list with its properties.
Convert an sqlite3_value into an RtreeValue (presumably a float) while taking care to round toward negative or positive, respectively.
For additional information on what it means to "expand" a SELECT statement, see the comment on the selectExpand worker callback above.
Frames beyond mxSafeFrame might overwrite database pages that are in use by active readers and thus cannot be backfilled from the WAL.
From another point of view, "indexable" means that the subterm could potentially be used with an index if an appropriate index exists.
However, if the value passed as argument nField is non-zero and the sorter is able to guarantee a stable sort, nField is used instead.
However, in both cases the category contains more characters than the specials that are defined for the property being tested against.
INPUTS XMLRPC_VALUE target of query RESULT data type of value as enumerated by XMLRPC_VALUE_TYPE_EASY xmlrpc_type_none if not a value.
If "previous" is set and it is not at the start of the work space, move it back to there, in order to avoid filling up the work space.
If P3 is greater than zero, then the value stored in register P3 is also incremented by the number of rows in the table being cleared.
If an OOM condition is encountered when attempting to allocate memory, output variable (*pRc) is set to SQLITE_NOMEM before returning.
If it is a pointer to a KeyInfo  structure, then said structure defines the content and collating  sequence of the index being opened.
If no error occurs, then SQLITE_OK is returned and a value suitable for passing as the third argument to open(2) is written to *pMode.
If not found, pSchema will remain NULL and nothing will match resulting in an appropriate error message toward the end of this routine
If pPrior is not NULL, then it is a pointer to a different index for which an index key has just been computed into register regPrior.
If piLeaf is not NULL, then *piLeaf is set to the blockid of the  left-most leaf node in the tree that may contain the specified term.
If so, then the last valid instance of page P that is a followed by a commit frame or is a commit frame itself becomes the value read.
If the balance proceeds far enough up the tree that we can be sure that any problem in the internal node has been corrected, so be it.
If the column value is an ephemeral string, go ahead and persist that string in case the cursor moves before the column value is used.
If the data is coming from a SELECT statement, then generate a co-routine that produces a single row of the SELECT on each invocation.
If the on-conflict mode is REPLACE, this means that the existing row should be deleted from the database before inserting the new row.
If the trigger name was unqualified, and the table is a temp table, then set iDb to 1 to create the trigger in the temporary database.
If this 'overflow' page happens to be a page that the caller is iterating through or using in some other way, this can be problematic.
If we have a transparent color (the alphaless mode of transparency), we must reserve a palette entry for it at the end of the palette.
Implementation of a special SQL scalar function for testing tokenizers  designed to be used in concert with the Tcl testing framework.
In other words, a prefix of (pTerm/nTerm) that is one byte longer than the longest prefix (pTerm/nTerm) shares with the previous term.
Interpreted as follows:  FTS5_SEGITER_ONETERM: If set, set the iterator to point to EOF after the current doclist  has been exhausted.
Invalidate temp storage, either when the temp storage is changed from default, or when 'file' and the temp_store_directory has changed
It also may not - the GROUP BY might use a database index that causes rows to be grouped together as required but not actually sorted.
It is assumed that the sqlite3BtreeCursorZero() has been called on pCur to initialize the memory space prior to invoking this routine.
It tests the value of length for (2 + 2*LINK_SIZE) in the pre-compile phase to find out whether anything has yet been compiled or not.
Largest ignored word can be 999 characters (this seems sane enough), and it takes 3 bytes to represent that (see pspell_config_ignore)
Loop through all the foreign key constraints for which pTab is the child table (the table that the foreign key definition is part of).
Modify each term of the ORDER BY clause is a constant integer between 1 and N where N is the number of columns in the compound SELECT.
Must set XMLREADER_LOADDTD or XMLREADER_VALIDATE parser option prior to the first call to read or this method will always return FALSE
NOTE: can't guarantee that output or input/output parameters are set until this fella returns SQL_NO_DATA, according to MSDN ODBC docs
Note that the trunk page is not really full until it contains usableSize/4 - 2 entries, not usableSize/4 - 8 entries as we have coded.
On a permanent failure (such an I/O error or an SQLITE_BUSY because another process is running recovery) return a positive error code.
On the upward pass, both conditions are always true, so the upwards pass simply processes pages that were missed on the downward pass.
Options that are interpreted here include "vfs" and those that correspond to flags that may be passed to the sqlite3_open_v2() method.
Otherwise, if the statement cannot be recompiled because another connection has locked the sqlite3_master table, return SQLITE_LOCKED.
Otherwise, set Fts3SegReader.iDocid to the next docid and Fts3SegReader.pOffsetList to point to the next offset list before returning.
PmaReaders should be normally initialized in order, as if they are reading from the same temp file this makes for more linear file IO.
Register a 2nd-generation geometry callback named zScore that can be  used as part of an R-Tree geometry query as follows:  SELECT ...
Return a pointer to the VTable object used by connection db to access  this virtual-table, if one has been created, or NULL otherwise.
Set it to INVALID_HANDLE_VALUE It will be initialized correctly in tsrm_win32_access or set to NULL if no impersonation has been done.
Set variable "nMinEst" to the smallest number of documents in  any phrase doclist for which 1 or more token doclists have been loaded.
Similarly, for ON INSERT triggers the values stored in the OLD.* registers are never accessed, and so are not allocated by the caller.
Such column values may still be stored as integers, for space efficiency, but after extraction we want them to have only a real value.
The SQLITE_SYSTEM_MALLOC macro is defined automatically if neither the SQLITE_MEMDEBUG nor the SQLITE_WIN32_MALLOC macros are defined.
The UNION ALL operator uses this property to force the reuse of the same limit and offset registers across multiple SELECT statements.
The first argument is a pointer to a structure obtained from "sqlite3Fts5ParserAlloc" which describes the current state of the parser.
The first invocation, to obtain permission to INSERT a row into the sqlite_master table, has already been made by sqlite3StartTable().
The intersection finding technique of this code could be improved by remembering the previous intertersection, and by using the slope.
The iterator object passed as the second argument currently contains no valid values except for the Fts5SegIter.pLeaf member variable.
The macro USEFETCH is true if we are allowed to use the xFetch and xUnfetch interfaces to access the database using memory-mapped I/O.
The output variable *ppExpr is populated with an allocated Fts3Expr  structure, or set to 0 if the end of the input buffer is reached.
The pSpace buffer will be freed after the next call to balance_nonroot(), or just before this function returns, whichever comes first.
The reason a single byte cannot be used instead of the 'shared byte range' is that some versions of windows do not support read-locks.
The value passed as the second parameter is the total number of savepoints, including the new anonymous savepoint, open on the B-Tree.
These hints could, in theory, be used by the compiler to generate better code, but currently they are just comments for human readers.
This avoids security issues on shared hosts where a luser messes with the lower-level pipe settings and screws up the FastCGI service.
This function returns true if main-memory should be used instead of a temporary file for transient pager files and statement journals.
This function scans a compiled unanchored expression recursively and attempts to build a bitmap of the set of possible starting bytes.
This is used to convert the value stored in the 'sample' column of the sqlite_stat3 table to the record format SQLite uses internally.
This opcode is similar to OP_NotFound with the exceptions that the branch is always taken if any part of the search key input is NULL.
This routine is broken out into a separate function since it requires extra stack manipulation that can be avoided in the common case.
This routine is used to query statistical information that has been gathered into the Stat4Accum object by prior calls to stat_push().
Use some of the same optimizations as OP_RowSetTest: If iSet is zero, assume that the key cannot already be present in the temp table.
Variable iLower will be set to the estimate of the number of rows in  the index that are less than the lower bound of the range query.
We assume that close() almost always works, since it is only in a very sick application or on a very sick platform that it might fail.
We define class_uchardata always so that it can be passed to add_to_class() always, though it will not be used in non-UTF 8-bit cases.
__X accessors explanation: if we have __get and property that is not part of the properties array is requested, we call __get handler.
comments    : Useful for small queues that are constantly changing and would otherwise need constant sorting with the Q_Seek function.
dbHintSize is set to a copy of the dbSize variable when a write-transaction is opened (at the same time as dbFileSize and dbOrigSize).
sqlite3_test_control(SQLITE_TESTCTRL_OPTIMIZATIONS, sqlite3 *db, int N)  Enable or disable various optimizations for testing purposes.
(2) It is also compiled separately and linked with pcretest.c, which can be asked to print out a compiled regex for debugging purposes.
(This paragraph is written on 2008-11-28.) These days, all Linux kernels support large files, so you should probably leave LFS enabled.
(b) +1000 points for the first occurrence of each matchable phrase in  the snippet for which the corresponding mCovered bit is not set.
A bit of a hack, but not a bad one: we see if the handler of the function is actually one that displays "function is disabled" message.
A mutex protected linked list of all main  db fds opened using a particular RBU VFS is maintained at  rbu_vfs.pMain to facilitate this.
A pointer to a structure of the following type is passed as the first argument to callbacks registered using rtree_geometry_callback().
Actually we compute the coordinates of the center of the corner histogram cell, which are the lower bounds of the volume we care about.
After the trigger actions have been parsed, the sqlite3FinishTrigger() function is called to complete the trigger construction process.
Again, set the column number so that sqlite3ResolveOrderGroupBy() will convert the order-by term to a copy of the result-set expression
An instance of the WhereScan object is used as an iterator for locating terms in the WHERE clause that are useful to the query planner.
At the end of the CREATE TABLE statement, the sqlite3EndTable() routine is called to complete the construction of the new table record.
But this is not so if the database is corrupted  in such a way that page pRoot is linked into a second b-tree table  (or the freelist).
Calling sqlite3Fts3SimpleTokenizerModule() sets the value pointed to by the argument to point to the "simple" tokenizer implementation.
Calls to the code generator in between sqlite3WhereBegin and sqlite3WhereEnd will have created code that references the table directly.
Case 1:     expr IN (SELECT ...)  Generate code to write the results of the select into the temporary table allocated and opened above.
Create a new VFS file descriptor (stored in memory obtained from sqlite3_malloc) and open the file named "path" in the file descriptor.
Estimate the upper limit on the number of leaf nodes in a new segment created by merging the oldest :2 segments from absolute level :1.
Even though there is no encoding conversion, value_blob() might need to call malloc() to expand the result of a zeroblob()  expression.
Given an expression list, generate a KeyInfo structure that records the collating sequence for each expression in that expression list.
However, the MSDN docs state that there is a flags parameter, and my VC6 won't link unless the code uses the version with 4 parameters.
IMPLEMENTATION-OF: R-00140-37445 SQLite automatically serializes calls to the xInit method, so the xInit method need not be threadsafe.
If a write transaction is open, then all changes made within the  transaction are reverted and the current write-transaction is closed.
If either opcode is a small character list, set pointers for comparing characters from that list with another list, or with a property.
If needSyncPgno is non-zero, then the journal file needs to be  sync()ed before any data is written to database file page needSyncPgno.
If offset is greater than offset_top, it means that we are "skipping" a capturing group, and that group's offsets must be marked unset.
If parameter n is a negative number, then z is assumed to point to a nul-terminated string and the length is determined using strlen().
If some client does modify the target database mid RBU update, or some other error occurs, the RBU extension will keep throwing errors.
If the c-client library adds other options and the value for this one conflicts, simply make PHP_EXPUNGE higher at the top of this file
If the function is an aggregate function, then the NC_HasAgg flag is set and the opcode is changed from TK_FUNCTION to TK_AGG_FUNCTION.
If the number is less than 8 (used to be 10), or if there are that many previous extracting left brackets, then it is a back reference.
If there is an action associated with the FK  for this operation (either update or delete), invoke the associated  trigger sub-program.
If this happens in exclusive  mode, then subsequent transactions performed by the connection will not update the change-counter at all.
If we have not found this recursion on the forward reference list, adjust the recursion's offset if it's after the start of this group.
In this case pager_truncate() is called unconditionally (which means there may be a call to xFilesize() that is not strictly required).
Indexable AND  subterms have their eOperator set to WO_AND and they have u.pAndInfo set to a dynamically allocated WhereAndTerm object.
It should be used in all cases, but for consistency with earlier versions of dtoa, it is optional when MULTIPLE_THREADS is not defined.
Mark the page as dirty  and if the pager requires a journal-sync, then mark the page as  requiring a journal-sync before it is written.
Never happens because JNODE_RAW is only set by json_set(), json_insert() and json_replace() and those routines do not call jsonReturn()
Not because vxworks would not benefit from the change (it might, we're not sure), but because no way to test it is currently available.
On Win32 locked files that are closed without being explicitly unlocked will be unlocked only when "system resources become available".
Opcode: ParseSchema P1 * * P4 *  Read and parse all entries from the SQLITE_MASTER table of database P1 that match the WHERE clause P4.
Or, if the tree that the node is part of has been marked as EOF, but the node itself is not EOF, then it may point to an earlier entry.
Prepare the two insert statements - Fts5Storage.pInsertContent and Fts5Storage.pInsertDocsize - if they have not already been prepared.
READER ALGORITHM  To read a page from the database (call it page number P), a reader first checks the WAL to see if it contains page P.
Recursively walk the expressions of a SELECT statement and generate a bitmask indicating which tables are used in that expression tree.
Safety: if the error code is too big for the translation vector (which should not happen, but we all make mistakes), return REG_BADPAT.
Search for the end of the range, which is either the end of the input range, or a character that has zero or more than one other cases.
Should this ever change (because of changes in the code generator) then the fix would be to insert a call to sqlite3VdbeCursorMoveto().
So if there exists more than one reference to this page, then it  must not really be an overflow page and the database must be corrupt.
So in this variation of CheckReservedLock(), *pResOut is set to true if any lock is held on the file and false if the file is unlocked.
TUNING:  Because uncertainties in the estimates for skip-scan queries, add a 1.375 fudge factor to make skip-scan slightly less likely.
The caller is responsible not only for closing the file descriptor but also for freeing the memory associated with the file descriptor.
The code that follows * shows first how to access named substrings, and then how to code for    * repeated matches on the same subject.
The declaration type is the exact datatype definition extracted from the original CREATE TABLE statement if the expression is a column.
The destructor X in  sqlite3_set_auxdata(C,N,P,X) might be called immediately, before the sqlite3_set_auxdata() interface even returns.
The following condition causes URIs with five leading / characters like file://///host/path to be converted into UNCs like //host/path.
The following describes the syntax supported by the fts3 MATCH operator in a similar format to that used by the lemon parser generator.
The fourth optional argument is whatever the user wants (and specified in the grammar) and is available for use by the action routines.
The key/data may move or be destroyed on the next call to any Btree routine, including calls from other threads against the same cache.
The pWhere argument is an optional WHERE clause that restricts the set of rows in the view that are to be added to the ephemeral table.
The program name loops through the master table and deletes every row that refers to a table of the same name as the one being dropped.
The return number includes the cell data header and the local payload, but not any overflow page or the space used by the cell pointer.
There is a race condition here such that two or more threads all trying to open databases at the same instant might all reset the PRNG.
These routines are used to make sure that an index, trigger, or view in one database does not refer to objects in a different database.
This code might run concurrently to the code in walIndexAppend() that adds entries to the wal-index (and possibly to this hash  table).
This function figures out if this modification means the tree needs to be balanced, and if so calls the appropriate balancing  routine.
This function should be called after the constructor has been called because it may call __set from the uninitialized object otherwise.
This is not considered a compatibility break because any application that ever receives an SQLITE_MISUSE error is broken by definition.
This is only required if currently generating VDBE code for a CREATE TABLE (not when parsing one as part of reading a database schema).
This makes some inner loops simpler and sometimes saves work during multiplications, but it often seems to make things slightly slower.
This module contains the external function pcre_compile(), along with supporting internal functions that are not used by other modules.
This object is the header on a single record while that record is being held in memory and prior to being written out as part of a PMA.
This routine must be called to initialize the memory allocation, VFS, and mutex subsystems prior to doing any serious work with SQLite.
This way, SQLite uses the in-memory journal data to  roll back changes made to the internal page-cache before this function was called.
To avoid concerns about buffer overreads, this routine is only used on schemas where the maximum valid header size is 63 bytes or less.
To free all resources, use sqlite3VdbeMemRelease(), which both calls this routine to invoke the destructor and deallocates Mem.zMalloc.
Triggers do not normally coordinate their activities, but we do need to coordinate the loading and saving of autoincrement information.
We copy code into a non-register variable (tempcode) in order to be able to pass its address because some compilers complain otherwise.
We don't have to free each allocated block separately, but we like to call all the destructors and callbacks in exactly the same order.
When bits SPILLFLAG_OFF or SPILLFLAG_ROLLBACK of doNotSpill are set, writing to the database from pagerStress() is disabled altogether.
When reader/writer locks are used, the lock is placed on the same range of bytes that is used for probabilistic locking in Win95/98/ME.
When the file is created, the caller specifies a buffer size for an in-memory buffer to be used to service read() and write() requests.
When we choose to "support" invalid salts, nevertheless disallow those containing characters that would violate the passwd file format.
compress stdin to stdout  Algorithm:  use open addressing double hashing (no chaining) on the prefix code / next character combination.
eLock  For a real on-disk database, the current lock held on the database file - NO_LOCK, SHARED_LOCK, RESERVED_LOCK or EXCLUSIVE_LOCK.
if the user stream was registered as local and we are in include context, we add allow_url_include restrictions to allow_url_fopen ones
moveToLeftmost() finds the left-most entry beneath the *entry* whereas moveToRightmost() finds the right-most entry beneath the *page*.
update conch with host and path (this will fail if other process has a shared lock already), if the host id matches, use the big stick.
(MacOSX only) Definitions of sqlite3_vfs objects for all locking methods plus implementations of sqlite3_os_init() and sqlite3_os_end().
(This will be either the table itself, in the case of a rowid table, or the PRIMARY KEY index in the case of a WITHOUT ROWID table.)  2.
(We call the act of moving content from WAL to database "backfilling".)  The nBackfill number is never greater than WalIndexHdr.mxFrame.
- One to One mapping between C structures and actual values, unlike ensor which forces one to understand the arcana of the xmlrpc vocab.
After the following block of preprocess macros, all of SQLITE_OS_UNIX, SQLITE_OS_WIN, and SQLITE_OS_OTHER will defined to either 1 or 0.
Also store the SQLite version number in bytes 96..99 and in bytes 92..95 store the change counter for which the version number is valid.
Also, if the PGHDR_NEED_SYNC flag was set for  page pgno before the 'move' operation, it needs to be retained  for the page moved there.
An instance of the following structure holds information about SQL functions arguments that are the parameters to the printf() function.
Argument pIn points to the first character in what is expected to be a comma-separated list of SQL literals followed by a ')' character.
Assuming no error occurs, output parameter (*ppVal) is set to point to a value  object containing the result before returning SQLITE_OK.
Assuming the cursor iterates in ascending order of rowids, iFirstRowid is the lower limit of rowids to return, and iLastRowid the upper.
But if the -s option has been given, we skip this optimization, since on some systems, stat() reports zero size for raw disk partitions.
By combining all the individual C code files into this  single large file, the entire code can be compiled as a single translation unit.
By returning SQLITE_BUSY and not invoking the busy callback when A already has a read lock, we encourage A to give up and let B proceed.
Create an Fts3Expr structure of type FTSQUERY_PHRASE containing a phrase consisting of this single token and set *ppExpr to point to it.
Do the rest of the initialization under the recursive mutex so that we will be able to handle recursive calls into sqlite3_initialize().
Except, if SQLITE_4_BYTE_ALIGNED_MALLOC is defined, then the underlying malloc() implementation might return us 4-byte aligned pointers.
Filenames containing international characters must be converted to UTF-8 prior to passing them into sqlite3_open() or sqlite3_open_v2().
For a case-insensitive search, set variable cx to be the same as c but in the other case and search the input string for either c or cx.
For completeness and backward compatibility, (*UTFn) is supported in the relevant libraries, but (*UTF) is generic and always supported.
Function: gdTransformAffineCopy Applies an affine transformation to a region and copy the result in a destination to the given position.
Generate code to drop and reload the internal representation of table pTab from the database, including triggers and temporary triggers.
However, now that there is the possiblity of (*THEN) occurring in the final alternative, this optimization is no longer always possible.
INPUTS mem    memory to free RESULT void NOTES Useful for OS's where memory must be free'd in the same library in which it is allocated.
If PCRE_FIRSTLINE is set, the match must happen before or at the first newline in the subject (though it may continue over the newline).
If a new wal-index header was loaded before the checkpoint was  performed, then the pager-cache associated with pWal is now out of date.
If everything has worked, invoke fts3DisconnectMethod() to free the memory associated with the Fts3Table structure and return SQLITE_OK.
If pkChng is zero, it means that the either rowid is computed automatically or that the table is a WITHOUT ROWID table and has no rowid.
If successful, *pisEmpty is set to true if the table is empty except for document pRowid, or false otherwise, and SQLITE_OK is returned.
If the maximum is greater than 1 and limited, we have to replicate in a nested fashion, sticking OP_BRAZERO before each set of brackets.
If the operation is a delete, it must be called (at least) once for each unique token in the document with an iCol value less than zero.
If the pixel is transparent, we assign it the palette index that will later be added at the end of the palette as the transparent index.
If the word ends with zFrom and xCond() is true for the stem of the word that preceeds the zFrom ending, then change the  ending to zTo.
If they are invoked at the same time as another thread is invoking sqlite3_backup_step() it is possible that they return invalid values.
If this is a database file (not a journal, master-journal or temp file), the bytes in the locking range should never be read or written.
If this maximum height is greater than the current value pointed to by pnHeight, the second parameter, then set *pnHeight to that value.
If we are doing a different kind of flattening - a flattening other than a compound-subquery flattening - then this loop only runs once.
In this case vdbePmaReaderNext() is called on all child PmaReaders and the current PmaReader set to point to the first key in its range.
Leave the output variables *piDataCur and *piIdxCur uninitialized so that valgrind can detect if they are used by mistake in the caller.
Malloc function used within this file to allocate space from the buffer configured using sqlite3_config(SQLITE_CONFIG_PAGECACHE) option.
Memory map or remap the file opened by file-descriptor pFd (if the file is already mapped, the existing mapping is replaced by the new).
Minus (hyphen) at the end of a class is treated as a literal, so put back the pointer and jump to handle the character that preceded it.
NOTE: On some sub-platforms, the InterlockedCompareExchange "function" is really just a macro that uses a compiler intrinsic (e.g. x64).
Note that we cannot use the BASE64 alphabet here, because it contains "/" and "+": both are unacceptable for simple inclusion into URLs.
On entry, ptr is pointing past the bracket character, but on return it points to the closing bracket, or vertical bar, or end of string.
Once this estimate has been obtained, the caller will invoke this function a second time, passing the estimate as the nRowEst parameter.
Or, if sqlite3.nVdbeExec is greater than 1,  then the returned string holds a copy of zRawSql with "-- " prepended to each line of text.
POSIX.1, 5.5.1 unlink() POSIX.1, 5.5.2 rmdir() POSIX.1, 5.5.3 rename() POSIX.1, 5.6.x stat(), chmod(), utime() already supported by PHP.
The "winIoerrCanRetry1" macro is used to determine if a particular I/O error code obtained via GetLastError() is eligible to be retried.
The Synopsis: field in comments in the vdbe.c source file gets converted to an extra string that is appended to the sqlite3OpcodeName().
The argument is a pointer to an array of two integers where the first integer i the new retry count and the second integer is the delay.
The cost of visiting the index rows is N*K, where K is between 1.1 and 3.0, depending on the relative sizes of the index and table rows.
The details of the operation codes, their meanings, the parameters they take, and what they do are all subject to change without notice.
The exception seems to be systems that are configured to use 64KB pages - in this case each mapping must cover at least two shm regions.
The first argument is an integer which is 0 to disable triggers, positive to enable triggers or negative to leave the setting unchanged.
The number 17 is used here in order to account for the space used by the 15 character random suffix and the two trailing NUL characters.
The order in which they are updated is important, as this code needs to avoid disrupting any page from which cells may still to be read.
The output position list - written to *pp - is a copy of *pp2 with those entries that are not sufficiently NEAR entries in *pp1 removed.
The r1 and r2 member variables are only used by the optimized comparison functions vdbeRecordCompareInt() and vdbeRecordCompareString().
The remapping case could be accomplished with less memory for non- interlaced images, but interlacing causes some serious complications.
The return value of xGetLastError is zero if the error message fits in the buffer, or non-zero otherwise (if the message was truncated).
The second argument passed to this function must be the same as the corresponding argument that was passed to the winFetch() invocation.
The superclass sqlite3_pcache_page.pBuf points to the start of the database page content and sqlite3_pcache_page.pExtra points to PgHdr.
The testcase() macro is inserted to help ensure adequate test coverage in places where simple condition/decision coverage is inadequate.
The third rule was added because if X uses skip-scan less than Y it still might deserve a lower cost even if it is a proper subset of Y.
The two pass scaling function is based on: Filtered Image Rescaling Based on Gems III - Schumacher general filtered image rescaling (pp.
Then T bytes of data from the second set, and so on, such that no operation ever merges more than SORTER_MAX_MERGE_COUNT PMAs at a time.
There is only one possible option at  * the moment, "-g" to request repeated matching to find all occurrences,  * like Perl's /g option.
This file contains code used for creating, destroying, and populating a VDBE (or an "sqlite3_stmt" as it is known to the outside world.)
This is the old value less one, less one more if that happens to be a root-page number, less one again if that is the PENDING_BYTE_PAGE.
This is to help with identifying performance problems caused by applications routinely shutting down without checkpointing the log file.
This routine forms the core of the OP_SorterCompare opcode, which in turn is used to verify uniqueness when constructing a UNIQUE INDEX.
This routine is a helper for explainIndexRange() below  pStr holds the text of an expression that we are building up one term at a time.
This routine retrieves the pointer map entry for page 'key', writing the type and parent page number to *pEType and *pPgno respectively.
This routine, and the sqlite3_os_end() routine that follows, should be the only routines in this file that are visible from other files.
To do so would require that samba (or whatever tool is being used for file sharing) implements locks correctly between windows and unix.
We'll use this partial information, which represents the smallest possible size for the child, to compute the remaining available space.
When IN_INDEX_LOOP is used (and the b-tree will be used to iterate through the set members) then the b-tree must not contain duplicates.
When holding READ_LOCK(0), the reader ignores the entire log file, which implies that the database file contains a trustworthy snapshot.
f* VALUE/XMLRPC_GetValueInt NAME XMLRPC_GetValueInt SYNOPSIS int XMLRPC_GetValueInt(XMLRPC_VALUE value) FUNCTION retrieve integer value.
ftp dirstreams only need to support read and close operations, They can't be rewound because the underlying ftp stream can't be rewound.
headers lists plain text headers to exclude from the signed portion of the message, and should include to, from and subject as a minimum
newline before label will be subtracted from returned text, but yyleng/yytext will include it, for zend_highlight/strip, tokenizer, etc.
we assume that any glob pattern will match files from one directory only so checking the dirname of the first match should be sufficient
(3)  The template has same or fewer dependencies than the current loop (4)  The template has the same or lower cost than the current loop
2008-04-14:  When attempting to vacuum a corrupt database file, it is possible to fail a statement on a database that does not yet exist.
A callout item contains the length of the next item in the pattern, which we can't fill in till after we have reached the relevant point.
Adjust the final value according to the bit length - this means that the same lists of (e.g.) horizontal spaces can be used in all cases.
And since it can be determined whether the year is a leap year by simple division, the lengths of Adar I and II can be easily calculated.
And we do not want the assert() containing the call to sqlite3_mutex_held() to fail, so a non-zero return is the appropriate thing to do.
As usual, the indexes in the position  lists are the offsets of the last token in each phrase (tokens "1" and "2"  in the example above).
Before we can access the substrings, we must extract the table for translating names to numbers, and the size of each entry in the table.
Both these functions obtain the source database handle mutex and the mutex associated with the source BtShared  structure, in that order.
By use of various functions in this module the caller can create stacks, queues, lists, doubly linked lists, sorted lists, indexed lists.
Collator has no usable clone semantics - ucol_cloneBinary/ucol_openBinary require binary buffer for which we don't have the place to keep
Convert this tree into a linked list connected by the pRight pointers and return pointers to the first and last elements of the new list.
EVIDENCE-OF: R-41613-20553 The sqlite3_wal_checkpoint(D,X) is equivalent to sqlite3_wal_checkpoint_v2(D,X,SQLITE_CHECKPOINT_PASSIVE,0,0).
Either a write-lock on root-page iTab, a  write-lock on the schema table, or (if the client is reading) a read-lock on iTab will suffice.
Except, entries in the copy of the string associated with equality constraints that use BLOB or NONE affinity are set to SQLITE_AFF_BLOB.
For a non-repeating atomic group that includes captures, establish a backup point by processing the rest of the pattern at a lower level.
For a relative children, we're either using alignItems (parent) or alignSelf (child) in order to determine the position in the cross axis
Free any existing lookaside buffer for this handle before allocating a new one so we don't have to have space for  both at the same time.
Given that pParent is the parent table for foreign key constraint pFKey,  search the schema for a unique index on the parent key columns.
Grab the first fully transparent entry, if any, as the value of the simple-transparency index, mostly for backwards binary compatibility.
However, such calls must not close the database connection nor finalize or reset the prepared statement in which the function is running.
If P5 has the OPFLAG_USESEEKRESULT bit set, then the cursor must have just done a seek to the spot where the new entry is to be inserted.
If SQLITE_OK is returned, then *pnTrunc is set to the number of pages the database file should be truncated to during the commit process.
If either of these operations fails, the return code is set, but the contents of the parent page are still manipulated by thh code below.
If the EXCLUSIVE lock is already held or the attempt to obtain it is successful, or the connection is in WAL mode, SQLITE_OK is returned.
If the TRANSLATE_TRACE macro is defined, the value of each Mem is printed on stderr on the way into and out of sqlite3VdbeMemTranslate().
If the auto-commit flag is set and this is the only active writer  VM, then we do either a commit or rollback of the current transaction.
If the cell pCell, part of page pPage contains a pointer to an overflow page, insert an entry into the pointer-map for the overflow page.
If the expression is an SQL literal (TK_INTEGER, TK_FLOAT, TK_BLOB,  or TK_STRING), then Expr.token contains the text of the SQL literal.
If the extension function is invoked  more than once for a single FTS query, then all invocations share a  single auxiliary data context.
If the power fails while the journal is being written, semi-random garbage data might appear in the journal file after power is restored.
If the query has an ORDER BY, then entries in the Queue table are kept in ORDER BY order and the first entry is extracted for each cycle.
If the second argument is not NULL, then its contents are prepended to  the returned expression text and then freed using sqlite3_free().
If the wtFlags argument includes TERM_DYNAMIC, then responsibility for freeing the expression p is assumed by the WhereClause object pWC.
If this was an INSERT, UPDATE or DELETE and no statement transaction has been rolled back, update the database connection change-counter.
In other  words, rows should be sorted using the destination table PRIMARY KEY  fields before they are inserted into the data_xxx tables.
In other words, if the xUpdate() returns SQLITE_CONSTRAINT, the database contents must be exactly as they were before xUpdate was called.
In this case,  because the index contains entries for both "first" and "1st", prefix queries such as 'fi*' or '1s*' will match correctly.
In threaded environments, we have to mutex lock to do this init, but we don't want to use a mutex every time to check that it was Inited.
N between YY_MIN_SHIFTREDUCE       Shift to an arbitrary state then and YY_MAX_SHIFTREDUCE           reduce by rule N-YY_MIN_SHIFTREDUCE.
NOTES use XMLRPC_GetValueType() to be sure if 0 is real value or not SEE ALSO XMLRPC_SetValueDouble () XMLRPC_CreateValueDouble () SOURCE
Note 2: At first glance it may seem like SQLite could simply omit all OP_FkCounter related scans when either CASCADE or SET NULL applies.
OBSOLETE COMMENT 1: Restriction 3:  If the subquery is a join, make sure the subquery is  not used as the right operand of an outer join.
One solution would be a meta-table to track such information in the database, then we'd only want this information on the initial create.
Or the template will be ignored and no insert will occur if an existing WhereLoop is faster and has fewer dependencies than the template.
Or, if there already exists a mapping for this file, and there are still outstanding xFetch() references to it, this function is a no-op.
Return NULL if the WhereLoop list contains an entry that can supplant pTemplate, in other words if pTemplate does not belong on the list.
Return TRUE if the given expression is a constant which would be unchanged by OP_Affinity with the affinity given in the second argument.
Some other thread already grabbed this slot to write this key, but they might not have written the address (or even the sigil value) yet.
Takes the conch by taking a shared lock and read the contents conch, if  lockPath is non-NULL, the host ID and lock file path must match.
The "result" of the  comparison in this context is the index of the iterator that currently points to the smaller term/rowid combination.
The POSIX class substitutes must be in the order of the POSIX class names, defined above, and there are both positive and negative cases.
The Pager.sectorSize variable may have been updated while rolling back a journal created by a process with a different sector size value.
The below if loop is added for NetWare to fix an abend while unloading PHP when an Apache unload command is issued on the system console.
The first character of the string pointed to by argument z is guaranteed to be an open-quote character (see function fts5_isopenquote()).
The iPg value in the following loop starts at nNew-1 goes down to 0, then back up to nNew-1 again, thus making two passes over the pages.
The locking might fail on one of the later transitions leaving the lock state different from what it started but still short of its goal.
The makefile scans the vdbe.c source file and creates the "opcodes.h" header file that defines a number for each opcode used by the VDBE.
The mutex implementation does not need to make a distinction between SQLITE_MUTEX_RECURSIVE and SQLITE_MUTEX_FAST if it does not want to.
The parser calls this routine for each token after the first token in an argument to the module name in a CREATE VIRTUAL TABLE statement.
The second argument passed to this function must be the same as the corresponding argument that was passed to the unixFetch() invocation.
The table structure that other action routines have been building is added to the internal hash tables, assuming no errors have occurred.
The trouble starts if the CASCADE or SET NULL action  trigger causes other triggers or action rules attached to the  child table to fire.
Thereafter, whenever it goes to access the database, it checks the cookie to make sure the schema has not changed since it was last read.
Therefore, use it as the basis for converting the relative path name to an absolute one by prepending the data directory and a backslash.
This  prevents ExprDelete() from deleting the Expr structure itself, allowing it to be repopulated by the memcpy() on the following line.
This function may be called when there is no write-transaction active but a RESERVED or greater lock is held under two circumstances:  1.
This header file defines the SQLite interface for use by shared libraries that want to be imported as extensions into an SQLite instance.
This information is not required, but it is used in the assert() statements executed by function fts5CheckTransactionState() (see below).
This is a helper routine invoked by sqlite3VdbeMemRelease() in the unusual case where there really is memory in p that needs to be freed.
This is necessary as the memory cell array may contain pointers to VdbeFrame objects, which may in turn contain pointers to open cursors.
This is necessary if you are running in an EBCDIC environment, or if you want to default to a different encoding, for example ISO-8859-1.
This is safe as the entries for the new poslist are a subset of the old, so it is not possible for data yet to be read to be overwritten.
This matches the semantics of the traditional locking behavior, where opening a connection to a database file does not take a lock on it.
This means that the memory space will be reserved in the virtual memory table but the pages will not be bound to any physical memory yet.
This routine generates code to finish the INSERT or UPDATE operation that was started by a prior call to sqlite3GenerateConstraintChecks.
This table is used to check whether auto-possessification is possible between adjacent Unicode property opcodes (OP_PROP and OP_NOTPROP).
Use iBase as the first cursor (either the *piDataCur for rowid tables or the first index for WITHOUT ROWID tables) if it is non-negative.
We return ZEND_INTERNAL_FUNCTION, but arg_info representation is the same as for ZEND_USER_FUNCTION (uses zend_string* instead of char*).
When adding an index to the list of indices for a table, make sure all indices labeled OE_Replace come after all those labeled OE_Ignore.
With write back, we can create some sophisticated loads, but it is hard to decide whether we should convert downward (0s) or upward (1s).
if we're started on command line, check to see if we are being started as an 'external' fastcgi server by accepting a bindpath parameter.
parse an array (user input) into output options suitable for use by xmlrpc engine and determine whether to return data as xml or php vars
seems to be the convention in this lib to return false instead of null on bad parameter types, except on constructors and factory methods
sqlite3_column_  ******************************* The following routines are used to access elements of the current row in the result set.
(There is an immediate jump to ignoreDest.)  NOT NULL         REPLACE      The NULL value is replace by the default value for that column.
A foreign key constraint requires that the key columns in the parent table are collectively subject to a UNIQUE or PRIMARY KEY constraint.
Advance to the next WhereTerm that matches according to the criteria established when the pScan object was initialized by whereScanInit().
As it happens, the "NOT" versions of these opcodes are used at present only for ASCII characters, so they could be omitted from this list.
Before returning, set *pnSz to the number of bytes in the position list, and *pbDel to true if the delete flag is set, or false otherwise.
But some extreme users want to have prepared statements with over 32767 variables, and for them the option is available (at compile-time).
Constructors only have prototype if they are defined by an interface but it is the compilers responsibility to take care of the prototype.
Continue from after a successful assertion, updating the offsets high water mark, since extracts may have been taken during the assertion.
EVIDENCE-OF: R-15465-20813 The maximum and minimum embedded payload fractions and the leaf payload fraction values must be 64, 32, and 32.
For MATCH_MATCH, the group has matched, so we restart it with a new subject starting position, remembering that we had at least one match.
Here we add to the key the parent script directory, since fopen_wrappers from version 4.0.7 use current script's path in include path too.
However, if the bSpanIsTab flag is set, then zSpan is overloaded to mean the name of the result column in the form: DATABASE.TABLE.COLUMN.
IMPLEMENTATION-OF: R-48205-43578 The default suggested cache size can be altered using the SQLITE_DEFAULT_CACHE_SIZE compile-time options.
If P1 is non-zero, then the jump is taken if the database constraint-counter is zero (the one that counts deferred constraint violations).
If a savepoint transaction were rolled back after this happened, the correct behavior would be to restore the current content of the page.
If an entry of the FROM clause is a subquery instead of a table or view, then create a transient table structure to describe the subquery.
If it is, this routine return an integer between 1 and N where N is the number of elements in pEList, corresponding to the matching entry.
If journal corruption occurs due to a power failure, the most likely  scenario is that one end or the other of the record will be changed.
If the LHS is not contained in the RHS, then the answer is NULL if the RHS contains NULLs and the answer is FALSE if the RHS is NULL-free.
If the WAL file is not empty, return the number of bytes of content stored in each frame (i.e. the db page-size when the WAL was created).
If the callback function returns any value other than SQLITE_OK, the query is abandoned and the xQueryPhrase function returns immediately.
If the reference is to a completed group, we need to detect whether this is a recursive call, as otherwise there will be an infinite loop.
If the second argument is 2 or more and exclusive transaction is started, meaning that no other process is allowed to access the database.
If the user decided to close the statement right after execute() We have to call the appropriate use_result() or store_result() and clean.
If this cursor is opened using  the 'hint' parameters, it is possible that there are less than nSeg segments available in level iAbsLevel.
If this is a rollback of a savepoint and data was not written to the database and the page is not in-memory, there is a potential problem.
If this is an auto-vacuum database, update the pointer-map entries for any b-tree or overflow pages that pTo now contains the pointers to.
If this routine fails for any reason (malloc returns NULL or unable to read from the disk) then the pMem is left in an inconsistent state.
In other words, if we assume that the cardinalities of the selected column for pNew and pOld are equal, is pNew to be preferred over pOld.
In the colUsed field, the high-order bit (bit 63) is set if the table contains more than 63 columns and the 64-th or later column is used.
In the real compile this will be picked up and the reference wrapped with OP_ONCE to make it atomic, so we must space in case this occurs.
It is essentially equivalent to  localtime_r() available under most POSIX platforms, except that the  order of the parameters is reversed.
It is only used by  the balance_shallower() and balance_deeper() procedures, neither of which are called often under normal circumstances.
Iterate through all phrase nodes in an FTS3 query, except those that are part of a sub-tree that is the right-hand-side of a NOT operator.
Make sure the SQLITE_OPEN_URI flag is set to indicate to the VFS xOpen  method that there may be extra parameters following the file-name.
No multithreading issues as we don't share the connection :) This will free the object too, of course because references has reached zero.
Note that even though the freeblock list was checked by btreeInitPage(), that routine will not detect overlap between cells or freeblocks.
Note: during a reduce, the only symbols destroyed are those which appear on the RHS of the rule, but which are not used inside the C code.
Opcodes that are used as the bottom of a loop (OP_Next, OP_Prev, OP_VNext, OP_RowSetNext, or OP_SorterNext) all jump here upon completion.
Or, if bIncrRowid is non-zero, then each OP_Rowid is transformed into an instruction to increment the value stored in its output register.
Otherwise, for a composite foreign key (more than one column), allocate space for the aiCol array (returned via output parameter *paiCol).
Overflow pages are specified by appending a '+' character and a  six-digit hexadecimal value to the path to the cell they are linked from.
Pre-fill dimensions when using absolute position and both offsets for the axis are defined (either both left and right or top and bottom).
RECURSION IN THE match() FUNCTION The match() function is highly recursive, though not every recursive call increases the recursive depth.
Report an error if the ID list contains a COLLATE clause or an ASC or DESC keyword, except ignore the error while parsing a legacy schema.
Return TRUE if the word ends with three letters which are consonant-vowel-consonent and where the final consonant is not 'w', 'x', or 'y'.
Return a pointer to at least SIZE bytes of storage, which will be automatically reclaimed upon exit from the procedure that called alloca.
Since some systems only support mandatory file-locks, we do not read or write data from the region of the file on which locks are applied.
Since these values do not necessarily correspond to columns in SELECT statement pParent, zero them before transfering the ORDER BY clause.
TODO: Add gdImageGetRowPtr and works with ptr at the row level for the true color and palette images new formats will simply work with ptr
That routine is optimized for the common case of merely incrementing the cell counter BtCursor.aiIdx to the next cell on the current page.
The intkey flag means that the key is an integer which is stored in the key size entry of the cell header rather than in the payload area.
The page that currently resides at pgnoRoot will be moved to the allocated page (unless the allocated page happens to reside at pgnoRoot).
The problem is that in order to update a b-tree, the leaf page (at least) containing the entry being inserted or deleted must be modified.
There is no reason any cursor should have an outstanding reference  to an overflow page belonging to a cell that is being deleted/updated.
This function adds the space associated with each cell in the array that is currently stored  within the body of pPg to the pPg free-list.
This function is used to allocate an Fts3SegReader that iterates through a subset of the terms stored in the Fts3Table.pendingTerms array.
This is clearly something that should be fixed, cause the semantics of isc_wait_for_event() indicate that it blocks until an event occurs.
This is done before the sqlite3BtreeGetPageSize(pMain) call below, to ensure that we do not try to change the page-size on a WAL database.
This looks ridiculous and it is - but we validate the name ourselves using the peer_name ctx option, so just use the CN from the cert here
This means that any OP_RECURSE items within it that refer to the group itself or any contained groups have to have their offsets adjusted.
This restriction is because transforming the parent to a compound query confuses the code that handles recursive queries in multiSelect().
This routine adds datatype and collating sequence information to the Table structures of all FROM-clause subqueries in a SELECT statement.
We can't just unset them all at the start of the whole thing because they may get set in one branch that is not the final matching branch.
We should be safely able to assume the HashTable to be consistent (inconsistent HashTables should have been caught by phpdbg_watch_efree()
When getNextNode() is called, it sets ParseContext.isNot to true if the 'next node' is a  FTSQUERY_PHRASE with a unary "-" attached to it.
Whenever the first page of a main database file is read or  written, the value of the change-counter cookie is stored in rbu_file.iCookie.
While basic arithmetic operators always produce numeric string errors, bitwise operators don't produce errors if both operands are strings
XXX - the actual Single UNIX Specification says that "L" means "long", as in the C data type, but we treat it as meaning "4-byte integer".
hold a zval reference to the stream (holding a php_stream* directly could also be done, but this makes socket_export_stream a bit simpler)
if the socket is in non-blocking mode and there's no data to read, don't output any error, as this is a normal situation, and not an error
it is used to get the fetch type of the HashTable (depending on whether it is empty or not) holds a HashTable for implicit watchpoints ...
output: an XMLRPC_VALUE representing a fault struct in soap style, with xmlrpc codes mapped to soap codes, and all other values preserved.
sqlite3_result_  ******************************* The following routines are used by user-defined functions to specify the function result.
this fp is in use by a phar_entry_data returned by phar_get_entry_data, it will be closed when the phar_entry_data is phar_entry_delref'ed
16-bit is preferred because it uses less memory in the Expr object, which is a big memory user in systems with lots of prepared statements.
All the individual journal files still have 'null' as the master journal pointer, so they will roll back independently if a failure occurs.
At this point the journal has been finalized and the transaction  successfully committed, but the EXCLUSIVE lock is still held on the file.
But if the coroutine launched by this instruction ends with EndCoroutine, then jump to P2 rather than continuing with the next instruction.
But on a BEFORE trigger, we do not know what the unique ID will be (because the insert has not happened yet) so we substitute a rowid of -1
But then Mcafee started using SQLite in their anti-virus product and it started putting files with the "sqlite" name in the c:/temp folder.
Compare the term that the Fts3SegReader object passed as the first argument points to with the term specified by arguments zTerm and nTerm.
DFUNCTION(zName, nArg, iArg, bNC, xFunc) Like FUNCTION except it omits the SQLITE_FUNC_CONSTANT flag and adds the SQLITE_FUNC_SLOCHNG flag.
Empirical testing showed that the *37 multiplier  (an arbitrary prime)in the hash function provided  no fewer collisions than the no-op *1.
For a non-purgeable cache (a cache used as the storage for an in-memory database) there is really no difference between createFlag 1 and 2.
For some Windows sub-platforms, the _beginthreadex() / _endthreadex() functions are not available (e.g. those not using MSVC, Cygwin, etc).
For testing purposes, we can assume that any existential is Any, since we won't be looking at any witness tables that follow the container.
Format for sqlite_stat3 redux:  The sqlite_stat3 table is like sqlite_stat4 except that it only looks at the left-most column of the index.
Fudge the value of "called" so that when it is inserted as an offset below, what it actually inserted is the reference number of the group.
Generate the text of a WHERE expression which can be used to select all temporary triggers on table pTab from the sqlite_temp_master table.
If P2 is non-zero, then a write-transaction is started, or if a  read-transaction is already active, it is upgraded to a write-transaction.
If a WAL transaction is being committed, there is no point in writing any pages with page numbers greater than nTruncate into the WAL file.
If one of these fault codes is received, the description string will automatically be prefixed with a standard error string and 2 newlines.
If srcTab is zero or more, then data is pulled from srcTab and pEList is used only  to get number columns and the datatype for each column.
If the codepoint is an upper case character that has a lower case equivalent, return the codepoint corresponding to the lower case version.
If we don't have free slots in the buffer, allocate a new one and set it's address to GC_ROOT_BUFFER_MAX_ENTRIES that have special meaning.
If you (as a subprogram) store your registers on the stack and find that you are past the contents of B67, you have overflowed the segment.
Images with an alpha channel are only able to resolve down to '1/128th opaque' instead of '1/256th', and this conversion is also automatic.
In all other cases, tempcode will be pointing to the repeat opcode, and will be less than code, so the value of len will be greater than 0.
In the pre-compile phase, do a syntax check, remember the longest name, and then remember the group in a vector, expanding it if necessary.
In this way, if there is a race condition such that another thread has already populated the first page of the database, no damage is done.
It is assumed that the mutex associated with the BtShared object corresponding to the source database is held when this function is called.
It is called from could_be_empty() below and from compile_branch() when checking for an unlimited repeat of a group that can match nothing.
It is the responsibility of the caller to eventually deallocate the allocated  Fts3Expr structure (if any) by passing it to sqlite3_free().
NOTES ON THE DESIGN OF THE PAGER ************************  This comment block describes invariants that hold when using a rollback journal.
Note in particular the content of freelist leaf pages can be changed arbitrarily without affecting the logical equivalence of the database.
OBSOLETE COMMENT 2: Restriction 12:  If the subquery is the right operand of a left outer join, make sure the subquery has no WHERE clause.
On the other hand, it may require more CPU cycles to run MATCH queries, as separate queries of the FTS index are required for each synonym.
Once this is routine has returned, the only thing required to commit the write-transaction for this database file is to delete the journal.
Or, if  there already exists a mapping for this file, and there are still  outstanding xFetch() references to it, this function is a no-op.
Otherwise the collation sequence for the right hand expression is used, or the default (BINARY) if neither expression has a collating type.
P1 contains the address of the memory cell that contains the first memory  cell in an array of values used as arguments to the sub-program.
Passing an empty string ("") or SQL NULL value as the second argument is the same as invoking the 1 argument version of upper() or lower().
PostgreSQL wants params in the connect string to be separated by spaces, if the PDO standard semicolons are used, we convert them to spaces
SEE ALSO XMLRPC_SetValueBase64 () XMLRPC_CreateValueBase64 () NOTES Call XMLRPC_GetValueStringLen() to retrieve real length of binary data.
Since all other locks require a read-lock on one of the bytes within this range, this ensures that no other locks are held on the database.
The arguments after _NAMELENGTH and _CONTENTSLENGTH must be explicitly cast to long in curl_formadd use since curl needs a long not an int.
The caller must check the return value  of this function and be careful not to change any page data unless  this routine returns SQLITE_OK.
The caller must set the cnt parameter to the number of prior calls to this routine during the current read attempt that returned WAL_RETRY.
The destination object is made permanent so that multiple JPEG images can be written to the same file without re-executing jpeg_stdio_dest.
The last thing the sqlite3_prepare() function does is copy the error stored by this function into the database handle using sqlite3Error().
The locking structure keeps a reference count (so we will know when to delete it) and a "cnt" field that tells us its internal lock status.
The name of the author may not be used to endorse or promote products derived from this software without specific prior written permission.
The newly created file's file descriptor is assigned to the conch file structure and finally the original conch file descriptor is  closed.
The number of siblings of the page might be increased or decreased by  one or two in an effort to keep pages nearly full but not over full.
The second element of the array is the index of the child table column that corresponds to the second left-most column of ppIdx, and so on.
The sqlite3DropTriggerPtr() routine does the same job as this routine except it takes a pointer to the trigger instead of the trigger name.
The sqlite3_uri_boolean(F,P,B) routine assumes that P is a boolean parameter and returns true (1) or false (0) according to the value of P.
Then check first 2 bytes for for 1111 0000, xx00 xxxx (overlong sequence), then check for a character greater than 0x0010ffff (f4 8f bf bf)
There is no harm in an application accessing the  file-system via "rbu" all the time, even if it only uses RBU functionality  occasionally.
This array is used to check constants, create the new table and index records, and as the values for any new.* references made by triggers.
This behavior - what happens when the row being updated is deleted or renamed by a BEFORE trigger - is left undefined in the documentation.
This branch is taken when committing a transaction in rollback-journal mode if the database file on disk is larger than the database image.
This check also serves to verify that the offset to the start of the cell-content area, according to the page header, lies within the page.
This file contains the VFS implementation for unix-like operating systems include Linux, MacOSX, *BSD, QNX, VxWorks, AIX, HPUX, and others.
This function is called as part of an sqlite3VdbeSorterRewind() operation on a sorter that has written two or more PMAs to temporary files.
This involves updating the leaf block that contains the smallest unmerged entry and each block (if any) between the leaf and the root node.
This leaves open the possibility of having clients on win95, winNT, and unix all talking to the same shared file and all locking correctly.
This should be used in conjunction with Phar::webPhar(), and has no effect otherwise SCRIPT_NAME, PHP_SELF, REQUEST_URI and SCRIPT_FILENAME
To resolve table columns references we look for nodes (or subtrees) of the  form X.Y.Z or Y.Z or just Z where  X:   The name of a database.
Update the in-memory representation of all UNIQUE indices by converting the final rowid column into one or more columns of the PRIMARY KEY.
We get back the length of the reference string explicitly rather than passing the address of eptr, so that eptr can be a register variable.
When this function is called, buffer *ppList (size *pnList bytes) contains  a position list that may (or may not) feature multiple columns.
pList will be NULL if this is a primary key or unique-constraint on the most recent column added to the table currently under construction.
reg+N          OLD.* value of right-most column of pTab reg+N+1        NEW.rowid reg+N+2        OLD.* value of left-most column of pTab ...
sqlite3BtreeParseCellPtr() uses getVarint32() to extract the payload size, so it is impossible for payloadSize64 to be larger than 32 bits.
sqlite3LocateCollSeq() invokes the collation factory if necessary and generates an error message if the collating sequence cannot be found.
An instance of this function is used to merge together the (potentially large number of) doclists for each term that matches a prefix query.
And it is very important that btreeInitPage() be called on every btree page so we make the call for every page that comes in for re-initing.
Appropriate implementations for sqlite3_os_init() and sqlite3_os_end() are built into SQLite when it is compiled for Unix, Windows, or OS/2.
Block Reordering (saves one JMP on each "for" loop iteration) It is disabled for some cases (ZEND_FREE) which may break register allocation.
But since PAGER_ERROR state guarantees that there is at least one outstanding page reference, this function is a no-op for that case anyhow.
But, according to The Encyclopedia Judaica, Hillel II may have only published the 19 year rule for determining the occurrence of leap years.
Changing the local value does not make changes to the disk file and the default value will be restored the next time the database is opened.
Check connection liveness in the following order: 1) always check OCI_ATTR_SERVER_STATUS 2) see if it's time to ping it 3) ping it if needed
Copy into *YYMSG, which is of size *YYMSG_ALLOC, an error message about the unexpected token YYTOKEN for the state stack whose top is YYSSP.
Deal with this madness by typedeffing 'safeboolean' to 'boolean' if HAVE_BOOLEAN is already set, because this is the test that libjpeg uses.
EVIDENCE-OF: R-63325-48378 The SQLITE_CONFIG_PCACHE2 option takes a single argument which is a pointer to an sqlite3_pcache_methods2 object.
Except, if the 0 byte is preceded by a byte with the 0x80 bit set, then it is not a varint 0, but the tail of some other, multi-byte, value.
FETCH_GLOBAL_LOCK instructs FETCH_W to not free the name_node operand, so it can be reused in the following ASSIGN_REF, which then frees it.
For example, in the above,  sample 2 is the first sample of a block of N samples, so at first it  appears that it should be 1 field in size.
Fortunately, though, all versions of EBCDIC, including this one, agree on most of the printing characters that also appear in (7-bit) ASCII.
Function: gdTransformAffineGetImage Applies an affine transformation to a region and return an image containing the complete transformation.
Giving the size of struct sockaddr_un here and relying on the nul termination of sun_path does not work for paths in the abstract namespace.
However, if this is a subquery within an expression, sqlite3ResolveExprNames() will be called without a prior call to sqlite3SelectExpand().
If B is less than the amount of data that will fit on a single leaf page of an intkey table in this database, then the average docsize is 1.
If a read-only cursor is requested, it is assumed that the caller already has at least a read-only transaction open on the database already.
If control flows to this point, then it was not possible to add the the page being freed as a leaf page of the first trunk in the free-list.
If it is NULL and a value can be successfully extracted, a new UnpackedRecord is allocated (and *ppRec set to point to it) before returning.
If pIdx is not a partial index, *piPartIdxLabel will be set to zero which is an empty label that is ignored by sqlite3ResolvePartIdxLabel().
If palette is true, we convert from truecolor to palette at the end, to test gdImageTrueColorToPalette and see file size/ quality tradeoffs.
If piFirst is not NULL, then this function sets *piFirst to the blockid of the child node that heads the sub-tree that may contain the term.
If the DISTINCT keyword was present on the SELECT statement and this row has been seen before, then do not make this row part of the result.
If the btree is already in a write-transaction, or it is already in a read-transaction and a read-transaction is requested, this is a no-op.
If the database is empty or if no *-wal file exists and if no error occurs, make sure Pager.journalMode is not set to PAGER_JOURNALMODE_WAL.
If the file is unlocked and the file-system does not exhibit the UNDELETABLE_WHEN_OPEN property, the journal file is closed (if it is open).
If the isDirectMode flag is zero, then this is done by calling  sqlite3PagerWrite() on page 1, then modifying the contents of the page data.
If the pager is a temp-file pager and the actual file-system file is not yet open, it is created and opened before any data is  written out.
If the pnByte parameter is NULL, then it is assumed that the file  contains a single PMA, and that that PMA omits the initial length varint.
If there are no aggregate functions in the result-set, and no GROUP BY  expression, do not allow aggregates in any of the other expressions.
If this module is being built as part of the SQLite core (SQLITE_CORE is defined), then sqlite3_open() will call sqlite3Fts5Init() directly.
If we're in compile time, in practice, it's quite possible that we'll never reach this class declaration at runtime, so we shut up about it.
In addition to its current configuration, have the Fts3MultiSegReader passed as the 4th argument also scan the doclist for term zTerm/nTerm.
In order to invoke the connections busy-handler, this function should be invoked with the second (void *) in the array as the only argument.
Injecting a fault at this point  confuses the test scripts - the COMMIT comand returns SQLITE_NOMEM but the transaction is committed anyway.
Instead of trying to balance the 3 right-most leaf pages, just add a new page to the right-hand side and put the one new entry in that page.
It is important to verify that allocations that might have been satisfied by lookaside are not passed back to non-lookaside free() routines.
It is used in assert() statements to ensure that the optimized code in sqlite3VdbeRecordCompare() returns results with these two primitives.
Note that if there is an INTEGER PRIMARY KEY into which a NULL is being inserted, that NULL will be translated into a unique ID for the row.
Note that this may be an under estimate because there are 6939.6896 days in a metonic cycle not 6940, but it will never be an over estimate.
O+ disables creation of interned strings by regular PHP compiler, instead, it creates interned strings in shared memory when saves a script.
Originally, it was either part of sibling page iOld (possibly an overflow cell),  or else the divider cell to the left of sibling page iOld.
Otherwise, it tests whether or not after considering NEAR operators and deferred tokens the current row is still a match for the expression.
Parameters: dst - Where to store the resulting affine transform angle - Shear angle in degrees  Returns: GD_SUCCESS on success or GD_FAILURE
RESULT newly allocated XMLRPC_VALUE, or NULL SEE ALSO XMLRPC_GetValueInt () XMLRPC_CreateValueEmpty () XMLRPC_VALUE XMLRPC_VALUE_TYPE SOURCE
Real offset is memaddress from the original headers + difference of string found in the lowercase headrs + 3 characters to jump over the cc:
Return SQLITE_OK opon successfully updating the system call pointer, or SQLITE_NOTFOUND if there is no configurable system call named zName.
Return the cost of sorting nRow rows, assuming that the keys have  nOrderby columns and that the first nSorted columns are already in order.
See sqlite3Fts3EvalTestDeferred() for details on testing if a row is really a match, taking into account deferred tokens and NEAR operators.
Set sumEq to the sum of  the nEq values for column iCol for the same set (adding the value  only once where there exist duplicate prefixes).
So calling PmaReaderNext() on this PmaReader before any of the multi-threaded PmaReaders takes better advantage of multi-processor hardware.
So for example, if "samplelib" cannot be loaded, then names like "samplelib.so" or "samplelib.dylib" or "samplelib.dll" might be tried also.
So we test the effects of a malloc() failing and the sqlite3OsXXX() function returning SQLITE_IOERR_NOMEM using the DO_OS_MALLOC_TEST macro.
Sometimes the code for a subquery will be generated more than once, if the subquery is part of the WHERE clause in a LEFT JOIN, for example.
Somewhat arbitrary length limit here, but should be way more than anyone needs and avoids file-level warnings later on if we exceed MAX_PATH
The K-th integer in the nLt entry is the number of index entries  where the first K columns are less than the first K columns of the sample.
The first argument passed to the macro should be the error code that will be returned to SQLite (e.g. SQLITE_IOERR_DELETE, SQLITE_CANTOPEN).
The first argument passed to this function is a serial-type that corresponds to an integer - all values between 1 and 9 inclusive  except 7.
The internal details of this type are only accessed by the following functions:  fts3SegWriterAdd() fts3SegWriterFlush() fts3SegWriterFree()
The method called is identified by the second argument, "offset", which is the offset of the method to call in the sqlite3_module structure.
The returned value of this function indicates the b-tree type, as follows:  IN_INDEX_ROWID      - The cursor was opened on a database table.
The structure methods are expected to function as follows:  xCreate: This function is used to allocate and inititalize a tokenizer instance.
The study data is put in the latter, which is pointed to by the former, which may also get additional data set later by the calling program.
The subterms are stored in a WhereClause structure containing within the WhereOrInfo object that is attached to the original OR clause term.
The szSlot, nSlot, pStart, pEnd, nReserve, and isInit values are all fixed at sqlite3_initialize() time and do not require mutex protection.
There are three different approaches to obtaining space for a page, depending on the value of parameter createFlag (which may be 0, 1 or 2).
They are valid from the time SegmentReaderNew() returns until SegmentReaderNext() returns something other than SQLITE_OK (i.e. SQLITE_DONE).
This function attempts to tokenize the entire input buffer and create an Fts3Expr structure of type FTSQUERY_PHRASE  containing the results.
This function is called when an UPDATE or DELETE operation is being  compiled on table pTab, which is the parent table of foreign-key pFKey.
This function is used to count the entries in a column-list (a  delta-encoded list of term offsets within a single column of a single  row).
This is a demonstration program to illustrate the most straightforward ways of calling the PCRE regular expression library from a C program.
This means if the page is made writable at any point in the future, using a call to sqlite3PagerWrite(), its contents will not be journaled.
This prevents old and new frames in the WAL from being considered valid at the same time and being checkpointing together following a crash.
This routine is only called from the OP_JournalMode opcode, and the logic there will never allow a temporary file to be changed to WAL mode.
This routine is used to check if the UTF-8 string zName is a legal unqualified name for a new schema object (table, index, view or trigger).
This routine uses Thomas' incremental distance calculation method to find the distance from a colormap entry to successive cells in the box.
This table is used when converting repeating opcodes into possessified versions as a result of an explicit possessive quantifier such as ++.
To clear the most recent error for sqlite handle "db", sqlite3Error should be called with err_code set to SQLITE_OK and zFormat set to NULL.
Using zend_long would truncate a 64-bit var on Win64, so the exact long datatype fits everywhere, as long as there's no 32-bit int overflow.
When we have a match and the offset vector is big enough to deal with any backreferences, captured substring offsets will already be set up.
_zip_readcdir: tries to find a valid end-of-central-directory at the beginning of buf, and then the corresponding central directory entries.
actually, only want this if static is defined as "" -- this is for usg, in which emacs must undefine static in order to make unexec workable
close those descriptors that we just opened for the parent stuff, dup new descriptors into required descriptors and close the original cruft
don't assign closure_object since we only reflect the invoke handler method and not the closure definition itself, even if we have a closure
force correct order on enclosing/enclosed stream destruction (only from resource destructor as in when reverse destroying the resource list)
it doesn't matter that we do some hash traversal here, since it is done only in an error condition arising from a network connection problem
nRow is the sum of the number of rows in the main program, plus the sum of the number of rows in all trigger subprograms encountered so far.
putmbi ------ Put a multibyte intgerer in some kind of output stream I work here with a function pointer, to make it as generic as possible.
simulate the append mode by fseeking to the end of the file this introduces a potential race-condition, but it is the best we can do, though
sqlite3MemdebugHasType() returns true if any of the bits in its second argument match the type set by the previous sqlite3MemdebugSetType().
sqlite3MemdebugNoType() returns true if none of the bits in its second argument match the type set by the previous sqlite3MemdebugSetType().
this will read in php.ini, set up the configuration parameters, load zend extensions and register php function extensions to be loaded later
varintRecordCompareInt() also assumes that it is safe to overread a buffer by at least the  maximum possible legal header size plus 8 bytes.
(If the destination is not initially empty, the rowid fields of index entries might need to change.)  (2) The destination has a unique index.
A given callback will only ever be called once, the first time an introspection request is processed after the time of callback registration.
A pointer to this structure is passed into extensions when they are loaded so that the extension can make calls back into the SQLite library.
Actually we compute the coordinates of the center of the upper-corner histogram cell, which are the upper bounds of the volume we care about.
Adjust the WhereLoop.nOut value downward to account for terms of the WHERE clause that reference the loop but which are not used by an index.
After the "shift" half of a SHIFTREDUCE action, the stateno field actually contains the reduce action for the second half of the SHIFTREDUCE.
An instance of the following structure holds information about a single index record that has already been parsed out into individual values.
At the pager level, a statement transaction is a savepoint with an index greater than all savepoints created explicitly using SQL statements.
Attempt to add, substract, or multiply the 64-bit signed value iB against the other 64-bit signed integer at *pA and store the result in *pA.
But as long as you do not compile with SQLITE_OMIT_AUTOINIT this routine will be called automatically by key routines such as sqlite3_open().
CALENDAR OVERVIEW  The French republican calendar was adopted in October 1793 during the French Revolution and was abandoned in January 1806.
CAPI3REF: Convenience Routines For Running Queries METHOD: sqlite3  This is a legacy interface that is preserved for backwards compatibility.
Convert TK_COLUMN nodes into TK_AGG_COLUMN and make entries in sAggInfo for all TK_AGG_FUNCTION nodes in expressions of the SELECT statement.
Copy as much content as we can from the WAL back into the database file in response to an sqlite3_wal_checkpoint() request or the equivalent.
Each SQLite module (virtual table definition) is defined by an instance of the following structure, stored in the sqlite3.aModule hash table.
Estimate the number of rows that will be returned based on an IN constraint where the right-hand side of the IN operator is a list of values.
Except, if Pager.eLock is set to UNKNOWN_LOCK when this function is  called, do not modify it unless the new locking state is EXCLUSIVE_LOCK.
For each codepoint in the zIn/nIn string, this function checks if the sqlite3FtsUnicodeIsalnum() function already returns the desired result.
For example, either of the following:  (bracketed expression) NEAR phrase phrase NEAR (bracketed expression)  Return an error in either case.
For the purposes of immediate FK constraints, the OR REPLACE conflict resolution is considered to delete rows before the new row is inserted.
If SQLITE_ENABLE_STAT3/4 was defined during compilation and the  sqlite_stat4 table is not present in the database, SQLITE_ERROR is returned.
If SQLITE_HAS_MUTEX is defined then the number returned is the greater of the current reserved space and the maximum requested reserve space.
If another thread changes the autocommit status of the database connection while this routine is running, then the return value is undefined.
If any data has been written (but not committed) to the log file, this function moves the write-pointer back to the start of the transaction.
If argument apVal is not NULL, then it must point to an array with at least as many entries as the requested statement has bound  parameters.
If malloc() failed during an encoding conversion within an sqlite3_column_XXX API, then set the return code of the statement to SQLITE_NOMEM.
If the connection is open in WAL-mode, a WAL write transaction is open (i.e. sqlite3WalBeginWriteTransaction() has been successfully called).
If the database page size is not a power of two, or is greater than SQLITE_MAX_PAGE_SIZE, conclude that the WAL file contains no valid  data.
If the expression evaluates to NULL (neither true nor false) then jump if jumpIfNull is SQLITE_JUMPIFNULL or fall through if jumpIfNull is 0.
If the memory cell contains a value that must be freed by invoking the external callback in Mem.xDel, then this routine will free that value.
If the record identified by P3 and P4 is a prefix of any entry in P1 then a jump is made to P2 and P1 is left pointing at the matching entry.
If we are SQL_VARCHAR, SQL_VARBINARY, or SQL_WVARCHAR (or any of the long variations) and zero is returned from colsize then consider it long
In other words, if iSyncPoint is in between iOffset and iOffset+iAmt, first write the part before iSyncPoint, then sync, then write the rest.
In the more common case where writable static data is supported, wsdPrng can refer directly to the "sqlite3Prng" state vector declared above.
In the more common case where writable static data is supported, wsdStat can refer directly to the "sqlite3Stat" state vector declared above.
In this case call the balance_deeper() function to create a new child for the root-page and copy the current contents of the root-page to it.
In this case, no temporary files are required and subsequent calls to Rowkey(), Next() and Compare() read records  directly from main memory.
License is also granted to make and use derivative works provided that such works are identified as "derived from the RSA Data Security, Inc.
Note that POS_END and POS_COLUMN occur  in the same logical place as the position element, and act as sentinals ending a position list array.
Our safety measure is meant to protect from such many-buggy to one-correct collisions, by deviating from the correct algorithm in such cases.
Pages are then played back from the sub-journal file, starting with the PagerSavepoint.iSubRec and continuing to the end of the journal file.
Real offset is memaddress from the original headers + difference of string found in the lowercase headrs + 4 characters to jump over the bcc:
Return the maximum amount of memory that has ever been checked out since either the beginning of this process or since the most recent reset.
Set signal handler of SIGCHLD to default to prevent other signal handlers from being called and reaping the return code when our child exits.
Since the comparison is to be performed with no conversions applied to the operands, set the affinity to apply to pRight to  SQLITE_AFF_BLOB.
The Jewish calendar has been in use for several thousand years, but in the early days there was no formula to determine the start of a month.
The idea is that this function works like a combination of GetLastError() and FormatMessage() on Windows (or errno and strerror_r() on Unix).
The makefile for SQLite generates two C files "opcodes.h" and "opcodes.c" by scanning this file looking for lines that begin with "case OP_".
The memory allocation and mutex subsystems have not necessarily been initialized when this routine is called, and so they should not be used.
The names of the authors may not be used to endorse or promote products derived from this software without specific prior written permission.
The return value of winGetLastErrorMsg is zero if the error message fits in the buffer, or non-zero otherwise (if the message was truncated).
The returned value is either PAGER_LOCKINGMODE_NORMAL or PAGER_LOCKINGMODE_EXCLUSIVE, indicating the current (possibly updated) locking-mode.
The sqlite3_uri_int64(F,P,D) routine converts the value of P into a 64-bit signed integer and returns that integer, or D if P does not exist.
The third argument is a generic pointer intended to point to a structure that may contain arguments or space in which to write return values.
Then reduce the compiled code to just a set of non-capturing brackets so that it doesn't use much memory if it is duplicated by a quantifier.
There are two complications: (a) When CRLF is a valid newline sequence, and the current position is just before it, advance by an extra byte.
There is at most one AutoincInfo structure per table even if the same table is autoincremented multiple times due to inserts within triggers.
There is one locking structure per inode, so if the same inode is opened twice, both unixFile structures point to the same locking structure.
These should allow users to continue to use their current scripts, but should in reality warn the user that this functionality is deprecated.
These terms are moved over to the WHERE clause during join processing but we need to remember that they originated in the ON or USING clause.
This can be used in an attempt to keep related pages close to each other in the database file, which in turn can make database access faster.
This helper routine to saveAllCursors does the actual work of saving the cursors if and when a cursor is found that actually requires saving.
This is necessary for the correct constraint check processing (in sqlite3GenerateConstraintChecks()) as part of UPDATE and INSERT statements.
This is required in case any of them are holding references to an xFetch version of the b-tree page modified by the accessPayload call below.
This is to keep the static variables organized and to reduce namespace pollution when this module is combined with other in the amalgamation.
This means the database cannot be opened, as it will not be possible to open the journal file or even check for a hot-journal before reading.
This value specifies the size of stack workspace that is used during the first pre-compile phase that determines how much memory is required.
We allow very simple pattern matching for filter factories: if "convert.charset.utf-8/sjis" is requested, we search first for an exact match.
When converting from UTF-8 to UTF-16 the maximum growth is caused when a 1-byte UTF-8 character is translated into a 2-byte UTF-16 character.
When that file became too big (over 6000 lines long) it was split up into several smaller files and this header information was factored out.
XXX - the actual Single UNIX Specification says that "long" means "long", as in the C data type, but we treat it as meaning "4-byte integer".
bring php repository up to date with xmlrpc-epi version 0.51  Revision 1.9  2002/07/03 20:54:30  danda root element should not have a parent.
for performance reasons the code is duplicated, so that the if (include_new_line) will not need to be done for every single line in the file.
function    : Q_PushHead  purpose     : put a data pointer at the head of the queue  parameters  : 'queue' pointer, void pointer to the data.
options not implemented case LDAP_OPT_SERVER_CONTROLS: case LDAP_OPT_CLIENT_CONTROLS: case LDAP_OPT_API_INFO: case LDAP_OPT_API_FEATURE_INFO:
sqlite3_test_control(FAULT_INSTALL, xCallback)  Arrange to invoke xCallback() whenever sqlite3FaultSim() is called, if xCallback is not NULL.
the impersonated token can't be set here as the impersonation will happen later, in fcgi_accept_request (or whatever is the SAPI being used).
xQueryPhrase(pFts5, iPhrase, pUserData, xCallback): This API function is used to query the FTS table for phrase iPhrase of the current query.
zMasterSchema and zInitScript are set to point at the master schema and initialisation script appropriate for the database being initialized.
(If the block special device really has zero length, the fact that it is empty will be detected and reported correctly when we read the file.)
Assert that if bFromValid was true, either:  a) an error occurred, or b) the node is now at EOF, or c) the node is now at or past rowid iFrom.
At the end of compiling, code is still pointing to the start of the group, while tempcode has been updated to point past the end of the group.
Calling this function with "t2" as the argument would return a NULL pointer (as there are no FK constraints for which t2 is the parent table).
Code external to the Vdbe then "borrows" the b-tree cursor and uses it to implement the blob_read(), blob_write() and  blob_bytes() functions.
Configure the VM passed as the first argument with an sqlite3_stmt_scanstatus() entry corresponding to the scan used to  implement level pLvl.
For KET, return SSB_CONTINUE: if this is the top level, that indicates failure, but after a nested subpattern, it causes scanning to continue.
For example, if an exception was thrown in a function and when the function's local variable destruction results in a destructor being called.
From another view, these class members describe the "state" of the pager, while other class members describe the "configuration" of the pager.
Given a character, set its first byte's bit in the table, and also the corresponding bit for the other version of a letter if we are caseless.
I would support a wider range of dates, but I have not been able to find an authoritative definition of when leap years were to have occurred.
I.2) For each FK for which the table is the parent table,  search the child table for rows that correspond to the new row in the parent table.
If SQLITE_PCACHE_SEPARATE_HEADER is defined, then the extension is obtained using a separate memory allocation from the database page content.
If a standalone diacritic mark (one that sqlite3FtsUnicodeIsdiacritic() identifies as a diacritic) occurs in the zIn/nIn string it is ignored.
If no value has been provided for SQLITE_MAX_WORKER_THREADS, or if SQLITE_TEMP_STORE is set to 3 (never use temporary files), set it  to zero.
If the expression is not constant then we will need to disable the test that was generated above that makes sure this code only executes once.
If the opcode is TK_TRIGGER, then the expression is a reference to a column in the new.* or old.* pseudo-tables available to trigger programs.
If the sibling pages are not leaves, then the pointer map entry  associated with the right-child of each sibling may also need to be  updated.
If the user has not indicated to use localtime_r() or localtime_s() already, check for an MSVC build environment that provides  localtime_s().
If there are one or more deferred tokens, load the current row into memory and scan it to determine the position list for each deferred token.
If you are unlucky, one of those deleted indices or tables might have the same rootpage number as the real table or index that is being moved.
In case the child is position absolute and has left/top being defined, we override the position to whatever the user said (and margin/border).
In earlier versions, the whole set of potential capturing offsets was set to -1 each time round the loop, but this is handled differently now.
In some cases, the pcache module may choose not to allocate a new page object and may reuse an existing object with no outstanding references.
In this case, even if SQLITE_ENABLE_STAT3/4 was defined  during compilation and the sqlite_stat3/4 table is present, no data is  read from it.
In this situation, the compressor will return to its caller (possibly with an indication that it has not accepted all the supplied scanlines).
It's a bit baroque to remove a signal stack here only to add one in minit, but it's a simple change that keeps NetBSD working like other OS's.
More specifically, this function attempts to re-organize the database so  that the last page of the file currently in use is no longer in use.
Normal operation (without SQLITE_TEST_REALLOC_STRESS) is to double the current size of the op array or add 1KB of space, whichever is smaller.
Note that in UTF-8 mode, '.' matches a character of any length, but for the other character types, the valid characters are all one-byte long.
Or, if the table does have an external primary key index, then *piPk is set to the root page number of the primary key index before returning.
Otherwise, set *pRes to a negative, zero or positive value if the key in pVal is smaller than, equal to or larger than the current sorter key.
Real offset is memaddress from the original headers + difference of string found in the lowercase headrs + 5 characters to jump over the from:
That routine is optimized for the common case of merely decrementing the cell counter BtCursor.aiIdx to the previous cell on the current page.
The first integer is the approximate number of entries in the index whose left-most column exactly matches the left-most column of the sample.
The first process cannot proceed because it is blocked by the second and the second process cannot proceed because it is blocked by the first.
The following line of code (and the "p++" below the while() loop) is normally all that is required to move pointer p to the desired  position.
The lower 16-bits of the sqlite3_index_info.idxNum value set by the xBestIndex() method contains the Fts3Cursor.eSearch value described above.
The master journal page checksum is the sum of the bytes in the master journal name, where each byte is interpreted as a signed 8-bit integer.
The new freeblock is at the beginning of the cell content area, so just extend the cell content area rather than create another freelist entry
The overrun tests check for a slightly smaller size so that they detect the overrun before it actually does run off the end of the data block.
The return value is -1 if no dequoting occurs or the length of the dequoted string, exclusive of the zero terminator, if dequoting does occur.
The sector size will be used  to determine the size and alignment of journal header and  master journal pointers within created journal files.
The system strives to keep free space after the last cell pointer so that new cells can be easily added without having to defragment the page.
The underlying VFS might choose to preallocate database file space based on this hint in order to help writes to the database file run faster.
There must be at least one argument passed to this function (otherwise the non-overloaded version would have been called instead of this one).
This file implements a special kind of sqlite3_file object used by SQLite to create journal files if the atomic-write optimization is enabled.
This function changes the page's  page number to iNew and sets the value of the PgHdr.flags field to  the value passed as the third parameter.
This function may return SQLITE_NOMEM if a memory allocation fails, or an IO error code if an IO error occurs while rolling back a  savepoint.
This implementation exists purely as a contingency, in case some malfunction in some other part of SQLite causes Sync to be called by mistake.
This is a fudge that causes a compile-time error if the vector eint, which is indexed by compile-time error number, is not the correct length.
This is somewhat different than other callbacks because if the user returns 1, we will interpret that as saying that this message has no body.
Three SQL functions - stat_init(), stat_push(), and stat_get() - share an instance of the following structure to hold their state information.
To get around these problems, we apply Thomas' method to compute the nearest colors for only the cells within a small subbox of the histogram.
To overcome this problem, a separate data structure called the wal-index is maintained to expedite the search for frames of a particular page.
Two UNIQUE or PRIMARY KEY constraints are considered equivalent (and thus suppressing the second one) even if they have different sort orders.
Unlike VdbeRecordCompare(), this function deserializes and compares values using the sqlite3VdbeSerialGet() and sqlite3MemCompare() functions.
We can't count on the environment variables TEMP or TMP, and so must make the Win32 API call to get the default directory for temporary files.
When converting floating-point integers less than 1e16, we use floating-point arithmetic rather than resorting to multiple-precision integers.
are a (signed) number, so that neither ERR63 nor ERR29 will be called on this path, nor with the jump to OTHER_CHAR_AFTER_QUERY ever be taken.
dedicated implementation for increased performance: - Make the content type lowercase - Trim descriptive data, stay with the content-type only
lengthptr         NULL during the real compile phase points to length accumulator during pre-compile phase Returns:            TRUE on success
pCurrent gets an accurate estimate of the amount of memory used to store the schema for all databases (main, temp, and any ATTACHed databases.
sqlite3WalOpenSnapshot gets a read lock and preserves the current state even if the other threads or processes write to or checkpoint the WAL.
(b) is important because if more than  one database file has an open write transaction, a master journal file is required for an atomic commit.
A simple clamping of the error values to about +- MAXJSAMPLE/8 works pretty well, but the smoother transfer function used below is even better.
After eliminating duplicates from other WHERE clauses, the action for each sub-WHERE clause is to to invoke the main loop body as a subroutine.
Arguments: c           the character data        points to the flag byte of the XCLASS data Returns:      TRUE if character matches, else FALSE
Arguments: ptr        points to the first letter len        the length of the name Returns:     a value representing the name, or -1 if unknown
Because this intermediate value only needs 36 to 37 bits and the other numbers are constants, the process has been reduced to just a few steps.
But by the time the value is used, the original register may have been used, invalidating the underlying buffer holding the text or blob value.
But sqlite3SrcListShiftJoinType() later shifts the jointypes so that each jointype expresses the join between the table and the previous table.
But the error is not detected until much later, and so we need to go ahead and resolve those symbols on the incorrect ORDER BY for consistency.
CAPI3REF: Memory Allocation Routines  An instance of this object defines the interface between SQLite and low-level memory allocation routines.
CUSTOM AUXILIARY FUNCTIONS  Virtual table implementations may overload SQL functions by implementing the sqlite3_module.xFindFunction() method.
Construct a record from the query result, but instead of saving that record, use it as a key to delete elements from the temporary table iParm.
EVIDENCE-OF: R-22035-46182 The SQLITE_CONFIG_GETPCACHE2 option takes a single argument which is a pointer to an sqlite3_pcache_methods2 object.
EVIDENCE-OF: R-65033-28449 The built-in BINARY collation compares strings byte by byte using the memcmp() function from the standard C library.
FIXME the idea of checking to see if our connection is already persistent is good, but it adds a lot of overhead to non-persistent connections.
Fill in length of a previous callout, except when the next thing is a quantifier or when processing a property substitution string in UCP mode.
Higher level routines have already obtained the necessary locks to begin the write-transaction, but the rollback journal might not yet be open.
However, doing that would require us to create an xmlrpc value from the php array, which is rather expensive, especially if it was a big array.
However, these macros may also be used to suppress warnings related to parameters that may or may not be used depending on compilation options.
IMPLEMENTATION-OF: R-46199-30249 SQLite guarantees that the second argument to xRealloc is always a value returned by a prior call to xRoundup.
If after trying to extract new entries from the header, nHdrParsed is still not up to p2, that means that the record has fewer than p2 columns.
If an immediate foreign key constraint is violated, SQLITE_CONSTRAINT_FOREIGNKEY is returned and the current statement transaction rolled back.
If argument zFunc is not NULL, then all but the first question mark is preceded by zFunc and an open bracket, and followed by a closed bracket.
If pTemplate cannot supplant any existing element of the list but needs to be added to the list, then return a pointer to the tail of the list.
If the "unordered" keyword is present, then the query planner assumes that the index is unordered and will not use the index for a range query.
If the cursor is already pointing to the correct row and that row has not been deleted out from under the cursor, then this routine is a no-op.
If this is a scalar select that is part of an expression, then store the results in the appropriate memory cell and break out of the scan loop.
If we have just passed a CR and the newline option is ANY or ANYCRLF, and we are now at a LF, advance the match position by one more character.
If you close a file descriptor that points to a file that has locks, all locks on that file that are owned by the current process are released.
In the more common case where writable static data is supported, wsdHooks can refer directly to the "sqlite3Hooks" state vector declared above.
In this case foreign keys are parsed, but no other functionality is  provided (enforcement of FK constraints requires the triggers sub-system).
It is the  responsibility of the caller to eventually release the structure by passing the pointer returned by this function to sqlite3_free().
NULL is returned if the result column is an expression or constant or anything else which is not an unambiguous reference to a database column.
Name:  SendText Input:       1) RPath:   return path of the message Is used to fill the "Return-Path" and the "X-Sender" fields of the message.
New data which itself is larger than STANDALONE_MIN (default 1024) is placed in a standalone node (a leaf node with a single term and doclist).
Otherwise, it invokes the vdbePmaReaderIncrMergeInit() function with the parameters passed to this routine to initialize the incremental merge.
Otherwise, the cursor is set to point to the first cell located on the root (or virtual root) page and the cursor state is set to CURSOR_VALID.
Parameters: dst - Where to store the resulting affine transform angle - Rotation angle in degrees  Returns: GD_SUCCESS on success or GD_FAILURE
Putting the top-level on the stack rather than malloc-ing them all gives a performance boost in many cases where there is not much "recursion".
RESULT newly allocated XMLRPC_VALUE, or NULL SEE ALSO XMLRPC_GetValueString () XMLRPC_CreateValueEmpty () XMLRPC_VALUE XMLRPC_VALUE_TYPE SOURCE
SQLite expects that the sqlite3_file.pMethods element will be valid after xOpen returns regardless of the success or failure of the xOpen call.
Set the sqlite3_file.pMethods pointer and, if the file is a main database file, link it into the mutex protected linked list of all such files.
Silence complaints from purify about yygotominor being uninitialized in some cases when it is copied into the stack after the following switch.
So, even if an error occurs in the pager layer, reset the b-tree objects internal state to indicate that the write transaction has been closed.
The SQLITE_IOCAP_IMMUTABLE flag indicates that the file is on read-only media and cannot be changed even by processes with elevated privileges.
The actual size of the created mapping is either the requested size or the value configured using SQLITE_FCNTL_MMAP_SIZE, whichever is smaller.
The basic blocks of regular expressions are condition checkers whose execute different commands depending on the result of the condition check.
The caller needs to invoke sqlite3PcacheFetchFinish() to properly initialize the sqlite3_pcache_page object and convert it into a PgHdr object.
The common case is that no cursors need to be saved, so this routine is broken out from its caller to avoid unnecessary stack pointer movement.
The database size was written into the offset 28 of the header when the transaction started, so we know that the value at offset 28 is nonzero.
The fcntl() system call is only invoked to set a  POSIX lock if the internal lock structure transitions between a locked and an unlocked state.
The local variables YYSIZE and YYSTACKSIZE give the old and new number of elements in the stack, and YYPTR gives the new location of the stack.
There are some optimizations that avoid running the match if a known starting point is not found, or if a known later character is not present.
These are the indicator bits and the mask for the data bits to set in the first byte of a character, indexed by the number of additional bytes.
This client will not need to read any frames earlier than minFrame from the wal file - they can be safely read directly from the database file.
This ensures that the RBU extension never tries to update a database in wal mode, even if the first page of the database file has been damaged.
This function is called to edit the position list associated with the phrase object passed as the fifth argument according to a NEAR condition.
This function is similar to sqlite3Fts5IterPoslist(), except that it copies the position list into the buffer supplied as the second  argument.
This instruction compares a prefix of the record blob in register P3 against a prefix of the entry that  the sorter cursor currently points to.
This is not actually a problem, but it does cause a valgrind error when the 1 or 2 bytes of unitialized  data is passed to system call write().
This is the same database handle that was the first argument to the sqlite3_prepare() that was used to create the statement in the first place.
This works  around a bug in BSD NFS lockd (also seen on MacOSX 10.3+) that fails to  remove the write lock on a region when a read lock is set.
To look at it another way, this routine resets the state of the virtual machine from VDBE_MAGIC_RUN or VDBE_MAGIC_HALT back to VDBE_MAGIC_INIT.
Update the sqlite_sequence table by storing the content of the maximum rowid counter values recorded while inserting into autoincrement tables.
We set the "hit end" flag if the pointer is at the end of the subject and also past the start of the subject (i.e. something has been matched).
Write access is required because  in exclusive-access mode the file descriptor will be kept open  and possibly used for a transaction later on.
ZEND_FAST_CALL can not share temporary var with others since the fast_var could also be set by ZEND_HANDLE_EXCEPTION which could be ahead of it
isConsonant() and isVowel() determine if their first character in the string they point to is a consonant or a vowel, according to Porter ruls.
makes no representations concerning either the merchantability of this software or the suitability of this software for any particular purpose.
set the manifest meta-data: 4: uncompressed filesize 4: creation timestamp 4: compressed filesize 4: crc32 4: flags 4: metadata-len +: metadata
stupid hack to make zend_do_fcall_common_helper return ZEND_VM_ENTER() instead of recursively calling zend_execute() and eventually segfaulting
we can't convert from packed to hash during unserialization, because reference to some zvals might be keept in var_hash (to support references)
A memory allocation of a number of bytes which is near the maximum signed integer value might cause an integer overflow inside of the xMalloc().
A second exception is when the .* appears inside an atomic group, because this prevents the number of characters it matches from being adjusted.
A variable-length integer consists of the lower 7 bits of each byte for all bytes that have the 8th bit set and one byte with the 8th bit clear.
Additionally, successful attempts to obtain exclusive xShmLock() WRITER, CHECKPOINTER and READ0 locks on the target  database file are recorded.
And instead of referencing the variable directly, we use its constant as a key to lookup the run-time allocated buffer that holds real variable.
Another thread or process might be writing the header at the same time this procedure is trying to read it, which might result in inconsistency.
At the end of this call, the rollback journal still exists on the disk and we are still holding all locks, so the transaction has not committed.
CAPI3REF: Formatted String Printing Functions  These routines are work-alikes of the "printf()" family of functions from the standard C library.
Calling assert_pager_state() would fail now, as it should not be possible to be in ERROR state when there are zero outstanding page  references.
Function parameter nKeep contains the value of the "nPrefix" field (if there was one - it is passed 0 if this is the first term in the segment).
Government and others acting in its behalf permission to use and distribute the software in accordance with the terms specified in this license.
However, if the WHERE_SORTBYGROUP flag is also passed to sqlite3WhereBegin(), then this function may be called on the returned WhereInfo object.
If SQLITE_UTF16 is specified as the encoding type, transform this to one of SQLITE_UTF16LE or SQLITE_UTF16BE using the SQLITE_UTF16NATIVE macro.
If any database other than TEMP is reset, then also reset TEMP since TEMP might be holding triggers that reference tables in the other database.
If createFlag is 1, then a new page is created only if that can be done without spilling dirty pages and without exceeding the cache size limit.
If it could, we must look outwards for branches at other levels, stopping when we pass beyond the bracket which is the subject of the recursion.
If parameter zFunc is not NULL, then instead of being returned directly each column of text data is passed to an SQL function named zFunc first.
If the OPFLAG_CLEARCACHE bit is set on P5 and P1 is a pseudo-table cursor, then the cache of the cursor is reset prior to extracting the column.
If the bit corresponding to this variable in Vdbe.expmask is set, then  binding a new value to this variable invalidates the current query plan.
If the collation factory does not supply such a sequence, and the sequence is available in another text encoding, then that is returned instead.
If the cursor is currently on the last row and we are appending a new row onto the end, set the "loc" to avoid an unnecessary btreeMoveto() call
If the error occurs during the first call to sqlite3BtreeCommitPhaseOne(), then there is a chance that the master journal file will be orphaned.
If the following global variable points to a string which is the name of a directory, then that directory will be used to store temporary files.
If the free-list is currently empty, or if the first trunk page in the free-list is full, then this page will become a new free-list trunk page.
If the month is 4 to 7, it is considered whether it is a leap year and then simple subtraction from the beginning of the following year is used.
If the payload will not fit completely on the local page, we have to decide how much to store locally and how much to spill onto overflow pages.
If this happens, it is the responsibility of the caller to invoke the correct balancing routine to fix this problem (see the balance() routine).
If this is not a possibly empty group, and there are no (*THEN)s in the pattern, and this is the final alternative, optimize as described above.
If we hit an unclosed bracket, we return "empty" - this means we've struck an inner bracket whose current branch will already have been scanned.
In the more common case where writable static data is supported, wsdStat can refer directly to the "sqlite3Autoext" state vector declared above.
Information about the current state of the WAL file and where the next fsync should occur - passed from sqlite3WalFrames() into walWriteToLog().
MemPage is the extension added by the btree.c module containing information such as the database page number and how that database page is used.
Most database people will tell you that in a well-normalized database, you usually should not have more than a dozen or so columns in any table.
Normally you would call zval_copy_ctor( pz_ch ), or SEPARATE_ZVAL, but those create new zvals, which is already being done in add_assoc_resource
Normally, if a transaction is rolled back, any backup processes are updated as data is copied out of the rollback journal and into the database.
Note that the repeated item starts at tempcode, not at previous, which might be the first part of a string whose (former) last char we repeated.
Often, v-tables store their data in other SQLite tables, which are queried from within xNext() and other v-table methods using prepared queries.
Other values in the md block are used only during "normal" pcre_exec() processing, not when the JIT support is in use, so they are set up later.
REPLACE means that preexisting database rows that caused a UNIQUE constraint violation are removed so that the new insert or update can proceed.
RESULT const char*  pointer to the newly allocated value string, or NULL SEE ALSO XMLRPC_GetValueString () XMLRPC_VALUE XMLRPC_VALUE_TYPE SOURCE
RESULT newly allocated XMLRPC_VALUE, or NULL SEE ALSO XMLRPC_GetValueBoolean () XMLRPC_CreateValueEmpty () XMLRPC_VALUE XMLRPC_VALUE_TYPE SOURCE
ROLLBACK processing means that a constraint violation causes the operation in process to fail and for the current transaction to be rolled back.
Regardless of whether or not an error is returned, it is the responsibility of the caller to call sqlite3_free() on the output array to free it.
Return False if pBuilder does not contain an ORDER BY clause or if there is no way for pIndex to be useful in implementing that ORDER BY clause.
Return either the pDef argument (indicating no change) or a  new FuncDef structure that is marked as ephemeral using the SQLITE_FUNC_EPHEM flag.
Sign extension in the first char has no effect - nothing to overwrite yet, and those extra 24 bits will be fully shifted out of the 32-bit word.
The argument specifies alternative low-level memory allocation routines to be used in place of the memory allocation routines built into SQLite.
The checksum values are always stored in the frame header in a big-endian format regardless of which byte order is used to compute the checksum.
The code generated by this function scans through the rows in the child table that correspond to the parent table row being deleted or inserted.
The code to actually verify the schema cookie will occur at the end of the top-level VDBE and will be generated later, by sqlite3FinishCoding().
The first integer in nLt contains the number of entries in the index where the left-most column is less than the left-most column of the sample.
The head structure has a pointer to the most-recently-used element, and elements are moved to this position in the list each time they are used.
The other thread has signaled us on this pipe and we've received the signal, now we need to read all the data so we can select on this fd again.
The rule of the previous sentence ensures thta if X is the bitmask for a table T, then X-1 is the bitmask for all other tables to the left of T.
Then as long as the pattern string remains the same, the compiled regular expression can be reused on multiple invocations of the same function.
These lists are short, as they are used for characters with more than one "other case", so there is no point in recognizing them for OP_NOTPROP.
This file contains routines used for walking the parser tree and resolve all identifiers by associating them with a particular table and column.
This file contains the implementation of the sqlite3_prepare() interface, and routines that contribute to loading the database schema from disk.
This isn't needed per-se because the OS will clean-up anyway, but having and calling this will ensure Valgrind doesn't output 'false positives'.
This means that the maximum number of record bytes stored on an index B-Tree page is less than 16384 bytes and may be stored as a 2-byte varint.
This must come before including pcreposix.h, where they are set for an application (using these functions) if they have not previously been set.
This routine is intended to get memory to old large transient data structures that would not normally fit on the stack of an embedded processor.
Types 10 and 11 are currently "reserved for future  use", so it doesn't really matter what the results of comparing them to numberic values are.
Unlike memcmp() this routine is guaranteed to return the difference in the values of the last digit if the only difference is in the last digit.
We do this by setting the "end of previous match" offset, because that is picked up at the top of the loop as the point at which to start again.
We don't know how many are started and not yet finished (offset_top records the completed total) so we just have to save all the potential data.
We duplicate the file descriptor, because fclose on a tmpfile will delete the file, but any open descriptors can still access the phantom inode.
We want to avoid using a modulus because that simply tosses the high-order bits and might skew the distribution of random values over the range.
php_stream_cast() casts to int internally, and this will leave the higher bits of a SOCKET variable uninitialized on systems with little endian.
(The stack grows from low addresses to high addresses.)  The initial part of the stack segment linkage control information is 0200 (octal) words.
+ 1 byte for a "new column" byte, + 3 bytes for a new column number (16-bit max) as a varint, + 5 bytes for the new position offset (32-bit max).
A statement transaction allows the changes made by this VDBE to be rolled back after an error without having to roll back the entire transaction.
AGGREGATE(zName, nArg, iArg, bNC, xStep, xFinal) Used to create an aggregate function definition implemented by the C functions xStep and xFinal.
Allocating database file space in large chunks (say 1MB at a time), may reduce file-system fragmentation and improve performance on some systems.
An instance of the following structure can be declared on a stack and used to save the Parse.zAuthContext value so that it can be restored later.
An instance of this structure is used by the parser to record both the parse tree for an expression and the span of input text for an expression.
As the bits take less space in the protocol than the numbers they represent, we don't have enough space in the packet buffer to overwrite inside.
Assuming the amount of memory used never exceeds a threshold, when Rewind() is called the set of records is sorted using an in-memory merge sort.
But if the VDBE has just been set to run but has not actually executed any instructions yet, leave the main database error information unchanged.
But it is a useful visualization aid.) Then a WherePath object is a path through the graph that visits some or all of the WhereLoop objects once.
But that compiler magic ended up generating such a flurry of bug reports that we have taken it all out and gone back to using simple noop macros.
By handling this as a special case, we avoid deep recursion, and thus do not need to enforce the SQLITE_LIMIT_COMPOUND_SELECT on a VALUES clause.
Change the way data is synced to disk in order to increase or decrease how well the database resists damage due to OS crashes and power failures.
Detect the case where the last selector is text(), simplexml always accesses the text() child by default, therefore we assign to the parent node.
Dotfile locking works by creating a subdirectory in the same directory as the database and with the same name but with a ".lock" extension added.
First 256 symbols are for conversion from koi8-r to corresponding charset, second 256 symbols are for reverse conversion, from charset to koi8-r.
However, if the referenced string is the empty string, always treat it as matched, any number of times (otherwise there could be infinite loops).
However, if this position-list was edited in place by fts3EvalNearTrim(), then pIter may not actually point to the start of the next docid value.
However, we want to be able to timeout any user-supplied shutdown functions, so pretend we are not in a signal handler while we are calling these
If a NEAR() clump or phrase may only match a specific set of columns,  then an object of the following type is used to record the set of columns.
If a function is being overridden/deleted but there are no active VMs, allow the operation to continue but invalidate all precompiled statements.
If a master journal file name is specified, but the file is not present on disk, then the journal is not hot and does not need to be played back.
If only a subset is given or the class has protected members then you need to merge the properties separately by calling zend_merge_properties().
If that is the case, then the OP_OpenEphemeral instruction will be changed to an OP_Noop once we figure out that the sorting index is not needed.
If the Firebird people ever fix this, these lines should be removed, otherwise, events will have to fire twice before ibase_wait_event() returns.
If the SQL column is blank it means this is an index that was created to be the PRIMARY KEY or to fulfill a UNIQUE constraint for a CREATE TABLE.
If the operating system does not support sleep requests with millisecond time resolution, then the time will be rounded up to the nearest second.
If the second argument were replaced with NULL, the "rbu" VFS would access the file-system via the system default VFS, bypassing the multiplexor.
In order to  perform this abort without corrupting the database, we need to make sure that the statement is protected by a statement transaction.
In the absence of sqlite_stat4 ANALYZE data, or if such data cannot be used, a single range inequality reduces the search space by a factor of 4.
InteriorWriters are created as needed when SegmentWriter creates new leaf nodes, or when an interior node itself grows too big and must be split.
It's a bit baroque to remove a signal stack here only to add one in minit, but it's a simple change that keeps DragonFly working like other OS's.
Must be same scheme (ftp/ftp or ftps/ftps), same host, and same port (or a 21/0 0/21 combination which is also "same") Also require paths to/from
New documents (actually, document updates) are tokenized and written individually (using LeafWriter) to a level 0 segment, with incrementing idx.
On the other hand, if bCommit is greater than zero, then keep looping until a free-page located within the first nFin pages of the file is found.
Once the SELECT has been coded by sqlite3Select(), it is in a suitable state to query for the column names and types to be used by the new table.
Or, if bOptOk is non-zero, then one or more tokens within the expression may be loaded incrementally, meaning doclist.aAll/nAll is not available.
Pre-condition is that the zvals in the result_bind buffer have been  ZVAL_NULL()-ed or to another simple type (int, double, bool but not string).
Redistribution and use in source and binary forms, with or without modification, are permitted only as authorized by the OpenLDAP Public License.
Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met: 1.
Remove harmful bits from the flags parameter  The SQLITE_OPEN_NOMUTEX and SQLITE_OPEN_FULLMUTEX flags were dealt with in the previous code block.
Return 0 if the checksum is bad (i.e., probably not a tar archive), 1 for old UNIX tar file, 2 for Unix Std (POSIX) tar file, 3 for GNU tar file.
Returns the appropriate error code if if there's an error (like the functionality is compile time disabled, or the save_ps_args() was not called.
Reuse the same variable number as the prior appearance of the same name, or if the name has never appeared before, reuse the same variable number
Sends a command to the run loop thread by adding the command to the linked list of commands and then signaling the run loop thread through a pipe
So that when a  document such as "I won first place" is tokenized, entries are added to the FTS index for "i", "won", "first", "1st" and "place".
TRUE will be returned after a call to sqlite3BtreeNext() moves past the last entry in the table or sqlite3BtreePrev() moves past the first entry.
Takes a pointer to posix group and a pointer to an already initialized ZVAL array container and fills the array with the posix group member data.
The actual size of the created mapping is either the requested size or the value configured  using SQLITE_FCNTL_MMAP_LIMIT, whichever is smaller.
The first (stack variable cksum2) based on entries extracted from the full-text index while doing a linear scan of each individual index in turn.
The minimum is now also defined in terms of LINK_SIZE so that the use of malloc() kicks in at the same number of forward references in all cases.
The second parameter is a pointer to an integer into which is written 0 or 1 to indicate whether FK enforcement is off or on following this call.
The server will de-serialize the XML back into an binary representation, call the appropriate registered method -- thereby generating a response.
The temp-database schema is allocated differently from the other schema objects (using sqliteMalloc() directly, instead of sqlite3BtreeSchema()).
There might have been a previous inconsistent state, consistent state with a non-default action, or user semantic action that manipulated yychar.
This code looks a bit odd, but there used to be some cases other than the default, and there may be again in future, so I haven't "optimized" it.
This function appends the following to buffer pBuf:  The varint iDelta, and the position list that currently points to, including the size field.
This function is called when a transaction opened by the database  handle associated with the VM passed as an argument is about to be  committed.
This function may only be called when the mutexes associated with all shared b-tree databases opened using connection db are held by the  caller.
This function only manipulates fields of the database handle object, it does not close any savepoints that may be open at the b-tree/pager level.
This implementation also assumes a coherent cache - that  separate processes cannot read different values from the same address at the same time.
This is a fudge that causes a compile- time error if the vectors OP_names or OP_lengths, which are indexed by opcode, are not the correct length.
This is equivalent to copying the contents of the child into the root node (the operation that Gutman's paper says to perform  in this scenario).
This is required as the version of page 1 currently in the page1 buffer may not be the latest version - there may be a newer one in the log file.
This routine checks that the sqlite3.nVdbeActive count variable matches the number of vdbe's in the list sqlite3.pVdbe that are currently active.
To use SQLite in other programs, you need this file and the "sqlite3.h" header file that defines the programming interface to the SQLite library.
While it is not likely in practical situations to have strings longer than INT32_MAX, these are different types and need to be handled carefully.
Without the funny casting for sizeof, a Windows compiler gave this error: "unary minus operator applied to unsigned type, result still unsigned".
XXX we're crashing here in msvc6 debug builds at php_message_handler_for_zend:839 because SG(request_info).path_translated is an invalid pointer.
php_dom_xmlSetTreeDoc is a custom implementation of xmlSetTreeDoc needed for hack in appendXML due to libxml bug - no need to share this function
(This is so that it works from duplicated subpatterns.) The state of the capturing groups is preserved over recursion, and re-instated afterwards.
-) Concurrent removes: NOT SUPPORTED Only the master can remove, and can only do so if there are no other concurrent operations (reads or writes).
2nd try: fail if the mod time changed or host id is different, wait  10 sec and try again 3rd try: break the lock unless the mod time has changed.
At least two bugs have slipped in because we changed the MEMORY_DEBUG macro to SQLITE_DEBUG and some older makefiles have not yet made the switch.
Compare the values contained by the two memory cells, returning negative, zero or positive if pMem1 is less than, equal to, or greater than pMem2.
Duplication means that a little unnecessary work is done when checking, but this keeps things much simpler because they can all use the same code.
EVIDENCE-OF: R-34926-03360 SQLITE_CONFIG_WIN32_HEAPSIZE takes a 32-bit unsigned integer value that specifies the maximum size of the created heap.
For ALT, we continue with the next alternative, but we have to arrange that the final result from subpattern is SSB_CONTINUE rather than SSB_DONE.
Given a page number of a regular database page, return the page number for the pointer-map page that contains the entry for the input page number.
Hence, a false positive (returning TRUE when in fact the expression can never be NULL) might be a small performance hit but is otherwise harmless.
If a THEN is encountered in the branch, it propagates out to the enclosing alternative (unless nested in a deeper set of alternatives, of course).
If an IO error  occurs while locking the database, checking for a hot-journal file or  rolling back a journal file, the IO error code is returned.
If compiled with SQLITE_DEBUG, then additional logic is inserted that does error checking on mutexes to make sure they are being called correctly.
If nCol is the number of user defined columns, then values of the  varints are set as follows:  Varint 0:       Total number of rows in the table.
If the number of pages in the database is not available from the WAL sub-system, determine the page counte based on the size of the database file.
If the page cannot be made clean for some other reason, but no error occurs, then SQLITE_OK is returned by sqlite3PcacheMakeClean() is not called.
If the parent key consists of a single column (the foreign key constraint is not a composite foreign key), output variable *paiCol is set to NULL.
If the tokenization was abandoned early because the callback returned SQLITE_DONE, this is not an error and this function still returns SQLITE_OK.
If there is a LIMIT clause, the parser sets nLimit to the value of the limit and nOffset to the value of the offset (or 0 if there is not offset).
In applications that need to be able to suspend compression due to output overrun, a FALSE return indicates that the buffer cannot be emptied now.
Init: initialize coroutine registers yield coA if eof(A) goto EofA yield coB if eof(B) goto EofB Cmpr: Compare A, B Jump AltB, AeqB, AgtB End: ...
It is illegal for pBtree to write if some other Btree object that shares the same BtShared object is currently reading or writing the iRoot table.
Make it safe to call it repeatedly for PS - better free and allocate a new because the number of field might change (select *) with altered table.
Moved after symbol table cleaners, because  some of the cleaners can call destructors, which would use EG(symtable_cache_ptr) and thus leave leaks
On a checkpoint, the WAL is first VFS.xSync-ed, then valid content of the WAL is transferred into the database, then the database is VFS.xSync-ed.
Once this function has been called successfully on an Fts3Phrase, it may be used with fts3EvalPhraseNext() to iterate through the matching docids.
Otherwise they may interfere with compilation of other functions in this file (or in another file, if this file becomes part of the amalgamation).
Otherwise, if the optimization is both enabled and applicable, then call pager_incr_changecounter() to update the change-counter in 'direct' mode.
PCRE is a library of functions to support regular expressions whose syntax and semantics are as close as possible to those of the Perl 5 language.
Rather than argue, it seems easier just to initialize the whole array and silence valgrind, even if that means less randomness in the random seed.
Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:  1.
Return the number of the wal-index page that contains the hash-table and page-number array that contain entries corresponding to WAL frame iFrame.
Segment interior nodes **** Segment interior nodes store blockids for subtree nodes and terms to describe what data is stored by the each subtree.
Some functions like COALESCE() and IFNULL() and UNLIKELY() are implemented as VDBE code so that unused argument values do not have to be computed.
The boundary between these two regions is determined using offsetof(Parse,nVar) so the nVar field must be the first field in the recursive region.
The exceptional characters are: U+061C           Arabic Letter Mark U+180E           Mongolian Vowel Separator U+2066 - U+2069  Various "isolate"s
The key numbers start at 0x100, and we expect to be one of the early calls to pthread_key_create, so we should be able to get a pretty low number.
The names of its contributors may not be used to endorse or promote products derived from this software without specific prior written permission.
The result is placed in buf, and len denotes the length of the string The sign is returned in the is_negative argument (and is not placed in buf).
The second integer in nEq is the approximate number of entries in the index where the first two columns match the first two columns of the sample.
The sz argument should be the size of the largest database page (a power of two between 512 and 65536) plus some extra bytes for each page header.
There are 4 cases:  1) DELETE 2) UPDATE (rowid not modified) 3) UPDATE (rowid modified) 4) INSERT  Cases 3 and 4 may violate the rowid constraint.
These constants (all generated automatically by the parser generator) specify the various kinds of tokens (terminals) that the parser understands.
This function is similar to sqlite3BtreeGetReserve(), except that it may only be called if it is guaranteed that the b-tree mutex is already held.
This function is used for adding a list of case-equivalent characters to a class, and also for adding a list of horizontal or vertical whitespace.
This function populates it with the initial structure objects for each index, and the initial version of the "averages" record (a zero-byte blob).
This function returns non-zero if the specified UTF-8 string buffer ends with a directory separator character or one was successfully added to it.
This is due to the fact that we remove by setting the address slot to NULL (we never remove a hash from the table, outside of garbage collection).
This is necessary if you are compiling on a recent machine (ex: Red Hat 7.2) but you want your code to work on an older machine (ex: Red Hat 6.0).
This proceeds in the same way  as a regular database checkpoint, except that a single frame is checkpointed each time sqlite3rbu_step() is called.
This routine is the same as the sqlite3_complete() routine described above, except that the parameter is required to be UTF-16 encoded, not UTF-8.
Thus for single-threaded operation, there is exactly one instance of this object and for multi-threaded operation there are two or more instances.
Use the SQLITE_ENABLE_MODULE_COMMENTS macro to see some extra no-op comments in VDBE programs that show key decision points in the code generator.
We do a prop-set using the first dimension as the property name, all subsequent dimensions and offset as parameters, with value as the final value
We're only supposed to get here when destructing the used_files hash, which doesn't really contain open files, but references to their names/paths
What happens is that after this destruction any use of the network will mean usage of the context, which means usage of already freed memory, bad.
creates the object by - allocating memory - initializing the object members - storing the object - setting it's handlers called from - clone - new
f* VALUE/XMLRPC_ServerCreate NAME XMLRPC_ServerCreate SYNOPSIS XMLRPC_SERVER XMLRPC_ServerCreate() FUNCTION Allocate/Init XMLRPC Server Resources.
fdatasync() on HFS+ doesn't yet flush the file size if it changed correctly so currently we default to the macro that redefines fdatasync to fsync
iLeafOffset: Byte offset within the current leaf that is the first byte of the  position list data (one byte passed the position-list size field).
sqlite3_test_control(SQLITE_TESTCTRL_RESERVE, sqlite3 *db, int N)  Set the nReserve size to N for the main database on the database connection db.
A bitmap is used to record which pages of a database file have been journalled during a transaction, or which pages have the "dont-write" property.
After reading the first page of the database assuming a page size of BtShared.pageSize, we have discovered that the page-size is actually pageSize.
An additional method that can be provided by data source modules is the resync_to_restart method for error recovery in the presence of RST markers.
Any use of a prepared statement after it has been finalized can result in undefined and undesirable behavior such as segfaults and heap corruption.
Attempt to seek the file-descriptor passed as the first argument to absolute offset iOff, then attempt to write nBuf bytes of data from pBuf to it.
Because it is used within an expression that is an argument to another macro  (sqliteMallocRaw), it is not possible to use conditional compilation.
But instead of invoking a callback for each row, malloc() for space to hold the result and return the entire results at the conclusion of the call.
D.2) For each FK for which the table is the parent table, search  the child table for rows that correspond to the deleted row  in the parent table.
Export the constants provided by Facebook's build system to ocaml-land, since their FFI only allows you to call functions, not reference variables.
Expressions of the form  expr1 IN () expr1 NOT IN ()  simplify to constants 0 (false) and 1 (true), respectively, regardless of the value of expr1.
For maximum portability, it is recommended that applications always invoke sqlite3_initialize() directly prior to using any other SQLite interface.
If P1 is not zero, then it is a register that a subsequent min() or max() aggregate will set to 1 if the current row is not the minimum or maximum.
If a conditional group has only one branch, there is a second, implied, empty branch, so just skip over the conditional, because it could be empty.
If a malloc() failure occurred in sqlite3HashInsert(), it will  return the pColl pointer to be deleted (because it wasn't added to the hash table).
If a master  journal file name has already been written to the journal file,  or if zMaster is NULL (no master journal), then this call is a no-op.
If any data is consumed, we cannot rely upon the existing read buffer, as the filtered data must replace the existing data, so invalidate the cache
If both aren't set we're using mysqlnd and use /tmp/mysql.sock as default on *nix and NULL for Windows (default named pipe name is set in mysqlnd).
If currently processing the PRIMARY KEY of a WITHOUT ROWID  table, only conflict if the new PRIMARY KEY values are actually different from the old.
If nByte is not less than zero, return the number of unicode characters in the first nByte of pZ (or up to  the first 0x00, whichever comes first).
If no page  movement was required (because the table being dropped was already  the last one in the database) then a zero is stored in register P2.
If the database schema is shared, then there is one instance of this structure for each database connection (sqlite3*) that uses the shared schema.
If the expression p codes a constant integer that is small enough to fit in a 32-bit integer, return 1 and put the value of the integer in *pValue.
If the pager is already in exclusive-mode, the WAL module will use  heap-memory for the wal-index instead of the VFS shared-memory  implementation.
If the seekResult parameter is non-zero, then a successful call to MovetoUnpacked() to seek cursor pCur to (pKey, nKey) has already been performed.
If the unlock operation fails as well, then the first error code related to the first error encountered (the journal finalization one) is returned.
If there are not enough bytes left in the journal file for a complete header, or it is corrupted, then a process must have failed while writing it.
If there was no matching node at this level, we need to allocate an intersitial node (or the actual node if we're at the last part of the HDF name)
If while inserting cells into the parent page (pParent) the parent page becomes overfull, this buffer is used to store the parent's overflow cells.
In earlier versions of the IJG code, this module quantized in YCbCr color space, processing the raw upsampled data without a color conversion step.
In that case, the free-list will be truncated to zero after this function returns, so it doesn't  matter if it still contains some garbage entries.
Invalidate all incrblob cursors open on table iTable (assuming iTable is the root of a table b-tree - if it is not, the following call is a no-op).
It appears that the service API is a little bit confused about which flag to use for the source and destination in the case of a restore operation.
It does this by scanning through all stat4 samples, comparing values extracted from pLower and pUpper with the corresponding column in each sample.
It's odd to simulate an io-error here, but really this is just using the io-error infrastructure to test that SQLite handles this function failing.
Iterate over the format string filling in the result objects until we reach the end of input, the end of the format string, or there is a mismatch.
Later, the calling routine should invoke sqlite3WhereEnd() with the return value of this function in order to complete the WHERE clause processing.
Note that "equivalent" doesn't necessarily mean "identical", e.g., two alpha-converted types are "equivalent" though not literally byte- identical.
Note, however, that the subtrees in Expr.x.pList or Expr.x.pSelect are always separately allocated, regardless of whether or not EP_Reduced is set.
Opcode: LoadAnalysis P1 * * * *  Read the sqlite_stat1 table for database P1 and load the content of that table into the internal index hash table.
Otherwise, if *pRc is initially SQLITE_OK and an error occurs while flushing buffers to disk, *pRc is set to an SQLite error code before returning.
Otherwise, return -ve if the pSeg term is less than zTerm/nTerm, 0 if the two terms are equal, or +ve if the pSeg term is greater than zTerm/nTerm.
Parts of this file is based on code from the OpenVSwitch project, that  is released under the Apache 2.0 license and is copyright 2014 Nicira, Inc.
Return TRUE if the WHERE clause term pTerm is of a form where it could be used with an index to access pSrc, assuming an appropriate index existed.
Set the value of the Pager.sectorSize variable for the given pager based on the value returned by the xSectorSize method of the open database file.
Set variable eOnePass to indicate the strategy used to implement this delete:  ONEPASS_OFF:    Two-pass approach - use a FIFO for rowids/PK values.
Short-term TODO list: - Implement XML_ExternalEntityParserCreate() - XML_SetCommentHandler - XML_SetCdataSectionHandler - XML_SetParamEntityParsing
Silence complaints from purify about fts5yygotominor being uninitialized in some cases when it is copied into the stack after the following switch.
So zero the cached wal-index header to ensure that next time the pager opens a snapshot on this database it knows that the cache needs to be reset.
The caller must call sqlite3PagerSync() directly to sync the database file before calling CommitPhaseTwo() to delete the journal file in this case.
The global mutex is used to protect the unixInodeInfo and vxworksFileId objects used by this file, all of which may be  shared by multiple threads.
The next block of code checks to see if the register array has changed, and if so it reinitializes the relavant parts of the sqlite3_context object
The sqlite3_libversion() function is provided for use in DLLs since DLL users usually do not have direct access to string constants within the DLL.
The test will always be false (since this module will not return a row with a negative languageid), and so the overall query will return zero rows.
The two subsequent arguments should be the name of the OS function that failed (e.g. "unlink", "open") and the associated file-system path, if any.
There must be a read-lock on the database (either a transaction must be started or there must be an open cursor) before executing this instruction.
This "automatic-reset" change is not technically an incompatibility,  since any application that receives an SQLITE_MISUSE is broken by definition.
This allows a fairly fast implementation of the "brute force" approach of computing the distance from every colormap entry to every histogram cell.
This function returns an array of ALL valid ini options with values and is not the same as ini_get_all() which returns only registered ini options.
This module implements a SafeArray proxy which is used internally by the engine when resolving multi-dimensional array accesses on SafeArray types.
We assume that other escapes have more than one character in them, so speculatively set both class_has_8bitchar and class_one_char bigger than one.
When EP_Reduced is set, then all the child Expr objects in the Expr.pLeft and Expr.pRight subtrees are contained within the same memory allocation.
When SQLITE_OMIT_WSD is defined, it means that the target platform does not support Writable Static Data (WSD) such as global and static variables.
a little bit of black magic here: we're creating a new array and swapping it for the zval that's already stored in the hash under the name we want.
f* FUNC/simplestring_free NAME simplestring_free SYNOPSIS void simplestring_free(simplestring* string) FUNCTION frees contents of a string, if any.
s/l - store/load (1 bit) u/s - signed/unsigned (1 bit) w/b/h/N - word/byte/half/NOT allowed (2 bit) It contans 16 items, but not all are different.
this is now the original code by Michael G Schwern: i've changed it just a slightly bit (use emalloc, get rid of includes etc) - thies - 13.09.1999
(BTREE_INTKEY is used for SQL tables.)  With BTREE_BLOBKEY, the key is an arbitrary BLOB and no content is stored anywhere - the key is the content.
3) If the argument db is not NULL, then none of the entries in the blocked connections list have pUnlockConnection or pBlockingConnection set to db.
A version of vdbeSorterCompare() that assumes that it has already been determined that the first field of key1 is equal to the first field of  key2.
Also do block compression with an adaptive reset, whereby the code table is cleared when the compression ratio decreases, but after the table fills.
And a power loss in between deleting the original and renaming the transient would cause the database file to appear to be deleted following reboot.
As there is only one, we can use tail recursion to avoid using another stack frame, except when there is unlimited repeat of a possibly empty group.
At least one instance of the following structure is created for each  trigger that may be fired while parsing an INSERT, UPDATE or DELETE statement.
Because the Select object originates from a VALUES clause: (1) It has no LIMIT or OFFSET (2) All terms are UNION ALL (3) There is no ORDER BY clause
Before returning, *pzAff is set to point to a buffer containing a copy of the column affinity string of the index allocated using sqlite3DbMalloc().
But beginning with version 3.7.0, we changed this so that sqlite3_reset() would be called automatically instead of throwing the SQLITE_MISUSE error.
Check to see if this is the last character in the set, in which case it is not a range and we should add the previous character as well as the dash.
Do not cast a pointer to a FILETIME structure to either a ULARGE_INTEGER* or __int64* value because it can cause alignment faults on 64-bit Windows.
EVIDENCE-OF: R-62172-00036 In this implementation, the standard C library function localtime_r() is used to assist in the calculation of local time.
For dates outside this range, SQLite attempts to map the year into an equivalent year within this range, do the calculation, then map the year back.
For each FROM-clause subquery, add Column.zType and Column.zColl information to the Table structure that represents the result set of that subquery.
For the purposes of this function, a double-quoted string (ex: "abc") is considered a variable but a single-quoted string (ex: 'abc') is a constant.
HOWEVER: when the subject string is very, very long, searching to its end can take a long time, and give bad performance on quite ordinary patterns.
INPUTS string - value containing string to be free'd RESULT void NOTES caller is responsible for allocating and freeing simplestring* struct itself.
If any NUL characters occur at byte offsets less than  the value of the fourth parameter then the resulting string value will contain embedded NULs.
If the FTS table features more than one index (because there are one or more prefix indexes), it is guaranteed that all share the same cookie value.
If the condition is false, skipping the first branch takes us past the end of the item if there is only one branch, but that's exactly what we want.
If the subquery has more than one element in its FROM clause, then expand the outer query to make space for it to hold all elements of the subquery.
If the user explicitly specified a likelihood() value for this term, then the return value is the likelihood multiplied by the number of input rows.
In this case there is no "blocking connection", so invoking sqlite3_unlock_notify() results in the unlock-notify callback being invoked immediately.
It does not add  extra data to the FTS index or require FTS5 to query for multiple terms, so it is efficient in terms of disk space and query speed.
It logs a message using sqlite3_log() containing the current value of error code and, if possible, the human-readable equivalent from FormatMessage.
July 2008: There is now a script called maint/GenerateUtt.py that can be used to generate this data automatically instead of maintaining it by hand.
Locate the in-memory structure that describes  a particular index given the name of that index and the name of the database that contains the index.
On a big-endian architecture, it returns the value that would be produced by interpreting the 4 bytes of the input value as a little-endian integer.
Only attempt the conversion to TEXT if there is an integer or real representation (blob and NULL do not get converted) but no string representation.
Or, if iCol is non-negative but less than the number of columns in the table, set pnToken to the number of tokens in column iCol of the current row.
Otherwise, when the transaction is rolled back, the logic in playback_one_page() will think that the page needs to be restored in the database file.
Register P3 contains the address  of a memory cell in this (the parent) VM that is used to allocate the  memory required by the sub-vdbe at runtime.
Return SQLITE_DONE if the update has been completely applied, or  SQLITE_OK if no error occurs but there remains work to do to apply the RBU update.
Returning KERN_FAILURE lets the exception fall through to the next handler, which is the standard signal emulation code registered on the task port.
Security  At current time i do not see any security problems but a potential attacker could generate an image with recursive ifd pointers...(Marcus)
The cksum argument passed to this function is a checksum calculated based on all expected entries in the FTS index (including prefix index entries).
The code generated here is from the 4th template:  B: open temp table L: yield X, goto M at EOF insert row from R..R+n into temp table goto L M: ...
The first docid written to the output is therefore encoded using the  same number of bytes as it is in whichever of the input lists it is read from.
The first_char value is never set for an anchored regular expression, but the anchoring may be forced at run time, so we have to test for anchoring.
The fts3 built-in tokenizers - "simple", "porter" and "icu"- are  implemented in files fts3_tokenizer1.c, fts3_porter.c and fts3_icu.c respectively.
The only interesting finder-function is autolockIoFinder, which looks at the filesystem type and tries to guess the best locking strategy from that.
The only read-lock obtained by a connection in read-uncommitted mode is on the sqlite_master  table, and that lock is obtained in BtreeBeginTrans().
The reg, orconf and ignoreJump parameters passed to this function are the same as those described in the header function for sqlite3CodeRowTrigger()
The result of the expression is the Ri for the first matching Ei, or if there is no matching Ei, the ELSE term Y, or if there is no ELSE term, NULL.
The second pass over the image maps each input pixel to the closest output color (optionally after applying a Floyd-Steinberg dithering correction).
The strategy is to minimize the amount of unused space on overflow pages while keeping the amount of local storage in between minLocal and maxLocal.
The unixInodeInfo structure keeps a list of file descriptors that need to be closed and that list is walked (and cleared) when the last lock clears.
The useWal parameter is true to force the use of the WAL and disable the case where the WAL is bypassed because it has been completely checkpointed.
There are usually between 5 and 500 set operations per Bitvec object, though the number of sets can sometimes grow into tens of thousands or larger.
These routines format strings much like the printf() from the standard C library, though the implementation here has enhancements to support SQLite.
This can be convenient, as it means that the RBU application does not need to organize removing a separate state file after the update is concluded.
This can happen if the database image was extended as part of the current transaction and then the last page in the db image moved to the free-list.
This code is taken from http://www.acm.org/jgt/papers/SmithLyons96/hwb_rgb.html, an article on colour conversion to/from RBG and HWB colour systems.
This is to make sure that the schema-version really does change in the case where the source and destination databases have the same schema version.
To ensure that they are freed if an error occurs, link them into the Parse.pTriggerPrg  list of the top-level Parse object sooner rather than later.
Updating any meta-data associated with pPg (i.e. data stored in the nExtra bytes allocated along with the page) is the responsibility of the caller.
Use the initial line loop to position children in the cross axis for as long as they are relatively positioned with alignment STRETCH or FLEX_START.
Version 3.31 of the file command considered a file to be ASCII if each of its characters was approved by either the isascii() or isalpha() function.
We cannot rely on the return value of readdir_r as it differs between various platforms (HPUX returns 0 on success whereas Solaris returns non-zero)
We could relax this constraint somewhat by saying that the terms of the ORDER BY clause must appear as unmodified result columns in the outer query.
We have to push each row into a sorting index, terminate the first loop, then loop over the sorting index in order to get the output in sorted order
When generating code for an SQL UPDATE operation, this function may be called twice - once to "delete" the old row and once to "insert" the new row.
When this file is linked to a DLL, it sets up a delay-load hook that intervenes when the DLL is trying to load 'node.exe' or 'iojs.exe' dynamically.
f* VALUE/XMLRPC_GetValueBoolean NAME XMLRPC_GetValueBoolean SYNOPSIS int XMLRPC_GetValueBoolean(XMLRPC_VALUE value) FUNCTION retrieve boolean value.
if socket was created from a stream, give the stream a chance to take care of the operation itself, thereby allowing it to update its internal state
- If this state is a consistent state with a default action, then the only way this function was invoked is if the default action is an error action.
.* is not anchored unless DOTALL is set (which generates OP_ALLANY) and it isn't in brackets that are or may be referenced or inside an atomic group.
A return of MATCH_SKIP_ARG means that matching failed at SKIP with an argument, and we must check whether that argument matches this MARK's argument.
A statement needs to be recompiled whenever the execution environment changes in a way that would alter the program that sqlite3_prepare() generates.
ASCII optimization: quick check to see if the string might be there I realize that 'offset' is 'grapheme count offset' but will work in spite of that
After each token doclist is loaded, merge it with the others from the same phrase and count the number of documents that the merged doclist contains.
Applications should not modify this structure directly - it should only be used as shown above with the xPhraseFirst() and xPhraseNext() API methods.
At this point, nFree contains the sum of the offset to the start of the cell-content area plus the number of free bytes within the cell-content area.
CAPI3REF: Mutex Verification Routines  The sqlite3_mutex_held() and sqlite3_mutex_notheld() routines are intended for use inside assert() statements.
Do the following math as float intermediately, and round to ensure that Polygon and FilledPolygon for the same set of points have the same footprint.
GROUP BY xyz ORDER BY xyz  The second form is preferred as a single index (or temp-table) may be  used for both the ORDER BY and DISTINCT processing.
Generate an error message when a SELECT is used within a subexpression (example:  "a IN (SELECT * FROM table)") but it has more than 1 result column.
Given a btree page and a cell index (0 means the first cell on the page, 1 means the second cell, and so forth) return a pointer to the cell content.
Hence, while POWERSAFE_OVERWRITE is on by default, there is a file-control available to turn it off and URI query parameter available to turn it off.
Higher levels of PMAs may be created by merging existing PMAs together - for example merging two or more level-0 PMAs together creates a level-1 PMA.
However, when a group is optional (i.e. the minimum quantifier is zero), OP_BRAZERO or OP_SKIPZERO is inserted before it, after it has been compiled.
IMPLEMENTATION-OF: R-59782-36818 The SQLITE_CHECKPOINT_FULL, RESTART and TRUNCATE modes also obtain the exclusive "writer" lock on the database file.
If an IO error occurs while reading the record from the (sub-)journal file or while writing to the database file, then the IO error code is returned.
If it finds that one of the recursions in the current group is on this list, it does not adjust the value in the reference (which is a group number).
If the LSB is set, then the checksums for each frame within the WAL file are calculated by treating all data as an array of 32-bit  big-endian words.
If the REQUIRE_RESEEK flag is set on the cursor passed as the first argument, close and reopen all Fts5IndexIter iterators that the cursor  is using.
If the SQLITE_ENABLE IOTRACE exists then the global variable sqlite3IoTrace is a pointer to a printf-like routine used to print I/O tracing messages.
If the destination is DistQueue, then cursor (iParm+1) is open on a second ephemeral index that holds all values every previously added to the queue.
If the iterator passed as the second argument does not currently point to a table (not index) with an external primary key, this function is a no-op.
If the pager is in ERROR state when this function is called, the  contents of the pager cache are discarded before switching back to  the OPEN state.
If this row no longer exists  (this can happen if a trigger program has already deleted it), do not attempt to delete it or fire any DELETE triggers.
If we get to this point, the path name should almost certainly be a purely relative one (i.e. not a UNC name, not absolute, and not volume relative).
In fact, the repeated ones could be re-implemented independently so as not to need this, but for the moment we rely on the code for repeating groups.
In the latter case, a recursive call to match() is always required, unless the second alternative doesn't exist, in which case we can just plough on.
In this case, the transaction has already been committed  (by deleting a master journal file) and the caller will ignore this  functions return code.
Interned strings are not duplicated when stored in HashTable, but all the interned strings created during HTTP request are removed at end of request.
It converts the expression given in its argument from a TK_STRING into a TK_ID if the expression is just a TK_STRING with an optional COLLATE clause.
It might be possible to form an IN operator with either table1.column or table2.column as the LHS if either is common to every term of the OR clause.
It reads the integer and sets *pnOut to the value read, then  sets *pp to point to the byte immediately following the last byte of the integer value.
N between fts5YY_MIN_SHIFTREDUCE       Shift to an arbitrary state then and fts5YY_MAX_SHIFTREDUCE           reduce by rule N-fts5YY_MIN_SHIFTREDUCE.
No-op Locking **********************************  Of the various locking implementations available, this is by far the simplest:  locking is ignored.
Note that on 80x86 machines, the pointer row is in near memory but the actual arrays are in far memory (same arrangement as we use for image arrays).
Note: when reporting iJVM_EVENT_TYPE_ENTER_NIDS, there is no need to fill in the stack_id field in the iJIT_Method_NIDS structure, as VTune fills it.
Otherwise, if there are no triggers or the recursive-triggers flag is not set, but the table has one or more indexes, call  GenerateRowIndexDelete().
Otherwise, return  SQLITE_NOMEM if the attempt to allocate Pager.pInJournal fails, or  an IO error code if opening or writing the journal file fails.
Permission granted to use, copy, modify, distribute and sell so long as the above copyright and this permission statement are retained in all copies.
Providing the ability to disable the optimization allows the older, buggy application code to work without change even with newer versions of SQLite.
Return true if the parser passed as the first argument is being used to code a trigger that is really a "SET NULL" action belonging to trigger pFKey.
Send that header even for HTTP/1.0 to avoid issues when the server respond with a HTTP/1.1 keep-alive response, which is the preferred response type.
So the maximum header length results from a 3-byte type for each of the maximum of 32768 columns plus three extra bytes for the header length itself.
The cursor number for the Distinct table must be exactly one greater than Queue in order for the SRT_DistFifo and SRT_DistQueue destinations to work.
The directory file descriptor is used for only one thing - to fsync() a directory to make sure file creation and deletion events are flushed to disk.
The following routine implements the rough equivalent of localtime_r() using whatever operating-system specific localtime facility that is available.
The following routines are substitutes for constants SQLITE_CORRUPT, SQLITE_MISUSE, SQLITE_CANTOPEN, SQLITE_IOERR and possibly other error constants.
The heuristic is that double-quoting is unnecessary unless the string contains an apostrophe, a comma, or backslash (other than backslash-backslash).
The recursive calls normally come through sqlite3_os_init() when it invokes sqlite3_vfs_register(), but other recursive calls might also be possible.
This call checks that any FK constraints that refer to this table (i.e. constraints attached to other tables)  are not violated by deleting this row.
This can prevent the hash index range increasing in the common case that each descriptor is allocated/used/freed before another descriptor is needed.
This function is called after an incrmental-merge operation has run to merge (or partially merge) two or more segments from absolute level iAbsLevel.
This function must be called before exiting any API function (i.e.  returning control to the user) that has called sqlite3_malloc or sqlite3_realloc.
This is done because the left operand of infix functions (the operand we want to control overloading) ends up as the second argument to the function.
Those users would then do a  Google search for "sqlite", find the telephone numbers of the developers and call to wake them up at night and complain.
To improve the visual quality of the results, we actually work in scaled RGB space, giving G distances more weight than R, and R in turn more than B.
We just store the last char here and then pass back to the caller (sapi_cli_single_write in sapi/cli) which will actually write due to -1 return code
When full-text index nodes are loaded from disk, the buffer that they are loaded into has the following number of bytes of padding at the end  of it.
When the new root page was allocated, page 1 was made writable in order either to increase the database filesize, or to decrement the freelist count.
sqlite3_test_control(SQLITE_TESTCTRL_ASSERT, int X)  This action provides a run-time test to see whether or not assert() was enabled at compile-time.
xColumnSize(pFts, iCol, pnToken): If parameter iCol is less than zero, set output variable *pnToken to the total number of tokens in the current row.
(step NUMTYPES+1 ) - In case of raw mode, we query only the requestd type instead of looping type by type before going with the additional info stuff.
1) The above copyright notice and this permission notice shall be included without modification in all copies or substantial portions of the Software.
A pointer to a structure of the following type is passed as the  argument to scored geometry callback registered using sqlite3_rtree_query_callback().
Argument zArg contains the  format string passed as the second argument to matchinfo (or the default value "pcx" if no second argument was specified).
At first, the best we could do was to detect when .* was in capturing brackets and the highest back reference was greater than or equal to that level.
At this point local variable rc holds the value that should be  returned if this statement was compiled using the legacy  sqlite3_prepare() interface.
Before checking for a possessive quantifier, we must skip over whitespace and comments in extended mode because Perl allows white space at this point.
For compatibility, we limit the number of captured strings in the same way as pcre_exec(), so that the user gets the same result with and without JIT.
Forward reference required as the vdbeIncrMergeInit() and vdbePmaReaderIncrInit() routines are called mutually recursively when building a merge tree.
If an error occurs during any of the IO operations to finalize the journal file or unlock the database then the IO error code is returned to the user.
If an error occurs, then an SQLite error code is returned and *pzErrMsg may be set to point to a buffer containing an English language error  message.
If no versions of the requested collations sequence are available, or another error occurs, NULL is returned and an error message written into pParse.
If pExpr is part of a NEAR expression, then it also allocates and populates the same array for all other phrases that are part of the NEAR expression.
If rc is not SQLITE_OK at this point, then either the malloc subsystem could not be initialized or the system failed to allocate the pInitMutex mutex.
If some prefix of the input string is a valid number, this routine returns FALSE but it still converts the prefix and writes the result into *pResult.
If the ExprList is the result set of a SELECT then the KeyInfo structure is appropriate for initializing a virtual index to implement a DISTINCT test.
If the SQLITE_CountRows flag is set in sqlite3.flags mask, then  DML statements invoke this opcode to return the number of rows  modified to the user.
If the SQLITE_NULLEQ bit is set in P5, then NULL values are considered equal to one another, provided that they do not have their MEM_Cleared bit set.
If the bCreate argument is true, create and initialize the underlying tables   If successful, set *pp to point to the new object and return SQLITE_OK.
If the mapping is not attempted  (because the file is too large or the VFS layer is configured not to use mmap), return SQLITE_OK and set *pp to NULL.
If the page being moved is dirty and has not been saved by the latest savepoint, then save the current contents of the page into the  sub-journal now.
If the page requested is  already in the cache when this function is called, then the extra data is left as it was when the page object was last used.
If the pager object is allocated and the specified file opened  successfully, SQLITE_OK is returned and *ppPager set to point to the new pager object.
If there are more than 32 columns in the table, and at least one of the columns with an index greater than 32 may be accessed, 0xffffffff is returned.
If there has been exactly one prior match and this match is for the right-hand table of a NATURAL JOIN or is in a  USING clause, then skip this match.
If there is cached matchinfo() data, but the format string for the  cache does not match the format string for this request, discard  the cached data.
No page should ever be explicitly rolled back that is in use, except for page 1 which is held in use in order to keep the lock on the database active.
Note slight error in 16-bit case:  up to 256 16-bit shades may get mapped to a single 8-bit shade, and only one of them is supposed to be transparent.
Note that the pager will not actually attempt to load or journal  content for any page that really does lie past the end of the database file on disk.
On an INSERT, pkChng will only be true if the INSERT statement provides an integer value for either the rowid column or its INTEGER PRIMARY KEY alias.
Return SQLITE_LOCKED_SHAREDCACHE if another user of the same shared  btree as the argument handle holds an exclusive lock on the  sqlite_master table.
The MATCH operator tests that the first field of a blob operand matches this value to avoid operating on invalid blobs (which could cause a segfault).
The difference between this routine and sqlite3PagerGet() is that _get() will go to the disk and read in the page if the page is not already in cache.
The following is the implementation of an SQL function that always fails with an error message stating that the function is used in the wrong context.
The initial options have been put into the cd block so that they can be changed if an option setting is found within the regex right at the beginning.
The internals of this structure are intended to be opaque -- client code should not attempt to access or modify the fields of this structure directly.
The memory for objects of this type is always allocated by  sqlite3DbMalloc(), using the connection handle stored in VTable.db as  the first argument.
The relationship between the operators can be horizontal (concatenation) and vertical (sub-expression) (See struct backtrack_common for more details).
The second parameter is a pointer to an integer into which is written 0 or 1 to indicate whether triggers are disabled or enabled following this call.
The should match exactly (in terms of length), only differ in case Output:      Error code or SUCCESS Description: Author/Date:  jcar 20/9/96 History:
These should never be used unless previously set, but they get saved and restored, and so we initialize them to avoid reading uninitialized locations.
This function attempts to read a master journal file name from the  end of the file and, if successful, copies it into memory supplied  by the caller.
This function is called as part of a SorterRewind() operation on a sorter that has already written two or more level-0 PMAs to one or more temp files.
This mechanism means that when running in exclusive mode, a connection  need only update the change-counter once, for the first transaction committed.
We do not want to analyze these new virtual terms, so start analyzing at the end and work forward so that the added virtual terms are never processed.
We need to do this before the check for active SQL statements below, as the v-table implementation may be storing some prepared statements internally.
When a blocking connections transaction is concluded, there may be more than one blocked connection that has registered for an unlock-notify callback.
When a function parameter is not used at all within the body of a function, it is generally named "NotUsed" or "NotUsed2" to make things even clearer.
When the core wants to read from the virtual table, it creates a virtual table cursor (an instance of the following structure) using the xOpen method.
When this function is called, the database file has been completely updated to reflect the changes made by the current transaction and synced to disk.
Whenever a leaf page is extracted from the free-list, optimization 2 above is omitted if the corresponding bit is already set in BtShared.pHasContent.
flock() locking is like dot-file locking in that the various fine-grain locking levels supported by SQLite are collapsed into a single exclusive lock.
technically we could combine all of these (except for url_mark) into one variable, saving stack space, but it seems more clear to have them separated.
But on first evaluation, the P4 operand is automatically converted into an sqlite3_context object and the operation changed to this OP_Function opcode.
CAPI3REF: OS Interface Object  An instance of the sqlite3_vfs object defines the interface between the SQLite core and the underlying operating system.
Characters that may be part of barewords:  All non-ASCII characters, The 52 upper and lower case ASCII characters, and The 10 integer ASCII characters.
Don't free bbuf.is_null for FETCH_RESULT since we have allocated is_null and buf in one block so we free only buf, which is the beginning of the block.
During compilation, the "first char" settings from forward assertions are discarded, because they can cause conflicts with actual literals that follow.
Each auxiliary data pointer stored by a user defined function  implementation calling sqlite3_set_auxdata() is stored in an instance of this structure.
Even after the writer process  has committed one or more sub-transactions, other database clients continue to read from the original database snapshot.
Every cursor is a candidate to be tripped, including cursors that belong to other database connections that happen to be sharing the cache with pBtree.
FuncDestructor.nRef is set to  the number of FuncDef objects created (either 1 or 3, depending on whether or not the specified encoding is SQLITE_ANY).
Hence, schema information cannot be stored in lookaside because in shared cache mode the schema information is shared by multiple database connections.
If parameter iOp is less than zero, then invoke the destructor for all auxiliary data pointers currently cached by the VM passed as the first argument.
If sorting index that was created by a prior OP_OpenEphemeral  instruction ended up not being needed, then change the OP_OpenEphemeral into an OP_Noop.
If sqlite3FindInIndex() did not find or create an index that is suitable for evaluating the IN operator, then evaluate using a sequence of comparisons.
If the database supports auto-vacuum, and the second or subsequent overflow page is being allocated, add an entry to the pointer-map for that page now.
If the key and/or data spills onto overflow pages, then accessPayload() must be used to reassemble the key/data and copy it into a preallocated buffer.
If the requested collation sequence is not available, or not available in the database native encoding, the collation factory is invoked to request it.
If this doesn't work,  an equivalent collating sequence that uses a text encoding different from the main database is substituted, if one is available.
If this program is fiddling signals just when the test program sends the signal, the signal may be delivered to a Go thread which will break this test.
In either case, before playback commences the Pager.dbSize variable is reset to the value that it held at the start of the savepoint  (or transaction).
In this state we are expecting either a 1, indicating that the following integer will be a column number, or the start of a position list for column 0.
It is now a structure that holds the integer file descriptor and a pointer to a structure that describes the internal locks on the corresponding inode.
Make sure we only increase the currently running processes semaphore once each execution (this function can be called more than once on each execution)
Note that we cannot use the value of "length" to check for sufficient bytes left, because the other case of the character may have more or fewer bytes.
Note: The following set of if(...) statements must be in the same order as the corresponding entries in the struct at the top of fts5BestIndexMethod().
Opcode: Last P1 P2 P3 * *  The next use of the Rowid or Column or Prev instruction for P1  will refer to the last entry in the database table or index.
Or, if the sorter is running in multi-threaded mode then up to (N+1) temporary files may be opened, where N is the configured number of worker threads.
Other kinds of conversion are done in place when it is possible, but sometimes they are not possible and in those cases prior pointers are invalidated.
Specifically, the threshold is set to  the value returned by "PRAGMA main.page_size" multipled by  that returned by "PRAGMA main.cache_size", in bytes.
The OP_RowKey and OP_RowData opcodes always follow OP_NotExists or OP_Rewind/Op_Next with no intervening instructions that might invalidate the cursor.
The btree implementation is free to use the initial *pRes value as a hint to improve performance, but the current SQLite btree implementation does not.
The first argument is an integer which is 0 to disable FK enforcement, positive to enable FK enforcement or negative to leave FK enforcement unchanged.
The following block of code checks early to see if a cell extends past the end of a page boundary and causes SQLITE_CORRUPT to be  returned if it does.
The number of times that a ReadFile(), WriteFile(), and DeleteFile() will be retried following a locking error - probably caused by antivirus software.
This default length suffices to get rid of MALLOC calls except for unusual cases, such as decimal-to-binary conversion of a very long string of digits.
This function adjusts the pointer *ppList and the length *pnList so that they identify the subset of the position list that corresponds to column iCol.
This function exists for the benefit of people calling PCRE from non-C programs that can call its functions, but not free() or (PUBL(free))() directly.
This function finalizes the journal file, either by deleting,  truncating or partially zeroing it, so that it cannot be used  for hot-journal rollback.
This function is called when a backward assertion is encountered, so that if it fails, the error message can point to the correct place in the pattern.
This is because each database connection requires its own unique instance of the sqlite3_vtab* handle used to access the virtual table  implementation.
This routine generates VDBE code that causes the deletion of all index entries associated with a single row of a single table, pTab  Preconditions:  1.
This routine make the necessary  changes to pExpr so that it refers directly to the source table of the subquery rather the result set of the subquery.
Thus, any virtual table method (xFilter etc.) that may directly or indirectly call this function must call sqlite3Fts3SegmentsClose() before returning.
We include pcre.h before pcre_internal.h so that the PCRE library functions are declared as "import" for Windows by defining PCRE_EXP_DECL as "import".
according to SQL standard truncation (e.g. loss of precision is not an error) - for detecting possible truncation you have to check mysqli_stmt_warning
large doclists that span many pages have associated "doclist index" records that contain a copy of the first rowid on each page spanned by the doclist.
pass 2: - convert non-numeric constants to numeric constants in numeric operators - optimize constant conditional JMPs - optimize static BRKs and CONTs
sqlite3_test_control(SQLITE_TESTCTRL_ISKEYWORD, const char *zWord)  If zWord is a keyword recognized by the parser, then return the number of keywords.
the corresponding mbstring globals needs to be set according to the ini value in the later stage because it never falls back to the default value if 1.
(18)  If the sub-query is a compound select, then all terms of the ORDER by clause of the parent must be simple references to  columns of the sub-query.
(This despite the fact that every last chip has oodles of memory these days, and techniques for extending the stack have been known for decades.) So....
All this routine has to do is delete or truncate or zero the header in the the rollback journal (which causes the transaction to commit) and drop locks.
Backtracking over an extended grapheme cluster involves inspecting the previous two characters (if present) to see if a break is permitted between them.
Because a freeblock must be at least 4 bytes in size, any group of 3 or fewer unused bytes in the cell content area cannot exist on the freeblock chain.
But writing to all new pages forces the OS to allocate them immediately, which reduces the chances of SIGBUS while accessing the mapped region later on.
By default the Expr.zSpan field holds a human-readable description of the expression that is used in the generation of error messages and column labels.
For a single-column UNIQUE index, once we have found a non-NULL row, we know that all the rest will be distinct, so skip  subsequent distinctness tests.
Give a callback to the test harness that can be used to simulate faults in places where it is difficult or expensive to do so purely by means of inputs.
INPUTS val -- previously allocated XMLRPC_VALUE buf_len -- length of returned buffer, if not null RESULT char* -- newly allocated buffer containing XML.
If another connection has written to the database file since the time the read transaction on this connection was started, then the write is disallowed.
If piLast is not NULL, then *piLast is set to the right-most child node that heads a sub-tree that may contain a term for which zTerm/nTerm is a prefix.
If the SQLITE_DeferFKs flag is set, then this is not required, as the statement transaction will not be rolled back even if FK constraints are violated.
If the current number of pages in the file is greater than the configured maximum pager number, increase the allowed limit so that the file can be read.
If the descriptor being freed is the end-most one allocated, then the descriptor_count is reduced so a future descriptor can reuse the hash table index.
If the expression has got more back references than the offsets supplied can hold, we get a temporary chunk of working store to use during the matching.
If the requested page is already in the page cache, then the page cache implementation must return a pointer to the page buffer with its content intact.
If the wal-index header is still malformed even while holding a WRITE lock, it can only mean that the header is corrupted and needs to be reconstructed.
If there is no attached database N on the database connection D, or if database N is a temporary or in-memory database, then a NULL pointer is returned.
If they all start with OP_SOD or OP_CIRC, or with a bracket all of whose alternatives start with OP_SOD or OP_CIRC (recurse ad lib), then it's anchored.
If this constraint is not satisfied, it means that the high-speed vdbeRecordCompareInt() and vdbeRecordCompareString() routines will not work correctly.
In other words, all b+-trees with level values between 0 and 1023 (inclusive) belong to index 0, all levels between 1024 and 2047 to index 1, and so on.
In these cases, instances of the following structure are used to store the file descriptor while waiting for an opportunity to either close or reuse it.
It is the author's view, that this API is intended for simple data types, and a "fault" is a complex data type consisting of multiple simple data types.
Its purpose is to unify error messages and automatically generate clickable html error messages if correcponding ini setting (html_errors) is activated.
Must not be called while there are outstanding database connections or memory allocations or while any part of SQLite is otherwise in use in any thread.
Otherwise, read the next varint from *pp, increment the current value of *pi by the value read, and set *pp to point to the next value before returning.
Prepare translation table  Make it persistent so that it uses malloc() and allocated blocks won't be taken from space which is freed by efree in memdup.
Prior to version 3.6.5, this optimization caused the row change count (the value returned by  API function sqlite3_count_changes) to be set incorrectly.
Revision 1.5  2001/09/29 21:58:05  danda adding cvs log to history section  10/15/2000 -- danda -- adding robodoc documentation TODO Nicer external API.
SQLITE_OK is returned if no error occurs (even if the mapping is not recreated as a result of outstanding references) or an SQLite error code otherwise.
Setting the flag during testing causes certain assert() statements in the code to be activated that demonstrat invariants on well-formed database files.
The SQLITE_ENABLE_LOCKING_STYLE also enables automatic selection of the appropriate locking style based on the filesystem where the database is located.
The first argument passed to an unlock-notify callback is a pointer to an array of void* pointers, and the second is the number of entries in the array.
The integrity of the database is maintained by a (possibly synchronous) transaction opened on the main database before sqlite3BtreeCopyFile() is called.
The kernel offers thread handlers a chance to resolve exceptions before the task handler, so we can generate the panic and avoid lldb's SIGSEGV handler.
This function is called from within the xConnect() or xCreate() method to determine the node-size used by the rtree table being created or connected to.
This function is used during the pre-compile phase when we are trying to find out the amount of memory needed, as well as during the real compile phase.
This is actually a requirement for any compound SELECT statement, but all the code here does is make sure that no such (illegal) sub-query is flattened.
WAL-INDEX FORMAT  Conceptually, the wal-index is shared memory, though VFS implementations might choose to implement the wal-index using a mmapped file.
When this function is called, *pnEntry contains the current size of the array (in entries - so the allocation is ((*pnEntry) * szEntry) bytes in total).
Whenever Mem contains a valid string or blob representation, one of the following flags must be set to determine the memory management policy for Mem.z.
_xmlreader_get_valid_file_path and _xmlreader_get_relaxNG should be made a common function in libxml extension as code is common to a few xml extensions
close open file handle - allows removal or rename of the file on windows, which has greedy locking only close if the archive was not already compressed.
filter resources are cleaned up by the stream destructor, keeping a reference to the stream resource here would prevent it from being destroyed properly
(No checking for duplicate index names is done.)  The search order is TEMP first, then MAIN, then any auxiliary databases added using the ATTACH command.
(No checking for duplicate table names is done.)  The search order is TEMP first, then MAIN, then any auxiliary databases added using the ATTACH command.
A preexisting transaction may not be upgraded to exclusive by calling this routine a second time - the exclusivity flag only works for a new transaction.
As originally  written the query must use a temp-table for at least one of the ORDER  BY and DISTINCT, and an index or separate temp-table for the other.
But on the 10th an subsequent retries, the delays start becoming longer and longer,  so that on the 100th (and last) RETRY we delay for 323 milliseconds.
CAPI3REF: Prepared Statement Scan Status METHOD: sqlite3_stmt  This interface returns information about the predicted and measured performance for pStmt.
Checksums and counters attached to each frame are used to determine which frames within the WAL are valid and which are leftovers from prior checkpoints.
Definition: Two databases (or the same database at two points it time) are said to be "logically equivalent" if they give the same answer to all queries.
EVIDENCE-OF: R-02982-34736 In order to maintain full backwards compatibility for legacy applications, the URI filename capability is disabled by default.
EVIDENCE-OF: R-64852-21591 The sqlite3_backup object is created by a call to sqlite3_backup_init() and is destroyed by a call to sqlite3_backup_finish().
However, if the PmaReader.pIncr variable points to an object of the following type, it may be used to iterate/merge through multiple PMAs simultaneously.
If N is positive, then N pages worth of memory are allocated using a single sqlite3Malloc() call and that memory is used for the first N pages allocated.
If a constraint error occurs within the statement, the effect of that one statement can be rolled back without having to rollback the entire transaction.
If pAlloc is not NULL, then an UnpackedRecord object is created for pAlloc if one does not exist and the new value is added to the UnpackedRecord object.
If piLeaf2 is not NULL, then *piLeaf2 is set to the blockid of the right-most leaf node that may contain a term for which the specified term is a prefix.
If the ORDER BY clause contains only columns in the current  virtual table then allocate space for the aOrderBy part of the sqlite3_index_info structure.
If the estimated length exceeds the really used length, mark the extra allocated memory as unaddressable, so that any out-of-bound reads can be detected.
If the log file is not already open, but does exist in the file-system, it may need to be checkpointed before the connection can switch to rollback mode.
If the seekResult parameter is non-zero, then the caller guarantees that cursor pCur is pointing at the existing copy of a row that is to be overwritten.
If there are DELETE triggers on this table and the recursive-triggers flag is set, call GenerateRowDelete() to remove the conflicting row from the table.
If there is insufficient space allocated at StrBuffer.z, use realloc() to grow the buffer until so that it is big enough to accomadate the appended data.
If this is an auto-vacuum database, update the pointer map with entries for the new page, and any pointer from the  cell on the page to an overflow page.
If two or more threads call one or more of these routines against the same prepared statement and column at the same time then the results are undefined.
In UTF-8 mode, we can only do a direct setting for bytes less than 128, as otherwise there can be confusion with bytes in the middle of UTF-8 characters.
In this case the value is assumed to be an SQL NULL,  The expression is a bound variable, and this is a reprepare, or  The expression is a literal value.
It updates the phrases current position list to include only those positions that are really instances of the phrase (after considering deferred tokens).
MSIE doesn't delete a cookie when you set it to a null value so in order to force cookies to be deleted, even on MSIE, we pick an expiry date in the past
Opcode: Rewind P1 P2 * * *  The next use of the Rowid or Column or Next instruction for P1  will refer to the first entry in the database table or index.
Opening a directory is a security risk (we are told) so making it overrideable allows the chromium sandbox to replace this routine with a harmless no-op.
Otherwise, if the page is loaded and written again in this transaction, it may be written to the database file before it is synced into the journal file.
Read the first three 32-bit fields of the journal header: The nRec field, the checksum-initializer and the database size at the start of the transaction.
Refer to comments in the unixClose() function and the lengthy comment describing "Posix Advisory Locking" at the start of this file for  further details.
Same logic, code as darwin_386.c:/inittls, except that words are 8 bytes long now, and the thread-local storage starts at 0x60 on Leopard / Snow Leopard.
Sqlite3_aggregate_context() is normally called once for each invocation of the xStep callback and then one last time when the xFinal callback is invoked.
The comparison is a sort comparison, so NULLs compare equal, NULLs are less than numbers, numbers are less than strings, and strings are less than blobs.
The first argument should pointer to an 8-byte aligned block of memory that is at least sz*N bytes of memory, otherwise subsequent behavior is undefined.
The following is just enough definition to be able to reach the _AppDomain::CreateInstance method that we need to use to be able to fire up .Net objects.
The generated file, cmplxdivide1.go, is compiled along with the driver cmplxdivide.go (the names are confusing and unimaginative) to run the actual test.
The interface used by the implementation of the aforementioned functions to retrieve the collation sequence set by this opcode is not available publicly.
The names "Apache Server" and "Apache Group" must not be used to endorse or promote products derived from this software without prior written permission.
The same workspace is used during the second, actual compile phase for remembering forward references to groups so that they can be filled in at the end.
The xBestIndex method of this virtual table requires an estimate of the number of rows in the virtual table to calculate the costs of various strategies.
These precomputed constants are defined here rather than simply putting the constant expressions inline in order to work around bugs in the RVT compiler.
This block ensures that all data required to recreate the original database has been stored in the journal for pDestPager and the journal synced to disk.
This code depends on the fact that certain token values (ex: TK_EQ) are the same as opcode values (ex: OP_Eq) that implement the corresponding operation.
This function invokes the xBestIndex() method of the virtual table with the sqlite3_index_info object that comes in as the 3rd argument to this function.
This function is a pass-through to fcntl(F_SETLK) if pFile is using any VFS other than "unix-excl" or if pFile is opened on "unix-excl" and is read-only.
This is done for a particular application that needs to know whether or not the tokenizer is being used for snippet generation or for some other purpose.
This is done if there are no BEFORE triggers, or if there are one or more BEFORE triggers that use this value via a new.* reference in a trigger program.
This opcode is normally use to move a record out of the sorter and into a register that is the source for a pseudo-table cursor created using OpenPseudo.
This version does not attempt to produce an output file with transparency in some of the palette indexes, which, in practice, doesn't look so hot anyway.
Unfortunately, there's no clean and portable way in C to pass arguments to a variadic function if you don't know the number of arguments at compile time.
When  doing coverage testing, the condition inside the argument to testcase() must be evaluated both true and false in order to get full branch coverage.
When a master journal file is created, it is populated with the names  of all of its child journals, one after another, formatted as utf-8  encoded text.
When multiple threads all reference the same log-summary, each thread has its own winFile object, but they all point to a single instance of this object.
When this function is called, *pp points to the first byte following a varint that is part of a doclist (or position-list, or any other list of varints).
f* SERIALIZE/XMLRPC_VALUE_ToXML NAME XMLRPC_VALUE_ToXML SYNOPSIS char* XMLRPC_VALUE_ToXML(XMLRPC_VALUE val) FUNCTION encode XMLRPC_VALUE into XML buffer.
we cannot substitute constants here or it will break ReflectionParameter::getDefaultValueConstantName() and ReflectionParameter::isDefaultValueConstant()
xColumnTotalSize(pFts, iCol, pnToken): If parameter iCol is less than zero, set output variable *pnToken to the total number of tokens in the FTS5 table.
zip_fread.c -- read from file Copyright (C) 1999-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
'ab' - 'a' and 'b' regexps are concatenated 'a+' - 'a' is the sub-expression of the '+' operator The condition checkers are boolean (true/false) checkers.
2 means the library is multithreaded - multiple threads can use SQLite as long as no two threads try to use the same database connection at the same time.
32 and 64 show very similar performance numbers to 16 on insertion, though they're a tiny bit slower (perhaps due to more overhead in merge-time sorting).
A single call to this function attempts to populates field iVal (leftmost  is 0 etc.) of the unpacked record with a value extracted from expression pExpr.
An Fts3MultiSegReader uses multiple Fts3SegReader objects internally to provide an interface to seek or scan within the union of all segments of a b-tree.
EVIDENCE-OF: R-55594-21030 The SQLITE_CONFIG_MALLOC option takes a single argument which is a pointer to an instance of the sqlite3_mem_methods structure.
Even if it does, the miscompile might only occur on the production build, but not on a testing build (such as because of different optimization settings).
Extensions that use newer APIs should first call the sqlite3_libversion_number() to make sure that the API they intend to use is supported by the library.
For people running under terminal services, GetWindowsDirectory will return their personal Windows directory, so lets add the system windows directory too
However, it calls memory allocation and freeing functions via the four indirections below, and it can optionally do callouts, using the fifth indirection.
If NULL is given the subject is set to "No Subject" 3) mailTo:  Destination address 4) data:        Null terminated string containing the data to be send.
If a SHARED lock is requested, and some thread using this PID already has a SHARED or RESERVED lock, then increment reference counts and return SQLITE_OK.
If an IO error prevents the journal file from being successfully finalized, the setMaster flag is cleared anyway (and the pager will move to ERROR state).
If format of 2 is specified, then the function will return an associated array where the position of the word is the key and the word itself is the value.
If it is a ROLLBACK TO, then set the number of deferred  constraint violations present in the database to the value stored when the savepoint was created.
If it's the same image, mapping is NOT trivial since we merge with greyscale target, but if pct is 100, the grey value is not used, so it becomes trivial.
If pFrom contained any cells with overflow page pointers, then the corresponding pointer map entries are also updated so that the parent page is page pTo.
If pMem is not a string object, or the encoding of the string representation is already stored using the requested encoding, then this routine is a no-op.
If sqlite3rbu_step() has been called enough times to completely apply the update to the target database, then the RBU database is marked as fully applied.
If the P1 value is non-zero, then also set the MEM_Cleared flag so that NULL values will not compare equal even if SQLITE_NULLEQ is set on OP_Ne or OP_Eq.
If the bCommit parameter is non-zero, this function assumes that the  caller will keep calling incrVacuumStep() until it returns SQLITE_DONE  or an error.
If the contents of this page were just restored from the main  journal file, then its content must be as they were when the  transaction was first opened.
If the right-hand side is also a column, then the affinities of both right and left sides must be such that no type conversions are required on the right.
If this operation returns an error, and the current statement error code is SQLITE_OK or SQLITE_CONSTRAINT, then promote the current statement error code.
If we are unable to satisfy all memory requirements by reusing the opcode array tail, then the second pass will fill in the rest using a fresh allocation.
In WRITER_LOCKED state, all locks  required to start a write-transaction are held, but no actual  modifications to the cache or database have taken place.
In this case there need not be overflow if certain parts of the pattern were not used, even though there are more capturing parentheses than vector slots.
In this case, instead of sorting the records and writing the PMA to a temporary file itself, the calling thread usually launches a worker thread to do so.
Note that the integer representation is always preferred, even if the affinity is REAL, because an integer representation is more space efficient on disk.
Note, that now (4.1.3) we always send metadata in reply to COM_STMT_EXECUTE (even if it is not necessary), so either this or previous branch always works.
Opcode: Sort P1 P2 * * *  This opcode does exactly the same thing as OP_Rewind except that it increments an undocumented global variable used for testing.
Other values of n (P4_STATIC, P4_COLLSEQ etc.) indicate that zP4 points to a string or structure that is guaranteed to exist for the lifetime of the Vdbe.
SQLite varints are big-endian are are limited to 9 bytes in length whereas FTS3 varints are little-endian and can be up to 10 bytes in length (in theory).
Since this is handled as a fatal error by SQLite, vfs implementations should endeavor to prevent this by setting mxPathname to a sufficiently large value.
So, in other words, this routine advances *ppPoslist so that it points to the next docid in the doclist, or to the first byte past the end of the doclist.
That means that if  checkpoints are always run by a background thread or background  process, foreground threads will never block on a lengthy fsync call.
The cell pointer array contains zero or more 2-byte numbers which are offsets from the beginning of the page to the cell content in the cell content area.
The copy operation of step (3) requires additional temporary disk space approximately equal to the size of the original database for the rollback journal.
The dbstat virtual table is used to extract low-level formatting information from an SQLite database in order to implement the "sqlite3_analyzer" utility.
The following fields are initialized when this object is created and are read-only thereafter:  unixShm.pFile unixShm.id  All other fields are read/write.
The space required to store the output is therefore the sum of the sizes of the two inputs, plus enough space for exactly one of the input docids to grow.
The vdbe must make its own copy of the column-type and other  column specific strings, in case the schema is reset before this virtual machine is deleted.
This additional integer is an estimate of the number of rows matched by a stabbing query on the index using a key with the corresponding number of fields.
This has to be done before determining whether a master journal file is  required, as an xSync() callback may add an attached database to the transaction.
This is needed even though pcre_internal.h itself includes pcre.h, because it does so after it has set PCRE_EXP_DECL to "export" if it is not already set.
This is not really necessary, but it is tidier than  leaving the regular expression object configured with an invalid pointer after this function returns.
This is safe because dropping a cell only overwrites the first four bytes of it, and this function does not need the first four bytes of the divider cell.
This next statement and the later reference to dummy are here in order to trick the optimizer of the IBM C compiler for OS/2 into generating correct code.
To avoid this overhead dwarfing the actual productive work accomplished, the incremental merge is only attempted if it will write at least 64 leaf blocks.
We also set the "follows varying string" flag for subsequently encountered reqchars if it isn't already set and we have just passed a varying length item.
We have to do this instead of letting pAppData point directly at the finder-function since C90 rules prevent a void* from be cast into a function pointer.
Which can mean that fillInCell() only initializes the first 2 or 3 bytes of pTmpSpace, but that the first 4 bytes are copied from it into a database page.
downscaling using the fixed point implementations are usually much faster than the existing gdImageCopyResampled while having a similar or better quality.
rbu_delta() is invoked with two arguments - the original value currently stored in the target table column and the  value specified in the data_xxx table.
zip_add_dir.c -- add directory Copyright (C) 1999-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_dir_add.c -- add directory Copyright (C) 1999-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_source_seek.c -- seek to offset Copyright (C) 2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
(We might add a JSONB type in the future which stores a binary encoding of JSON in a BLOB, but there is no support for JSONB in the current implementation.
1) If the pager is currently in PAGER_OPEN state (no lock held on the database file), then an attempt is made to obtain a SHARED lock on the database file.
ABORT processing means the operation in process fails and any prior changes from that one operation are backed out, but the transaction is not rolled back.
All the reasons those functions might return SQLITE_ERROR - missing table, missing row, non-blob/text in block column - indicate  backing store corruption.
But updating the actual wal-index header is also safe and means there is no special case for sqlite3WalUndo() to handle if this transaction is rolled back.
By NULLing the dlopen() handle in the module entry, Zend omits the call to dlclose(), ensuring that the module will remain present until the process exits.
Each element of the list is represented by an FTS3 varint that takes the value of the difference between the current element and the previous one plus two.
F and G are optimized compared to their RFC 1321 definitions for architectures that lack an AND-NOT instruction, just like in Colin Plumb's implementation.
First look for an existing path among best-so-far paths that covers the same set of loops and has the same isOrdered setting as the current path candidate.
For COND brackets, we wrap the whole thing in a possessively repeated non-capturing bracket, because we have not invented POS versions of the COND opcodes.
Head of a linked list of all sqlite3 objects created by this process for which either sqlite3.pBlockingConnection or sqlite3.pUnlockConnection is not NULL.
However, that's not true, as if max_allowed_packet_size is smaller than the chunk being sent to the server, the latter will complain with an error message.
IMPLEMENTATION-OF: R-26801-64137 If the xInit() method is NULL, then the built-in default page cache is used instead of the application defined page cache.
If firstchar was previously set, convert the subpattern's firstchar into reqchar if there wasn't one, using the vary flag that was in existence beforehand.
If the atomic-write optimization is enabled in this build, then isDirect is initialized to the value passed as the isDirectMode parameter to this function.
If the database is already opened in the same database connection and we are in shared cache mode, then the open will fail with an SQLITE_CONSTRAINT error.
If the following function pointer is not NULL and if SQLITE_ENABLE_IOTRACE is enabled, then messages describing I/O active are written using this function.
In doing so it also sets the BtShared.db member of each of the BtShared structures, ensuring that the correct busy-handler callback is invoked if required.
In order to maintain backwards compatibility with older versions of SQLite, we will continue to restrict the number of entries to usableSize/4 - 8 for now.
In some cases a single trigger may generate more than one  SubProgram (if the trigger may be executed with more than one different  ON CONFLICT algorithm).
In the pre-compile phase, however, the code pointer can have that value after the start, because it gets reset as code is discarded during the pre-compile.
In this case, keys are always delivered to the sorter in order of the primary key, which happens to be make up the final part  of the records being sorted.
Instead, they are moved from the Table.pVTable list to another linked list headed by the sqlite3.pDisconnect member of the corresponding sqlite3 structure.
Instead, we simply count through to the one we want - this isn't a performance issue because these strings are used only when there is a compilation error.
It is possible that a buffered stream was switched to non-buffered, so we drain the remainder of the buffer before using the "raw" read mode for the excess
It's length from the segment is the shorter of the lengths from the endpoints, but call the distance -1, so as not to compute the alpha nor draw the pixel.
Note in particular that this includes atomic brackets OP_ONCE and OP_ONCE_NC because the number of characters matched by .* cannot be adjusted inside them.
Otherwise, if eMode is any value other than INCRINIT_ROOT, then use  vdbePmaReaderIncrMergeInit() to initialize each PmaReader that feeds data  to pMerger.
Otherwise, if no error occurs, this function returns SQLITE_OK if the update has been partially applied, or SQLITE_DONE if it has been  completely applied.
Set both the "read version" (single byte at byte offset 18) and  "write version" (single byte at byte offset 19) fields in the database header to iVersion.
Silently convert bound parameters that appear inside of CREATE statements into a NULL when parsing the CREATE statement text out of the sqlite_master table
So xCheckReservedLock may  return true because the caller itself is holding an EXCLUSIVE lock (but doesn't know it because of a previous error in xUnlock).
Storing max length set in OCIBindByName() to check it later in php_oci_bind_in_callback() function to avoid ORA-1406 error while executing OCIStmtExecute()
Temporary int fd is needed for the STREAM data type on windows, passing this_fd directly to php_stream_cast() would eventually bring a wrong result on x64.
That's why for generators the execution context is allocated using a separate VM stack, thus allowing to save and restore it simply by replacing a pointer.
The following fields are initialized when this object is created and are read-only thereafter:  winShm.pShmNode winShm.id  All other fields are read/write.
The functions used by the UPDATE/DELETE generation code to query for this information are:  sqlite3FkRequired() - Test to see if FK processing is required.
The makefile makes some minor changes to this file (such as inserting the version number) and changes its name to "sqlite3.h" as part of the build process.
This has no effect if the sub-journal is already opened (as it may be when running in exclusive mode) or if the transaction does not require a sub-journal.
This is slightly different from resolving a normal SQL expression, because simple identifiers are treated as strings, not possible column names or aliases.
This means we're probably writing a lot more data to disk when saving the state of an ongoing update to the RBU update database than is strictly necessary.
This seems unsafe though, as it would leave the system in a state where the contents of the wal-index header do not match the contents of the  file-system.
This step function is used for both the min() and max() aggregates, the only difference between the two being that the sense of the comparison is inverted.
Type SegmentNode is used by the following three functions to create the interior part of the segment b+-tree structures (everything except the leaf nodes).
Universal Time (GMT), the North American timezones (PST, PDT, MST, MDT, CST, CDT, EST, EDT) and the +/-hhmm offset specifed in RFC-822 should be supported.
When the b-tree is being used for membership tests, the calling function might need to know whether or not the RHS side of the IN operator contains a NULL.
Because the change-counter page was just modified, unless the atomic-update optimization is used it is almost certain that the journal requires a sync here.
Compute the comparison permutation and keyinfo that is used with the permutation used to determine if the next row of results comes from selectA or selectB.
EVIDENCE-OF: R-10421-19736 If any other process is running a checkpoint operation at the same time, the lock cannot be obtained and SQLITE_BUSY is returned.
Following a suggestion from Stan Switzer, the use of longjmp() has been abolished, at the cost of having to provide a unique number for each call to RMATCH.
IMPLEMENTATION-OF: R-61436-13639 If the argument N is negative, then the number of cache pages is adjusted to use approximately abs(N*1024) bytes of memory.
If an OOM occurs while retrieving the data (this can happen if SQLite needs to transform the data from utf-16 to utf-8), return SQLITE_NOMEM  to the caller.
If any IO error apart from SQLITE_IOERR_SHORT_READ is encountered, the error code is returned to the caller and the contents of the output buffer undefined.
If the INSERT statement included an IDLIST term, then make sure all elements of the IDLIST really are columns of the table and  remember the column indices.
If the argument is a codepoint corresponding to a lowercase letter in the ASCII range with a diacritic added, return the codepoint of the ASCII letter only.
If the client is reading  or writing an index and the schema is not loaded, then it is too difficult to actually check to see if the correct locks are held.
If the current size of the database file is 0 but a journal file exists, that is probably an old journal left over from a prior database with the same name.
If the journal file is already open (as it may be in exclusive mode), then this function just writes a journal header to the start of the already open file.
If the minimum is greater than zero, replicate the group as many times as necessary, and adjust the maximum to the number of subsequent copies that we need.
If the optimization was not enabled at compile time, then the pager_incr_changecounter() function is called to update the change counter in 'indirect-mode'.
If the table identified by  FROM clause element pItem is really a common-table-expression (CTE)  then return a pointer to the CTE definition for that table.
If there is more than one table or sub-select in the FROM clause of this query, then it will not be possible to show that the DISTINCT  clause is redundant.
It logs a message using sqlite3_log() containing the current value of errno and, if possible, the human-readable equivalent from strerror() or strerror_r().
It shouldn't be possible for fullfsync to fail on the local  file system (on OSX), so failure indicates that FULLFSYNC isn't supported for this file system.
On a machine with IEEE extended-precision registers, it is necessary to specify double-precision (53-bit) rounding precision before invoking strtod or dtoa.
Once the sorter has been populated by calls to sqlite3VdbeSorterWrite, this function is called to prepare for iterating through the records in sorted order.
Since the length of a metonic cycle is a constant, this is a simple calculation, except that it requires an intermediate value which is bigger that 32 bits.
The VFS.xSync operations serve as write barriers - all writes launched before the xSync must complete before any write that launches after the xSync begins.
The few cases that require local variables are broken out into a separate routine so that in most cases the overhead of moving the stack pointer is avoided.
The following block stores the meta information that will be returned to the caller in local variables zDataType, zCollSeq, notnull, primarykey and autoinc.
The format of  this is:  + Bareword (function name) + Open parenthesis - "(" + Zero or more SQL literals in a comma separated list + Close parenthesis - ")"
The interface to the virtual-table mechanism defined above (back up to a comment remarkably similar to this one) is currently considered to be experimental.
The regex is partly compiled into this space, but the compiled parts are discarded as soon as they can be, so that hopefully there will never be an overrun.
The sqlite3_close() version returns SQLITE_BUSY and leaves the connection option if there are unfinalized prepared statements or unfinished sqlite3_backups.
The sqlite_stat4 is an enhanced version of sqlite_stat3 and is only available when compiled with SQLITE_ENABLE_STAT4 and in SQLite versions 3.8.1 and later.
The value of the expression is unknown (NULL) if the LHS is NULL or if the LHS is not contained within the RHS and the RHS contains one or more NULL values.
This implementation in this file does not provide any mutual exclusion and is thus suitable for use only in applications that use SQLite in a single thread.
This is for cases like http://localhost/blah.phar/path/to/file.php/extra/stuff which calls "blah.phar" file "path/to/file.php" with PATH_INFO "/extra/stuff"
This only happens when we're called outside any execute()'s It shouldn't be strictly necessary to NULL execute_data out, but it may make bugs easier to spot
This routine is useful when a large program is loaded from a static array using sqlite3VdbeAddOpList but we want to make a few minor changes to the program.
This testing proceeds by initially truncating the input string, then if necessary comparing the whole string with a decimal expansion to decide close cases.
This will be used in order to either set the dimensions of the node if none already exist, or to compute the remaining space left for the flexible children.
To say "WhereLoop X is a proper subset of Y" means that X uses fewer WHERE clause terms than Y and that every WHERE clause term used by X is also used by Y.
Wait until now, after the page has been successfully journalled, before setting the PGHDR_WRITEABLE bit that indicates that the page can be safely modified.
We can get the item's length from the table, but for those that can match zero occurrences of a character, we must take special action for UTF-8 characters.
When easy handle is cleaned up, if the handle was previously used by the curl_multi_api, the connection remains open un the curl multi handle is cleaned up.
f* VECTOR/XMLRPC_VectorNext NAME XMLRPC_VectorNext SYNOPSIS XMLRPC_VALUE XMLRPC_VectorNext(XMLRPC_VALUE value) FUNCTION Iterate vector to next item in list.
function    : Q_Size  purpose     : return the number of elements in the queue  parameters  : queue pointer  returns     : number of elements  comments    :
ppToken should be set to point at a buffer containing the  normalized version of the token (i.e. after any case-folding and/or stemming has been performed).
search for delimiter, but skip buffered_len (the number of bytes buffered before this loop iteration), as they have already been searched for the delimiter.
we need to check if the ctor is the ctor of the class level we we looking at since we might be looking at an inherited old style ctor defined in base class.
zip_error_get.c -- get zip error Copyright (C) 1999-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
A cost of log(N)  indicates that the expense of the operation is similar to that of a binary search on a unique indexed field of an SQLite table with N rows.
An instance of the following structure is passed as the first argument to sqlite3VdbeKeyCompare and is used to control the  comparison of the two index keys.
Arguments: code           current code pointer ptr            current pattern pointer cd             pointers to tables etc Returns:         new code pointer
Before calling this routine *pi must be initialized to the value of the previous position, or zero if we are reading the first position in the position-list.
But, do not do this if we are simply reading the sqlite_master table to parse the schema, or if this index is the PRIMARY KEY index of a WITHOUT ROWID table.
EVIDENCE-OF: R-51213-46414 The SQLITE_CONFIG_GETMALLOC option takes a single argument which is a pointer to an instance of the sqlite3_mem_methods structure.
Each instance of this macro generates two objects:  A constant sqlite3_io_methods object call METHOD that has locking methods CLOSE, LOCK, UNLOCK, CKRESLOCK.
For astronomical as well as ceremonial reasons, the start of a new year may be delayed until a day or two after the new moon causing years to vary in length.
IMP: R-62073-11209 The changes() SQL function is a wrapper around the sqlite3_changes() C/C++ function and hence follows the same rules for counting changes.
If ppPage is not NULL, and a reference to the MemPage object corresponding to page number pOvfl was obtained, then *ppPage is set to point to that reference.
If the page containing the entry to delete is not a leaf page, move the cursor to the largest entry in the tree that is smaller than the entry being deleted.
If the pager is in WAL mode and the WAL file currently contains one or more frames, return the size in bytes of the page images stored within the WAL frames.
If the phrase pExpr consists entirely of deferred tokens, then all X and Y values are set to nDoc, where nDoc is the number of documents in the  file system.
If this function is called with parameters that attempt to write past the end of the existing data, no modifications are made and SQLITE_CORRUPT is returned.
If this was a group that remembered the subject start, in order to break infinite repeats of empty string matches, retrieve the subject start from the chain.
If we backed up to a THEN, check whether it is within the current branch by comparing the address of the THEN that is passed back with the end of the branch.
In case the child is absolutely positionned and has a top/left/bottom/right being set, we override all the previously computed positions to set it correctly.
It is set to a copy of dbSize when the write-transaction is first opened, and updated when VFS calls are made to write or truncate the database file on disk.
LIMITATIONS  An "RBU update" transaction is subject to the following limitations:  The transaction must consist of INSERT, UPDATE and DELETE operations only.
Properties such as "out2" or "jump" that are specified in comments following the "case" for each opcode in the vdbe.c are encoded into bitvectors as follows:
Removing user-defined functions or collating sequences, or changing an authorization function are the types of things that make prepared statements obsolete.
Replace exception handling so the catchable fatal error that is thrown when a class without __toString is converted to string is converted into an exception.
Segment merges overwrite older data for a particular docid with newer data, so deletes or updates will eventually overtake the earlier data and knock it out.
Since this code is only executed in PAGER_OPEN state for a hot-journal rollback, it is guaranteed that the page-cache is empty if the pager is in OPEN state.
So set JUMPIFNULL to make sure we do the OP_Found if any of the parent-key values are NULL (at this point it is known that none of the child key values are).
The caller has obtained a mutex prior to invoking this routine so there is never any chance that two or more threads can be in this routine at the same time.
The following are acceptable forms for the input string:  YYYY-MM-DD HH:MM:SS.FFF  +/-HH:MM DDDD.DD  now  In the first form, the +/-HH:MM is always optional.
The interface is modeled after MySQL JSON functions:  https://dev.mysql.com/doc/refman/5.7/en/json.html  For the time being, all JSON is stored as pure text.
The pExtra element of sqlite3_pcache_page will be a pointer to the szExtra bytes of extra storage that SQLite has requested for each entry in the page cache.
The phrase iterator passed as the second argument:  features at least one token that uses an incremental doclist, and   does not contain any deferred tokens.
The sqlite_stat2 table is superseded by sqlite_stat3, which is only created and used by SQLite versions 3.7.9 and later and with SQLITE_ENABLE_STAT3 defined.
There is a special fudge for calling match() in a way that causes it to measure the size of its basic stack frame when the stack is being used for recursion.
There is an implied first entry the covers the page header, the cell pointer index, and the gap between the cell pointer index and the start of cell content.
This function does not call sqlite3DbFree(db, ) on the  pointer itself, it just cleans up subsidiary resources (i.e. the contents of the schema hash tables).
This function populates:  Fts5SegIter.term Fts5SegIter.rowid  accordingly and leaves (Fts5SegIter.iLeafOffset) set to the content of the first position list.
This is common tail processing for btreeParseCellPtr() and btreeParseCellPtrIndex() for the case when the cell does not fit entirely on a single B-tree page.
This is used to preset the content of a new memory allocation to unpredictable values and to clear the content of a freed allocation to unpredictable values.
This label is used for tail recursion, which is used in a few cases even when NO_RECURSE is not defined, in order to reduce the amount of stack that is used.
This loop determines (a) if the commit hook should be invoked and (b) how many database files have open write transactions, not  including the temp database.
Whenever an SQLITE_OPEN_WAL file is opened, the (rbu_file.pWalFd) member variable of the associated database file descriptor is set to point to the new file.
- Filter weight contribution results, after summing, are rounded to the nearest pixel color value instead of being casted to ILubyte (usually an int or char).
A short program which converts a .png file into a .gd file, for your convenience in creating images on the fly from a basis image that must be loaded quickly.
Also add explicit collations to the ORDER BY clause terms so that when the subqueries to the right and the left are evaluated, they use the correct collation.
As a special exception, the "*" tag can be used as a language tag to declare a default ordering for any language that does not explicitly declare an ordering.
At this point the iterator is in its regular state - Fts5SegIter.iLeafOffset points to the first byte of the position list content associated with said rowid.
But if a term also satisfies case 1 (such as B) we know that the optimizer will always prefer case 1, so in that case we pretend that case 3 is not satisfied.
Do any ON CASCADE, SET NULL or SET DEFAULT operations required to handle rows (possibly in other tables) that refer via a foreign key to the row just deleted.
Do any ON CASCADE, SET NULL or SET DEFAULT operations required to handle rows (possibly in other tables) that refer via a foreign key to the row just updated.
However, many of the "procedures" and "functions" for modifying and accessing this structure are really macros, so we can't really make this structure opaque.
However, some of the "procedures" and "functions" for modifying and accessing this structure are really macros, so we can't really make this structure opaque.
If a register is currently being used by the column cache, then the deallocation is deferred until the column cache line that uses the register becomes stale.
If cursors, triggers, views and subqueries are all omitted from the build, then none of the following routines, except for  sqlite3SelectDup(), can be called.
If page pFrom was not a leaf page, then the pointer-map entries for each child page are updated so that the parent page stored in the pointer map is page pTo.
If the next month is invalid, then we need to try the first month of the next year, bearing in mind that the next year after 1 BCE is actually 1 AD and not 0.
If the pager is open on a temp-file (or in-memory database), or if the WAL file is already open, set *pbOpen to 1 and return SQLITE_OK without doing anything.
If the subquery gives a different answer at different times during statement processing then iTable is the address of a subroutine that computes the subquery.
If this item is right at the start of the pattern, the options can be abstracted and made external in the pre-compile phase, and ignored in the compile phase.
If we are at the end of a scan line, set curx back to the beginning If we are interlaced, bump the cury to the appropriate spot, otherwise, just increment it.
In this way, if the  higher level code is using pointer to the old allocation, it is  much more likely to break and we are much more liking to find the error.
More specifically, a statement transaction is opened iff the database connection is currently not in autocommit mode, or if there are other active statements.
Register pRt is used to store the memory required to save the state of the current program, and the memory required at runtime to execute the trigger program.
Remove the following function when you have successfully modified config.m4 so that your module can be compiled into PHP, it exists only for testing purposes.
Return true if the heap is currently under memory pressure - in other words if the amount of heap used is close to the limit set by sqlite3_soft_heap_limit().
The ORDER BY clause for compounds SELECT statements is handled below, after all of the result-sets for all of the elements of the compound have been resolved.
The SQLITE_TEST_REALLOC_STRESS compile-time option is designed to force more frequent reallocs and hence provide more opportunities for  simulated OOM faults.
This function is used to allocate and populate UnpackedRecord  structures intended to be compared against sample index keys stored  in the sqlite_stat4 table.
This function returns the space in bytes required to store the copy  of the Expr structure and a copy of the Expr.u.zToken string (if that string is defined.)
This function should only be used as a copy constructor, i.e. it should only be called AFTER a zval has been copied to another location using ZVAL_COPY_VALUE.
This is, of course a documentated possibility, when NO_UTF_CHECK is set, so it isn't a bug, but we can detect this case and just give up on this optimization.
This means that if the given day number falls in the 3rd month or on the 30th day of the 2nd month the length of the year must be found, but in no other case.
This routine prepares a memory cell for modification by breaking its link to a shallow copy and by marking any current shallow copies of this cell as invalid.
function    : Q_Insert  purpose     : Insert an element into an indexed queue  parameters  : queue pointer 'q', data pointer 'data', Comp comparison function.
it will be interpreted as the cert data If you supply makeresource, the result will be registered as an x509 resource and it's value returned in makeresource.
sqlite3_test_control(SQLITE_TESTCTRL_ALWAYS, int X)  This action provides a run-time test to see how the ALWAYS and NEVER macros were defined at compile-time.
An output_buf parameter is required by the method signature, but no data is actually output (in fact the buffer controller is probably passing a NULL pointer).
Arguments: what             what information is required where            where to put the information Returns:           0 if data returned, negative on error
Backwards Compatibility Hack:  Historical versions of SQLite accepted strings as column names in indexes and PRIMARY KEY constraints and in UNIQUE constraints.
Both this module and the pager code use this trick (clearing the first byte of the page 'extra' space to invalidate the Btree layers cached parse of the page).
CURSOR_FAULT: An unrecoverable error (an I/O error or a malloc failure) has occurred on a different connection that shares the BtShared cache with this cursor.
EVIDENCE-OF: R-61006-08918 If the memory pointer is not NULL then the alternative memory allocator is engaged to handle all of SQLites memory allocation needs.
First argument to link function is the target and hence should go to frompath Second argument to link function is the link itself and hence should go to topath
For the other POSIX classes (ascii, xdigit) we are going to fall through to the non-UCP case and build a bit map for characters with code points less than 256.
Here is the (internal, non-API) interface between this module and the rest of the SQLite system:  sqlite3VdbeSorterInit()       Create a new VdbeSorter object.
However, don't set the bit unless the length is greater than zero - the interpretive pcre_exec() and pcre_dfa_exec() needn't waste time checking the zero case.
However, if we end up without a first char setting for an unanchored pattern, it is worth scanning the regex to see if there is an initial asserted first char.
IMPLEMENTATION-OF: R-34391-24921 The sqlite3_release_memory() routine is a no-op returning zero if SQLite is not compiled with SQLITE_ENABLE_MEMORY_MANAGEMENT.
If all indexed columns use collation sequence BINARY, then it can also be assumed that the index will be populated by inserting keys in strictly sorted  order.
If an IO error occurs while trying to determine whether or not a hot-journal file exists, the IO error code is returned and the value of *pExists is undefined.
If an allocation is MEMTYPE_LOOKASIDE, that means it might have been allocated by lookaside, except the allocation was too large or lookaside was already full.
If argument eMode is set to INCRINIT_TASK, then pReadr is guaranteed to be a multi-threaded PmaReader and this function is being called in a background thread.
If createFlag is false, then a function with the required name and number of arguments may be returned even if the eTextRep flag does not match that requested.
If mxPage is negative, the pager will operate asynchronously - it will not stop to do fsync()s to insure data is written to the disk surface before continuing.
If one side or the other of the AND is known to be false, then instead of returning an AND expression, just return a constant expression with a value of false.
If the 3rd parameter is non-negative, then it must be the byte offset into the string where the NUL terminator would appear if the string where NUL terminated.
If the OPFLAG_LASTROWID flag of P5 is set, then rowid is stored for subsequent return by the sqlite3_last_insert_rowid() function (otherwise it is unmodified).
If there currently exists a writer, and p is not that writer, then the number of locks held by connections other than the writer must be about to drop to zero.
If there is a size limit configured for  the persistent journal and the journal file currently consumes more space than that limit allows for, truncate it now.
Or, if an error occurs during the execution of this function, it sets the error code in the sqlite3rbu object indicated by the first argument and returns zero.
Phrase matches are numbered starting from zero, so the iIdx argument should be greater than or equal to zero and smaller than the value output by xInstCount().
Pragma "quick_check" is reduced version of  integrity_check designed to detect most database corruption without most of the overhead of a full integrity-check.
Return the value to pass to a sqlite3_wal_hook callback, the number of frames in the WAL at the point of the last commit since sqlite3WalCallback() was called.
Special case: If this is an INSERT statement that will insert exactly one row into the table, raise a constraint immediately instead of incrementing a counter.
Start of nested parenthesized sub-expression, or comment or lookahead or lookbehind or option setting or condition or all the other extended parenthesis forms.
The 3rd and 4th parameters to the authorization callback function will be parameters or NULL depending on which of these codes is used as the second parameter.
The WhereInfo object contains a single instance of this object for each term in the FROM clause (which is to say, for each of the nested loops as implemented).
The first two entries in each row are Unicode general categories, and apply always, because all the characters they include are part of the PCRE character set.
The limit is not changed if the value originally pointed to is negative, and so the current limit  can be queried by passing in a pointer to a negative number.
The pBuf element of the returned sqlite3_pcache_page object will be a pointer to a buffer of szPage bytes used to store the content of a  single database page.
There are never very many files open at one time and lookups are not a performance-critical path, so it is sufficient to put these structures on a linked list.
Therefore, while parsing schema information, the Lookaside.bEnabled flag is cleared so that lookaside allocations are not used to construct the schema objects.
This function is called before modifying the contents of a table to invalidate any incrblob cursors that are open on the row or one of the rows being modified.
This is no longer permitted, on the grounds that it creates a library that is technically incompatible with an SQLite library  compiled with a different limit.
To be 'in range', both values need to be a power of two greater than or equal to 512 or 32, and not greater than their  respective compile time maximum limits.
When the value returned to V is a string, space to hold that string is managed by the prepared statement S and will be automatically freed when S is finalized.
retval ought to contain a ZVAL_LONG by now (the result of a comparison, i.e. most likely -1, 0, or 1) I suppose we could accept any scalar return type, though.
try to fetch args only if an FCALL was just made - elsewise we're in the middle of a function and debug_baktrace() might have been called by the error_handler.
we cannot use strlcpy - here the problem is that we have to copy NUL chars up to byte_count, we also have to add a single NUL character to force end of string.
An exception to the above rule: If the database is in no-sync mode and a page is moved during an incremental vacuum then the page may not be in the pager cache.
By passing this as the number of pages to copy to sqlite3_backup_step(), we can guarantee that the copy finishes  within a single call (unless an error occurs).
Check if the program stored in the VM associated with pParse may throw an ABORT exception (causing the statement, but not entire transaction to be rolled back).
Configure SQL variable iVar so that binding a new value to it signals to sqlite3_reoptimize() that re-preparing the statement may result in a better query plan.
Continue rolling back records out of the main journal starting at the first journal header seen and continuing until the effective end of the main journal file.
EVIDENCE-OF: R-12793-43283 Every value in SQLite has one of five fundamental datatypes: 64-bit signed integer 64-bit IEEE floating point number string BLOB NULL
Each call to sqlite3_rtree_geometry_callback() or sqlite3_rtree_query_callback() creates an ordinary SQLite scalar function that is implemented by this routine.
Find the smallest page number out of all pages held in the WAL that has not been returned by any prior invocation of this method on the same WalIterator object.
For each repetition we must add 1 to the length for BRAZERO and for all but the last repetition we must add 2 + 2*LINKSIZE to allow for the nesting that occurs.
For example, when inserting data into a table with auto-generated integer keys, the VDBE layer invokes sqlite3BtreeLast() to figure out the  integer key to use.
For infix functions (LIKE, GLOB, REGEXP, and MATCH) use the second argument, not the first, as the argument to test to see if it is a column in a virtual table.
If SQLExecDirect executes a searched update or delete statement that does not affect any rows at the data source, the call to SQLExecDirect returns SQL_NO_DATA.
If SQLITE_NULLEQ is set (which will only happen if the operator is OP_Eq or OP_Ne) then take the jump or not depending on whether or not both operands are null.
If a delete caused by OR REPLACE violates an FK constraint, an exception is thrown, even if the FK constraint would be satisfied after the new  row is inserted.
If the ExprList is an ORDER BY or GROUP BY clause then the resulting KeyInfo structure is appropriate for initializing a virtual index to implement that clause.
If the order-by term is an identifier that corresponds to the AS-name of a result-set expression, then the term resolves to a copy of the result-set expression.
If the specified term is greater than or equal to the term from the interior node, then all terms on the sub-tree  headed by node iChild are smaller than zTerm.
If there are active savepoints and any of them were created  since the most recent journal header was written, update the  PagerSavepoint.iHdrOffset fields now.
If this is the right table of a LEFT OUTER JOIN, allocate and initialize a memory cell that records if this table matches any row of the left table of the join.
If we get this far, it means that the xfer optimization is at least a possibility, though it might only work if the destination table (tab1) is initially empty.
Indeed, using PHP_POLLREADABLE results in select failing only due to the timeout and not immediately as would be expected when a connection is actively refused.
It is used in the journal to signify that the remainder of the journal file  is devoted to storing a master journal name - there are no more pages to roll back.
Note that if you present a bogus address (one not in any segment), you will get a different number back, formed from subtracting the address of the first block.
Note that the structure of the sqlite3_vfs object changes in the transaction between SQLite version 3.5.9 and 3.6.0 and yet the iVersion field was not modified.
On the other hand, they can be made connection wide default through SetConnectOption - but will be overidden by calls to SetStmtOption() in odbc_prepare/odbc_do
Parameters: dst - Where to store the resulting affine transform m1 - First affine matrix m2 - Second affine matrix  Returns: GD_SUCCESS on success or GD_FAILURE
Recursive invocation is disallowed if (a) the sub-program is really a trigger, not a foreign key action, and (b) the flag to enable recursive triggers is clear.
Similarly, the mUnusable mask contains all FROM clause entries that occur after the virtual table and are separated from it by at least one LEFT or  CROSS JOIN.
Since both locks came from the same process, the second overrides the first, even though they were on different file descriptors opened on different file names.
Specifically, the number of pages written to the wal file in wal mode databases, or the number of pages written to the database file in rollback mode databases.
The difference between this function and pager_write() is that this function also deals with the special case where 2 or more pages fit on a single disk sector.
The p1 parameter is set to 0 for an old.rowid reference, or to (i+1) to reference another column of the old.* pseudo-table, where  i is the index of the column.
The space is either allocated using sqlite3DbMallocRaw() or from within the unaligned buffer passed via the second and third arguments (presumably stack space).
This case is also used when there are no WHERE clause constraints but an index is selected anyway, in order to force the output order to conform to an ORDER BY.
This class is based on the original code by Jarle Aase, see bellow: wSendmail.cpp  It has been striped of some functionality to match the requirements of phpfi.
This maps an external file or directory to a location within the phar archive, allowing reference to an external location as if it were within the phar archive.
We say the WhereLoop is "order-distinct" if the set of columns from that WhereLoop that are in the ORDER BY clause are different for every row of the WhereLoop.
When doing coverage testing ALWAYS and NEVER are hard-coded to be true and false so that the unreachable code they specify will not be counted as untested code.
When opening a zero-size database, the findInodeInfo() procedure writes a single byte into that file in order to work around a bug in the OS-X msdos filesystem.
on an resource list destruction, the context, another resource, may have already been freed (if it was created after the stream resource), so don't reference it
zip_error_clear.c -- clear zip error Copyright (C) 1999-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
(In other words, after a power-loss event, parts of the file that were never written might end up being altered.)  However, non-PSOW behavior is very, very rare.
(Sometimes new memory has to be allocated on an INSERT.)  The cost of a TEST with a new batch number is O(NlogN) where N is the number of elements in the RowSet.
A condition can be an assertion, a number (referring to a numbered group's having been set), a name (referring to a named group), or 'R', referring to recursion.
A rollback-mode pager changes to WRITER_FINISHED state from WRITER_DBMOD state after the entire transaction has been successfully written into the database file.
Also, since both the master and memsys locks are currently being held by us, no other function (i.e. from another thread) should be able to even access the heap.
Computes a color in im's color table that is part way between the background and foreground colors proportional to the gray pixel value in the range 0-NUMCOLORS.
EVIDENCE-OF: R-37497-42412 The size of the reserved region is determined by the one-byte unsigned integer found at an offset of 20 into the database file header.
EVIDENCE-OF: R-59841-13798 The 4-byte big-endian integer at offset 32 stores the page number of the first page of the freelist, or zero if the freelist is empty.
Every statement that might do an INSERT into an autoincrement table (either directly or through triggers) needs to call this routine just before the "exit" code.
Example encodings:  1:    0x01 127:    0x7f 128:    0x81 0x00   Document lists **** A doclist (document list) holds a docid-sorted list of hits for a given term.
For each subsequent docid, the varint stored is the difference between the current and previous docid (a positive number - since the list is in ascending order).
If a faster non-recursive mutex implementation is available on the host platform, the mutex subsystem might return such a mutex in response to SQLITE_MUTEX_FAST.
If either the current value or the highwater mark is too large to be represented by a 32-bit integer, then the values returned by sqlite3_status() are undefined.
If in the future we call sqlite3PagerWrite() on this page, that means we have started to be concerned about content and the disk read should occur at that point.
If the least significant bit in flags is clear, then the rule applies to all nRange codepoints (i.e. all nRange codepoints are upper case and need to be folded).
If the xFileControl(FCNTL_SIZE_HINT) method is called, dbHintSize is increased to the number of pages that correspond to the size-hint passed to the method call.
If we were called via fclose, the cookie_closer unsets the fclose_stdiocast flags, so we can be sure that we only reach here when PHP code calls php_stream_free.
Instead, forget about the specific key values and just allocate and initialize per-thread storage until we find a key that writes to the memory location we want.
It still makes no sense to do it as Windows addresses are virtual per se and can or should be randomized anyway through Address Space Layout Radomization (ASLR).
Its purpose is to set the object pointer for the object when you can't possibly know its value until you have parsed the arguments from the constructor function.
Note that the stream may be filtered, in which case the stat result may be inaccurate, as the filter may inflate or deflate the number of bytes that we can read.
Note: the test here for php_stream_udp_socket_ops is important, because we want the default to be TCP sockets so that the openssl extension can re-use this code.
Otherwise, if P4 is an integer  value, it is set to the number of columns in the table, or to the largest index of any column of the table that is actually used.
P4 is a 64-bit integer (P4_INT64) in which the first 63 bits are one for each of the first 63 columns of the table or index that are actually used by the cursor.
Presumably, when this routine is used for Walker.xExprCallback then  Walker.xSelectCallback is set to do something useful for every  subquery in the parser tree.
SEE ALSO XMLRPC_CreateValueEmpty () XMLRPC_SetIsVector () XMLRPC_GetValueType () XMLRPC_GetVectorType () XMLRPC_VALUE XMLRPC_VECTOR_TYPE XMLRPC_VALUE_TYPE SOURCE
So, for an ON INSERT trigger, the value passed to this function as parameter reg is not a readable register, although registers (reg+N) through  (reg+N+N+1) are.
Specifically, the return value of ftsHashFunction() is a pointer to a function that takes two parameters with types "const void*" and "int" and returns an "int".
TODO: - Optimize pixel accesses and loops once we have continuous buffer - Add scale support for a portion only of an image (equivalent of copyresized/resampled)
The TESTONLY macro is used to enclose variable declarations or other bits of code that are needed to support the arguments within testcase() and assert() macros.
The calling routine must link the master chunk before invoking this routine, then must unlink the (possibly changed) master chunk once this routine has finished.
The following three functions, found below:  rbuDeltaGetInt() rbuDeltaChecksum() rbuDeltaApply()  are lifted from the fossil source code (http://fossil-scm.org).
The returned value is either NULL or a pointer to a buffer containing a position-list indicating the occurrences of the phrase in column iCol of the current row.
The scalar function takes two arguments: (1) the number of dimensions to the rtree (between 1 and 5, inclusive) and (2) a blob of data containing an r-tree node.
The sqlite3_mutex.id, sqlite3_mutex.nRef, and sqlite3_mutex.owner fields are necessary under two condidtions:  (1) Debug builds and (2) using home-grown mutexes.
Then, see if this row is really a match, considering deferred tokens and NEAR operators (neither of which were taken into account earlier, by fts3EvalNextRow()).
These must be calculated even if open() is not called, as they may be stored as part of the file handle and used by the  'conch file' locking functions later on.
These routines provide selection of a custom color map for an image, followed by mapping of the image to that color map, with optional Floyd-Steinberg dithering.
This information  may be used by the caller, for example, to avoid having to load the entire old.* record into memory when executing an UPDATE or DELETE command.
This module contains pcre_exec(), the externally visible function that does pattern matching using an NFA algorithm, trying to mimic Perl as closely as possible.
Variable nPendingData contains an estimate the memory consumed by the  pending data structures, including hash table overhead, but not including malloc overhead.
We verify this constraint in the single-threaded case by setting scratchAllocOut to 1 when an allocation is outstanding clearing it when the allocation is freed.
When executing a "DROP TABLE" or "DROP INDEX" statement, SQLite checks if there are any currently executing SELECT statements that belong to the same connection.
When locks are created or removed, we have to look at our own internal record of the locks to see if another thread has previously set a lock on that same inode.
have to duplicate SG(request_info).path_translated to be able to log errrors php_fopen_primary_script seems to delete SG(request_info).path_translated on failure
i.e.: myfilter.foo.bar will always call into myfilter.foo.* never seeing myfilter.* TODO: Allow failed userfilter creations to continue scanning through the list
zip_io_util.c -- I/O helper functions Copyright (C) 1999-2015 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_source_tell.c -- report current offset Copyright (C) 2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
(1) A page of the database file is never overwritten unless one of the following are true:  (a) The page and all other pages on the same sector are overwriteable.
- If you supply file handles, there is no way to distinguish between ready for read/write or OOB, so any set in which the handle is found will be marked as ready.
A call to this routine is used to determine if the host is Win95/98/ME or WinNT/2K/XP so that we will know whether or not we can safely call the LockFileEx() API.
Also set define macro SQLITE_MALLOCSIZE to the appropriate function name, which is _msize() for MSVC and malloc_usable_size() for most other systems (e.g. Linux).
Also, the appearance of .* inside atomic brackets or in a pattern that contains *PRUNE or *SKIP does not count, because once again the assumption no longer holds.
Configure an sqlite3_wal_hook() callback to automatically checkpoint a database after committing a transaction if there are nFrame or more frames in the log file.
Each of these tests, if it succeeds, will leave the text converted into one-unichar-per-character Unicode in ubuf, and the number of characters converted in ulen.
Either the state is greater than PAGER_WRITER_CACHEMOD (a transaction  or savepoint rollback done at the request of the caller) or this is a hot-journal rollback.
Every open database file (including each in-memory database and each temporary or transient database) has a single page cache which is an instance of this object.
For this reason, we need to restore the working value and also the values of the final offsets, in case they were set by a previous iteration of the same bracket.
However, if no value can be extracted from either pLower or pUpper (and so the estimate of the number of rows delivered remains unchanged), *pbDone is left as is.
If SQLITE_CHECK_PAGES is defined, and NDEBUG is not defined, an assert() statement checks that the page is either dirty or still matches the calculated page-hash.
If a prior call to sqlite3GenerateIndexKey() generated a jump-over label because it was a partial index, then this routine should be called to resolve that label.
If an xUnlock fails or appears to fail, there may  be a few redundant xLock() calls or a lock may be held for longer than required, but nothing really goes wrong.
If pExpr is a column, a reference to a column via an 'AS' alias, or a sub-select with a column as the return value, then the  affinity of that column is returned.
If such a conversion is possible without loss of information (in other words, if the value is a string that looks like a number) then the conversion is performed.
If the WAL contains no copies of page P that are valid and which are a commit frame or are followed by a commit frame, then page P is read from the database file.
If the fourth argument, isCommit, is non-zero, then this page is being moved as part of a database reorganization just before the transaction  is being committed.
If the position list contains entries for column iCol, then (*pa) is set to point to the sub-position-list for that column and the number of bytes in it returned.
If the processing calls for the query to abort, this subroutine increments the iAbortFlag memory location before returning in order to signal the caller to abort.
If the second argument is SQLITE_FULL, SQLITE_IOERR or one of the IOERR sub-codes, the pager enters the ERROR state and the error code is stored in Pager.errCode.
If the sqlite3_finalize() call indicates that an error occurs, and the rbu handle error code is not already set, set the error code and error message accordingly.
If the xMutexAlloc method has not been set, then the user did not install a mutex implementation via sqlite3_config() prior to  sqlite3_initialize() being called.
If this database supports auto-vacuum and iPage is not the last page in this overflow list, check that the pointer-map entry for the following page matches iPage.
If this is an INSERT into a table b-tree and the table has an explicit INTEGER PRIMARY KEY, check that this is not an attempt to write a NULL into the IPK column.
Ignoring this column and  considering only any trailing columns and the sample hash value, this function returns true if sample pNew is to be preferred over pOld.
In the legacy version, the original SQL text is not saved in the prepared statement and so if a schema change occurs, SQLITE_SCHEMA is returned by sqlite3_step().
In this case if sqlite3BtreeEnter() were to be called, it might collide with some other operation on the database handle that owns *p, causing undefined behavior.
Increase the allocation size to provide an extra nExtra bytes of 8-byte aligned space after the Index object and return a pointer to this extra space in *ppExtra.
Many system calls are accessed through pointer-to-functions so that they may be overridden at runtime to facilitate fault injection during testing and sandboxing.
NOTE: Each cache entry config_hash contains the combination from all user ini files found in the path starting from doc_root throught to dirname(PATH_TRANSLATED).
Opcode: ResetCount * * * * *  The value of the change counter is copied to the database handle change counter (returned by subsequent calls to sqlite3_changes()).
Or, if an  error has already occurred when this function is called, return NULL  immediately without attempting the allocation or modifying the stored error code.
Populate the buffer zErrMsg (size nByte bytes) with a human readable utf-8 string describing the most recent error encountered associated  with dynamic libraries.
SQLITE_IGNORE means that the SQL statement should run but attempts to read the specified column will return NULL and attempts to write the column will be ignored.
Strings that look like floating point values but which have no fractional component (example: '48.00') will have a MEM_Int representation when bTryForInt is true.
The OS layer should populate the buffer with a nul-terminated UTF-8 encoded error message describing the last IO error to have occurred within the calling thread.
The documentation for connect() says in case of non-blocking connections the select function reports success in the writefds set and failure in the exceptfds set.
The nEq, nLt, and nDLt entries of sqlite_stat3 all contain just a single integer which is the same as the first integer in the equivalent columns in sqlite_stat4.
The proxy lock file path for the database at dbPath is written into lPath,  which must point to valid, writable memory large enough for a maxLen length file path.
This all works fine, except that when running with SQLITE_DEBUG defined the SQLite code sometimes assert()s that a Mem structure is located on an 8-byte boundary.
This routine is typically called in response to a user action such as pressing "Cancel" or Ctrl-C where the user wants a long query operation to halt immediately.
Throughout the rollback process, each time a page is rolled back, the corresponding bit is set in a bitvec structure (variable pDone in the implementation below).
Unfortunately, it needs a work array to hold the best-distance-so-far for each histogram cell (because the inner loop has to be over cells, not colormap entries).
We nevertheless save it in a field for returning via the pcre_fullinfo() function so that if it becomes variable in the future, we don't have to change that code.
if a stream is created without encryption, check to see if SSL method parameter is specified and use proper encrypyion method based on constants defined in soap.c
zip_name_locate.c -- get index by name Copyright (C) 1999-2015 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_open.c -- open zip archive by name Copyright (C) 1999-2015 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_source_remove.c -- remove empty archive Copyright (C) 2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
Also:  Provide four bytes of initialized space before the beginning of pTmpSpace as an area available to prepend the left-child pointer to the beginning of a cell.
And to reduce the number of memory allocations, sometimes two or more Expr objects will be stored in a single memory allocation, together with Expr.zToken strings.
Applications that use these interfaces must be prepared for any or all of these interfaces to be NULL or for their behavior to change from one release to the next.
As this "NEAR" object is actually a single phrase that consists  of a single term only, grab pointers into the poslist managed by the fts5_index.c iterator object.
But that is Ok, as that thread cannot return control to the VDBE or proceed with anything useful until the  first results are ready from this merger object anyway.
CAPI3REF: Function Auxiliary Data METHOD: sqlite3_context  These functions may be used by (non-aggregate) SQL functions to associate metadata with argument values.
Calculate and return a checksum that is the XOR of the index entry checksum of all entries that would be generated by the token specified by the final 5 arguments.
Faults are not injected into COMMIT_PHASETWO because, assuming SQLite is using a regular VFS, it is called after the corresponding  transaction has been committed.
However, we do the appropriate tests here so that overlong sequences get diagnosed, and also in case there is ever an option for handling these larger code points.
If an OOM error is encountered when allocating space for the new string, an error code is left in the rbu handle passed as the first argument and NULL is returned.
If any virtual table method returns an error code other than SQLITE_OK,  processing is abandoned and the error returned to the caller of this function immediately.
If it is false, extra assert() conditions in the fts5 code are activated - conditions that are only true if it is guaranteed that the fts5 database is not corrupt.
If the createFlag argument is true, then a new (blank) FuncDef structure is created and liked into the "db" structure if a no matching function previously existed.
If the pager is in  exclusive-locking mode when this function is called, take an EXCLUSIVE lock on the database file and use heap-memory to store the wal-index in.
If this frame set completes the first transaction in the WAL and if PRAGMA journal_size_limit is set, then truncate the WAL to the journal size limit, if possible.
If this pixel is transparent, we want to assign it to the special transparency color index past the end of the palette rather than go through matching / dithering.
If we are at the start of a conditional assertion group, *both* the conditional assertion *and* what follows the condition must satisfy the test for start of line.
In other words, the first varint in the footer is the byte offset of the first term, the second is the byte offset of the second less that of the first, and so on.
Initialize all database files - the main database file, the file used to store temporary tables, and any additional database files created using ATTACH statements.
Just before the shared-btree is closed, the function passed as the  xFree argument when the memory allocation was made is invoked on the  blob of allocated memory.
Note: SPACE and PXSPACE used to be different because Perl excluded VT from "space", but from Perl 5.18 it's included, so both categories are treated the same here.
ORDER BY terms that are expressions are matched against result set expressions of compound SELECT beginning with the left-most SELECT and working toward the right.
Otherwise, a power loss might leave modified data in the database file without an entry in the rollback journal that can restore the database to its original form.
Rather, it is intended to be plugged into apps or libraries with existing networking facilities, eg PHP, apache, perl, mozilla, home-brew application servers, etc.
Return a pointer to an sqlite3VdbeRecordCompare() compatible function suitable for comparing serialized records to the unpacked record passed as the only argument.
Return true if, for the purposes of tokenizing with the tokenizer passed as the first argument, codepoint iCode is considered a token  character (not a separator).
Since the zHeader buffer is only Pager.pageSize bytes in size, more than one call to sqlite3OsWrite() may be required to populate the entire journal header sector.
The  following call will modify the in-memory representation of page 1  to include the updated change counter and then write page 1  directly to the database file.
The 4th and 5th arguments are the byte offsets of the first byte of and first byte immediately following the text from which the token is derived within the input.
The index can not be larger than ZIP_INT64_MAX since the size of the central directory cannot be larger than ZIP_UINT64_MAX, and each entry is larger than 2 bytes.
The lock byte is obtained at  random so two separate readers can probably access the file at the  same time, unless they are unlucky and choose the same lock byte.
The sqlite3_open_v2() interface works like sqlite3_open() except that it accepts two additional parameters for additional control over the new database connection.
The three parameters are: N:    The number of columns in the index including the rowid/pk (note 1) K:    The number of columns in the index excluding the rowid/pk.
This allows for safe sharing of the database file for multiple readers and writers on the same host (the conch ensures that they all use the same local lock file).
This file contains low-level memory allocation drivers for when SQLite will use the standard C-library malloc/realloc/free interface to obtain the memory it needs.
This function is used as the xSelectCallback2() callback by sqlite3SelectExpand() when walking a SELECT tree to resolve table names and other FROM clause elements.
This is because the snippet(), offsets() and matchinfo() functions are not supposed to recognize  any instances of phrases that are part of unmatched NEAR queries.
This used to be a table of strings, but in order to reduce the number of relocations needed when a shared library is loaded dynamically, it is now one long string.
This way, the remainder of the function does not have to deal with any overflow cells in the parent page, since if any existed they will have already been removed.
We added the xGetLastError() method with the intention of providing better low-level error messages when operating-system problems come up during SQLite operation.
When an allow string is passed in we keep track of the string in state 1 and when the tag is closed check it against the allow string to see if we should allow it.
When multiple threads all reference the same wal-index, each thread has its own unixShm object, but they all point to a single instance of this unixShmNode object.
Write it to disk and push a copy of iRowid (which will become the first rowid on the next doclist-index leaf page) up into the next level of the b-tree  hierarchy.
YYFALLBACK         If defined, this indicates that one or more tokens have fall-back values which should be used if the original value of the token will not parse.
pcre_exec() rounds offset_count to a multiple of 3, and then uses only 2/3 of the output vector for storing captured strings, with the remainder used as workspace.
zip_new.c -- create and init struct zip Copyright (C) 1999-2015 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
(WARNING/TODO: If P1 is a pseudo-cursor and P2 is dynamically allocated, then ownership of P2 is transferred to the pseudo-cursor and register P2 becomes ephemeral.
ALGORITHMS  The calculations are based on three different cycles: a 400 year cycle of leap years, a 4 year cycle of leap years and a 5 month cycle of month lengths.
Arguments: cd           the compile data block name         the name to add length       the length of the name groupno      the group number Returns:       nothing
As of SQLite version 3.7.7, URI filename interpretation is turned off by default, but future releases of SQLite might enable URI filename interpretation by default.
EVIDENCE-OF: R-26747-61719 When the application provides any amount of scratch memory using SQLITE_CONFIG_SCRATCH, SQLite avoids unnecessary large heap allocations.
For each such table, the iterator visits, in order:  the table itself,  each index of the table (zero or more points to visit), and a special "cleanup table" state.
For example, if the database file is "/home/user1/config.db" then the file that is created and mmapped for shared memory will be called "/home/user1/config.db-shm".
However, the list is correct for canonical LR with one exception: it will still contain any token that will not be accepted due to an error action in a later state.
If P1  does contain an entry whose prefix matches the P3/P4 record then control falls through to the next instruction and P1 is left pointing at the matching entry.
If an error has already occurred as part of an sqlite3rbu_step() or sqlite3rbu_open() call, or if one occurs within this function, an SQLite error code is returned.
If an update is only partially applied to the target database by the time sqlite3rbu_close() is called, various state information is saved  within the RBU database.
If another database handle has already opened a write transaction  on this shared-btree structure and a second write transaction is requested, return SQLITE_LOCKED.
If iPtr is another freeblock (that is, if iPtr is not the freelist pointer in the page header) then check to see if iStart should be coalesced onto the end of iPtr.
If successful, SQLITE_OK is returned, *ppExpr is set to point to the parsed form of the expression and *pnConsumed is set to the number of bytes read from buffer z.
If the library is compiled with the shared-cache feature disabled, then there is only ever one user of each BtShared structure and so this locking is not necessary.
If the magic name ":memory:" will create an in-memory database, then leave the autoVacuum mode at 0 (do not auto-vacuum), even if SQLITE_DEFAULT_AUTOVACUUM is true.
If there is, do not consider the lookup-by-rowid plan as using such a plan would require the VDBE to evaluate the MATCH constraint, which is not currently possible.
In some applications, it would be better to match all instances of "first place" or "1st place" regardless of which form the user specified in the MATCH query text.
In that case, the sqlite3VdbeRecordCompare() may read up to two varints past the end of the allocated buffer before it realizes it is dealing with a corrupt record.
Increasing NN above 1 (to 2 or 3) gives a modest improvement in SELECT and DELETE performance in exchange for a larger degradation in INSERT and UPDATE performance.
It does *not* invoke the busy handler when upgrading from SHARED to RESERVED, or when upgrading from SHARED to EXCLUSIVE (which occurs during hot-journal rollback).
MSDN docs indicate that this might be ignored in current win32 implementations, but at least we are doing the right thing in readiness for the day that it does work
Normally, the hash table is populated as documents are inserted/updated/deleted in a transaction and used to create a new segment when the transaction is committed.
On exit from the switch, s points to the string that must be printed, s_len has the length of the string The precision requirements, if any, are reflected in s_len.
Or, if nLoop is greater than zero, set isOrdered to -1, indicating that the result set may or may not be ordered,  depending on the loops added to the current plan.
Rather than depending on error-prone ordered lists or syntactically unpleasant pass-by-reference, we return an object with named parameters (like *_fetch_object()).
Run the parser and code generator recursively in order to generate code for the SQL statement given onto the end of the pParse context currently under construction.
TODO:  For subqueries without A FROM clause, consider adding a FROM close with the special table sqlite_once that consists of a single row containing a single NULL.
The caller must ensure that the source buffer is long enough that this routine does not run off the end and dereference non-existent memory looking for trail bytes.
The latter is needed because for certain multiple inputs to the buggy algorithm there exist easily found inputs to the correct algorithm that produce the same hash.
The max embedded payload fraction is the amount of the total usable space in a page that can be consumed by a single cell for standard B-tree (non-LEAFDATA) tables.
This function searches for the corresponding close-quote character within the string and, if found, dequotes the string in place and adds a new nul-terminator byte.
This is  dangerous because the code to rollback a hot-journal file will not be able to find the master-journal name to determine  whether or not the journal is hot.
This lead to an 11 day shift in the calendar with respect to the seasons by the 16th century when the Gregorian calendar was created to replace the Julian calendar.
This test feature is only available in the amalgamation since the SQLITE_N_KEYWORD macro is not defined in this file if SQLite is built using separate source files.
We could try and emulate this by casting to a FD and fstat-ing it, but since the fd might not represent the actual underlying content this would give bogus results.
f* VALUE/XMLRPC_SetValueBase64 NAME XMLRPC_SetValueBase64 SYNOPSIS void XMLRPC_SetValueBase64(XMLRPC_VALUE value, const char* s, int len) FUNCTION Set base64 value.
iDataCur is the cursor for the main table when inserting or updating a rowid table, or the cursor for the PRIMARY KEY index when operating on a WITHOUT ROWID table.
since Net-SNMP library requires 'udp6:' prefix for all IPv6 addresses (in FQDN form too) we need to perform possible name resolution before running any SNMP queries
we need to increment the generator refcount here as it became integrated into the tree (no leaf), but we must not increment the refcount of the *whole* path in tree
zip_set_name.c -- rename helper function Copyright (C) 1999-2015 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
(This means that virtual tables cannot participate in the LIKE optimization.)  The collating sequence for the column on the LHS must be appropriate for the operator.
At this point curN contains the 7/16 error value to be propagated to the next pixel on the current line, and all the errors for the next line have been shifted over.
By adding this prefix, we insure that the name will not collide with an existing table because user table are not allowed to have the "sqlite_" prefix on their name.
C-preprocessor macro summary:  HAVE_MALLOC_USABLE_SIZE     The configure script sets this symbol if the malloc_usable_size() interface exists on the target platform.
FUNCTION(zName, nArg, iArg, bNC, xFunc) Used to create a scalar function definition of a function zName  implemented by C function xFunc that accepts nArg arguments.
Fields in this structure are accessed under the BtShared.mutex mutex, except for nRef and pNext which are accessed under the global SQLITE_MUTEX_STATIC_MASTER mutex.
For example, to assemble an RBU enabled VFS stack that uses both zipvfs and  multiplexor (error checking omitted):  Create a VFS named "multiplex" (not the default).
If any of the following errors occur:  SQLITE_NOMEM SQLITE_IOERR SQLITE_FULL SQLITE_INTERRUPT  Then the internal cache might have been left in an inconsistent state.
If successful, SQLITE_OK is returned and output variable *piLast is set to the largest blockid written to the database (or zero if no blocks were written to the db).
If the current delete will cause a b-tree rebalance, then this is done by saving the cursor key and leaving the cursor in CURSOR_REQUIRESEEK state before  returning.
If we have already seen an xclass item or one may follow (we have to assume that it might if this is not the end of the class), explicitly match all wide codepoints.
In an UPDATE operation, if this index is the PRIMARY KEY index  of a WITHOUT ROWID table and there has been no change the primary key, then no collision is possible.
It is possible that external processes may have truncated the database file and then extended it back to its original size while this process was not holding a lock.
NB: Although gd RGB values are ints, their max value is 255 (see the documentation for gdImageColorAllocate()) -- perfect for 8-bit JPEG encoding (which is the norm)
Nishimura, "Mersenne Twister: A 623-Dimensionally Equidistributed Uniform Pseudo-Random Number Generator", ACM Transactions on Modeling and Computer Simulation, Vol.
Perhaps we should just compute leading 28 bits of S once and for all and pass them and a shift to quorem, so it can do shifts and ors to compute the numerator for q.
See XMLRPC_REQUEST_FromXML INPUTS in_buf -- character buffer containing XML len    -- length of buffer RESULT XMLRPC_VALUE -- newly allocated data, or NULL if error.
Since the VCWD functionality isn't used here, a sophisticated functionality would have to be reimplemented to know ahead there are no files with invalid names there.
The SQLITE_IOCAP_ATOMICnnn values mean that writes of blocks that are nnn bytes in size and are aligned to an address which is an integer multiple of nnn are atomic.
The default xmlrpc vocab (xml_to_xmlrpc.c), and simple-rpc (xml_to_dandarpc.c) which is proprietary, but imho more readable, and nice for proprietary legacy reasons.
The reg argument is the address of the first in an array of registers  that contain the values substituted for the new.* and old.* references in the trigger program.
This function contains the logic that determines if a statement or transaction will be committed or rolled back as a result of the execution of this virtual machine.
This is a different from other character type lists, which stores here that the character iterator matches to an empty string (also represented by a non-zero value).
This loop navigates the cursor so that it  points to the first interior cell that it points to the parent of the next page in the tree that has not yet been visited.
This routine used to be called sqlite3OpenSnapshot() and with good reason: it takes a snapshot of the state of the WAL and wal-index for the current instant in time.
WARNING: If the above line is changed for any reason, you must also change the code that abstracts option settings at the start of the pattern and makes them global.
free_pages - current number of free pages in this chunk  free_tail  - number of continuous free pages at the end of chunk  free_map   - bitset (a bit for each page).
function    : Q_Get  purpose     : get the pointer to the data at the cursor location  parameters  : queue pointer  returns     : data element pointer  comments    :
just a hack to free resources allocated by glibc in __res_nsend() See also: res_thread_freeres() in glibc/resolv/res_init.c __libc_res_nsend()   in resolv/res_send.c
zip_fclose.c -- close file in zip archive Copyright (C) 1999-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_source_free.c -- free zip data source Copyright (C) 1999-2015 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_source_rollback_write.c -- discard changes Copyright (C) 2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
A call to this routine tells the pager that it is not necessary to write the information on page pPg back to the disk, even though that page might be marked as dirty.
A deferred-doclist is like any other doclist with position information included, except that it only contains entries for a single row of the table, not for all rows.
Advance the position list iterator specified by the first two  arguments so that it points to the first element with a value greater than or equal to parameter iNext.
All files and directories have already been synced, so the following calls to sqlite3BtreeCommitPhaseTwo() are only closing files and deleting or truncating journals.
Argument (nTerm/pTerm) is the split-key - a term that is larger than all terms written to earlier leaves, and equal to or smaller than the first term on the new leaf.
Arguments: cvalue     the character value buffer     pointer to buffer for result - at least 6 pcre_uchars long Returns:     number of characters placed in the buffer
EVIDENCE-OF: R-30189-54097 For each limit category SQLITE_LIMIT_NAME there is a hard upper bound set at compile-time by a C preprocessor macro called SQLITE_MAX_NAME.
Finally, if an error occurs with the xTokenize() implementation itself, it may abandon the tokenization and return any error code other than SQLITE_OK or SQLITE_DONE.
For a UNIQUE index, only conflict if the PRIMARY KEY values of the matched index row are different from the original PRIMARY KEY values of this row before the update.
GIFENCODE.C    - GIF Image compression interface  GIFEncode( FName, GHeight, GWidth, GInterlace, Background, Transparent, BitsPerPixel, Red, Green, Blue, gdImagePtr )
If a power failure or application crash occurs during an update, following system recovery RBU may resume the update from the point at which the state was last saved.
If the subjInMemory argument is zero, then any required sub-journal is implemented in-memory if pPager is an in-memory database,  or using a temporary file otherwise.
In other words, this opcode causes all following opcodes up through P2 (but not including P2) to run just once and to be skipped on subsequent times through the loop.
In the current implementation, the rSetup value is either zero or the cost of building an automatic index (NlogN) and the NlogN is the same for compatible WhereLoops.
It also assumes that if two files are created in the same file-system directory (i.e. a database and its journal file) that the sector size will be the same for both.
Locate the in-memory structure that describes a particular database table given the name of that table and (optionally) the name of the database containing the table.
Or, if an error has already occurred when this function is called, NULL is returned immediately, without attempting the allocation or modifying the stored error code.
Or, if the tokenization was abandoned early because the callback returned another non-zero value, it is assumed to be an SQLite error code and returned to the caller.
Performance note: It might be tempting to extract commonly used fields from the md structure (e.g. utf, end_subject) into individual variables to improve performance.
RFC3339, Appendix A: http://www.ietf.org/rfc/rfc3339.txt ISO 8601 also requires (in section 5.3.1.3) that a decimal fraction be proceeded by a "0" if less than unity.
Return the minimum number of 32KB shm regions that should be mapped at a time, assuming that each mapping must be an integer multiple of the current system page-size.
Return the rest of the data as unencoded, as it was either unencoded or was missing separators which rendered the remainder of the string impossible for us to decode.
THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS.
The MATCH_CBEGROUP feature must NOT be used with tail recursion, because the memory block that is used is on the stack, so a new one may be required for each match().
The algorithms are complicated slightly in order to be compatible with windows systems simultaneously accessing the same database file, in case that is ever required.
The best snippet is the snippet with the highest score, where scores are calculated by adding:  (a) +1 point for each occurrence of a matchable phrase in the snippet.
The operation will return SQLITE_LOCKED to the user because it requires a lock that will not be available until connection pBlocker concludes its current transaction.
The purpose of this is to test that the fts3_tokenizer() function can be used as designed by the C-code in the queryTokenizer and registerTokenizer() functions above.
The random initializer is important, because garbage data that appears at the end of a journal is likely data that was once in other files that have now been deleted.
The rowid for a table is always UNIQUE and NOT NULL so whenever the rowid appears in the ORDER BY clause, the corresponding WhereLoop is automatically order-distinct.
The sqlite3BtreeCommitPhaseOne() routine did all the work of writing information out to disk and flushing the contents so that they are written onto the disk platter.
The sqlite3_close_v2() interface is intended for use with host languages that are garbage collected, and where the order in which destructors are called is arbitrary.
This function adds pNew, which is always a binary operator node, into the expression tree based on the relative precedence of pNew and the existing nodes of the tree.
This function is called during the second compiling phase, if the number of forward references fills the existing workspace, which is originally a block on the stack.
This is done because the full-text index doclist is required to calculate these values properly, and the full-text index doclist is not available for deferred tokens.
This is done before the table is dropped at the btree level, in case the sqlite_sequence table needs to move as a result of the drop (can happen in auto-vacuum mode).
This routine runs over generated VDBE code and translates OP_Column opcodes into OP_Copy when the table is being accessed via co-routine  instead of via table lookup.
To avoid a creating security problems for older applications that relink against newer versions of SQLite, the ability to run load_extension is turned off by default.
f* xml_element/xml_elem_free_non_recurse NAME xml_elem_free_non_recurse SYNOPSIS void xml_elem_free_non_recurse(xml_element* root) FUNCTION free a single xml element.
if any open call is a locking call: check if we already habe a locking call open that should block this call the problem is some systems would allow read during write
zip_file_error_get.c -- get zip file error Copyright (C) 1999-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_file_get_comment.c -- get file comment Copyright (C) 2006-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_get_file_comment.c -- get file comment Copyright (C) 2006-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_rename.c -- rename file in zip archive Copyright (C) 1999-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
(Note that IEEE arithmetic is disabled by gcc's -ffast-math flag.)  This strtod returns a nearest machine number to the input decimal string (or sets errno to ERANGE).
A trunk page looks like this:  SIZE    DESCRIPTION 4     Page number of next trunk page 4     Number of leaf pointers on this page zero or more pages numbers of leaves
Add charset on content-type header if the MIME type starts with "text/", the default_charset directive is not empty and there is not already a charset option in there.
But if the operating system crashes or there is an abrupt power failure when synchronous is off, the database could be left in an inconsistent and unrecoverable state.
Call from within the xCreate() or xConnect() methods to provide  the SQLite core with additional information about the behavior of the virtual table being implemented.
Calling this function indicates that subsequent calls to  fts3PendingTermsAdd() are to add term/position-list pairs for the contents of the document with docid iDocid.
Convert the lower bound to upper-case and the upper bound to lower-case (upper-case is less than lower-case in ASCII) so that the range constraints also work for BLOBs
Destroy value without using GC: When opcache moves arrays into SHM it will free the zend_array structure, so references to it from outside the op array become invalid.
Fortunately too, there is general agreement that codes 0x00 through 0x3F represent control characters, 0x41 a nonbreaking space, and the remainder printing characters.
Given the page number of an overflow page in the database (parameter ovfl), this function finds the page number of the next page in the  linked list of overflow pages.
Here we process our command line, post errors (to the error screen), perform initializations and anything else we need to do before being able to accept calls into us.
If an error occurs then an and attempt is made to write an error message into  memory obtained from sqlite3_malloc() and to make *pzErrMsg point to that error message.
If the same value is passed to multiple invocations of the same SQL function during query execution, under some circumstances the associated metadata may be preserved.
If the skip extends beyond the data currently in the buffer, the buffer can be marked empty so that the next read will cause a fill_input_buffer call that can suspend.
If this process is running as root and if creating a new rollback journal or WAL file, set the ownership of the journal or WAL to be the same as the original database.
It is important to check for IMAGE_FILETYPE_TIFF JPEG does not use absolute pointers instead its pointers are relative to the start of the TIFF header in APP1 section.
Make sure we hold a reference count during the destructor call otherwise, when the destructor ends the storage might be freed when the refcount reaches 0 a second time
NOTE: the number of data units matched may differ, because in UTF-8 there are some characters whose upper and lower case versions code have different numbers of bytes.
Normally we don't worry about that warning, but some users do, and we want to make it easy for users to remove YYFAIL uses, which will produce warnings from Bison 2.5.
OP_Destroy 5 0  and root page 5 happened to be the largest root-page number in the database, then root page 5 would be moved to page 4 by the  "OP_Destroy 4 0" opcode.
Once an overflow page-list cache has been allocated, it may be invalidated if some other cursor writes to the same table, or if the cursor is moved to a different row.
Or, if the on-conflict mode is other than REPLACE, then this method must detect the conflict and return SQLITE_CONSTRAINT before beginning to modify the database file.
RESULT newly allocated XMLRPC_VALUE, or NULL if error NOTES See XMLRPC_SetValueBase64 () SEE ALSO XMLRPC_GetValueBase64 () XMLRPC_SetValueBase64 () XMLRPC_VALUE SOURCE
Return a pointer to the character immediately following the last in the gobbled word if successful, or a NULL pointer otherwise (failed to find close-quote character).
Run-time limits are intended for use in applications that manage both their own internal database and also databases that are controlled by untrusted external sources.
The SQLite core has no knowledge of its size or internal structure and never deals with the sqlite3_pcache object except by holding and passing pointers to the object.
The ability to use an output result-set column in the WHERE, GROUP BY, or HAVING clauses, or as part of a larger expression in the ORDER BY clause is not standard SQL.
The address of the cell in the parent frame is determined by adding the value of the P1 argument to the value of the P1 argument to the calling OP_Program instruction.
The collating function must return an integer that is negative, zero, or positive if the first string is less than, equal to, or greater than the second, respectively.
The hasHeldSharedLock flag prevents this from occurring on the very first access to a file, in order to save a single unnecessary sqlite3OsRead() call at the start-up.
The sqlite_stat2 table is not created or used unless the SQLite version is between 3.6.18 and 3.7.8, inclusive, and unless SQLite is compiled with SQLITE_ENABLE_STAT2.
This can happen when the symbol is popped from the stack during a reduce or during error processing or when a parser is  being destroyed before it is finished parsing.
This function is called when inserting, deleting or updating a row of table pTab to generate VDBE code to perform foreign key constraint  processing for the operation.
This module contains a PCRE private debugging function for printing out the internal form of a compiled regular expression, along with some supporting local functions.
Writing a page is skipped if it meets either of the following criteria:  The page number is greater than Pager.dbSize, or The PGHDR_DONT_WRITE flag is set on the page.
fts5YYFALLBACK         If defined, this indicates that one or more tokens have fall-back values which should be used if the original value of the token will not parse.
i.e. if the parser sees:  ATTACH DATABASE abc AS def  it treats the two expressions as literal strings 'abc' and 'def' instead of looking for columns of the same name.
in this function we have to jump through some loops because we're getting the translated table from data structures that are optimized for random access, not traversal
parameters  : pointer to queue  returns     : pointer to data of new element else NULL if queue IsEmpty  comments    : Makes cursor move towards the head of the queue.
zip_add.c -- add file via callback function Copyright (C) 1999-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_error.c -- zip_error_t helper functions Copyright (C) 1999-2015 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_unchange_data.c -- undo helper function Copyright (C) 1999-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
(b) The atomic page write optimization is enabled, and the entire transaction other than the update of the transaction sequence number consists of a single page change.
16 bits/cell is plenty for that too.) Since the JPEG code is intended to run in small memory model on 80x86 machines, we can't just allocate the histogram in one chunk.
A subquery whose result set is defined by pEList appears as entry in the FROM clause of a SELECT such that the VDBE cursor assigned to that FORM clause entry is iTable.
After the records are added to the journal (and the journal synced,  if in full-sync mode), the zero is overwritten with the true number of records (see syncJournal()).
Check that:  a) The incremental merge object is configured to use the right task, and b) If it is using task (nTask-1), it is configured to run in single-threaded mode.
DELETE operations:  D.1) For each FK for which the table is the child table,  search the parent table for a row that corresponds to the  deleted row in the child table.
Do not break Hangul syllable sequences, the rules for which are: L may be followed by L, V, LV or LVT LV or V may be followed by V or T LVT or T may be followed by T 4.
Hence, the primitive operations for a RowSet are:  CREATE INSERT TEST SMALLEST DESTROY  The CREATE and DESTROY primitives are the constructor and destructor, obviously.
INPUTS id        The id of the vector, or NULL type      New type of vector as enumerated by XMLRPC_VECTOR_TYPE RESULT XMLRPC_VALUE  The new vector, or NULL on failure.
If the SELECT keyword is immediately followed by a C-style comment then extract the first few alphanumeric characters from within that comment to be the zSelName value.
If the schema-cookie from the database file matches the cookie  stored with the in-memory representation of the schema, do not reload the schema from the database file.
If the transaction counter is not updated, other connections to the same file might not realize that the file has changed and hence might not know to flush their cache.
Invoke sqlite3_wal_checkpoint if the number of frames in the log file is greater than sqlite3.pWalArg cast to an integer (the value configured by wal_autocheckpoint()).
It is recommended that when a database filename actually does begin with a ":" character you should prefix the filename with a pathname such as "./" to avoid ambiguity.
It is used by the implementation of  the sqlite3_declare_vtab() and sqlite3_vtab_config() APIs, both of which are invoked only from within xCreate and xConnect methods.
Make sure that the compiler intrinsics we desire are enabled when compiling with an appropriate version of MSVC unless prevented by the SQLITE_DISABLE_INTRINSIC define.
Note that the call to sqlite3ResultSetOfSelect() will expand any "*" elements in the results set of the view and will assign cursors to the elements of the FROM clause.
Or, if iCol is non-negative but less than the number of columns in the table, return the total number of tokens in column iCol, considering all rows in  the FTS5 table.
Original text: "The subquery does not use aggregates or the outer query  does not use LIMIT."  (11)  The subquery and the outer query do not both have ORDER BY clauses.
Return the total number of key-value operations (inserts, deletes or  updates) that have been performed on the target database since the current RBU update was started.
Since  this means an in-memory pager performs no IO at all, it cannot encounter  either SQLITE_IOERR or SQLITE_FULL during rollback or while finalizing  a journal file.
Subverting this mechanism by using "PRAGMA schema_version" to modify the schema-version is potentially dangerous and may lead to program crashes or database corruption.
The SQLITE_BYTEORDER macro is part of sqliteInt.h and hence the endian-specific implementation will only be used if this module is compiled as part of the amalgamation.
The collation sequence must be defined at this point, even if the user deletes the collation sequence after the vdbe program is compiled (this was not always the case).
The divider cell consists of a 4-byte page number (the page number of pPage) and a variable length key value (which must be the same value as the largest key on pPage).
The return value is either the collation sequence to be used in database db for collation type name zName, length nName, or NULL, if no collation sequence can be found.
The routines in this file handle the following kinds of SQL syntax:  CREATE TABLE DROP TABLE CREATE INDEX DROP INDEX creating ID lists BEGIN TRANSACTION COMMIT ROLLBACK
The test performed depends on the value of flags:  SQLITE_ACCESS_EXISTS: Return 1 if the file exists SQLITE_ACCESS_READWRITE: Return 1 if the file is read and writable.
This function is called during initialization if a static buffer is  supplied to use for the page-cache by passing the SQLITE_CONFIG_PAGECACHE verb to sqlite3_config().
This interface exists so that applications that want to take advantage of multiple cores can do so, while also allowing applications to stay single-threaded if desired.
This is because in those states the code to roll back savepoint  transactions may copy data from the sub-journal into the database  file as well as into the page cache.
This is because when memory debugging is turned on, these two functions are  called via macros that record the current file and line number in the ThreadData structure.
This makes it dangerous to use this manager and a different destination manager serially with the same JPEG object, because their private object sizes may be different.
This means we cannot use fread() for the other (smaller) values in our file either, because the buffering can move the file position indicator ahead of the values read.
This routine is called to increment the value of the database file  change-counter, stored as a 4-byte big-endian integer starting at  byte offset 24 of the pager file.
This works just like btreeGetPage() with the addition:  If the page is already in use for some other purpose, immediately release it and return an SQLITE_CURRUPT error.
Uses a global variable until hh_shared_init is called, so it's safe to use in the early init stages of the program (as long as you fork after hh_shared_init of course).
We don't use isprint() because that can vary from system to system (even without the use of locales) and we want the output always to be the same, for testing purposes.
When NO_RECURSE is *not* defined, these just turn into a recursive call to match() and a "return", respectively (possibly with some debugging if PCRE_DEBUG is defined).
When the VdbeSorterWrite()  function flushes the contents of memory to disk, it immediately always creates a new list consisting of a single key immediately afterwards.
When using methods (2) or (3), it is important that the tokenizer only provide synonyms when tokenizing document text (method (2)) or query text (method (3)), not both.
ensures it is OK to read SHM if it's not OK (restart in progress) returns FAILURE if OK returns SUCCESS MUST call accelerator_shm_read_unlock after done lock operations
function    : Q_Seek  purpose     : use index to locate data according to key in 'data'  parameters  : queue pointer 'q', data pointer 'data', Comp comparison function.
zip_delete.c -- delete file from zip archive Copyright (C) 1999-2015 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_discard.c -- discard and free struct zip Copyright (C) 1999-2015 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_extra_field.c -- manipulate extra fields Copyright (C) 2012-2015 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
Assuming the iterator does point to a table with an external PK, this function creates a WITHOUT ROWID imposter table named "rbu_imposter2" used to access that PK index.
Before checking that the live wal-index header has not changed since it was read, set Wal.minFrame to the first frame in the wal file that has not yet been checkpointed.
Begin Proxy Locking ********************************  Proxy locking is a "uber-locking-method" in this sense:  It uses the other locking methods on secondary lock files.
Bits of the sqlite3.dbOptFlags field that are used by the sqlite3_test_control(SQLITE_TESTCTRL_OPTIMIZATIONS,...) interface to selectively disable various optimizations.
Ensure that the SQLite statement handles required to update the  target database object currently indicated by the iterator passed  as the second argument are available.
For small tables, the  Hash.ht table is never allocated because if there are few elements in the table, it is faster to do a linear search than to manage the hash table.
For testing purposes, we sometimes want to preserve the state of PRNG and restore the PRNG to its saved state at a later time, or to reset the PRNG to its initial state.
Frank writes that some Linux kernels offer floating point hardware emulation that uses only 32-bit mantissas instead of a full  48-bits as required by the IEEE standard.
If *pbFirst is non-zero when this function is called, then the value  written is either (iVal-*piPrev) (if bDescIdx is zero) or (*piPrev-iVal) (if bDescIdx is non-zero).
If SERVER_MORE_RESULTS_EXISTS is set then this is either MULTI_QUERY or a CALL() The first packet after sending the query/com_execute has the bit set only in this cases.
If an EXCLUSIVE lock is attempted on a target database file in any mode except RBU_STAGE_DONE (all work completed and checkpointed), it  fails with an SQLITE_BUSY error.
If no global maximum is configured, then the system attempts to limit the total number of pages cached by purgeable pager-caches to the sum of the suggested cache-sizes.
If the Expr is of type OP_Column, and the table it is selecting from is a disk table or the "old.*" pseudo-table, then pTab points to the corresponding table definition.
If the current node of layer iLayer contains zero keys, or if adding the key to it will not cause it to grow to larger than nNodeSize  bytes in size, write the key here.
If the journal does not exist, it usually means that some  other connection managed to get in and roll it back before  this connection obtained the exclusive lock above.
If the writeOnly flag is true and an error is encountered while  saving the current position of a read-only cursor, all cursors,  including all read-cursors are tripped.
If there are outstanding sqlite3_stmt or sqlite3_backup objects or if the connection has not yet been closed by sqlite3_close_v2(), then just leave the mutex and return.
If this  means that there is a hot-journal left in the file-system, the next  connection to obtain a shared lock on the pager (which may be this one)  will roll it back.
In this case Vdbe.aOp and Parse.nOpAlloc remain  unchanged (this is so that any opcodes already allocated can be  correctly deallocated along with the rest of the Vdbe).
In this case, if isDirect is non-zero, then the database file is updated directly by writing an updated version of page 1 using a call to the  sqlite3OsWrite() function.
Mode 1 uses more memory (since PCache instances are not able to rob unused pages from other PCaches) but it also operates without a mutex, and is therefore often faster.
NOTES ON TRANSACTIONS:   SQLite invokes the following virtual table methods as transactions are  opened and closed by the user:  xBegin():    Start of a new transaction.
Or the implementation might recognize that a database file will be doing page-aligned sector reads and writes in a random order and set up its I/O subsystem accordingly.
Persistent connections: For old close semantics we artificially bump up the refcount to prevent the non-persistent destructor from getting called until request shutdown.
So the effects of disabling the no-content optimization here are confined to those pages that lie between the end of the database image and the end of the database file.
The file used to implement shared-memory is in the same directory as the open database file and has the same name as the open database file with the "-shm" suffix added.
The integration uses  ICU to provide the following to SQLite:  An implementation of the SQL regexp() function (and hence REGEXP operator) using the ICU uregex_XX() APIs.
The rationale for this is that this  function is used to read database headers, and a new transient or zero sized database has a header than consists entirely of zeroes.
The sqlite_stat3.sample column contains the actual value of the left-most column instead of a blob encoding of the complete index key as is found in sqlite_stat4.sample.
The threshold for the amount of main memory to use before flushing  records to a PMA is roughly the same as the limit configured for the page-cache of the main database.
This is because the hash table only supports a single scan query at a time, and the multi-iter loop from which this function is called is already performing such a scan.
This is called after a table is dropped from disk (using the Destroy opcode) in order to keep  the internal representation of the schema consistent with what is on disk.
This is called after an index is dropped from disk (using the Destroy opcode) in order to keep the internal representation of the schema consistent with what is on disk.
This is now set at compile time, rather than during execution of the vdbe program so that sqlite3_column_count() can be called on an SQL statement before sqlite3_step().
This routine disconnects the Vdbe from the Parse object that helped generate it so that the the Vdbe becomes an independent entity and the Parse object can be destroyed.
We build the map in a temporary bit of memory, in case the class contains fewer than two 8-bit characters because in that case the compiled code doesn't use the bit map.
When compiling the test fixture or with debugging enabled (on Win32), this variable being set to non-zero will cause OSTRACE macros to emit extra diagnostic information.
calling SQLDescribeCol() or other, specifically to get the column length, then doing a single read for that size would be slower except maybe for extremely long columns.
f* VALUE/XMLRPC_SetValueDouble NAME XMLRPC_SetValueDouble SYNOPSIS void XMLRPC_SetValueDouble(XMLRPC_VALUE value, double val) FUNCTION Set double (floating point) value.
gdcache.c  Caches of pointers to user structs in which the least-recently-used element is replaced in the event of a cache miss after the cache has reached a given size.
zip_source_layered.c -- create layered source Copyright (C) 2009-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_source_write.c -- start a new file for writing Copyright (C) 2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
(8) When a transaction is rolled back, the xTruncate method of the VFS is called to restore the database file to the same size it was at the beginning of the transaction.
A copy of this structure is passed through the parser and down into all the parser action routine in order to carry around information that is global to the entire parse.
Adar I, the month added for leap years, is sometimes referred to as the 13th month, but I have chosen to assign it the number 6 to keep the months in chronological order.
An array of the following structures is assembled as part of the process of selecting tokens to defer before the query starts executing (as part of the xFilter() method).
Any subsequent readers might report database corruption (due to the inconsistent cache), and if they upgrade to writers, they may inadvertently corrupt the database file.
Arguments: code         pointer to the start of the group skipassert   TRUE if certain assertions are to be skipped Returns:       pointer to the first significant opcode
EVIDENCE-OF: R-51873-39618 The page size for a database file is determined by the 2-byte integer located at an offset of 16 bytes from the beginning of the database file.
EVIDENCE-OF: R-59310-51205 The "reserved space" size in the 1-byte integer at offset 20 is the number of bytes of space at the end of each page to reserve for extensions.
For convenience, we use the same bit definitions as in chartables: 0x04   decimal digit 0x08   hexadecimal digit Then we can use ctype_digit and ctype_xdigit in the code.
Generate code to construct the Index object for an automatic index and to set up the WhereLevel object pLevel so that the code generator makes use of the automatic index.
If the database was not actually modified during this transaction, the pager is running in exclusive-mode and is using persistent journals, then this function is a no-op.
If the pager has not already entered the ERROR state, but an IO or malloc error occurs during a rollback, then this will itself cause  the pager to enter the ERROR state.
If the reduce action popped at least one element off the stack, then we can push the new element back onto the stack here, and skip the stack overflow test in yy_shift().
If the writeOnly flag is true, then only write-cursors need be tripped - read-only cursors save their current positions so that they may continue  following the rollback.
If there are outstanding FK violations and this function returns  SQLITE_ERROR, set the result of the VM to SQLITE_CONSTRAINT_FOREIGNKEY and write an error message to it.
In this instance, that is ok because we want binary zero to be flagged as a meta-character, which in this sense is any character that terminates a run of data characters.
It is acceptable to use a read-only (mmap) page for any page except page 1 if there is no write-transaction open or the ACQUIRE_READONLY flag was specified by the caller.
My attempt to incorporate alpha channel into the result worked poorly and degraded the quality of palette conversion even when the source contained no alpha channel data.
Note that if any index could potentially invoke a REPLACE conflict resolution  action, then we need to open all indices because we might need to be deleting some records.
Note that if one of the dynamic mutex parameters (SQLITE_MUTEX_FAST or SQLITE_MUTEX_RECURSIVE) is used then sqlite3_mutex_alloc() returns a different mutex on every call.
Note that in that book's description of DES the lookups for the initial, pbox, and final permutations are inverted (this has been brought to the attention of the author).
Once a call to sqlite3rbu_step() has returned a value other than SQLITE_OK, all subsequent calls on the same RBU handle are no-ops that immediately return the same value.
Pulling in the header ensures that the array gets flagged as "someone outside this compilation unit might reference this" and so it will always be supplied to the linker.
Say that token is in fact "first", so that when the user inserts the document "I won 1st place" entries are added to the index for tokens "i", "won", "first" and "place".
Terms that satisfy case 3 are candidates for lookup by using separate indices to find rowids for each subterm and composing the union of all rowids using a RowSet object.
That aside, the greatest value wins, but we can't know that it will until we've scanned both numbers to know that they have the same magnitude, so we remember it in BIAS.
The columns of the returned data set are:  cid:        Column id (numbered from left to right, starting at 0) name:       Column name type:       Column declaration type.
The positions numbers are not stored literally but rather as two more than the difference from the prior position, or the just the position plus 2 for the first position.
The sizes of the extensions sum to 272 bytes on x64 for 3.8.10, but this size can vary according to architecture, compile-time options, and SQLite library version number.
This might involve two separate loops with an OP_Sort in between, or it might be a single loop that uses an index to extract information in the right order to begin with.
This routine identifies subexpressions in the WHERE clause where each subexpression is separated by the AND operator or some other operator specified in the op parameter.
To work around this problem (we consider it a bug in OS X, not SQLite) we always increase the file size to 1 by writing a single byte prior to accessing the inode number.
Using mod_proxy_fcgi and ProxyPass, apache cannot set PATH_INFO As we can extract PATH_INFO from PATH_TRANSLATED it is probably also in SCRIPT_NAME and need to be removed
We do not anticipate changes to experimental interfaces but reserve the right to make minor changes if experience from use "in the wild" suggest such changes are prudent.
We will use it in two ways: preserving it literally, for use with compatible browsers, and compositing it ourselves against a background of our choosing (alpha blending).
Without this call, pixels in the foreground color are copied literally, *including* the alpha channel value, resulting in an output image which is potentially not opaque.
f* VALUE/XMLRPC_CreateValueEmpty NAME XMLRPC_CreateValueEmpty SYNOPSIS XMLRPC_VALUE XMLRPC_CreateValueEmpty () FUNCTION Create an XML value to be used/modified elsewhere.
static variable use is safe here since simple store or fetch operations are atomic and because the actual probe process is not in danger of collisions or race conditions.
we must first to copy all classes and then prepare functions, since functions may try to bind classes - which depend on pre-bind class entries existent in the class table
we must initialize our wrapper in pthread_create, because it is valid to call pthread_create in a static constructor, and in fact, our test for issue 9456 does just that.
zip_file_error_clear.c -- clear zip file error Copyright (C) 1999-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_source_commit_write.c -- commit changes to file Copyright (C) 2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_source_read.c -- read data from zip_source Copyright (C) 2009-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
"Saving the cursor position" means that the location in the btree is remembered in such a way that it can be moved back to the same spot after the btree has been modified.
All we have to do here is incorporate our knowledge of the percentage of this pixel that is really "lit" by pushing the alpha value up toward transparency in edge regions.
As well as logging the contents of the list of pages headed by pList (connected by pDirty), this function notifies any active backup processes that the pages have changed.
BUG: if user is running in silent mode and hits an error at the driver level when they use the PDO methods to call up the error information, they may get bogus information
But due to a coding error in versions of SQLite prior to 3.6.0, databases with freelist trunk pages holding more than usableSize/4 - 8 entries will be reported as corrupt.
But if the tables have indices and there are terms in the WHERE clause that refer to those indices, a complete table scan can be avoided and the code will run much faster.
By default, the auxiliary write ahead log and shared memory files used for transaction control are automatically deleted when the latest connection to the database closes.
EVIDENCE-OF: R-22710-53328 The third and fourth bytes of each freeblock form a big-endian integer which is the size of the freeblock in bytes, including the 4-byte header.
Generate key Note - the include_path must be the last element in the key, since in itself, it may include colons (which we use to separate different components of the key)
However, if frames have been appended to the log (or if the log  is wrapped and written for that matter) before the READ_LOCK(0) is obtained, that is not necessarily true.
I suspect that if we ordered the doclists by size and flushed the largest until the buffer was half empty, that would let the less frequent terms generate longer doclists.
IMP: R-31676-45509 If X is the integer -9223372036854775808 then abs(X) throws an integer overflow error since there is no equivalent positive 64-bit two complement value.
If no starting bytes were found, and the minimum length is zero, and JIT compilation fails, abandon the extra block and return NULL, unless PCRE_STUDY_EXTRA_NEEDED is set.
If running in multi-threaded mode and there are more than SORTER_MAX_MERGE_COUNT PMAs on disk when Rewind() is called, then more than one background thread may be created.
If the DELETE has generated immediate foreign key constraint  violations, halt the VDBE and return an error at this point, before any modifications to the schema are made.
If the target database table is a virtual table or a table with no PRIMARY KEY, the rbu_control value should not include a character corresponding  to the rbu_rowid value.
If this operation is being performed as part of a trigger program that is actually a "SET NULL" action belonging to this very  foreign key, then omit this scan altogether.
If zName is the not the name of a table in the schema created using CREATE, then check to see if it is the name of an virtual table that can be an eponymous virtual table.
It checks that the sqlite3.nTransaction variable is correctly set to the number of non-transaction savepoints currently in the  linked list starting at sqlite3.pSavepoint.
It contains bitset of free pages, few bitset for available runs of predefined small sizes, map of pages that keeps information about usage of each page in this CHUNK, etc.
Once an overflow page is allocated, as many bytes as possible are moved into the overflow pages without letting the cell size drop below the min embedded payload fraction.
Otherwise, mExtra is a mask of all FROM clause entries that occur before the virtual table in the FROM clause and are separated from it by at least one LEFT or CROSS JOIN.
Settings in PATH section are ZEND_INI_SYSTEM accessible and thus mimics the php_admin_* directives used within Apache httpd.conf when PHP is compiled as module for Apache.
The VdbeSorter object implements a multi-threaded external merge sort algorithm that is efficient even if the number of elements being sorted exceeds the available memory.
The auto-commit flag is true, the vdbe program was successful  or hit an 'OR FAIL' constraint and there are no deferred foreign key constraints to hold up the transaction.
The default page size is the maximum of:  + SQLITE_DEFAULT_PAGE_SIZE, + The value returned by sqlite3OsSectorSize() + The largest page size that can be written atomically.
The purpose of the wrapper is to provide the ability to simulate a malloc failure, so that the handling of an error in sqlite3_os_init() by the upper layers can be tested.
The return of a dummy opcode allows the call to continue functioning after an OOM fault without having to check to see if the return from  this routine is a valid pointer.
The source object and input buffer are made permanent so that a series of JPEG images can be read from the same file by calling jpeg_gdIOCtx_src only before the first one.
This function is a no-op unless currently processing an EXPLAIN QUERY PLAN command, or if either SQLITE_DEBUG or SQLITE_ENABLE_STMT_SCANSTATUS was defined at compile-time.
This is called after a trigger is dropped from disk (using the Destroy opcode) in order to keep  the internal representation of the schema consistent with what is on disk.
This is used by the implementations of sqlite3_backup_step() and sqlite3_backup_finish() to detect that they are being called from this function, not directly by the user.
This module contains the external function pcre_refcount(), which is an auxiliary function that can be used to maintain a reference count in a compiled pattern data block.
This routine deletes the RtreeGeomCallback object that was attached one of the SQL functions create by sqlite3_rtree_geometry_callback() or sqlite3_rtree_query_callback().
Two problems why we throw exceptions here: PHP is typeless and hence passing one argument that's not an array could be by mistake and the other way round is possible, too.
We mustn't change the current values of the data slot, because they may be set from a previous iteration of this group, and be referred to by a reference inside the group.
We prepare a DACL (Discretionary Access Control List) so that we, the creator, are allowed all access, while "Everyone Else" is only allowed to read and write to the pipe.
When separated they can both (usually) operate without having to push values to the stack on entry and pop them back off on exit, which saves a lot of pushing and popping.
we are persistent and if this is a real pconn used by mysql/mysqli, then the context would not survive cleaning of EG(regular_list), where it is registered, as a resource.
zip_file_rename.c -- rename file in zip archive Copyright (C) 1999-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_string.c -- string handling (with encoding) Copyright (C) 2012-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
(iUnused might be less than iKey if there was wrap-around.) Because the hash table is never more than half full, the search is guaranteed to eventually hit an unused entry.
Actually, this is pretty much a NO-OP, since the identification system doesn't allow us to discriminate between a positive match, a possible match and a definite non-match.
Add the error propagated from the previous line to form the complete error correction term for this pixel, and round the error term (which is expressed * 16) to an integer.
An tokenizer for SQL  This file contains C code that splits an SQL input string up into individual tokens and sends those tokens one-by-one over to the parser for analysis.
At this point, any non-zero iOrderByCol values indicate that the ORDER BY column expression is identical to the iOrderByCol'th expression returned by SELECT statement pSub.
BUGS See XMLRPC_SetValueDateTime_ISO8601 () SEE ALSO XMLRPC_GetValueDateTime_ISO8601 () XMLRPC_SetValueDateTime_ISO8601 () XMLRPC_CreateValueDateTime () XMLRPC_VALUE SOURCE
Before a virtual table xCreate() or xConnect() method is invoked, the sqlite3.pVtabCtx member variable is set to point to an instance of this struct allocated on the stack.
CAPI3REF: Obtain Aggregate Function Context METHOD: sqlite3_context  Implementations of aggregate SQL functions use this routine to allocate memory for storing their state.
EVIDENCE-OF: R-38720-18127 The default setting is determined by the SQLITE_ALLOW_COVERING_INDEX_SCAN compile-time option, or is "on" if that compile-time option is omitted.
For operations where all constraints can be checked before any changes are made to the database, it is never necessary to undo a write and the checkpoint should not be set.
However, IE in all it's wisdom always sends the full path of the file on the user's filesystem, which means that unless the user does basename() they get a bogus file name.
IMPLEMENTATION-OF: R-64451-07163 The soft_heap_limit pragma always returns the same integer that would be returned by the sqlite3_soft_heap_limit64(-1) C-language function.
INPUTS request -- previously allocated request struct methodName -- name of method SEE ALSO XMLRPC_RequestNew () XMLRPC_RequestGetMethodName () XMLRPC_RequestFree () SOURCE
If it is set to true and the xUpdate call is successful, then the value returned by sqlite3_last_insert_rowid()  is set to the value of the rowid for the row just inserted.
If the query is DISTINCT with an ORDER BY but is not an aggregate, and  if the select-list is the same as the ORDER BY list, then this query can be rewritten as a GROUP BY.
If the value passed as the third argument is a blob of size sizeof(Fts3Cursor*), then the blob contents are copied to the  output variable *ppCsr and SQLITE_OK is returned.
If we are doing a reverse order scan on an ascending index, or a forward order scan on a descending index, interchange the  start and end terms (pRangeStart and pRangeEnd).
In addition, an uppercase "T" character MUST be used to separate date and time, and an uppercase "Z" character MUST be present in the absence of a numeric time zone offset.
In non-RAC, we always get a brand new connection at the end of the loop and in RAC, we can get a good connection from a different instance before flushing out all bad ones.
In other words, if an INSERT occurs between two TESTs where the TESTs have the same batch nubmer, then the value added by the INSERT will not be visible to the second TEST.
In the case of YYERROR or YYBACKUP, subsequent parser actions might lead to an incorrect destructor call or verbose syntax error message before the lookahead is translated.
In this case the whole cell needs to be parsed, a buffer allocated and accessPayload() used to retrieve the record into the buffer before VdbeRecordCompare() can be called.
It appears that Perl allows any characters whatsoever, other than a closing parenthesis, to appear in arguments, so we no longer insist on letters, digits, and underscores.
Lookbehind assertions have an OP_REVERSE item at the start of each branch to move the current point backwards, so the code at this level is identical to the lookahead case.
Note that setting READ_UNCOMMITTED overrides most lock detection, but it does *not* override schema lock detection, so this all still works even if READ_UNCOMMITTED is set.
THIS SOFTWARE IS PROVIDED ON AN "AS IS" BASIS, AND THE AUTHORS AND DISTRIBUTORS HAVE NO OBLIGATION TO PROVIDE MAINTENANCE, SUPPORT, UPDATES, ENHANCEMENTS, OR MODIFICATIONS.
The SQLITE_IOCAP_SAFE_APPEND value means that when data is appended to a file, the data is appended first then the size of the file is extended, never the other way around.
The WhereTerm.pExpr field is still set to the original subexpression content and wtFlags is set up appropriately but no other fields in the WhereTerm object are meaningful.
The next group of variables are used to track whether or not the transaction counter in bytes 24-27 of database files are updated whenever any part of the database changes.
The subquery cannot use any compound operator other than UNION ALL because all the other compound operators have an implied DISTINCT which is disallowed by restriction (4).
The values for registers not modified by the UPDATE must be reloaded from  the database after the BEFORE triggers are fired anyway (as the trigger  may have modified them).
There are 2 different modes of operation for a hash table:  FTS3_HASH_STRING        pKey points to a string that is nKey bytes long (including the null-terminator, if any).
This is done even  though the rowid/docid lookup is faster than a MATCH query, selecting it would lead to an "unable to use function MATCH in the requested  context" error.
This is useful in one special case in the backup API code where it is known that the shared b-tree mutex is held, but the mutex on the  database handle that owns *p is not.
This leads to an IO pattern that resembles a single linear scan through the index b-tree, and all but guarantees each modified leaf page is loaded and stored  exactly once.
This optimization is helpful when doing a DELETE or an INTEGRITY_CHECK  on a table with multiple indices, and especially with the ROWID or PRIMARY KEY columns of the index.
Using the  built-in tokenizers, the FTS5 query 'first + place' will match instances of "first place" within the document set, but not alternative forms such as "1st place".
instr(haystack,needle) finds the first occurrence of needle in haystack and returns the number of previous characters plus 1, or 0 if needle does not occur within haystack.
this assignment must happen before any return with failure because the caller relies on it always being made (so it can just destroy the object to close the transliterator)
zip_entry.c -- struct zip_entry helper functions Copyright (C) 1999-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_file_add.c -- add file via callback function Copyright (C) 1999-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_get_archive_comment.c -- get archive comment Copyright (C) 2006-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_set_archive_comment.c -- set archive comment Copyright (C) 2006-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_source_seek_write.c -- seek to offset for writing Copyright (C) 2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_stat.c -- get information about file by name Copyright (C) 1999-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
ALGORITHMS  SERIAL DAY NUMBER TO JEWISH DATE  The simplest approach would be to use the rules stated above to find the molad of Tishri before and after the given day number.
Elsewhere in the FTS code the variable that the third argument to xNext points to is initialized to zero before the first (*but not necessarily subsequent*) call to xNext().
First try to find a  page that does not require a journal-sync (one with PGHDR_NEED_SYNC cleared), but if that is not possible settle for any other  unreferenced dirty page.
IMPLEMENTATION-OF: R-63124-39300 The sqlite3_sourceid() function returns a pointer to a string constant whose value is the same as the SQLITE_SOURCE_ID C preprocessor macro.
INPUTS value     The target XMLRPC_VALUE val       The desired new double value RESULT void SEE ALSO XMLRPC_GetValueDouble () XMLRPC_CreateValueDouble () XMLRPC_VALUE SOURCE
If neither of those locations contain a contiguous representation of the key, then aAlloc is allocated and the key is copied into aAlloc and aKey is made to poitn to aAlloc.
If the VFS xLock() or xUnlock() returns an error other than SQLITE_BUSY (i.e. one of the SQLITE_IOERR subtypes), it is not clear whether or not the operation was successful.
If the either the page-size or sector-size in the journal-header is  invalid, then the process that wrote the journal-header must have  crashed before the header was synced.
If the page number of the page record read from the (sub-)journal file is greater than the current value of Pager.dbSize, then playback is skipped and SQLITE_OK is returned.
If the path name starts with a forward slash or a backslash, it is either a legal UNC name, a volume relative path, or an absolute path name in the "Unix" format on Windows.
If the table has an INTEGER PRIMARY KEY column and that column is named in the IDLIST, then record in the ipkColumn variable the index into IDLIST of the primary key column.
If, after the statement has run, its immediate constraint counter is greater than zero, it returns SQLITE_CONSTRAINT_FOREIGNKEY and the statement transaction is rolled back.
In SQLite version 3.5.0 and 3.5.1, it was possible to define the SQLITE_OMIT_MEMORY_ALLOCATION which would cause the built-in implementation of these routines to be omitted.
It checks to see if, instead of appending to the current log file, it is possible to overwrite the start of the existing log file with the new frames (i.e. "reset" the log).
NB:  The sqlite3OpcodeName() function is implemented by code created by the mkopcodeh.awk and mkopcodec.awk scripts which extract the information from the vdbe.c source text
Note also that when the IN operator appears in the WHERE clause, it might result in additional nested loops for scanning through all values on the right-hand side of the IN.
The 'previous' entry is used for this instead of the 'next' entry, as the previous entry is always a part of the sub-tree headed by the child page of the cell being deleted.
The BTREE_SEEK_EQ flag is set on cursors that will get OP_SeekGE or OP_SeekLE opcodes for a range search, but where the range of entries selected will all have the same key.
The RBU VFS should be installed so that the zipvfs VFS uses the RBU VFS, which in turn uses any other VFS layers in use  (for example multiplexor) to access the file-system.
The SQLite user supplies a block of memory before calling sqlite3_initialize() from which allocations are made and returned by the xMalloc() and xRealloc()  implementations.
The following type and function are used to iterate through all opcodes in a Vdbe main program and each of the sub-programs (triggers) it may  invoke directly or indirectly.
The internals of this structure are only accessed by:  walIteratorInit() - Create a new iterator, walIteratorNext() - Step an iterator, walIteratorFree() - Free an iterator.
Then while the initial invocation of this routine by X is incomplete, it is required that:  Calls to this routine from Y must block until the outer-most call by X completes.
This invariants arise because multiple overflows can only occur when inserting divider cells into the parent page during balancing, and the dividers are adjacent and sorted.
Title: Crop  A couple of functions to crop images, automatically (auto detection of the borders color), using a given color (with or without tolerance) or using a selection.
When this function is called, *pnOut is set to the sqlite3LogEst() of the number of rows that the index scan is expected to visit without  considering the range constraints.
_zip_checkcons: Checks the consistency of the central directory by comparing central directory entries with local headers and checking for plausible file and header offsets.
arg1 goes to TMP_REG1 or src reg arg2 goes to TMP_REG2, imm or src reg TMP_REG3 can be used for caching result goes to TMP_REG2, so put result can use TMP_REG1 and TMP_REG3.
dbSize is set based on the size of the database file, which may be  larger than the size of the database (the value stored at offset 28 of the database header by the btree).
if the host id matches and the lock path already exists in the conch we'll try to use the path there, if we can't open that path, we'll  retry with a new auto-generated path
return with error if the delimiter string (if any) was not found, we could not completely fill the read buffer with maxlen bytes and we don't know we've reached end of file.
zip_buffer.c -- bounds checked access to memory buffer Copyright (C) 2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_get_archive_flag.c -- get archive global flag Copyright (C) 2008-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_get_archive_flag.c -- set archive global flag Copyright (C) 2008-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_source_file.c -- create data source from file Copyright (C) 1999-2015 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_utf-8.c -- UTF-8 support functions for libzip Copyright (C) 2011-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
(2)  Bypass the creation of the sqlite_master table entry for the PRIMARY KEY as the primary key index is now identified by the sqlite_master table entry of the table itself.
Additionally, this extension allows the work involved in writing the  large transaction to be broken down into sub-transactions performed  sequentially by separate processes.
An undefined collation sequence exists when a database is loaded that contains references to collation sequences that have not been defined by sqlite3_create_collation() etc.
Arguments: code        points to start of expression utf         TRUE in UTF-8 / UTF-16 / UTF-32 mode Returns:      pointer to the opcode for OP_RECURSE, or NULL if not found
But if it is, then the automatic journal playback and recovery mechanism will deal with it under an EXCLUSIVE lock where we do not need to worry so much with race conditions.
CAPI3REF: Setting The Result Of An SQL Function METHOD: sqlite3_context  These routines are used by the xFunc or xFinal callbacks that implement SQL functions and aggregates.
For an UPDATE, the pkChng boolean is true if the true primary key (the rowid for a normal table or the PRIMARY KEY for a WITHOUT ROWID table) might be modified by the UPDATE.
For example, if the iterator points to a table created as:  CREATE TABLE t1(a, b, c, PRIMARY KEY(b, a DESC)) WITHOUT ROWID  this function returns:  PRIMARY KEY("b", "a" DESC)
Hence, unlike the database and WAL file formats which store all values as big endian, the wal-index can store multi-byte values in the native byte order of the host computer.
If the given buffer is not large enough to hold the data, the return value is the buffer size,  in characters, required to hold the string and its terminating null character.
If the given bugger is not large enough to hold the data, the return value is the buffer size,  in characters, required to hold the string and its terminating null character.
If the reduce action popped at least one element off the stack, then we can push the new element back onto the stack here, and skip the stack overflow test in fts5yy_shift().
If there is no IDLIST term but the table has an integer primary key, the set the ipkColumn variable to the integer primary key  column index in the original table definition.
If this is the magic sqlite_sequence table used by autoincrement, then record a pointer to this table in the main database structure so that INSERT can find the table easily.
If,  when a transaction is committed, the dbFileSize variable indicates  that the database file is larger than the database image (Pager.dbSize),  pager_truncate() is called.
Immediately following the configuration cookie, the record begins with three varints:  + number of levels, + total number of segments on all levels, + value of write counter.
In case this callback is called from include_once, require_once or it's a main FastCGI request, the key must be already calculated, and cached persistent script already found
In most cases, this routine sets *pMode to 0, which will become an indication to robust_open() to create the file using SQLITE_DEFAULT_FILE_PERMISSIONS adjusted by the umask.
Local zend_object creation (on stack) Load the 'other' object Create a new empty object (See spl_filesystem_object_new_ex) Open the directory Clone other members (properties)
Name:  PostHeader Input:       1) return path 2) Subject 3) destination address 4) headers Output:      Error code or Success Description: Author/Date:  jcar 20/9/96 History:
Note that the Unicode property types will be present only when SUPPORT_UCP is defined, but we don't wrap the little bits of code here because it just makes it horribly messy.
Returning NULL would require complicating append_http_status_line() to not segfault in that case, so let's just return a placeholder, since RFC 2616 requires a reason phrase.
Short summary about the backtracking mechanism empolyed by the jit code generator: The code generator follows the recursive nature of the PERL compatible regular expressions.
The access authorization function is be called during the compilation phase to verify that the user has read and/or write access permission on various fields of the database.
The call to execSql() to attach the temp database has left the file locked (as there was more than one active statement when the transaction to read the schema was concluded.
The following variable, if set to a non-zero value, is interpreted as the number of seconds since 1970 and is used to set the result of sqlite3OsCurrentTime() during testing.
Then, if the minimum number of matches is 1 or 0, cancel the possessive flag so that the default action below, of wrapping everything inside atomic brackets, does not happen.
This function is called during initialization (sqlite3_initialize()) to install the default pluggable cache module, assuming the user has not already provided an alternative.
This is called only after is_counted_repeat() has confirmed that a repeat-count quantifier exists, so the syntax is guaranteed to be correct, but we need to check the values.
This routine redistributes cells on the iParentIdx'th child of pParent (hereafter "the page") and up to 2 siblings so that all pages have about the same amount of free space.
Whenever one of the tokens X, Y, or Z is input to the parser but it does not parse, the type of the token is changed to ID and the parse is retried before an error is thrown.
zip_source_window.c -- return part of lower source Copyright (C) 2012-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
(+0 for a, +1 for b, +2 for c, +3 for d.)  If the LHS of MATCH were "ex1"  indicating that all columns should be searched, then eSearch would be set to FTS3_FULLTEXT_SEARCH+4.
(That is not a completely accurate description because WhereLoop costs are a vector, not a scalar, and because dependencies are many-to-one, not one-to-one as are graph nodes.
- parses a comma-separated list of strings into a string suitable for SSL_CTX_set_next_protos_advertised outlen: (output) set to the length of the resulting buffer on success.
A pseudo-table created by this opcode is used to hold a single row output from the sorter so that the row can be decomposed into individual columns using the OP_Column opcode.
Arguments: previous_callout   points to previous callout item ptr                current pattern pointer cd                 pointers to tables etc Returns:             nothing
File Locking Notes:  (Mostly about windows but also some info for Unix)  We cannot use LockFileEx() or UnlockFileEx() on Win95/98/ME because those functions are not available.
Generate code for a boolean expression such that a jump is made to the label "dest" if the expression is false but execution continues straight thru if the expression is true.
Generate code for a boolean expression such that a jump is made to the label "dest" if the expression is true but execution continues straight thru if the expression is false.
However, this uses a lot more stack, so in 8.20, atomic groups that do not contain any captures generate OP_ONCE_NC, which can be handled in the old, less stack intensive way.
If the "-g" option was given on the command line, we want to continue  * to search for additional matches in the subject string, in a similar   * way to the /g option in Perl.
If the OPFLAG_LENGTHARG and OPFLAG_TYPEOFARG bits are set on P5 when the result is guaranteed to only be used as the argument of a length() or typeof() function, respectively.
If the bracket is capturing, and referenced by an OP_RECURSE, or it is an atomic sub-pattern (assert, once, etc.) the non-greedy case cannot be converted to a possessive form.
If the pFile was opened read/write from unix-excl, then the only lock ever obtained is an exclusive lock, and it is obtained exactly once the first time any lock is attempted.
If the seekResult parameter is 0, then cursor pCur may point to any entry or to no entry at all and so this function has to seek the cursor before the new key can be inserted.
If there is a reference to page 1 and the pgno parameter passed to this function is 0, then the data area associated with page 1 is zeroed, but the page object is not dropped.
In UTF-8 mode, STAR, MINSTAR, POSSTAR, QUERY, MINQUERY, POSQUERY, UPTO, MINUPTO, and POSUPTO and their caseless and negative versions may be followed by a multibyte character.
In a "traditional" environment, the tables will only recognize ASCII characters anyway, but in at least one Windows environment, some higher bytes bits were set in the tables.
In this way, if rScore is the same for all SearchPoints, then iLevel becomes the deciding factor and the result is a depth-first search, which is the desired default behavior.
Locking behavior is correct if the appliation uses the newer Native Posix Thread Library (NPTL) on linux - with NPTL a lock created by thread A can override locks in thread B.
SUMMARY  Writing a transaction containing a large number of operations on  b-tree indexes that are collectively larger than the available cache memory can be very inefficient.
So at this point we may safely modify the database file in any way, knowing that if a power failure occurs, the original database will be reconstructed from the  journal file.
The SQLITE_OPEN_EXCLUSIVE flag, when paired with the  SQLITE_OPEN_CREATE, is used to indicate that file should always be created, and that it is an error if it already exists.
The WhereMaskSet translates these sparse cursor numbers into consecutive integers beginning with 0 in order to make the best possible use of the available bits in the Bitmask.
The first two fields of this cell are the  record-length (a variable length integer at most 32-bits in size) and the key value (a variable length integer, may have any value).
The only difference between state 1 and state 2 is that if the integer encountered in state 1 is not 0 or 1, then we need to increment the column 0 "nDoc" count for this term.
The reference count of the VTable structure associated with database  connection db is decremented immediately (which may lead to the  structure being xDisconnected and free).
This function searches the sub-tree headed by the zNode node for the range of leaf nodes that may contain the specified term or terms for which the specified term is a prefix.
This should be done first so that it can successfully prevent spurious compiler warnings due to subsequent content in this file and other files that are included by this file.
We do this as a macro so that if the SQLITE_OMIT_MEMORYDB macro is set, the value of MEMDB will be a constant and the compiler will optimize out code that would never execute.
We track intermediate lock states in the sqlite3_file structure, but all locks SHARED or above are really EXCLUSIVE locks and exclude all other processes from access the file.
When rolling back such a statement we must not write to the original database unless we know for certain that original page contents are synced into the main rollback journal.
When the Interbase client API library libgds.so is first loaded, it registers a call to gds__cleanup() with atexit(), in order to clean up after itself when the process exits.
zip_add_entry.c -- create and init struct zip_entry Copyright (C) 1999-2015 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_close.c -- close zip archive and update changes Copyright (C) 1999-2015 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_fopen.c -- open file in zip archive for reading Copyright (C) 1999-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_replace.c -- replace file via callback function Copyright (C) 1999-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_source_begin_write.c -- start a new file for writing Copyright (C) 2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
A copy is made of the view's SELECT statement so that we can freely modify or delete that statement without worrying about messing up the persistent representation of the view.
Allocate the session pool error handle - This only for use in the destructor, as there is a generic bug which can free up the OCI_G(err) variable before destroying connections.
As in the case of is_anchored() (see above), we have to take account of back references to capturing brackets that contain .* because in that case we can't make the assumption.
At some point in the future (once everyone has upgraded to 3.6.0 or later) we should consider fixing the conditional above to read "usableSize/4-2" instead of "usableSize/4-8".
But before calling APIs that follow, extension should check the sqlite3_libversion_number() to make sure they are dealing with a library that is new enough to support that API.
By overriding  system calls with functions under its control, a test program can simulate faults and error conditions that would otherwise be difficult or impossible to induce.
F if in -GH and not B--GH, D--GH, -H--GH, -H---GH else dropped if -GNED, -GN, else dropped if -DGE-, -DGI- or -DGY- (handled in D) else J if in -GE-, -GI, -GY and not GG else K
If all readers are using WAL_READ_LOCK(0) (in other words if no readers are currently using the WAL), then the transactions frames will overwrite the start of the existing log.
If it is false, then assume that those fields that do not change between rows (i.e. FTS3_MATCHINFO_NPHRASE, NCOL, NDOC, AVGLENGTH and part of HITS) have already been populated.
If so, it writes argument iDelta to the output buffer pOut, followed by a position list consisting only of the entries from pList at position 0, and terminated by an 0x00 byte.
If there is at least one such segment, and it is possible to determine that all  such segments are smaller than nLimit bytes in size, they will be  promoted to level iAbsLevel.
If we have found the required character, save the point where we found it, so that we don't search again next time round the loop if the start hasn't passed this character yet.
If xclass_has_prop is false and class_one_char is 1, we have the first single character in the class, and there have been no prior ranges, or XCLASS items generated by escapes.
In other words, write into *piNow the number of milliseconds since the Julian epoch of noon in Greenwich on November 24, 4714 B.C according to the proleptic Gregorian calendar.
In this case, if the checksum of the wal-index-header following recovery is not the same as the checksum saved in the RbuState object, then the rbu handle is set to DONE state.
NOTES use XMLRPC_GetValueType() to be sure if 0 is real value or not SEE ALSO XMLRPC_SetValueDateTime () XMLRPC_GetValueDateTime_ISO8601 () XMLRPC_CreateValueDateTime () SOURCE
Only lookup the real file path and add it to the included_files list if already opened otherwise it will get opened and added to the included_files list in zend_execute_scripts
Or, if the current delete will not cause a rebalance, then the cursor will be left in CURSOR_SKIPNEXT state pointing to the entry immediately before or after the deleted entry.
Since popen() doesn't indicate if the internal fork() doesn't work (e.g. the shell can't be executed) we explicitly set it to 0 to be sure we don't catch any older errno value.
The btreeHeapPull() routine removes the root element from the heap (the minimum value in the heap) and then moves other nodes around as necessary to preserve the heap property.
The cursor for the object that contains the complete data (normally the table itself, but the PRIMARY KEY index in the case of a WITHOUT ROWID table) is returned in *piDataCur.
The following macro converts a relative address in the p2 field of a VdbeOp structure into a negative number so that  sqlite3VdbeAddOpList() knows that the address is relative.
The initial *pRes value will be 1 if the cursor being stepped corresponds to an SQL index and if this routine could have been skipped if that SQL index had been a unique index.
This block creates N-1 copies of the parent query without any ORDER BY, LIMIT or  OFFSET clauses and joins them to the left-hand-side of the original using UNION ALL operators.
This function is used for converting values to text for returning to the user (i.e. via sqlite3_value_text()), or for ensuring that values to be used as btree keys are strings.
This routine can fail if it is unable to load a collating sequence required for string comparison, or if unable to allocate memory for a UTF conversion required for comparison.
This wrapper is defined to accept an argument of type char, and always returns 0 for any values that fall outside of the range of the unsigned char type (i.e. negative values).
bind_char_1: If max length set in OCIBindByName is less than the actual length of input string, then we have to overwrite alenp with max value set in OCIBindByName (dummy_len).
f* xml_element/xml_elem_new NAME xml_elem_new SYNOPSIS xml_element* xml_elem_new() FUNCTION allocates and initializes a new xml_element INPUTS none RESULT xml_element* or NULL.
filterparams can either be a scalar value to indicate compression level (shortcut method) Or can be a hash containing one or more of 'window', 'memory', and/or 'level' members.
zip_source_error.c -- get last error from zip_source Copyright (C) 2009-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_source_filep.c -- create data source from FILE * Copyright (C) 1999-2015 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_source_zip.c -- create data source from zip file Copyright (C) 1999-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
ANSI STD 1003.1 (1996) section 6.5.2.2 lines 483 through 490 specify that when a process sets or clears a lock, that operation overrides any prior locks set by the same process.
But the delta string may contain embedded NUL characters (if the input and output are binary files) so we also have to pass in the length of the delta in the lenDelta parameter.
CAPI3REF: Tracing And Profiling Functions METHOD: sqlite3  These routines register callback functions that can be used for tracing and profiling the execution of SQL statements.
Convert the source args to unsigned here so that (1) the compare will be unsigned as it is in strncmp() and (2) so the ctype functions will work correctly without extra casting.
Each time it is called, this function generates VDBE code to locate the row in the parent table that corresponds to the row being inserted into  or deleted from the child table.
For capturing groups we have to check the group number back at the start and if necessary complete handling an extraction by setting the offsets and bumping the high water mark.
INPUTS request -- previously allocated request struct RESULT XMLRPC_VALUE -- pointer to error value stored, or NULL NOTES This is a private function for usage by internals only.
If left/right precedence rules come into play when determining the collating sequence, then COLLATE operators are adjusted to ensure that the collating sequence does not change.
If no error occurs and non-zero (a match) is returned, the position-list of each phrase object is edited to contain only those entries that meet the constraint before returning.
If pExpr is an ASC iterator, this function returns a value with the same sign as:  (iLhs - iRhs)  Otherwise, if this is a DESC iterator, the opposite is returned:  (iRhs - iLhs)
If the TS is lower than the first transition time, then we scan over all the transition times to find the first non-DST one, or the first one in case there are only DST entries.
If the pager is in peristent-journal mode, then the physical  journal-file may extend past the end of the master-journal name and 8 bytes of magic data just written to the file.
If the statement transaction is being rolled back, also restore the  database handles deferred constraint counter to the value it had when  the statement transaction was opened.
In addition to the two coroutines (called selectA and selectB) there are 7 subroutines:  outA:    Move the output of the selectA coroutine into the output of the compound query.
In an effort to address this, newer versions of SQLite (version 3.3.8 and later) include support for additional result codes that provide more detailed information about errors.
It is not possible to do a full assert_pager_state() here, as this function may be called from within PagerOpen(), before the state of the Pager object is internally consistent.
JEWISH DATE TO SERIAL DAY NUMBER  The year number is used to find which 19 year metonic cycle contains the date and which year within the cycle (this is a division and modulus).
The Expr.iRightJoinTable tells the WHERE clause processing that the expression depends on table iRightJoinTable even if that table is not explicitly mentioned in the expression.
The ability to disable the use of covering indices for full table scans is because some incorrectly coded legacy applications might malfunction when the optimization is enabled.
The application gives SQLite a block of memory before calling sqlite3_initialize() from which allocations are made and returned by the xMalloc() and xRealloc()  implementations.
The general concept of this implementation is to keep track of all alloca-allocated blocks, and reclaim any that are found to be deeper in the stack than the current invocation.
This means that groups can be replicated for fixed repetition simply by copying (because the recursion is allowed to refer to earlier groups that are outside the current group).
Try to get a stream with the registered sockops for the protocol in use We don't want streams to actually *do* anything though, so don't give it anything apart from the protocol
Try to provide a memory barrier operation, needed for initialization and also for the implementation of xShmBarrier in the VFS in cases where SQLite is compiled without mutexes.
Via the BackupUpdate() and BackupRestart() functions, which are invoked by the pager layer to report various state changes in the page cache associated with the source database.
We use an approach that tries to minimize side-channel leaks of password information - that is, we mostly use fixed-cost bitwise operations instead of branches or table lookups.
When a pattern with bad UTF-8 encoding is compiled with NO_UTF_CHECK, it may compile without complaining, but may get into a loop here if the code pointer points to a bad value.
When running in synchronous mode, this can only happen  if the page is on the free-list at the start of the transaction, then populated, then moved using sqlite3PagerMovepage().
f* SERIALIZE/XMLRPC_VALUE_FromXML NAME XMLRPC_VALUE_FromXML SYNOPSIS XMLRPC_VALUE XMLRPC_VALUE_FromXML(const char* in_buf, int le FUNCTION Retrieve XMLRPC_VALUE from XML buffer.
joaat_buf - perform a Jenkins's one-at-a-time hash on a buffer  input: buf - start of buffer to hash len - length of buffer in octets  returns: 32 bit hash as a static hash type
zip_get_name.c -- get filename for a file in zip file Copyright (C) 1999-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_get_num_files.c -- get number of files in archive Copyright (C) 1999-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_source_close.c -- close zip_source (stop reading) Copyright (C) 2009-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_unchange.c -- undo changes to file in zip archive Copyright (C) 1999-2015 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
07/2000 -- danda -- wrote new implementation to be compatible with xmlrpc standard and incorporated some ideas from ensor, most notably the separation of xml dom from xmlrpc api.
A NULL  lockPath means that the lockPath in the conch file will be used if the  host IDs match, or a new lock path will be generated automatically  and written to the conch file.
A specially optimized version of vdbeSorterCompare() that assumes that the first field of each key is a TEXT value and that the collation sequence to compare them with is BINARY.
Automatic indices must be a covering index because the index will not be updated if the original table changes and the index and table cannot both be used if they go out of sync.
Begin Unique File ID Utility Used By VxWorks ***************  On most versions of unix, we can get a unique ID for a file by concatenating the device number and the inode number.
Examples of why this is not allowed:  t1 LEFT OUTER JOIN (t2 JOIN t3)  If we flatten the above, we would get  (t1 LEFT OUTER JOIN t2) JOIN t3  which is not at all the same thing.
For generators though this behavior would be suboptimal, because the (rather large) structure would have to be copied back and forth every time execution is suspended or resumed.
For this reason, xclass gets set TRUE above when uchar_classdata is emptied, and that's why this code is the way it is here instead of just doing a test on class_uchardata below.
However, if the magic number is equal to REVERSED_MAGIC_NUMBER we return with PCRE_ERROR_BADENDIANNESS, which means that the pattern is likely compiled with different endianness.
If in the ranges below, it represents necessarily a alpha character because none of the supported encodings has an overlap with ASCII in the leading byte (only on the second one)
If paBlob is not NULL, then a buffer is allocated using sqlite3_malloc() and populated with the contents of the blob stored in the "block" column of the  identified table row is.
If the current block is not empty, and if adding this term/doclist to the current block would make it larger than Fts3Table.nNodeSize bytes, write this block out to the database.
If the header is read successfully, check the version number to make sure the wal-index was not constructed with some future format that this version of SQLite cannot understand.
If the index or temporary table used by the GROUP BY sort will naturally deliver rows in the order required by the ORDER BY clause, cancel the ephemeral table open coded earlier.
If the page is being rolled back as part of a savepoint (or statement) rollback from an  unsynced portion of the main journal file, then it is not safe to mark the page as clean.
If there ever are characters outside the BMP whose othercase differs in only one bit from itself (there currently are none), this code will need to be revised for COMPILE_PCRE32.
Nevertheless, there is a built-in protection when sending a command packet, that checks if the line is clear - useful for debug purposes and to be switched off in release builds.
Once the balance starts, the cell offset section of the btree page will be overwritten and we will no long be able to find the cells if a pointer to each cell is not saved first.
So assuming either that either the "old" or "new" version of the value is read, and not some arbitrary value that would never be written by a real client, things are still  safe.
So we cannot stop searching after the first match  because the first match might be for one of the deleted indices or tables and not the table/index that is actually being moved.
THE UNIVERSITY OF CALIFORNIA SPECIFICALLY DISCLAIMS ANY WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.
The only real difference between fdatasync() and fsync(), Ted tells us, is that fdatasync() will not flush the inode if the mtime or owner or other inode attributes have changed.
The pointer may then be retrieved by the current or any future invocation of the same fts5 extension function made as part of of the same MATCH query using the xGetAuxdata() API.
The segments  to be merged are the nMin oldest segments (the ones with the smallest  values for the _segdir.idx field) in the highest level that contains  at least nMin segments.
Usually a single sibling on either side of the page are used in the balancing, though both siblings might come from one side if the page is the first or last child of its parent.
We need to set this because the user might not call use_result() or store_result() and we should be able to scrap the data on the line, if he just decides to close the statement.
function    : Q_BSearch  purpose     : binary search of queue index for node containing key  parameters  : queue pointer 'q', data pointer of key 'key', Comp comparison function.
libxml is segfaulting in versions up to 2.6.8 using xmlTextReaderClose so for now we will free the whole reader when close is called as it would get rebuilt on a new load anyways
zip_source_supports.c -- check for supported functions Copyright (C) 2014-2015 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
All Cells are moved to the end of the page and all free space is collected into one big FreeBlk that occurs in between the header and cell pointer array and the cell content area.
An eponymous virtual table instance is one that is named after its module, and more importantly, does not require a CREATE VIRTUAL TABLE statement in order to come into existance.
Assuming the current table columns are "a", "b" and "c", and the zObj paramter is passed "old", return a string of the form:  "old.a, old.b, old.b"  With the column names escaped.
By contrast, if SQLITE_INDEX_SCAN_UNIQUE is not set and xUpdate returns SQLITE_CONSTRAINT, any database changes made by the xUpdate method are automatically rolled back by SQLite.
Doing this sooner rather than later means the database size can safely  re-read the database size from page 1 if a savepoint or transaction rollback occurs within the transaction.
For example: "Y collate NOCASE op X" becomes "X op Y" because any collation sequence on the left hand side of a comparison overrides any collation sequence  attached to the right.
However it is possible that a script frees descriptors in arbitrary order which would prevent descriptor_count ever being reduced to zero until zend_hash_num_elements() returns 0.
If another thread or process has written into the database since the read transaction was started, then it is not possible for this thread to write as doing so would cause a fork.
If either P3 or the sorter contains a NULL in one of their significant fields (not counting the P4 fields at the end which are ignored) then the comparison is assumed to be equal.
If successful, (*pz) is set to point to a buffer containing the text in utf-8 encoding, (*pn) is set to the size in bytes (not characters) of the buffer and SQLITE_OK is returned.
If the master journal name in the journal is longer than nMaster bytes (including a nul-terminator), then this is handled as if no master journal name were present in the journal.
It returns an sqlite3_tokenizer_cursor object that may be used to tokenize a specific input buffer based on the tokenization rules supplied by a specific sqlite3_tokenizer object.
Later, when the label is resolved to a specific address, the VDBE will scan through its operation list and change all values of P2 which match the label into the resolved address.
Like this:  goto Init coA: coroutine for left query (A) coB: coroutine for right query (B) outA: output one row of A outB: output one row of B (UNION and UNION ALL only) EofA: ...
Neither the name of the author nor the names of other contributors may be used to endorse or promote products derived from this software without specific prior written permission.
Originally, this function checked according to RFC 2279, allowing for values in the range 0 to 0x7fffffff, up to 6 bytes long, but ensuring that they were in the canonical format.
That is, we allow equality in stopping tests when the round-nearest rule will give the same floating-point value as would satisfaction of the stopping test with strict inequality.
The C syntax in this function definition may be unfamilar to some  programmers, so we provide the following additional explanation:  The name of the function is "ftsHashFunction".
The assert_nc() macro is similar to the assert() macro, except that it is used for assert() conditions that are true only if it can be  guranteed that the database is not corrupt.
We cannot use the new session create logic (OCISessionGet from client-side session pool) when privileged connect or password change is attempted or OCI_CRED_EXT mode is specified.
We could just call the php method directly ourselves at this point, but we do this with a C callback in case the xmlrpc library ever implements some cool usage stats, or somesuch.
We're overriding the const of value here for the set_buf case where we overrode the char * to const char * earlier, since alloc_value actually keeps track of the const-ness for us
When the parser and code generate call themselves recursively, the first part of the structure is constant but the second part is reset at the beginning and end of each recursion.
When this function is called, *paPoslist points to the position list, and *pnToken is the number of phrase tokens in, the phrase on the other side of the NEAR operator to pPhrase.
regular file, check next possibility  If stat() tells us the file has zero length, report here that the file is empty, so we can skip all the work of opening and reading the file.
zContentExprlist:  pzErrmsg: This exists in order to allow the fts5_index.c module to return a  decent error message if it encounters a file-format version it does not understand.
zip_source_tell_write.c -- report current offset for writing Copyright (C) 2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_stat_index.c -- get information about file by index Copyright (C) 1999-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_sterror.c -- get string representation of zip error Copyright (C) 1999-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
- a function to release a userdata struct when it is no longer being managed by the cache  In the event of a cache miss the cache is allowed to grow up to a specified maximum size.
EVIDENCE-OF: R-31408-40510 There are three arguments to SQLITE_CONFIG_PAGECACHE: A pointer to 8-byte aligned memory, the size of each page buffer (sz), and the number of pages (N).
Everything is reloaded from disk (and, if necessary, hot-journal rollback peformed) when a read-transaction is next opened on the pager (transitioning the pager into READER state).
If a connect on a existing handle is performed and mysql_flags is passed which doesn't CLIENT_COMPRESS, then we need to overwrite the value which we set based on saved_compression.
If the last connection that wrote to this database was operating in persistent-journal mode, then the journal file may at this point actually be larger than Pager.journalOff bytes.
If the virtual table pVtab supports the transaction interface (xBegin/xRollback/xCommit and optionally xSync) and a transaction is not currently open, invoke the xBegin method now.
Lookaside malloc is a set of fixed-size buffers that can be used to satisfy small transient memory allocation requests for objects associated with a particular database connection.
Non-persistent conns use shared session pool to allow for optimizations such as caching the physical connection (for DRCP) even when the non-persistent php connection is destroyed.
Otherwise, it adds a single row of output to the EQP result, where the caption is of the form:  "USE TEMP B-TREE FOR xxx"  where xxx is one of "DISTINCT", "ORDER BY" or "GROUP BY".
Subsequent code will scan expressions looking for iParent references and replace those references with expressions that resolve to the subquery FROM elements we are now copying in.
That approach would require an extra instruction and memory reference in every stack growth prolog and would also require rewriting the code that 8c generates for extern registers.
The first element of the array is the index of the child table column that is mapped by the FK constraint to the parent table column stored in the left-most column of index *ppIdx.
The implementation of this method is expected to release all outstanding resources obtained by the mutex methods implementation, especially those obtained by the xMutexInit method.
The journal file still exists in the file-system  though, and if a failure occurs at this point it will eventually be used as a hot-journal and the current transaction rolled back.
This routine first tries to establish an exclusive lock on the wal-index to prevent other threads/processes from doing anything with the WAL or wal-index while recovery is running.
any              ABORT        Back out changes from the current command only (do not do a complete rollback) then cause sqlite3_step() to return immediately with SQLITE_CONSTRAINT.
f* VALUE/XMLRPC_CreateValueBase64 NAME XMLRPC_CreateValueBase64 SYNOPSIS XMLRPC_VALUE XMLRPC_CreateValueBase64(const char* id, const char* s, int len) FUNCTION Create base64 value.
zip_file_replace.c -- replace file via callback function Copyright (C) 1999-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_memdup.c -- internal zip function, "strdup" with len Copyright (C) 1999-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_source_deflate.c -- deflate (de)compressoin routines Copyright (C) 2009-2015 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
(4) Reads from the database file are either aligned on a page boundary and an integer multiple of the page size in length or are taken from the first 100 bytes of the database file.
(In other words, the callback is invoked before visiting children.)  The return value from the callback should be one of the WRC_* constants to specify how to proceed with the walk.
Allocate a range of temporary registers and the KeyInfo needed for the logic that removes duplicate result rows when the operator is UNION, EXCEPT, or INTERSECT (but not UNION ALL).
Also make a copy of the expression results into another "cache" register and modify the expression so that the next time it is evaluated, the result is a copy of the cache register.
An ephemeral string value (signified by the MEM_Ephem flag) contains a pointer to a dynamically allocated string where some other entity is responsible for deallocating that string.
An instance of the following object is used to record information about how to process the DISTINCT keyword, to simplify passing that information into the selectInnerLoop() routine.
Arguments: code        points to start of search endcode     points to where to stop utf         TRUE if in UTF-8 / UTF-16 / UTF-32 mode cd          contains pointers to tables etc.
Assuming no error occurs or has occurred, It returns non-zero if the expression passed as the second argument matches the row that pCsr  currently points to, or zero if it does not.
CURSOR_SKIPNEXT: Cursor is valid except that the Cursor.skipNext field is non-zero indicating that the next sqlite3BtreeNext() or sqlite3BtreePrevious() operation should be a no-op.
Continuations above that level are skipped as, if we see one, it means that the continuation that controls them - i.e, the lower-level continuation preceding them - failed to match.
Database Format of R-Tree Tables --------------------------------  The data structure for a single virtual r-tree table is stored in three  native SQLite tables declared as follows.
Do not accept any file descriptor less than this value, in order to avoid opening database file using file descriptors that are commonly used for  standard input, output, and error.
EVIDENCE-OF: R-01506-11053 The first integer on a freelist trunk page is the page number of the next freelist trunk page in the list or zero if this is the last freelist trunk page.
Exactly one of  xGeom and xQueryFunc fields is non-NULL, depending on whether the SQL function was created using sqlite3_rtree_geometry_callback() or sqlite3_rtree_query_callback().
For the purpose of this function, 'word' is defined as a locale dependent string containing alphabetic characters, which also may contain, but not start with "'" and "-" characters.
If foreign-key support is enabled, rewrite the CREATE TABLE  statements corresponding to all child tables of foreign key constraints for which the renamed table is the parent table.
If the page is not journalled when it is moved to the free-list and it is also not journalled when it is extracted from the free-list and reused, then the original data may be lost.
In the real compile phase, go back through the alternative branches and reverse the chain of offsets, with the field in the BRA item now becoming an offset to the first alternative.
In the second case, we can use tail recursion to avoid using another stack frame, unless we have an an atomic group or an unlimited repeat of a group that can match an empty string.
Instances of struct TriggerStep are stored in a singly linked list (linked using the "pNext" member) referenced by the "step_list" member of the  associated struct Trigger instance.
It used to be required that a statement transaction was not active, but this restriction has been removed (CREATE INDEX needs to move a page when a statement transaction is active).
LIKEFUNC(zName, nArg, pArg, flags) Used to create a scalar function definition of a function zName  that accepts nArg arguments and is implemented by a call to C  function likeFunc.
Neither the name of the University nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.
Next, the color-selection step begins with a box representing the whole color space, and repeatedly splits the "largest" remaining box until we have as many boxes as desired colors.
Only change the method to the constructor if the constructor isn't called __construct we check for __ so we can be binary safe for lowering, we should use ZEND_CONSTRUCTOR_FUNC_NAME
Otherwise it is a unique index and the value of Index.onError indicate the which conflict resolution  algorithm to employ whenever an attempt is made to insert a non-unique element.
Second, the calculation algorithm described in "Jewish Calendar Mystery Dispelled" was coded and used to verify all dates from the year 1 (3761 B.C.) to the year 13760 (10000 A.D.).
Set the start bits always, to avoid unset memory errors if the study data is written to a file, but set the flag only if any of the bits are set, to save time looking when none are.
THE SOFTWARE PROVIDED HEREUNDER IS ON AN "AS IS" BASIS, AND THE UNIVERSITY OF CALIFORNIA HAS NO OBLIGATIONS TO PROVIDE MAINTENANCE, SUPPORT, UPDATES, ENHANCEMENTS, OR MODIFICATIONS.
The current reference may be to an existing named group with a different number (so apparently not recursive) but which later on is also attached to a group with the current number.
The sqlite3_uri_boolean(F,P,B) routine returns true (1) if the value of query parameter P is one of "yes", "true", or "on" in any case or if the value begins with a non-zero number.
The sqlite_stat2 entries for an index that have sampleno between 0 and 9 inclusive are samples of the left-most key value in the index taken at evenly spaced points along the index.
This function updates the shared-memory structures so that the next client to write to the database (which may be this one) does so by writing frames into the start of the log file.
This routine may be called  after rollback of a hot-journal, or if an error occurs while opening the journal file or writing the very first journal-header of a database transaction.
UTF-8 quick four-byte mask: 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx Encoding allows to encode U+00010000..U+001FFFFF The maximum character defined in the Unicode standard is U+0010FFFF.
You are strongly advised *not* to deploy with SQLITE_NO_SYNC enabled, however, since with SQLITE_NO_SYNC enabled, an OS crash or power failure will likely corrupt the database file.
allow the scanner to read one null byte after the end of the string (from ZEND_MMAP_AHEAD) so that if will be able to terminate to match the current token (e.g. non-enclosed string)
id_case   one of XMLRPC_CASE RESULT const char*  pointer to the newly allocated id string, or NULL SEE ALSO XMLRPC_SetValueID () XMLRPC_GetValueID () XMLRPC_VALUE XMLRPC_CASE SOURCE
if left is 0 then there is nothing more to send, but if the last packet was exactly with the size MYSQLND_MAX_PACKET_SIZE we need to send additional packet, which has empty payload.
mxKeysize: As records are added to the sorter by calls to sqlite3VdbeSorterWrite(), this variable is updated so as to be set to the size on disk of the largest record in the sorter.
zip_file_set_comment.c -- set comment for file in archive Copyright (C) 2006-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_get_num_entries.c -- get number of entries in archive Copyright (C) 1999-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_set_file_comment.c -- set comment for file in archive Copyright (C) 2006-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_source_buffer.c -- create zip data source from buffer Copyright (C) 1999-2016 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_source_stat.c -- get meta information from zip_source Copyright (C) 2009-2015 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
0x7F would be called ASCII text, but many systems might reasonably consider some characters outside this range to be alphabetic, so the file command would call such characters ASCII.
7) at least 4 bytes have already been read into the output buffer   then data can be read directly from the database file into the output buffer, bypassing the page-cache altogether.
An example application might be a web browser that has its own databases for storing history and separate databases controlled by JavaScript applications downloaded off the Internet.
During expression analysis, extra information is computed and moved into later parts of teh Expr object and that extra information might get chopped off if the expression is reduced.
Enhancements: A future improvement would be the option of multiple "cursors" so that multiple locations could occur in the one queue to allow placemarkers and additional flexibility.
Hence, a position-list consists of one or more column-lists, a document record consists of a docid followed by a position-list and a doclist consists of one or more document records.
However, if the database file is being synced as part of a multi-database commit, the argument points to a nul-terminated string containing the transactions master-journal file name.
If any term is reference to a result set expression (as determined by the ExprList.a.u.x.iOrderByCol field) then convert that term into a copy of the corresponding result set column.
If argument P3 is non-zero, then it indicates that the sorter may assume that a stable sort considering the first P3 fields of each key is sufficient to produce the required results.
If the createFlag parameter is true and the search did not reveal an exact match for the name, number of arguments and encoding, then add a new entry to the hash table and return it.
If the following global variable points to a string which is the name of a directory, then that directory will be used to store all database files specified with a relative pathname.
If this match succeeds, an alternative to the empty string   * match has been found, and we can print it and proceed round the loop,  * advancing by the length of whatever was found.
In other words, if the phrase is "A B C", and "B" is deferred, the expression is advanced to the next row that contains an instance of "A * C",  where "*" may match any single token.
In this case the  correct response for the end-of-loop code (the OP_Return) is to  fall through to the next instruction, just as an OP_Next does if called on an uninitialized cursor.
It sets up either VdbeSorter.pMerger (for single threaded sorters) or pReader (for multi-threaded sorters) so that it can be used to iterate through all records stored in the sorter.
Leaf nodes are written using LeafWriter, and read using LeafReader (to iterate through a single leaf node's data) and LeavesReader (to iterate through a segment's entire leaf layer).
Non-locking sqlite3_file methods *****************************  The next division contains implementations for all methods of the  sqlite3_file object other than the locking methods.
Normally, if an error occurs while the pager layer is attempting to  finalize the underlying journal file, this function returns an error and the upper layer will attempt a rollback.
Note that pCsr must be open on a INTKEY table and saveCursorPosition() and hence saveAllCursors() cannot fail on a BTREE_INTKEY table, hence saveAllCursors can only return SQLITE_OK.
On average, only two or three slots in each index block need to be examined in order to either find the last entry for page P, or to establish that no such entry exists in the block.
Or, if this module is being built as a loadable extension,  sqlite3Fts5Init() is omitted and the two standard entry points sqlite3_fts_init() and sqlite3_fts5_init() defined instead.
Otherwise, if the entry deleted was on an internal node page, then pCur is pointing to the leaf page from which a cell was removed to replace the cell deleted from the internal node.
So that they appear as part of the callers  transaction, these accesses need to be made via the same database  connection as that used to execute SQL operations on the virtual table.
The  sqlite3_uri_boolean(F,P,B) routines returns false (0) if the value of query parameter P is one of "no", "false", or "off" in any case or if the value begins with a numeric zero.
The only thing that remains to commit the transaction is to finalize  (delete, truncate or zero the first part of) the journal file (or  delete the master journal file if specified).
The pager also implements file locking to prevent two processes from writing the same database file simultaneously, or one process from reading the database while another is writing.
The xRename() callback will modify the names of any resources used by the v-table implementation (including other SQLite tables) that are identified by the name of the virtual table.
This is a helper routine for sqlite3PcacheFetchFinish()  In the uncommon case where the page being fetched has not been initialized, this routine is invoked to do the initialization.
This might happen concurrently with a write to the same area of shared memory on a different CPU in a SMP, meaning it is possible that an inconsistent snapshot is read from the file.
To prevent these assert()s from failing, when building with SQLITE_DEBUG defined using gcc, we force nullMem to be 8-byte aligned using the magical __attribute__((aligned(8))) macro.
When reducing a lock such that other processes can start reading the database file again, make sure that the transaction counter was updated if any part of the database file changed.
f* REQUEST/XMLRPC_RequestGetData NAME XMLRPC_RequestGetData SYNOPSIS XMLRPC_VALUE XMLRPC_RequestGetData(XMLRPC_REQUEST request) FUNCTION Returns data associated with request, if any.
f* VECTOR/XMLRPC_AddValuesToVector NAME XMLRPC_AddValuesToVector SYNOPSIS XMLRPC_AddValuesToVector ( target, val1, val2, val3, val(n), 0 ) XMLRPC_AddValuesToVector( XMLRPC_VALUE, ...
sqlite3VdbeSorterCompare()    Compare the binary blob for the row currently under the read cursor against another binary blob X and report if X is strictly less than the read cursor.
xml_elem_entity_escape  Purpose: escape reserved xml chars and non utf-8 chars as xml entities Comments: The return value may be a new string, or null if no conversion was performed.
zip_extra_field_api.c -- public extra fields API functions Copyright (C) 2012-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_filerange_crc.c -- compute CRC32 for a range of a file Copyright (C) 2008-2015 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_source_call.c -- invoke callback command on zip_source Copyright (C) 2009-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_source_open.c -- open zip_source (prepare for reading) Copyright (C) 2009-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_unchange.c -- undo changes to all files in zip archive Copyright (C) 1999-2015 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
(b0 is memory location iBMem+0, b1 is iBMem+1, and so forth) Then compare the current GROUP BY terms against the GROUP BY terms from the previous row currently stored in a0, a1, a2...
Format of sqlite_stat2:  The sqlite_stat2 is only created and is only used if SQLite is compiled with SQLITE_ENABLE_STAT2 and if the SQLite version number is between 3.6.18 and 3.7.8.
However a comment was received about space saving - maybe the guy linked all the modules rather than using a library - so we include a condition to cut out the tables when not needed.
However, with the change of recursive back references to be atomic, we have to look for the number so that this state can be identified, as otherwise the incorrect length is computed.
If an SQL UPDATE is executed  on the child table of pFKey, this function is invoked twice for each row affected - once to "delete" the old row, and then again to "insert" the new row.
If an error occurs, or if the specified row does not exist or does not contain a blob or text value, then an error code is returned and the database handle error code and message set.
If the page  has fewer than 2 siblings (something which can only happen if the page is a root page or a child of a root page) then all available siblings participate in the balancing.
In other words, make sure all the pages that have been written to the journal have actually reached the surface of the disk and can be restored in the event of a hot-journal rollback.
In this case it is necessary to add a term to the b-tree hierarchy that is (a) larger than the largest term  already written to the segment and (b) smaller than or equal to this term.
Or, if the third argument is NULL, then this function is being called to inform the VFS layer that, according to POSIX, any existing mapping may now be invalid and should be unmapped.
Otherwise, if it were done after calling sqlite3PcacheMakeDirty(), then an error might occur and the pager would end up in WRITER_LOCKED state with pages marked as dirty in the cache.
Our method of efficiently finding nearest colors is based on the "locally sorted search" idea described by Heckbert and on the incremental distance calculation described by Spencer W.
SQLite does not make this guarantee explicitly, but in practice there are always either more than 20 bytes of allocated space following the nNode bytes of contents, or two zero bytes.
Since the names of named mutexes, semaphores, file mappings etc are case-sensitive, take advantage of that by uppercasing the mutex name and using that as the shared filemapping name.
The "end_block" field may contain either an integer, or a text field containing the text representation of two non-negative integers separated  by one or more space (0x20) characters.
The file change counter is incremented when the database is changed This counter allows other processes to know when the file has changed and thus when they need to flush their cache.
The following macros are used to suppress compiler warnings and to make it clear to human readers when a function parameter is deliberately  left unused within the body of a function.
The job of this routine is to convert both internal schema data structures and the generated VDBE code so that they are appropriate for a WITHOUT ROWID table instead of a rowid table.
The key (zTerm/nTerm) is guaranteed to be greater than the largest key on the node just written, but smaller than or equal to the first key that will be written to the next leaf node.
The last index block in a wal-index usually contains less than the full complement of HASHTABLE_NPAGE (or HASHTABLE_NPAGE_ONE) page-numbers, depending on the contents of the WAL file.
The memory sanitizer distributed with versions of clang before 3.8 has a bug: if you call mmap before malloc, mmap may return an address that is later overwritten by the msan library.
The xCheckReservedLock() method checks whether any database connection, either in this process or in some other process, is holding a RESERVED, PENDING, or EXCLUSIVE lock on the file.
The xRandomness(), xSleep(), xCurrentTime(), and xCurrentTimeInt64() interfaces are not strictly a part of the filesystem, but they are included in the VFS structure for completeness.
This function cannot be the first in the file for if the file is linked first, then the check-unload function's offset will be nlmname.nlm+0 which is how to tell that there isn't one.
This routine attempts to plan those simple cases using much less ceremony than the general-purpose query planner, and thereby yield faster sqlite3_prepare() times for the common case.
This way, the Pager.eLock variable may be set to a less exclusive (lower) value than the lock that is actually held at the system level, but it is never set to a more exclusive value.
Unlike in the positive case, where we can set appropriate starting bits for specific high-valued UTF-8 characters, in this case we have to set the bits for all high-valued characters.
Where two or more frames correspond to the same database page, the iterator visits only the  frame most recently written to the WAL (in other words, the frame with the largest index).
Write the root page number of the new table into register P2  The difference between a table and an index is this:  A table must have a 4-byte integer key and can have arbitrary data.
f* VALUE/XMLRPC_CreateValueDouble NAME XMLRPC_CreateValueDouble SYNOPSIS XMLRPC_VALUE XMLRPC_CreateValueDouble(const char* id, double d) FUNCTION Create double (floating point) value.
zip_fdopen.c -- open read-only archive from file descriptor Copyright (C) 2009-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
IN PARTICULAR, NEITHER THE AUTHOR NOR LUCENT MAKES ANY REPRESENTATION OR WARRANTY OF ANY KIND CONCERNING THE MERCHANTABILITY OF THIS SOFTWARE OR ITS FITNESS FOR ANY PARTICULAR PURPOSE.
If the file opened as the journal file is not a well-formed journal file then all pages up to the first corrupted page are rolled back (or no pages if the journal header is corrupted).
If the sqlite_stat1.idx column is NULL, then the sqlite_stat1.stat column contains a single integer which is the (estimated) number of rows in the table identified by sqlite_stat1.tbl.
If this group is at or above the current highwater mark, ensure that any groups between the current high water mark and this group are marked unset and then update the high water mark.
If this happens a hot-journal may be mistaken for a journal being created by an active transaction in another process, causing SQLite to read from the database without rolling it back.
If this is a deferred FK constraint, or a CASCADE or SET NULL action applies, then any foreign key violations caused by removing the parent key will be rectified by the action trigger.
If we are at the end of an assertion group or a non-capturing atomic group, stop matching and return MATCH_MATCH, but record the current high water mark for use by positive assertions.
If we reach this point, it means that the database connection has closed all sqlite3_stmt and sqlite3_backup objects and has been passed to sqlite3_close (meaning that it is a zombie).
If we've found a possible browser, we need to do a comparison of the number of characters changed in the user agent being checked versus the previous match found and the current match.
In normal matching start_match will aways be greater than the first position at this stage, but a failed *SKIP can cause a return at the same point, which is why the first test exists.
Instead of resolving full real path name each time we need to identify file, we create a key that consist from requested file name, current working directory, current include_path, etc
It is my intent that you should be able to use this on your system, as part of a software package, or anywhere else to improve security, ensure compatibility, or for any other purpose.
It stores all the requested values in ZCG(include_paths) shared hash table, current value in ZCG(include_path)/ZCG(include_path_len) and one letter "path key" in ZCG(include_path_key).
Luckily, in 5.0 an error always aborts execution of a statement, wherever it is a multi-statement or a stored procedure, so it should be safe to unconditionally turn off the flag here.
Macros to determine the number of bytes required by a normal Expr  struct, an Expr struct with the EP_Reduced flag set in Expr.flags  and an Expr struct with the EP_TokenOnly flag set.
Neither the name of Intel Corporation nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.
Persistent connections: two list-types le_pconn, le_conn and a plist where hashed connection info is stored together with index pointer to the actual link of type le_pconn in the list.
Sponsored in part by the Defense Advanced Research Projects Agency (DARPA) and Air Force Research Laboratory, Air Force Materiel Command, USAF, under agreement number F39502-99-1-0512.
The pager calls this method to signal that it has done a rollback and that the database is therefore unchanged and it hence it is OK for the transaction change counter to be unchanged.
The xCreate() function in turn returns an  sqlite3_tokenizer structure representing the specific tokenizer to be used for the fts3 table (customized by the tokenizer clause arguments).
Therefore, if one or more frames have already been written to the log (and therefore  also copied into the backup databases) as part of this transaction, the backups must be restarted.
This is an error condition that can result, for example, when a SELECT on the right-hand side of an INSERT contains more result columns than there are columns in the table on the left.
This routine is called to process a compound query form from two or more separate queries using UNION, UNION ALL, EXCEPT, or INTERSECT  "p" points to the right-most of the two queries.
Transfer error message text from an sqlite3_vtab.zErrMsg (text stored in memory obtained from sqlite3_malloc) into a Vdbe.zErrMsg (text stored in memory obtained from sqlite3DbMalloc).
varintRecordCompareInt() and varintRecordCompareString() both assume that the size-of-header varint that occurs at the start of each record fits in a single byte (i.e. is 127 or less).
zip_error_get_sys_type.c -- return type of system error code Copyright (C) 1999-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_fopen_encrypted.c -- open file for reading with password Copyright (C) 1999-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_unchange_archive.c -- undo global changes to ZIP archive Copyright (C) 2006-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
(The caller enforces this restriction since this routine does not have enough information to know.)  (5) The WHERE clause expression originates in the ON or USING clause of a LEFT JOIN.
- first it tries to convert the string directly - if that fails, it tries o resolve it as a hostname  WARNING: gethostbyname() is a blocking function Author/Date:  jcar 20/9/96 History:
Assuming no error occurs, both transactions are closed by this block - the main database transaction by sqlite3BtreeCopyFile() and the other by an explicit call to sqlite3BtreeCommit().
But since the right hand side of the equality constraint (t2.b) has BLOB/NONE affinity, no conversion should be attempted before using a t2.b value as part of a key to search the index.
For MinGW version 4.x (and higher), check to see if the _USE_32BIT_TIME_T define is required to maintain binary compatibility with the MSVC runtime library in use (e.g. for Windows XP).
For example,   fts3PrefixCompress("abc", 3, "abcdef", 6)   // returns 3 fts3PrefixCompress("abX", 3, "abcdef", 6)   // returns 2 fts3PrefixCompress("abX", 3, "Xbcdef", 6)   // returns 0
For the purposes of the EP_ConstFunc flag, date and time functions and other functions that change slowly are considered constant because they are constant for the duration of one query
If both haystack and needle are BLOBs, then the result is one more than the number of bytes in haystack prior to the first occurrence of needle, or 0 if needle never occurs in haystack.
If the implementation does not provide working versions of these routines, it should at least provide stubs that always return true so that one does not get spurious assertion failures.
If the string zSignedIdent consists entirely of alpha-numeric characters, does not begin with a digit and is not an SQL keyword, then it is copied to the output buffer exactly as it is.
Known to ../../../liblink/sym.c:/468 and to ../sys_darwin_386.s:/468  This is truly disgusting and a bit fragile, but taking care of it here protects the rest of the system from damage.
Note that this call deletes the  saved position info stored by saveCursorPosition(), so there can be at most one effective restoreCursorPosition() call after each  saveCursorPosition().
Only 1x temporary space and only 1x writes would be required if the copy of step (3) were replaced by deleting the original database and renaming the transient database as the original.
Or, if the third argument is NULL, then this function is being called  to inform the VFS layer that, according to POSIX, any existing mapping  may now be invalid and should be unmapped.
Slots on the free list that are between 1 and 3 bytes larger than nByte will be ignored if adding the extra space to the fragmentation count causes the fragmentation count to exceed 60.
So the temp files are still identified, but anybody smart enough to figure out the code is also likely smart enough to know that calling the developer will not help get rid of the file.
The principle used to locate the table name in the CREATE TABLE  statement is that the table name is the first non-space token that is immediately followed by a TK_LP or TK_USING token.
There are two exceptions: immediately after exclusive-mode has been turned on (and before any read or write transactions are  executed), and when the pager is leaving the "error state".
This function is called when the user invokes "PRAGMA wal_checkpoint", "PRAGMA wal_blocking_checkpoint" or calls the sqlite3_wal_checkpoint() or wal_blocking_checkpoint() API functions.
This is used to determine whether meta data associated with a user function argument using the sqlite3_set_auxdata() API may be safely retained until the next invocation of this opcode.
This loop does the following:  + Figures out the number of columns the FTSX table will have, and the number of bytes of space that must be allocated to store copies of the column names.
This works around a bug in internet explorer for the macintosh which sends mime boundaries that are only LF terminated when you use an image submit button in a multipart/form-data form.
To work around this, if the journal file does appear to contain a valid header following Pager.journalOff, then write a 0x00 byte to the start of it to prevent it from being recognized.
Two writes per page are required in step (3) because the original database content must be written into the rollback journal prior to overwriting the database with the vacuumed content.
ensure that we restore function_table and class_table In general, they're restored by persistent_compile_file(), but in case the script is aborted abnormally, they may become messed up.
sqlite3SafetyCheckSickOrOk() allows a db pointer that failed to open properly and is not fit for general use but which can be used as an argument to sqlite3_errmsg() or sqlite3_close().
we could create a second info struct here (end_info), but it's only useful if we want to keep pre- and post-IDAT chunk info separated (mainly for PNG-aware image editors and converters)
(In this context 'database page' refers to any page that is not part of the pointer map itself.)  Each pointer map entry consists of a single byte 'type' and a 4 byte parent page number.
****  Return true if it would be illegal for pBtree to write into the table or index rooted at iRoot because other shared connections are simultaneously reading that same table or index.
+ The optimizer code in where.c (the thing that decides which index or indices to use) should place a different priority on  satisfying the 'ORDER BY' clause than it does in other cases.
For an anchored pattern, or an unanchored pattern that has a first char, or a multiline pattern that matches only at "line starts", there is no point in seeking a list of starting bytes.
If arguments ppOffsetList and pnOffsetList are not NULL, then  ppOffsetList is set to point to the first column-offset list in the doclist entry (i.e. immediately past the docid varint).
If case is not significant (the default for LIKE) then the lower-bound is made all uppercase and the upper- bound is made all lowercase so that the bounds also work when comparing BLOBs.
If the Select object is really just a simple VALUES() list with a single row (the common case) then keep that one row of values and discard the other (unused) parts of the pSelect object
Now a bit of recursion - read from the read buffer, if the data which we have just read from the wire is not enough, then the recursive call will try to satisfy it until it is satisfied.
POSIX.1, 4.8.1 sysconf() - TODO POSIX.1, 5.7.1 pathconf(), fpathconf() - TODO POSIX.1, 5.1.2 opendir(), readdir(), rewinddir(), closedir() POSIX.1, 5.2.1 chdir() already supported by PHP
The node at the root of the subtree is modified as follows:  Expr.op        Changed to TK_COLUMN Expr.pTab      Points to the Table object for X.Y Expr.iColumn   The column index in X.Y.
This array looks large, but in a typical installation actually uses only a handful of compile-time options, so most times this array is usually rather short and uses little memory space.
This little function scans through a compiled pattern until it finds a capturing bracket with the given number, or, if the number is negative, an instance of OP_REVERSE for a lookbehind.
When two or more connections are sharing the same database file, each connection has it own private Btree object for the file and each of those Btrees points to this one BtShared object.
zMaster points to the name of a master journal file that should be written into the individual journal file, or is NULL, indicating no master journal file  (single database transaction).
Because writing to any of these nPage pages may damage the others, the journal file must contain sync()ed copies of all of them before any of them can be written out to the database file.
Begin dot-file Locking ******************************  The dotfile locking implementation uses the existence of separate lock files (really a directory) to control access to the database.
But just to make sure it still operates correctly, verify that its count agrees with our  internal count when using count(*) and when the total count can be expressed as a 32-bit integer.
CAPI3REF: Suspend Execution For A Short Time  The sqlite3_sleep() function causes the current thread to suspend execution for at least a number of milliseconds specified in its parameter.
Care is  taken to ensure it is possible to iterate in either direction through  the entries in a doclist, or to seek to a specific entry within a  doclist, without loading it into memory.
Even though this opcode does not use dynamic strings for the result, result columns may become dynamic if the user calls sqlite3_column_text16(), causing a translation to UTF-16 encoding.
If PagerSavepoint.iHdrOffset is not zero, then pages are played back starting from the journal header immediately following  PagerSavepoint.iHdrOffset to the end of the main journal file.
If collation sequence pColl was created directly by a call to sqlite3_create_collation, and not generated by synthCollSeq(), then any copies made by synthCollSeq() need to be invalidated.
If the Win32 native heap is not isolated and/or the sqlite3_memory_used() function does not return zero, SQLITE_BUSY will be returned and no changes will be made to the Win32 native heap.
If the pager passed as the first argument is open on a real database file (not a temp file or an in-memory database), and the WAL file is not already open, make an attempt to open it now.
If there are different collating sequences or if the columns of the constraint occur in different orders, then the constraints are considered distinct and both result in separate indices.
If there were any lookbehind assertions that contained OP_RECURSE (recursions or subroutine calls), a flag is set for them to be checked here, because they may contain forward references.
In most cases, generating a warning message and inserting a fake EOI marker is the best course of action --- this will allow the decompressor to output however much of the image is there.
MATCH 'a OR (b NEAR c)'  is matched against a row containing:  'a b d e'  then any snippet() should ony highlight the "a" term, not the "b" (as "b" is part of a non-matching NEAR clause).
Run internal checks to ensure that the FTS index (a) is internally  consistent and (b) contains entries for which the XOR of the checksums as calculated by fts5IndexEntryCksum() is cksum.
The FILTER_NULL_ON_FAILURE flag inverts the usual return values of the function: normally when validation fails false is returned, and when the input value doesn't exist NULL is returned.
This block is really an inlined version of sqlite3VdbeMemRelease() that takes advantage of the fact that the memory cell value is  being set to NULL after releasing any dynamic resources.
This header file is also used by the loadext.c source file (part of the main SQLite library - not an extension) so that it can get access to the sqlite3_api_routines structure definition.
Using this method, a query such as '1s*' will match documents that contain the literal  token "1st", but not "first" (assuming the tokenizer is not able to provide synonyms for prefixes).
f* VALUE/XMLRPC_GetValueTypeEasy NAME XMLRPC_GetValueTypeEasy SYNOPSIS XMLRPC_VALUE_TYPE_EASY XMLRPC_GetValueTypeEasy(XMLRPC_VALUE value) FUNCTION determine data type of the XMLRPC_VALUE.
f* VECTOR/XMLRPC_SetIsVector NAME XMLRPC_SetIsVector SYNOPSIS int XMLRPC_SetIsVector(XMLRPC_VALUE value, XMLRPC_VECTOR_TYPE type) FUNCTION Set the XMLRPC_VALUE to be a vector (list) type.
After the application has finished with the result from sqlite3_get_table(), it must pass the result table pointer to sqlite3_free_table() in order to release the memory that was malloced.
At this point the cursor points to a row that matches the query expression, with the following caveats:  Up until this point, "NEAR" operators in the expression have been treated as "AND".
First skip over duplicate rows from prior sub-WHERE clauses, and record the rowid (or PRIMARY KEY) for the current row so that the same row will be skipped in subsequent sub-WHERE clauses.
INPUTS id        id of the newly created value, or NULL d         The desired new double value RESULT void SEE ALSO XMLRPC_GetValueDouble () XMLRPC_CreateValueDouble () XMLRPC_VALUE SOURCE
If X and Y are NULL (in other words if only the column name Z is supplied) and the value of Z is enclosed in double-quotes, then Z is a string literal if it doesn't match any column names.
If pExpr is a constant, then this routine might generate this code to fill the register in the initialization section of the VDBE program, in order to factor it out of the evaluation loop.
If the rhs of the LIKE expression is a variable, and the current value of the variable means there is no need to invoke the LIKE function, then no OP_Variable will be added to the program.
If two or more collating functions are registered to the same collation name (using different eTextRep values) then all must give an equivalent answer when invoked with equivalent strings.
If we have not yet set a firstchar in this branch, take it from the subpattern, remembering that it was set here so that a repeat of more than one can replicate it as reqchar if necessary.
It is the responsibility of the caller to free this object by eventually passing it to fts3SegReaderCursorFree()   SQLITE_OK is returned if no error occurs, otherwise an SQLite error code.
Or, if a phrase contains one or more deferred tokens and one or more non-deferred tokens, then the expression is advanced to the  next possible match, considering only non-deferred tokens.
Redistributions of source code must retain the above copyright notice immediately at the beginning of the file, without modification, this list of conditions, and the following disclaimer.
Setting to a null string reverts to the default database directory, which for database files specified with a relative path will probably be based on the current directory for the process.
Sorting order is NULL's first, followed by numbers (integers and reals) sorted numerically, followed by text ordered by the collating sequence pColl and finally blob's ordered by memcmp().
The SQLITE_SYNC_NORMAL and SQLITE_SYNC_FULL flags determine how energetic or rigorous or forceful the sync operations are and only make a difference on Mac OSX for the default SQLite code.
The following set of routines walk through the parse tree and assign a specific database to all table references where the database name was left unspecified in the original SQL statement.
The overall collating sequence is BINARY If this routine returns TRUE, that means that the RHS can be substituted for the LHS anyplace else in the WHERE clause where the LHS column occurs.
The speed of this approach is heavily influenced by the subbox size: too small means too much overhead, too big loses because Heckbert's criterion can't eliminate as many colormap entries.
This test is not foolproof but it does provide some measure of protection against misuse of the interface such as passing in db pointers that are NULL or which have been previously closed.
When the sub-program is finished,  these values are copied back to the Vdbe from the VdbeFrame structure, restoring the state of the VM to as it was before the sub-program began executing.
setMaster  When PagerCommitPhaseOne() is called to commit a transaction, it may (or may not) specify a master-journal name to be written into the  journal file before it is synced to disk.
there is no way to see if we must call zend_ini_deactivate() since we cannot check if EG(ini_directives) has been initialised because the executor's constructor does not set initialize it.
zip_source_pkware.c -- Traditional PKWARE de/encryption routines Copyright (C) 2009-2015 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_source_win32file.c -- create data source from HANDLE (Win32) Copyright (C) 1999-2016 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
FULL      The journal is synced twice before writes begin on the database (with some additional information - the nRec field of the journal header - being written in between the two syncs).
However, for maximum code portability it is recommended that applications still make the distinction between protected and unprotected sqlite3_value objects even when not strictly required.
If F is not a NULL pointer and is not a database file pathname pointer that SQLite passed into the xOpen VFS method, then the behavior of this routine is undefined and probably undesirable.
If a transaction was active when the persistent error occurred, then the rollback journal may need to be replayed to restore the contents of the database file (as if it were a hot-journal).
If cli primary file has shabang line and there is a prepend file, the `start_lineno` will be used by prepend file but not primary file, save it and restore after prepend file been executed.
If it were, another process might open the database file, detect the RESERVED lock, and conclude that the database is safe to read while this process is still rolling the  hot-journal back.
If pExpr is a TK_COLUMN column reference, then this routine always returns true even if that particular column is not indexed, because the column might be added to an automatic index later.
If the Fts3SegFilter defines a specific term (or term prefix) to search  for, then advance each segment iterator until it points to a term of equal or greater value than the specified term.
If the decimal precision guaranteed by FP arithmetic is higher than the requested places BUT is small enough to make sure a non-zero value is returned, pre-round the result to the precision
If the header is read successfully, *pNRec is set to the number of page records following this header and *pDbSize is set to the size of the database before the transaction began, in pages.
In a phrase merge, the output contains a copy of each position from the right-hand input doclist for which there is a position in the left-hand input doclist exactly nDist tokens before it.
It is intended that this variable be set once as part of process initialization and before any SQLite interface routines have been called and that this variable remain unchanged thereafter.
It is passed three arguments:  1) The complete text of the CREATE TABLE statement being modified, 2) The old name of the table being renamed, and 3) The new name of the table being renamed.
Parameters: dst - Where to store the resulting affine transform offset_x - Horizontal translation amount offset_y - Vertical translation amount  Returns: GD_SUCCESS on success or GD_FAILURE
The number of overflow pages to load for this (and therefore all subsequent) tokens is greater than the estimated number of pages  that will be loaded if all subsequent tokens are deferred.
The reference count on pShmNode has already been incremented under the cover of the unixEnterMutex() mutex and the pointer from the new (struct unixShm) object to the pShmNode has been set.
The values of HASHTABLE_NPAGE_ONE and  HASHTABLE_NPAGE are selected so that together the wal-index header and first index block are the same size as all other index blocks in the wal-index.
This is used to detect cases when another client appends frames to the *-wal file in the middle of an incremental checkpoint (an incremental checkpoint cannot be continued if this happens).
This means that if we have a pointer into a buffer containing node data, it is always safe to read up to two varints from it without risking an overread, even if the node data is corrupted.
Using a simple comparison for decimal numbers rather than a memory read is much faster, and the resulting code is simpler (the compiler turns it into a subtraction and unsigned comparison).
We can fish out the UTF-8 setting once and for all into a BOOL, but we must not do this for other options (e.g. PCRE_EXTENDED) because they may change dynamically as we process the pattern.
When a new tokenizer implementation is registered, the caller provides a pointer to an sqlite3_tokenizer_module containing pointers to the callback functions that make up an implementation.
i.e.  Init() for each record: Write() Rewind() Rowkey()/Compare() Next()  Close()  Algorithm:  Records passed to the sorter via calls to Write() are initially held  unsorted in main memory.
zip_error_to_str.c -- get string representation of zip error code Copyright (C) 1999-2015 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_file_sterror.c -- get string representation of zip file error Copyright (C) 1999-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_set_default_password.c -- set default password for decryption Copyright (C) 2009-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_set_file_compression.c -- set compression for file in archive Copyright (C) 2012-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
But if the WHERE_ONETABLE_ONLY flag is set, then we should only generate code for the first table in pTabList and assume that any cursors associated with subsequent tables are uninitialized.
Following any hot-journal  rollback, the contents of the cache are validated by checking the 'change-counter' field of the database file header and discarded if they are found to be invalid.
For debugging purposes, record when the mutex subsystem is initialized and uninitialized so that we can assert() if there is an attempt to allocate a mutex while the system is uninitialized.
Given the name of a column of the form X.Y.Z or Y.Z or just Z, look up that name in the set of source tables in pSrcList and make the pExpr  expression node refer back to that source column.
If this is an SQLITE_CHECKPOINT_RESTART or TRUNCATE operation, and the entire wal file has been copied into the database file, then block  until all readers have finished using the wal file.
If this results in a NOMATCH return, pass MATCH_ONCE back to the original OP_ONCE level, thereby bypassing intermediate backup points, but resetting any captures that happened along the way.
In that case, this routine generates code for the xfer optimization but also does a test to see if the destination table is empty and jumps over the xfer optimization code if the test fails.
Permission is granted to anyone to use this software for any purpose, including commercial applications, and to alter it and redistribute it freely, subject to the following restrictions: 1.
Previous versions of SQLite used to check if the root-page flags were sane at this point and report database corruption if they were not, but this check has since moved into the btree layer.
So, if sibling page iOld had the same page number as pNew, and if pCell really was a part of sibling page iOld (not a divider or overflow cell), we can skip updating the pointer map entries.
The "winIoerrCanRetry2" macro is completely optional and may be used to include additional error codes in the set that should result in the failing I/O operation being retried by the caller.
The default SQLite sqlite3_vfs implementations do not allocate memory (actually, os_unix.c allocates a small amount of memory from within OsOpen()), but some third-party implementations may.
The reference count on pShmNode has already been incremented under the cover of the winShmEnterMutex() mutex and the pointer from the new (struct winShm) object to the pShmNode has been set.
This function is called to release all dynamic resources held by the merge-writer object pWriter, and if no error has occurred, to flush all outstanding node buffers held by pWriter to disk.
This routine is based in part on code from Dale Lutz (Safe Software Inc.) and in part on demo code from Chapter 15 of "PNG: The Definitive Guide" (http://www.cdrom.com/pub/png/pngbook.html).
When the parser is run recursively this way, the final OP_Halt is not appended and other initialization and finalization steps are omitted because those are handling by the outermost parser.
While we would have liked to simply fix the bug and move on, we have to provide a backwards compatibility feature (essentially the bug) for some systems and a safety measure for some others.
f* UTILITY/XMLRPC_GetVersionString NAME XMLRPC_GetVersionString SYNOPSIS const char* XMLRPC_GetVersionString() FUNCTION returns library version string INPUTS  RESULT const char* NOTES SOURCE
government, the Government shall have only "Restricted Rights" in the software and related documentation as defined in the Federal Acquisition Regulations (FARs) in Clause 52.227.19 (c) (2).
if so, check to see if it is a directory and fail if so if not, check to see if its dirname() exists (i.e. "/path/to") and is a directory succeed if we are creating the file, otherwise fail.
lengthptr         NULL during the real compile phase points to length accumulator during pre-compile phase Returns:            TRUE on success FALSE, with *errorcodeptr set non-zero on error
pass 2: - convert non-numeric constants to numeric constants in numeric operators - optimize constant conditional JMPs - optimize static BRKs and CONTs - pre-evaluate constant function calls
zip_fopen_index.c -- open file in zip archive for reading by index Copyright (C) 1999-2015 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_source_win32a.c -- create data source from Windows file (ANSI) Copyright (C) 1999-2016 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
AND CONTRIBUTORS ``AS IS'' AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
Add the freeblocks to the min-heap  EVIDENCE-OF: R-20690-50594 The second field of the b-tree page header is the offset of the first freeblock, or zero if there are no freeblocks on the page.
Additionally, because the index updates are likely to be applied in random order, access to pages within the database is also likely to be in  random order, which is itself quite inefficient.
As the main database will be committed before the RBU update database this will likely either just pass unnoticed, or result in SQLITE_CONSTRAINT errors (due to UNIQUE constraint violations).
At this point variables should be set as follows:  nPayload           Total payload size in bytes pPayload           Begin writing payload here spaceLeft          Space available at pPayload.
At this point: iFreeBlk:   First freeblock after iStart, or zero if none iPtr:       The address of a pointer to iFreeBlk  Check to see if iFreeBlk should be coalesced onto the end of iStart.
Compute the total free space on the page EVIDENCE-OF: R-23588-34450 The two-byte integer at offset 1 gives the start of the first freeblock on the page, or is zero if there are no freeblocks.
Consider using a skip-scan if there are no WHERE clause constraints available for the left-most terms of the index, and if the average number of repeats in the left-most terms is at least 18.
Defer deleting the Table object associated with the subquery until code generation is complete, since there may still exist Expr.pTab entries that refer to the subquery even after flattening.
EVIDENCE-OF: R-19854-42126 There are three arguments to SQLITE_CONFIG_HEAP: An 8-byte aligned pointer to the memory, the number of bytes in the memory buffer, and the minimum allocation size.
Every method entry decreases from the current stack point, and when a thread stack reaches its top of stack (return from the global function), the top of stack and the current stack increase.
If the application uses the "rbu_delta()" feature described above, it must use sqlite3_create_function() or similar to register the rbu_delta() implementation with the target database handle.
In this case there is no way of knowing which of the pages that have been copied into the destination database are still  valid and which are not, so the entire process needs to be restarted.
Permission is granted to anyone to use this software for any purpose, including commercial applications, and to alter it and redistribute it freely, subject to the following restrictions:  1.
SQLite will still work with LinuxThreads provided that (1) there is no more than one connection  per database file in the same process and (2) database connections do not move across threads.
See http://curl.haxx.se/lxr/source/docs/libcurl/symbols-in-versions or curl src/docs/libcurl/symbols-in-versions for a (almost) complete list of options and which version they were introduced
Snippet selection is done based on doclists only, so there is no way for fts3BestSnippet() to know whether or not the document  actually contains terms that follow the final highlighted term.
The reason for doing this instead of deleting the VdbeFrame immediately is to avoid recursive calls to sqlite3VdbeMemRelease() when the memory cells belonging to the child frame are released.
This is needed (for example) prior to parsing a statement since we will be comparing table and column names against all schemas and we do not want those schemas being reset out from under us.
This means that if the planner does elect to use the results of this call as part of the overall query plan the user will see an "unable to use function MATCH in the requested context" error.
f* REQUEST/XMLRPC_RequestGetError NAME XMLRPC_RequestGetError SYNOPSIS XMLRPC_VALUE XMLRPC_RequestGetError(XMLRPC_REQUEST request) FUNCTION Returns error data associated with request, if any.
zip_file_get_external_attributes.c -- get opsys/external attributes Copyright (C) 2013-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
Do not mix calls to sqlite3_column_text() or sqlite3_column_blob() with calls to sqlite3_column_bytes16(), and do not mix calls to sqlite3_column_text16() with calls to sqlite3_column_bytes().
If AUTOVACUUM is enabled then it is possible that another root page might be moved into the newly deleted root page in order to keep all root pages contiguous at the beginning of the database.
If Fts3Expr.eType is FTSQUERY_PHRASE and isLoaded is true, then aDoclist  points to a malloced buffer, size nDoclist bytes, containing the results  of this phrase query in FTS3 doclist format.
If PCRE_JAVASCRIPT_COMPAT is set, a backreference to an unset bracket matches an empty string (by default it causes a matching failure), so in that case we must set the minimum length to zero.
If it is non-zero, then the cursor  is left in a state such that the next call to BtreeNext() or BtreePrev() moves it to the same row as it would if the call to BtreeDelete() had been omitted.
If the page is written into one of the journals, the corresponding bit is set in the  Pager.pInJournal bitvec and the PagerSavepoint.pInSavepoint bitvecs of any open savepoints as appropriate.
If we find that a given named parameter has been used twice, we will raise an error, as we can't be sure that it is safe to bind multiple parameters onto the same zval in the underlying driver
Name:  char *GetSMErrorText Input:   Error index returned by the menber functions Output:  pointer to a string containing the error description Description: Author/Date:  jcar 20/9/96 History:
Symbols defined in os.h indentify the 'pending byte' and the 'reserved byte', each single bytes at well known offsets, and the 'shared byte range', a range of 510 bytes at a well known offset.
The difference between VSPACE and ANYNL is that the latter can match the two-character CRLF sequence, but that is not relevant for finding the first character, so their code here is identical.
The new poslist for the phrase (containing the same entries as the original with some entries removed on account  of the NEAR constraint) is written over the original even as it is being read.
The reports issued by valgrind are incorrect - we would prefer that the randomness be increased by making use of the uninitialized space in zBuf - but valgrind errors tend to worry some users.
The sqlite3_close_v2() version forces the connection to become a zombie if there are unclosed resources, and arranges for deallocation when the last prepare statement or sqlite3_backup closes.
This invariant arises because multiple overflows can only occurs when inserting divider cells into a parent on a prior balance, and divider cells are always adjacent and are inserted in order.
This is used when closing database connection db to free all of its VTable objects without disturbing the rest of the Schema object (which may be being used by other shared-cache connections).
This logic is only to support hiding warnings that the streams layer puts out at times, but for libxml we may try to open files that don't exist, but it is not a failure in xml processing (eg.
This table maps each EBCDIC character to an (8-bit extended) ASCII character, as specified in the rationale for the dd(1) command in draft 11.2 (September, 1991) of the POSIX P1003.2 standard.
This two-pass approach that reuses as much memory as possible from the leftover space at the end of the opcode array can significantly reduce the amount of memory held by a prepared statement.
Thomas' article also describes a refined method which is asymptotically faster than the brute-force method, but it is also far more complex and cannot efficiently be applied to small subboxes.
To construct the calendar for a year, you must first find the length of the year by determining the first day of the year (Tishri 1, or Rosh Ha-Shanah) and the first day of the following year.
changeCountDone  This boolean variable is used to make sure that the change-counter  (the 4-byte header field at byte offset 24 of the database file) is  not updated more often than necessary.
f* VECTOR/XMLRPC_CreateVector NAME XMLRPC_CreateVector SYNOPSIS XMLRPC_VALUE XMLRPC_CreateVector(const char* id, XMLRPC_VECTOR_TYPE type) FUNCTION Create a new vector and optionally set an id.
zip_error_sterror.c -- get string representation of struct zip_error Copyright (C) 1999-2015 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_get_encryption_implementation.c -- get encryption implementation Copyright (C) 2009-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_source_win32w.c -- create data source from Windows file (UTF-16) Copyright (C) 1999-2016 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
A branch is also implicitly anchored if it starts with .* and DOTALL is set, because that will try the rest of the pattern at all possible matching points, so there is no point trying again....
A checkpoint should be set for operations that might fail (due to a constraint) part of the way through and which will need to undo some writes without having to rollback the whole transaction.
A file is considered to be ISO-8859 text if its characters are all either ASCII, according to the above definition, or printing characters from the ISO-8859 8-bit extension, characters 0xA0 ...
But if the file being opened is a WAL or regular journal file, then  this function queries the file-system for the permissions on the  corresponding database file and sets *pMode to this value.
CAPI3REF: Configuring The SQLite Library  The sqlite3_config() interface is used to make global configuration changes to SQLite in order to tune SQLite to the specific needs of the application.
For length() and typeof() functions with a column argument, set the P5 parameter to the OP_Column opcode to OPFLAG_LENGTHARG or OPFLAG_TYPEOFARG respectively, to avoid unnecessary data loading.
However, if the current transaction has already run one or more incremental-vacuum steps, then the page we are about to allocate may contain content that is required in the event of a rollback.
IMPLEMENTATION-OF: R-44699-57140 This mode works the same way as SQLITE_CHECKPOINT_RESTART with the addition that it also truncates the log file to zero bytes just prior to a successful return.
If TRUE is returned, also set *piCur to the cursor number of the table that is indexed and *piColumn to the column number of the column that is indexed, or -2 if an expression is being indexed.
If a phrase contains some deferred tokens (and some non-deferred  tokens), count the potential occurrence identified by considering the non-deferred tokens instead of actual phrase occurrences.
If bTryForInt is false, then if the input string contains a decimal point or exponential notation, the result is only MEM_Real, even if there is an exact integer representation of the quantity.
If iNext is FTS3_MERGE_COUNT, indicating that level iLevel is already full, merge all segments in level iLevel into a single iLevel+1 segment and allocate (newly freed) index 0 at level iLevel.
If the action is "NO ACTION" or "RESTRICT", then a NULL pointer is returned (these actions require no special handling by the triggers sub-system, code for them is created by fkScanChildren()).
If the call to xUnlock() fails at this point and the pager is left holding an EXCLUSIVE lock, this can confuse the call to xCheckReservedLock() call made later as part of hot-journal detection.
If the parent table is the same as the child table, and we are about to increment the constraint-counter (i.e. this is an INSERT operation), then check if the row being inserted matches itself.
If there are one or more BEFORE triggers, then do not populate the registers associated with columns that are (a) not modified by this UPDATE statement and (b) not accessed by new.* references.
Memory corruption, a segmentation fault, or other severe error might result if sqlite3_free() is called with a non-NULL pointer that was not obtained from sqlite3_malloc() or sqlite3_realloc().
Note that a "regular journal-handle" may be a wrapper capable of caching the first portion of the journal file in memory to implement the atomic-write optimization (see  source file journal.c).
Segments are promoted in two scenarios:  a) If the segment just written is smaller than one or more segments within the previous populated level, it is promoted to the previous populated level.
The difference between this function and sqlite3VdbeDelete() is that VdbeDelete() also unlinks the Vdbe from the list of VMs associated with the database connection and frees the object itself.
The following three return codes are possible: ZEND_HASH_APPLY_KEEP   - continue ZEND_HASH_APPLY_STOP   - stop iteration ZEND_HASH_APPLY_REMOVE - delete the element, combineable with the former
The inability to get a read lock indicates that some other database connection is holding a write-lock, which in turn means that the other connection has made uncommitted changes to the schema.
The job of this routine is to find or create a b-tree object that can be used either to test for membership in the RHS set or to iterate through all members of the RHS set, skipping duplicates.
The main glob() routine: compiles the pattern (optionally processing quotes), calls glob1() to do the real pattern matching, and finally sorts the list (unless unsorted operation is requested).
This is a utility routine used to set the ExprSpan.zStart and ExprSpan.zEnd values of pOut so that the span covers the complete range of text beginning with pStart and going to the end of pEnd.
This routine restores a cursor back to its original position after it has been moved by some outside activity (such as a btree rebalance or a row having been deleted out from under the cursor).
This will force all the Expr.token.z values to be dynamically allocated rather than point to the input string - which means that they will persist after the current sqlite3_exec() call returns.
To be order-distinct is not quite the same as being UNIQUE since a UNIQUE column or index can have multiple rows that  are NULL and NULL values are equivalent for the purpose of order-distinct.
the behavior here differs from INTERSECT_KEY in php_intersect since in the "diff" case we have to remove the entry from return_value while when doing intersection the entry must not be deleted.
zip_dirent.c -- read directory entry (local or central), clean dirent Copyright (C) 1999-2016 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
Additionally, the bits corresponding to pgno in Pager.pInJournal (bitvec of pages already written to the journal file) and the PagerSavepoint.pInSavepoint bitvecs of any open savepoints are set.
But in fact, mem1.u.i will never actually be used uninitialized, and doing  the unnecessary initialization has a measurable negative performance impact, since this routine is a very high runner.
Cache zFilename in the locking context (AFP and dotlock override) for proxyLock activation is possible (remote proxy is based on db name) zFilename remains valid until file is closed, to support
Hence sqlite3_set_auxdata() should be called near the end of the function implementation and the function implementation should not make any use of P after sqlite3_set_auxdata() has been called.
If one zval can sometimes be fetched as a long you have to set the is_used member of the corresponding gmp_temp_t value to 0, otherwise the FREE_GMP_TEMP and *_DEP macros will not work properly.
If the expression is used as a result in an aggregate SELECT, then the value is also stored in the Expr.iAgg column in the aggregate so that it can be accessed after all aggregates are computed.
If we assume that writing a single disk sector is atomic, then this mode provides assurance that the journal will not be corrupted to the point of causing damage to the database during rollback.
If we write nothing to this pointer-map slot, then the optimistic overflow chain processing in clearCell() may misinterpret the uninitialized values and delete the wrong pages from the database.
Instead, if an error occurs, true is returned (indicating that  data is available) and the error code returned when xColumn or some other method is next invoked on the save virtual table cursor.
Neither the name of the University of Cambridge nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.
Opcode: ColumnsUsed P1 * * P4 *  This opcode (which only exists if SQLite was compiled with SQLITE_ENABLE_COLUMN_USED_MASK) identifies which columns of the table or index for cursor P1 are used.
Prior to version 3.1.2, when LIMIT and OFFSET had to be simple constants, not arbitrary expressions, we allowed some combining of LIMIT and OFFSET because they could be computed at compile-time.
The actual file on disk is not created or populated until either:  1) The in-memory representation grows too large for the allocated  buffer, or 2) The sqlite3JournalCreate() function is called.
You will notice that the lengths alternate between 30 and 31 days, except for three anomalies: both July and August have 31 days, both December and January have 31, and February is less than 30.
f* VALUE/XMLRPC_GetGlobalServer NAME XMLRPC_GetGlobalServer SYNOPSIS XMLRPC_SERVER XMLRPC_GetGlobalServer() FUNCTION Allocates a global (process-wide) server, or returns pointer if pre-existing.
function    : Q_Find  purpose     : Linear search of queue for match with key in *data  parameters  : queue pointer q, data pointer with data containing key comparison function here called Comp.
we have to free SG(request_info).path_translated here because php_destroy_request_info assumes that it will get freed when the include_names hash is emptied, but we're not adding it in this case
zip_get_compression_implementation.c -- get compression implementation Copyright (C) 2009-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_source_crc.c -- pass-through source that calculates CRC32 and size Copyright (C) 2009-2016 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_source_function.c -- create zip data source from callback function Copyright (C) 1999-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
zip_source_win32utf8.c -- create data source from Windows file (UTF-8) Copyright (C) 1999-2015 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
Because in this case it is not possible  for garbage data to be appended to the file, the nRec field is populated with 0xFFFFFFFF when the journal header is written and never needs to be updated.
But  if we are unlucky, another process that is holding a lock might get paged out or take a page-fault that is time-consuming to resolve,  during the few nanoseconds that it is holding the lock.
Examine a WherePath (with the addition of the extra WhereLoop of the 5th parameters) to see if it outputs rows in the requested ORDER BY (or GROUP BY) without requiring a separate sort operation.
Given an expression list (which is really the list of expressions that form the result set of a SELECT statement) compute appropriate column names for a table that would hold the expression list.
If an xToken() callback returns any value other than SQLITE_OK, then the tokenization should be abandoned and the xTokenize() method should immediately return a copy of the xToken() return value.
If either integer is negative, then the setting is not changed but instead the prior value of that setting is written into the array entry, allowing the current retry settings to be interrogated.
If not, then when "make test" is run with -DSQLITE_VDBE_COVERAGE and -DSQLITE_DEBUG then an ALWAYS() will fail in the vdbeTakeBranch() routine in vdbe.c, alerting the developer to the missed tag.
Instead, it tests that the same set of pgno/rowid combinations are  visited regardless of whether the doclist-index identified by parameters iSegid/iLeaf is iterated in forwards or reverse order.
It might be more appropriate to include it in the 8859 set instead of the ASCII set, but it's got to be included in *something* we recognize or EBCDIC files aren't going to be considered textual.
Originally, this space was supposed to be taken from the current stack frame of the caller, but that method cannot be made to work for some implementations of C, for example under Gould's UTX/32.
Parameter nIncr is passed -1 when inserting a row (as this may decrease the number of FK violations in the db) or +1 when deleting one (as this may increase the number of FK constraint problems).
Sync the hot journal before playing it back since the process that crashed and left the hot journal probably did not sync it and we are required to always sync the journal before playing it back.
The NEVER() on the second term is because sqlite3FunctionUsesThisSrc() is always called before sqlite3ExprAnalyzeAggregates() and so the TK_COLUMNs have not yet been converted into TK_AGG_COLUMN.
This header file (together with is companion C source-code file "os.c") attempt to abstract the underlying operating system so that the SQLite library will work on both POSIX and windows systems.
This routine has been called to create an automatic index as a result of a PRIMARY KEY or UNIQUE clause on a column definition, or a PRIMARY KEY or UNIQUE clause following the column definitions.
This solves two problems: one is that ini entries for dl()'d extensions will now work, and the second is that updating the global hash here from dl() is not mutex protected and can lead to death.
doNotSpill  This variables control the behavior of cache-spills  (calls made by the pcache module to the pagerStress() routine to write cached data to the file-system in order to free up memory).
f* REQUEST/XMLRPC_RequestNew NAME XMLRPC_RequestNew SYNOPSIS XMLRPC_REQUEST XMLRPC_RequestNew() FUNCTION Creates a new XMLRPC_Request data struct INPUTS none SEE ALSO XMLRPC_RequestFree () SOURCE
zip_file_set_external_attributes.c -- set external attributes for entry Copyright (C) 2013-2014 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
A frame is only valid if a checksum of the WAL header, all prior frams, the first 16 bytes of this frame-header,  and the frame-data matches the checksum in the last 8  bytes of this frame-header.
Copy the error code and error message belonging to the VDBE passed as the first argument to its database handle (so that they will be  returned by calls to sqlite3_errcode() and sqlite3_errmsg()).
EVIDENCE-OF: R-61275-35157 The SQLITE_CONFIG_MEMSTATUS option takes single argument of type int, interpreted as a boolean, which enables or disables the collection of memory allocation statistics.
For example the  implementation of an SQL aggregate step callback may not use the parameter indicating the number of arguments passed to the aggregate, if it knows that this is enforced elsewhere.
If SQLITE_DEBUG_SORTER_THREADS is defined, this module outputs various messages to stderr that may be helpful in understanding the performance characteristics of the sorter in multi-threaded mode.
If the xSleep() method of the default VFS is not implemented correctly, or not implemented at all, then the behavior of sqlite3_sleep() may deviate from the description in the previous paragraphs.
If there are dirty pages in the page cache with page numbers greater than Pager.dbSize, this means sqlite3PagerTruncateImage() was called to make the file smaller (presumably by auto-vacuum code).
In earlier versions of PCRE, all the offsets were unset at the start of matching, but this doesn't work because atomic groups and assertions can cause a value to be set that should later be unset.
Only promise is that after a write, the one thread which did the write will see data in the table (though it may be slightly different data than what was written, see above about equivalent data).
So if the height of the input segment b-trees is N, and input segments are merged eight at a time, updating the input segments at the end of an incremental-merge requires writing (8*(1+N)) blocks.
THE AUTHORS AND DISTRIBUTORS SPECIFICALLY DISCLAIM ANY WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND NON-INFRINGEMENT.
The reader algorithm in the previous paragraphs works correctly, but  because frames for page P can appear anywhere within the WAL, the reader has to scan the entire WAL looking for page P frames.
Then increment the  Pager.journalOff variable by JOURNAL_HDR_SZ so that the next  record is written to the following sector (leaving a gap in the file that will be implicitly filled in by the OS).
There are many possibilities here to consider: - If this state is a consistent state with a default action, then the only way this function was invoked is if the default action is an error action.
There is no particularly good way around this in the case that all 256 8-bit shades are used, but one could write some custom 16-bit code to handle the case where there are gdFree palette entries.
This function populates the array with values required to  "rollback" the write position of the WAL handle back to the current  point in the event of a savepoint rollback (via WalSavepointUndo()).
When this function is called, *ppCollist should point to the beginning of the first varint in the column-list (the varint that contains the position of the first matching term in the column data).
Arguments: code        the compiled regex stringname  the name whose number is required Returns:      the number of the named parentheses, or a negative number (PCRE_ERROR_NOSUBSTRING) if not found
By doing it to only one of these two, we deviate from a state that could be directly specified by a password to the buggy algorithm (and to the fully correct one as well, but that's a side-effect).
Finally, argument pBegin points to the byte immediately following the end of the space required by this page for the cell-pointer area (for all cells - not just those inserted by the current call).
For such expressions, Expr.op is set to TK_COLUMN and Expr.iTable is the integer cursor number of a VDBE cursor pointing to that table and Expr.iColumn is the column number for the specific column.
If SQLite is compiled to support shared-cache mode and to be threadsafe, this routine obtains the mutex associated with each BtShared structure that may be accessed by the VM passed as an argument.
If the EXPRDUP_REDUCE flag is set, then the structure returned is a truncated version of the usual Expr structure that will be stored as part of the in-memory representation of the database schema.
If the b-tree mutexes are not taken here, then another shared-cache connection might sneak in between the database rollback and schema reset, which can cause false corruption reports in some cases.
If the column affinity is REAL but the number is an integer, then it might be stored in the table as an integer (using a compact representation) then converted to REAL by an OP_RealAffinity opcode.
If the original database file (pDbFd) is using the "unix-excl" VFS that means that an exclusive lock is held on the database file and that no other processes are able to read or write the database.
It works in a similar way to sqlite3_value_text(), except the data returned is in the encoding specified by the second parameter, which must be one of SQLITE_UTF16BE, SQLITE_UTF16LE or SQLITE_UTF8.
PRAGMA shrink_memory  IMPLEMENTATION-OF: R-23445-46109 This pragma causes the database connection on which it is invoked to free up as much memory as it can, by calling sqlite3_db_release_memory().
The checksum is computed using 32-bit big-endian integers if the magic number in the first 4 bytes of the WAL is 0x377f0683 and it is computed using little-endian if the magic number is 0x377f0682.
Then, when xOpen() is called to open the *-wal file associated with the RBU target in RBU_STAGE_OAL stage, instead of opening the *-wal file, the rbu vfs opens the corresponding *-oal file instead.
This function is called to generate code executed when a row is deleted from the parent table of foreign key constraint pFKey and, if pFKey is  deferred, when a row is inserted into the same table.
This function is used to parse both URIs and non-URI filenames passed by the user to API functions sqlite3_open() or sqlite3_open_v2(), and for database URIs specified as part of ATTACH statements.
This opcode causes the sqlite3_step() call to terminate with an SQLITE_ROW return code and it sets up the sqlite3_stmt structure to provide access to the r(P1)..r(P1+P2-1) values as the result row.
We cannot do this by looking at the value of code at the start and end of each alternative, because compiled items are discarded during the pre-compile phase so that the work space is not exceeded.
We skip the mutex on reading because (1) most platforms read a 32-bit integer atomically and (2) even if an incorrect value is read, no great harm is done since this is really just an optimization.
With SQLITE_ACCESS_READWRITE, the xAccess method checks whether the named directory is both readable and writable (in other words, if files can be added, removed, and renamed within the directory).
With the addition of multiple database support, the following structure can also be used to describe a particular table such as the table that is modified by an INSERT, DELETE, or UPDATE statement.
zip_fopen_index_encrypted.c -- open file for reading by index w/ password Copyright (C) 1999-2015 Dieter Baron and Thomas Klausner This file is part of libzip, a library to manipulate ZIP archives.
A Vdbe sub-program that implements the body and WHEN clause of trigger TriggerPrg.pTrigger, assuming a default ON CONFLICT clause of TriggerPrg.orconf, is stored in the TriggerPrg.pProgram variable.
A single inode can have multiple file descriptors, so each unixFile structure contains a pointer to an instance of this object and this object keeps a count of the number of unixFile pointing to it.
Each unsigned integer in the following array corresponds to a contiguous range of unicode codepoints that are not either letters or numbers (i.e. codepoints for which this function should return 0).
However, in order to accommodate the version of this code that uses an external "stack" implemented on the heap, it is easier to declare them all here, so the declarations can be cut out in a block.
However, in the pre-compile phase, class_uchardata gets emptied to prevent workspace overflow, so it only if the very last character in the class needs XCLASS will it contain anything at this point.
If prRhsHasNull is not a NULL pointer and  if there is any chance that the (...) might contain a NULL value at runtime, then a register is allocated and the register number written to *prRhsHasNull.
Let n be the size of the largest allocation divided by the minimum allocation size (after rounding all sizes up to a power of 2.)  Let M be the maximum amount of memory ever outstanding at one time.
Neither the name of the Lite Speed Technologies Inc nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.
Nevertheless, some published applications that were originally written for version 3.6.23 or earlier do in fact depend on SQLITE_MISUSE  returns, and those were broken by the automatic-reset change.
Note that at this point we can encounter only the "basic" bracket opcodes such as BRA and CBRA, as this is the place where they get converted into the more special varieties such as BRAPOS and SBRA.
Otherwise, the actions required depend on the journal-mode and the  device characteristics of the file-system, as follows:  If the journal file is an in-memory journal file, no action need be taken.
Refer to comments above function sqlite3VtabUnlockList() for an explanation as to why it is safe to add an entry to an sqlite3.pDisconnect list without holding the corresponding sqlite3.mutex mutex.
The Table structure that represents the result set was constructed by selectExpander() but the type and collation information was omitted at that point because identifiers had not yet been resolved.
The pager invokes the busy-handler if sqlite3OsLock() returns  SQLITE_BUSY when trying to upgrade from no-lock to a SHARED lock, or when trying to upgrade from a RESERVED lock to an EXCLUSIVE  lock.
The vector data is divided into two groups: the first group contains the start / end character pointers, and the second is the start pointers when the end of the capturing group has not yet reached.
This routine will start taking more aggressive measures to clear the race conditions after multiple WAL_RETRY returns, and after an excessive number of errors will ultimately return SQLITE_PROTOCOL.
When SQLite calls the xTruncate() method, the cache must discard all existing cache entries with page numbers (keys) greater than or equal to the value of the iLimit parameter passed to xTruncate().
When an expired statement is executed using sqlite3_step() it will either automatically reprepare itself (if it was originally created using sqlite3_prepare_v2()) or it will fail with SQLITE_SCHEMA.
check if coming due to ErrorDocument We make a special exception of 413 (Invalid POST request) as the invalidity of the request occurs during processing of the request by PHP during POST processing.
if new_type set resets some bits from old_type set We have completely recalculate types of some dependent SSA variables (this may occurs mainly because of incremental inter-precudure type inference)
-) Concurrent reads: SUPPORTED If interleaved with a concurrent write, the read will arbitrarily say that there is no data at that slot or return the entire new data written by the concurrent writer.
Also write code to modify the sqlite_master table and internal schema if a root-page of another table is moved by the btree-layer whilst erasing iTable (this can happen with an auto-vacuum database).
Finally, a file is considered to be international text from some other character code if its characters are all either ISO-8859 (according to the above definition) or characters in the range 0x80 ...
Following an incremental-merge operation, assuming that the input segments are not completely consumed (the usual case), they are updated in place to remove the entries that have already been merged.
If parameter bOptOk is zero, then it is guaranteed that the Fts3Phrase.doclist.aAll/nAll variables contain the entire doclist for each phrase in the expression (subject to deferred token processing).
If this is an auto-vacuum database, the call to copyNodeContent()  sets all pointer-map entries corresponding to database image pages  for which the pointer is stored within the content being copied.
If tripCode is not SQLITE_OK, then any write cursors are invalidated ("tripped" - as in "tripping a circuit breaker") and made to return tripCode if there are any further attempts to use that cursor.
In theory, this branch should never be hit, as this function should only be called after a locking-related function (i.e. fcntl()) has returned non-zero with the value of errno as the first argument.
It came out of the approach we used above, and it's not any worse than any other choice we could make.)  It is crucial that we don't do the same to the expanded key used in the main Eksblowfish loop.
It would be simpler to detect this as part of the loop below, but we do the detection here in order to avoid populating the pager cache with two separate objects associated with the same page number.
Note that MutexAlloc() is called for a static mutex prior to initializing the malloc subsystem - this implies that the allocation of a static mutex must not require support from the malloc subsystem.
Specifically, there may be one background thread for each temporary file on disk, and one background thread to merge the output of each of the others to a single PMA for the main thread to read from.
TUNING:  For every WHERE clause term that is not used by the index and which does not have an assigned truth probability, heuristics described below are used to try to estimate the truth probability.
The expression list, ID, and source lists return by sqlite3ExprListDup(), sqlite3IdListDup(), and sqlite3SrcListDup() can not be further expanded  by subsequent calls to sqlite*ListAppend() routines.
The idea is that if the atomic-write optimization is not enabled at compile time, the compiler can omit the tests of 'isDirect' below, as well as the block enclosed in the "if( isDirect )" condition.
The readdirfunc declaration can't be prototyped, because it is assigned, below, to two functions which are prototyped in glob.h and dirent.h as taking pointers to differently typed opaque structures.
This method should either return SQLITE_OK and set the values of the "OUT" variables identified below, or SQLITE_DONE to indicate that the end of the buffer has been reached, or an SQLite error code.
f* VALUE/XMLRPC_DupValueNew NAME XMLRPC_DupValueNew SYNOPSIS XMLRPC_VALUE XMLRPC_DupValueNew(XMLRPC_VALUE value) FUNCTION Make a duplicate (non reference) of an XMLRPC_VALUE with newly allocated mem.
