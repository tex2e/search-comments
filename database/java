"google.com" hasn't loaded yet at this stage
"phantomjs_driver_path"
"phantomjs_exec_path"
# of Get() queries served by L0
# of Get() queries served by L1
# of Get() queries served by L2 and up
# of blocks added to block cache.
# of memtable misses.
# of times bloom filter has avoided file reads.
# of times cache hit when accessing data block from block cache.
# of times cache hit when accessing filter block from block cache.
# of times cache hit when accessing index block from block cache.
# of times cache miss when accessing data block from block cache.
# of times cache miss when accessing filter block from block cache.
# of times cache miss when accessing index block from block cache.
'row' is a 3 element array of 3 component vectors
*key is a run of 0xffs.
- Modules that remove all persistent data (temp files, etc) when the catalyst instance is destroyed.
- Retained (static) in-memory data that may contain user info or content.
.setJSMainModuleName()
/* This code is duplicated in ReactTextInputManager /* TODO: Factor into a common place they can both use
/* This code was taken from the method setFontStyle of the class ReactTextShadowNode /* TODO: Factor into a common place they can both use
/* This code was taken from the method setFontWeight of the class ReactTextShadowNode /* TODO: Factor into a common place they can both use
1) Sort the views to add and indices to remove by index 2) Iterate the indices being removed from high to low and remove them.
2) The bridge ended the frame idle (meaning there were no JS nor native module calls still in flight) AND there was no UiManagerModule update enqueued that didn't also finish.
3) Iterate the views being added by index low to high and add them.
360 is expressed as 0
4 is kinda arbitrary, but the default of 10 seems really high for an average View.
@deprecated Prefer passing a module-specific error code to JS.
@deprecated obsolete.
@param activity the activity being destroyed
@param activity the activity being paused
@param allowedInForeground whether to allow this task to run while the app is in the foreground (i.e. there is a host in resumed mode for the current ReactContext).
@param alpha from 0 to 1, where 0 is the previous state, 1 is the current state
@param array the array to convert.
@param bf the probabilistic size ratio between adjacent link lists in the skip list.
@param bitsPerKey the number of bits per key for bloom filer.
@param blob binary object to be inserted
@param block that contains UI logic you want to execute.
@param blockCacheCompressedNumShardBits the number of shard bits.
@param blockCacheCompressedSize of compressed block cache.
@param blockCacheNumShardBits the number of shard bits.
@param bundleEntry The path to the bundle entry file (e.g. index.ios.bundle).
@param cacheIndexAndFilterBlocks and filter blocks should be put in block cache.
@param canvas the canvas to restore
@param canvas the canvas to set up
@param columnFamilyDescriptor column family to be created.
@param columnFamilyOptions options to be used with column family.
@param compactionStyle Compaction style.
@param comparator java instance.
@param compressionType Compression Type.
@param config the configuration of the animation for view addition/removal/update.
@param config the mem-table config.
@param config the table format config.
@param context the ReactContext of the application
@param count the number of hash buckets used in the hash skiplist memtable.
@param count the number of hash buckets.
@param data a map of parameters passed to the JS task executor.
@param db_path Path to store data to.
@param db_path path to database.
@param enabled whether layout animation is enabled or not
@param error will be called if there was an error processing the animation
@param fairness RateLimiter accepts high-pri requests and low-pri requests.
@param flag a boolean flag to specify whether to disable write-ahead-log on writes.
@param handle The address of the underlying native object.
@param height height to set.
@param histData Histogram data.
@param histType Histogram type.
@param host The host that the HMRClient should communicate with.
@param inplaceUpdateNumLocks the number of locks used for inplace updates.
@param inplaceUpdateSupport true if thread-safe inplace updates are allowed.
@param key the key retrieve the value.
@param key the key to retrieve the value.
@param key the specified key to be inserted.
@param key the specified key to be merged.
@param keys List of keys for which values need to be retrieved.
@param keys of keys for which values need to be retrieved.
@param keysAndValues keys and values, interleaved
@param listener Called once the animation is finished, should be used to completely remove the view.
@param logDistribution - boolean parameter indicating if number of entry distribution shall be logged.
@param managed if true, then managed iterators will be enabled.
@param maxBytesForLevelBase maximum bytes for level base.
@param maxLogFileSize the maximum size of a info log file.
@param maxManifestFileSize the size limit of a manifest file.
@param maxMemCompactionLevel Unused.
@param maxTableFilesSize the size limit of the total sum of table files.
@param mimeType the MIME type of the file to create (image/*)
@param msg the specified error message.
@param multiplier the size ratio between a level-(L+1) file and level-L file.
@param n use the first n bytes of a key as its prefix.
@param nativeHandle The native handle of the C++ RocksDB object
@param numFiles soft limit on number of level-0 files.
@param numFiles the hard limit of the number of level-0 files.
@param numLevels the number of levels.
@param offset offset within the byte array.
@param opt Read options.
@param options a map containing options.
@param options map containing optional arguments: highAccuracy (boolean)
@param options map containing optional arguments: timeout (millis), maximumAge (millis) and highAccuracy (boolean)
@param outClippingRect output clipping rect should be written to this object.
@param path the path to the RocksDB.
@param path the path to the rocksdb.
@param paths a list of strings where each describes a directory of a library.
@param platform The platform in which HMR updates will be enabled.
@param port The port that the HMRClient should communicate with on the host.
@param position the position of the selected item
@param ratio the hash table ratio.
@param reactContext react application context that can be used to create View Managers.
@param reactContext the context to use
@param readOnly boolean value indicating if database if db is opened read-only.
@param refillPeriodMicros this controls how often tokens are refilled.
@param reserved_bytes reserved size for WriteBatch
@param shutdownTimeout Time in milli-seconds to wait for shutdown before killing the collection process.
@param size the initial size of the vector.
@param sparseness the index sparseness.
@param statistics Reference of DB statistics.
@param statsCallback Reference of statistics callback interface.
@param statsCollectionIntervalInMilliSeconds Statistics collection time period (specified in milliseconds).
@param statsCollectorInputList List of statistics collector input.
@param str The string
@param success will be called when the animation completes, or when the animation get interrupted.
@param targetFileSizeBase the target size of a level-0 file.
@param taskConfig describes what task to start and the parameters to pass to it
@param taskId the unique identifier of this task instance
@param taskKey the key for the JS task to execute.
@param threshold - number of entries in a single bucket before logging starts.
@param threshold maximum number of entries before SkipList is used.
@param tickerCount Value of ticker type.
@param tickerType Ticker type.
@param timeout the amount of time (in ms) after which the React instance should be terminated regardless of whether the task has completed or not.
@param timeout value of 0 results in no timeout
@param totalOrderSeek if true, then total order seek will be enabled.
@param transformMatrix 16-element array of numbers representing 4x4 transform matrix
@param ttl TTL to set for this column family.
@param ttl time to live for new entries.
@param uiViewOperationQueue interface for enqueueing UI operations
@param url the URL to open
@param value byte representation of InfoLogLevel.
@param value byte representation of ReadTier.
@param value the out-value to receive the retrieved value.
@param value the value associated with the specified key.
@param value the value to be merged with the current value for the specified key.
@param view     The view to animate.
@param view view that will be animated
@param view view to update property
@param waitForFlush boolean value indicating if the flush operations waits for termination of the flush process.
@return Always returns 0.
@return An iterator for the Write Batch contents
@return Compaction style.
@return Compression type.
@return CompressionType instance.
@return Java typed access to the data.
@return LOG file contents as String.
@return List of native modules.
@return Map where key of map is the key passed by user and value for map entry is the corresponding value in DB.
@return Options instance assigned to this instance.
@return Return true to steal motion event from the children and have the dispatched to this view, or return false to allow motion event to be delivered to children view
@return The hash code for the Write Entry
@return The length in bytes.
@return The maximum number of level-0 files
@return The name of this comparator implementation
@return The slice data.
@return The soft limit on the number of level-0 files
@return The string representation of the data.
@return The unique id of this event.
@return TtlDB instance.
@return Whether JS bundle should be minified.
@return Whether debug information about transitions should be displayed.
@return Whether dev mode should be enabled in JS bundles.
@return Whether element inspector is enabled.
@return Whether remote JS debugging is enabled.
@return a CatalystInstance mock that has a default working ReactQueueConfiguration.
@return a Checkpoint instance.
@return a MessageQueueThreadImpl corresponding to Android's main UI thread.
@return a boolean indicating whether paranoid-check is on.
@return a byte array storing the value associated with the input key if any.
@return a key used to determine which other events of this type this event can be coalesced with.
@return a map of constants this module exports to JS.
@return a unique id representing this task instance.
@return block cache size in bytes
@return block restart interval
@return block size in bytes
@return boolean Whether the PermissionListener can be removed.
@return boolean value indicating if WAL is disabled.
@return boolean value indicating if key does not exist or might exist.
@return boolean value indicating if sync is active.
@return boolean value indicating if the flush operation waits for termination of the flush process.
@return boolean value indicating if the iteration is halted.
@return branching factor, the probabilistic size ratio between adjacent links in the skip list.
@return column family name.
@return currently set value for store index in file.
@return entries per bucket threshold before SkipList is used.
@return false if this Event can *never* be coalesced
@return handle to the specified JS module for the CatalystInstance associated with this Context
@return height corrected for rounding to pixels.
@return if L0 index and filter blocks should be pinned to the block cache.
@return if block cache is disabled
@return if distrubtion of number of entries shall be logged.
@return if index and filter blocks should be put in block cache.
@return if true, an error is raised when the specified database already exists before open.
@return if true, then data-sync is disabled.
@return if whole key filtering is enabled
@return instance of current FlushOptions.
@return instance of iterator object.
@return list of JS modules to register with the newly created catalyst instance.
@return list of module specs that can create the View Managers.
@return lookahead value
@return map of string to int mapping of the expected commands
@return maximum number of entries in one bucket before logging starts.
@return maximum number of write buffers.
@return methods callable from JS on this module
@return numShardBits the number of shard bits.
@return number of items in WriteBatch
@return numerical property value.
@return opacity expressed by one of PixelFormat constants
@return size in bytes.
@return size of compressed block cache.
@return size of write buffer.
@return the MessageQueueThread that owns the current Thread.
@return the Snapshot assigned to this instance.
@return the backup id.
@return the current instance of SkipListMemTableConfig
@return the currently configured format version.
@return the currently set checksum type
@return the currently set index type
@return the file with the fetched content, or null if there's any failure.
@return the hard limit of the number of level-0 file.
@return the hash table ratio.
@return the height of the skip list.
@return the host to use when connecting to the bundle server from the host itself.
@return the host to use when connecting to the bundle server.
@return the hugePageTlbSize.
@return the index of the given child, or -1 if the child doesn't exist in this node.
@return the index sparseness.
@return the initial size of the vector.
@return the instance of the current Object.
@return the instance of the current Options
@return the instance of the current Options.
@return the instance of the current WriteOptions.
@return the instance of the specified module interface associated with this ReactContext.
@return the maximum number of bytes in for a compaction.
@return the maximum number of open files.
@return the maximum size of the info log file.
@return the name of the currently used table factory.
@return the name of the currently-used memtable factory.
@return the name of this event as registered in JS
@return the name of this module.
@return the name of this view manager.
@return the number of bits per key used for the bloom filter.
@return the number of buckets
@return the number of files of this backup.
@return the number of hash buckets
@return the number of levels.
@return the number of locks used for inplace update.
@return the number of shard bits used in the block cache.
@return the number of shards used for table cache.
@return the path to the info log directory
@return the reference of the current Options.
@return the reference to the current HashLinkedListMemTableConfig.
@return the reference to the current HashSkipListMemTableConfig.
@return the reference to the current ReadOptions.
@return the reference to the current comparator options.
@return the reference to the current config.
@return the reference to the current option.
@return the setting of whether managed iterators will be used, by default false
@return the size limit of a manifest file.
@return the size limit of the total sum of table files.
@return the size of the backup
@return the size ratio between a level-(L+1) file and level-L file.
@return the soft limit on the number of level-0 files.
@return the specified size of the user key.
@return the target size of a level-0 file.
@return the thread pool queue length.
@return the timestamp of the backup.
@return the upper-bound of the total size of level-1 files in bytes.
@return the view id for the view that generated this event
@return the x position of the corresponding view on the screen, rounded to pixels
@return the y position of the corresponding view on the screen, rounded to pixels
@return true if layout (position or dimensions) changed, false otherwise.
@return true if missing column families shall be created automatically on open.
@return true if the createIfMissing option is set to true.
@return true if the createMissingColumnFamilies is set to true.
@return true if the spring is overshooting its target
@return true if there is no data, false otherwise.
@return true if this module has already been initialized
@return true if thread-safe inplace updates are allowed.
@return whether an overlay showing current FPS should be shown.
@return whether createReactContextInBackground has been called.
@return whether the current Thread is also the Thread associated with this MessageQueueThread.
@return whether this module supports web workers.
@return whether we should enable dev mode when requesting JS bundles.
@return whether we should enabled HMR when requesting JS bundles.
@return whether we should request minified JS bundles.
@return width corrected for rounding to pixels.
@see #createStatistics()
@see #maxBytesForLevelBase()
@see #maxBytesForLevelMultiplier()
@see #maxCompactionBytes()
@see #setBloomLocality(int)
@see #setCreateIfMissing(boolean)
@see #setCreateMissingColumnFamilies(boolean)
@see #setMaxBytesForLevelBase(long)
@see #setMaxBytesForLevelMultiplier(double)
@see #setMaxCompactionBytes(long)
@see #setMaxWriteBufferNumber(int)
@see #setTableFormatConfig(org.rocksdb.TableFormatConfig)
@see #setTargetFileSizeMultiplier(int)
@see #setWalSizeLimitMB(long)
@see #setWriteBufferSize(long)
@see #targetFileSizeMultiplier()
@see #walSizeLimitMB()
@see DBOptions#setCreateIfMissing(boolean)
@see IllegalArgumentException
@see Options#setCreateIfMissing(boolean)
@see RocksDB#open(org.rocksdb.Options, String)
@see https://github.com/watir/watirspec/tree/master/html/nested_frame.html
@see org.rocksdb.RocksObject
@throws IOException if file is not found.
@throws IllegalArgumentException thrown if the size of passed keys is not equal to the amount of passed column family handles.
@throws RocksDBException if an error happens in the underlying native code.
@throws RocksDBException if there is no previous call to SetSavePoint()
@throws RocksDBException thrown if an error occurs within the native part of the library.
@throws RocksDBException thrown if error happens in underlying native library.
@throws RocksDBException thrown if operation was not performed successfully.
@throws java.io.IOException if a filesystem operation fails.
@throws java.lang.IllegalArgumentException if an invalid value is provided.
@throws java.lang.IllegalArgumentException thrown on 32-Bit platforms while overflowing the underlying platform specific value.
@throws java.lang.IllegalArgumentException when there is not a ttl value per given column family handle.
@throws java.lang.InterruptedException thrown if Threads are interrupted.
@throws org.rocksdb.RocksDBException if iterator cannot be retrieved from native-side.
A CompactionFilter allows an application to modify/delete a key-value at the time of compaction.
A FrameLayout that allows you to access the result of the last time its hierarchy was drawn.
A JS exception that was propagated to native.
A Java Object that has native memory allocated corresponding to this instance.
A Java Object which represents a cross-platform C++ module
A RocksDB is a persistent ordered map from keys to values.
A RocksDBException encapsulates the error of an operation.
A Runnable that has a native run implementation.
A UI event that can be dispatched to JS.
A better way to do this would be to have JS explicitly signal to this module when a UI transaction is done.
A context for holding values local to a given instance of layout computation.
A drawer must have exactly two children 2.
A event dispatched from a ScrollView scrolling.
A fragment used to display the dialog.
A good example is supporting "border", where we have 7 variations of that property ("borderLeft", "borderHorizontal", etc.) and very similar code for handling each of those.
A good value is the number of cores.
A higher level API on top of the asynchronous JSC bridge.
A layout operation modifies the positions and dimensions for nodes in the subtree.
A list of packages used by the app.
A listener that is notified about view hierarchy update events.
A low-pri request is usually blocked in favor of hi-pri request.
A method that can be called from JS synchronously on the JS thread and return a result.
A module that allows JS to get/set clipboard contents.
A mutation or animation operation on the view hierarchy.
A native module whose API can be provided to JS catalyst instances.
A new name should be used whenever the comparator implementation changes in a way that will cause the relative ordering of any two keys to change.
A set of Java APIs to expose to a particular JavaScript instance.
A simple WriteBatch Handler which adds a record of each event that it receives to a list
A simple subclass of ScrollView that doesn't dispatch measure and layout to its children and has a scroll listener to send scroll events to JS.
A simple wrapper around Choreographer that allows us to control the order certain callbacks are executed within a given frame.
A space efficient index block that is optimized for binary-search-based index.
A spec for an operation on the native View hierarchy.
A spec for animation operations (add/remove)
A spec that allows a test to add additional NativeModules/JS modules to the ReactInstance.
A special RuntimeException that should be thrown by native code if it has reached an exceptional state due to a, or a sequence of, bad commands.
A specification for a native module.
A super simple Future-like class that can safely notify another Thread when a value is ready.
A task can only be finished once.
A task to execute on the UI View for third party libraries.
A utility for getting the MessageQueueThread for the current thread.
A value of 0 means no timeout (should only be used for long-running tasks such as music playback).
A wrapper around WebSocketClient that recognizes RN debugging message format.
A wrapper around WebSocketClient that recognizes packager's message format.
A wrapper around the EditText that lets us better control what happens when an EditText gets focused or blurred, and when to display the soft keyboard and when not to.
Absolute elements do not take part in that phase.
Absolute-positioned children don't participate in flex layout.
Abstract tests for both Comparator and DirectComparator
Abstraction for dealing with unpacking single file from apk.
Access from any thread
Access to the data is provided by the subtype as it needs to handle the generic typing.
According to the spec, if the main size is not definite and the child's inline axis is parallel to the main axis (i.e. it's horizontal), the child should be sized using "UNDEFINED" in the main size.
Accumulated cross dimensions of all lines so far.
Acquire a wake lock to ensure the device doesn't go to sleep while processing background tasks.
Activity that display developers settings.
Add a listener to be notified of memory pressure events.
Add a listener to be notified of react instance events.
Add a listener to this EventDispatcher.
Add additional font family, or replace the exist one in the font memory cache.
Add all children to a sortable ArrayList
Add all clipped views back, deallocate additional arrays, remove layoutChangeListener
Add all of `child`'s children to `parent`.
Add items to the current line until it's full or we run out of items.
Add merge operand for key/value pair in a ColumnFamily.
Add merge operand for key/value pair.
Add option item to dev settings dialog displayed by this manager.
Add the node and all its children as if we are adding a new nodes
Add them to a list that we can process later.
Add this annotation to a class, method, or field to instruct Proguard to not strip it out.
Add this annotation to a class, to keep all "void set*(***)" and get* methods.
Added cookie (in a sub-path - allowed)
Added cookie (in a sub-path)
Added cookie that expires in the past
Adding this child could result in adding multiple native views
Additional data provided by this event: - position - index of page that has been selected
Adds a child that the native view hierarchy will have at this index in the native view corresponding to this node.
Adds a file for unpacking.
Adds a idle listener for this Catalyst instance.
Adds arbitrary unpacker.
Adjust for the amount of time it took for native to receive the timer registration call
After reopen the values shall still be in the mem env.
After the drop the native handle is not valid anymore
After the text changes inside an EditText, TextView checks if a layout() has been requested.
After the touch finishes, we may need to do some scrolling afterwards either as a result of a fling or because we need to page align the content
After writing every SST file, reopen it and read all the keys.
Align to baseline by default
All cookies deleted, call deleteAllCookies again.
All events for a given view can be coalesced.
All methods of this class could potentially throw RocksDBException, which indicates sth wrong at the RocksDB library side and the call failed.
All nonBatchedOperations should be executed before regular operations as regular operations may depend on them
All overrides of key handling defer to the underlying KeyListener which is shared by all ReactEditText instances.
All paths are relative to the root folder the packager is serving files from.
All scroll events for a given view can be coalesced
All slide events for a given view can be coalesced.
All spans will automatically extend to the right of the text, but not the left - except for spans that start at the beginning of the text.
All switch events for a given view can be coalesced.
All the subsequent action types are expected to be called after ACTION_DOWN thus target is supposed to be set for them.
All units are in pixels (not DPs).
All updateLayout calls are collected and dispatched at the end of a batch because updateLayout calls to layout-only nodes can necessitate multiple updateLayout calls for all its children.
All writes are stopped if estimated bytes needed to be compaction exceed this threshold.
All writes will be slowed down to at least delayed_write_rate if estimated bytes needed to be compaction exceed this threshold.
Allocate a new measurement cache entry.
Allocation-less once it starts listening.
Allow the OS to mmap file for reading sst tables.
Allow the OS to mmap file for writing.
Allows OS to incrementally sync files to disk while they are being written, asynchronously, in the background.
Allows the user of this module to verify that asserts are actually being called from JS and that none of them failed.
Allows thread-safe inplace updates.
Also listing a native module here doesn't imply that the JS implementation of it will be automatically included in the JS bundle.
Also logs the current FPS to logcat while active.
Also make sure that if the spring was considered within a resting threshold that it's now snapped to its end value.
Also note that this expects the qw value to be last, not first.
Also records the JS FPS, i.e. the frames per second with which either JS updated the UI or was idle and not trying to update the UI.
Also we recommend to keep BackupEngine alive and not to recreate it every time you need to do a backup.
Also, a larger write buffer will result in a longer recovery time the next time the database is opened.
Also, an in-memory merge may result in writing lesser data to storage if there are duplicate records in each of these individual write buffers.
Also, note measure and layout need to be called *after* all View properties have been updated because of caching and calculation that may occur in onMeasure and onLayout.
Also, note that all of the children of a view might be optimized away, so this could return the same value for multiple different children.
Although this might be extended.
Always called for the most current activity.
Always called on the UI thread.
Always return true if we are already focused.
Always write full keys without any special encoding.
Amount of data to build up in memory (backed by an unsorted log on disk) before converting to a sorted on-disk file.
An Exception handler that posts the Exception to be thrown on the given delegate MessageQueueThread.
An additional grant of patent rights can be found in the PATENTS file in the same directory.
An class that is used to receive React commands from JS and translate them into a shadow node hierarchy that is then mapped to a native view hierarchy.
An event representing the start, end or movement of a touch.
An exception caused by JS requesting the UI manager to perform an illegal view operation.
An illegal argument Exception caused by an argument passed from JS.
An immutable reference to the value of the C++ pointer pointing to some underlying native RocksDB C++ object.
An mutable reference to the value of the C++ pointer pointing to some underlying native RocksDB C++ object.
An optimized version of manageChildren that is used for initial setting of child views.
And we apply the position
And we cause that scroll by asking for it
Android SeekBar only supports integer values.
Android dp to pixel manipulation
Android has a bug where onScrollChanged is called twice per frame with the same params during flings.
Android only supports 0..max range so we implement this ourselves.
Android's elevation implementation requires this to be implemented to know where to draw the shadow.
Android's gesture recognizers check eventTime in order to figure out gesture speed, and therefore scroll vs fling is recognized.
Animate a view deletion using the layout animation configuration supplied during initialization.
Animated node that plays a role of value aggregator.
Animated node that represents view properties.
Animated node which takes two or more value node as an input and outputs a product of their values
Animated node which takes two or more value node as an input and outputs an in-order division of their values.
Animation engine should call this method for every animation frame passing animation progress value as a parameter.
Animation engine should call this method when the animation is finished.
Animation is sub-optimal for perf, but scale transformation can't be use in this case.
Animation loop performs two BFSes over the graph of animated nodes.
Animation objects can be "started" and "stopped".
Animation progress should be within the range 0..1 (the exception here would be a spring animation engine which may slightly exceed start and end progress values).
Animation responsible for updating opacity of a view.
Animation responsible for updating size and position of a view.
Annotates a function that returns a list of ModuleSpecs from which we get a list of NativeModules to create ReactModuleInfos from.
Annotates a method that should have restricted visibility but it's required to be public for use in test code only.
Annotation indicating that a JS module should be made available to web workers spawned by the main JS executor.
Annotation which is used to mark methods that are exposed to Catalyst.
Any 'Enter' action will do
Any Exception caught here is because of something in JS.
Any app-specific code that should run before secondary dex files are loaded (like setting up crash reporting) should go in onBaseContextAttached.
Any negative number means use default settings.
Any subsequent events coming from Activity B, such as onHostDestroy, are ignored.
Any subsequent lifecycle events coming from Activity A, such as onHostDestroy, will be ignored.
Anything that should run after secondary dex should go in CatalystApplicationImpl.onCreate.
App should not crash while generating debug string representation of arguments
Append a blob of arbitrary size to the records in this batch.
Application class for the Catalyst Launcher to allow it to work as an exopackage.
Apply changes to CSSNodeDEPRECATED hierarchy
Apply the specified updates to the database.
Approximate size of user data packed per block.
Apps should enforce this.
Arrays.equals(key, iterator.key()) ensures an exact match in Rocks, instead of a nearest match
As InfoLogLevel is set to FATAL_LEVEL, here we expect the log content to be empty.
As a result, incorrect use of this function may cause a memory leak.
As a result, this approach is inefficient because of layout passes occurring on every frame.
As all batches are executed as a single runnable on the event queue this should always be empty, but that calling architecture is an implementation detail.
As developers cannot construct their own DirectSlice objects through this, they are not creating underlying C++ DirectSlice objects, and so there is nothing to free (dispose) from Java.
As this should only be the case in dev mode we leave it as it is.
Assuming no other views have been created, the root view will have tag 1, Text tag 2, and RawText tag 3.
Asynchronous task that cleans up cache dirs (internal and, if available, external) of cropped image files.
At present we just permit an overriding Java class to wrap a C++ implementation
At the same time we disallow receiving lifecycle events for this wrapper instances.
At this point, the matrix (in rows) is orthonormal.
Attempt to create cookie on multiple Google domains
Available compaction styles can be chosen using this enumeration.
BFS over graph of nodes starting from ones from `mUpdatedNodes` and ones that are attached to active animations (from `mActiveAnimations)`.
Background task is currently running, queue up most recent init params to recreate context once task completes.
Backing for a React View.
Backup process is slower with sync enabled.
BackupEngine allows you to backup and restore the database  Be aware, that `new BackupEngine` takes time proportional to the amount of backups.
Base APK has not been updated since we donwloaded JS, but if app is using exopackage it may only be a single dex that has been updated.
Base Activity for React Native applications.
Base class for Catalyst native modules whose implementations are written in Java.
Base class for a Map whose keys and values are stored in native code (C++).
Base class for all Animated.js library node types that can be created on the "native" side.
Base class for all Env implementations in RocksDB.
Base class for an array whose members are stored in native code (C++).
Base class for comparators which will receive ByteBuffer based access via org.rocksdb.DirectSlice in their compare method implementation.
Base class for different types of animation drivers.
Base class for inline image spans.
Base class for instrumentation tests that runs React based react application in UI mode
Base class for running JS without a UI.
Base class for slices which will receive direct ByteBuffer based access to the underlying data.
Base class for various catalyst animation engines.
Base node class for representing virtual tree of React nodes.
Based on Fresco's DrawableUtilsTest (https://github.com/facebook/fresco).
Based on: http://tog.acm.org/resources/GraphicsGems/gemsii/unmatrix.c
Based on: https://code.google.com/p/webgl-mjs/source/browse/mjs.js
Basic okhttp3 CookieJar container
Basically, JS sends us a hierarchy of nodes that, while easy to reason about in JS, are very inefficient to translate directly to native views.
Because React coordinates are relative to root container, and measure() operates on screen coordinates, we need to offset values using root container location.
Because of this, we can not use the ReactModalHostView since it sits in the normal React view hierarchy.
Because react context is created asynchronously, we may have to wait until it is available.
Because the postprocessor uses a modified bitmap, that would just get cropped in 'cover' mode, so we fall back to Fresco's normal implementation.
Because we are rethrowing the original exception, the original stacktrace will be preserved.
Because we give essentially no max Y for the fling, the fling will continue as long as there is content.
Before we touch the body send headers to JS
Blobs, puts, deletes, and merges will be encountered in the same order in thich they were inserted.
BlockBasedTable is a RocksDB's default SST file format.
Bloom filter policy that uses a bloom filter with approximately the specified number of bits per key.
Boolean, Integer, Double, String, WritableNativeArray, WritableNativeMap
Break out of the loop and lay out the current line.
Bundle loader to use when setting up JS environment.
But it's not guaranteed.
By default all modules return false.
By default targetFileSizeMultiplier is 1, meaning files in different levels have the same target.
By default target_file_size_multiplier is 1, meaning files in different levels have the same target.
By default the method extracts the shared library for loading at java.io.tmpdir, however, you can override this temporary location by setting the environment variable ROCKSDB_SHAREDLIB_DIR.
By default, 1 window is created when Driver is launched
By default, all onBackPress() calls should not execute the default backpress handler and should instead propagate it to the JS instance.
By default, just chooses the one the is more recent.
By not setting a JS module name, we force the bundle to be always loaded from assets, not the devserver, even if dev mode is enabled (such as when testing redboxes).
By the current implementation, the catalyst instance is going to be immediately dropped, and all JS calls with it.
By updating view props we first change the height of the first element so that it should intersect with clipping "outer" view.
ByteBuffer backed slices typically perform better with larger keys and values.
ByteBuffer based slices perform better when large keys are involved.
Bytes read during compaction
Bytes written during compaction
Bytes written during flush Number of table's properties loaded directly from file, without creating table reader object.
COMPACTION_KEY_DROP_* count the reasons for key drop during compaction There are 3 reasons currently.
CREATE_CATALYST_INSTANCE_END is in JSCExecutor.cpp
CSSLayout with additional information about the conditions under which it was generated.
Calculate the base64 representation for an image.
Calculate the coordinates for the target view.
Calculate the next derivatives starting with the last derivative and integrating over the timestep
Calculates layouts based on CSS style.
Calculating the minimum width is expensive, so we forego it and assume a default minimum main size of 0.
Call .bringToFront on the sorted list of views
Call from a ScrollView in onScrollChanged, returns true if this onScrollChanged is legit (not a duplicate) and should be dispatched.
Call with the present values in order to re-layout if necessary
Callback for when we receive the ownership hierarchy in native code.
Callback function to get histogram values.
Callback function to get ticker values.
Callback impl that calls directly into the cxxbridge.
Callback interface provided to StatisticsCollector.
Called after all UI work has been dispatched to JS.
Called at construction time, override if you have a custom delegate implementation.
Called from JNI to construct a new Java DirectSlice without an underlying C++ object set at creation time.
Called from UI thread.
Called from the main thread after a UI batch has been applied to all root views.
Called in case when animation was cancelled
Called once all pending JS calls have resolved via an onBatchComplete call in the bridge and the requested native module calls have also run.
Called once animation is finished
Called when a JS task is started, on the UI thread.
Called when a child starts a native gesture (e.g. a scroll in a ScrollView).
Called when a new intent is passed to the activity
Called when an animation finishes.
Called when determining the touch area of a view.
Called when the EventDispatcher is done with an event, either because it was dispatched or because it was coalesced with another Event.
Called when the bridge was in an idle state and executes a JS call or callback.
Called when the react context is initialized (all modules registered).
Called when the system generates a memory warning.
Callers may wish to set this field to false for bulk scans.
Calling disable on a listener that has already been disabled is a no-op.
Calling functions on this interface will result in corresponding methods in JS being called.
Calling this method twice will have no effect.
Calls all timers that have expired since the last time this frame callback was called.
Can also record total and expected frame counts, though NB, since the expected frame rate is estimated, the expected frame count will lose accuracy over time.
Can be int or double.
Can be null if there were no sources to choose from, or if there were more than 1 sources but width/height were 0.
Can be read by really old RocksDB's.
Can be used to implement simple time-based animations as well as spring based animations.
Can remove it later if necessary.
Can't actually assert the specific color so this is the next best thing.
Cancels the animation.
Case 1: We dispatched a UI update
Case 2: Ended idle but no UI was enqueued during that frame
Casting to long is safe here since animationStopTimeMs is unix time and thus relatively small
Centralized OkHttpClient for all networking requests.
Changes the way we encode compressed blocks with LZ4, BZip2 and Zlib compression.
Check debug server host setting first.
Check element is not there yet
Check element is there
Check element was clicked as expected
Check for a coordinate system flip.
Check for server errors.
Check if a dialog has been created while the host was paused, so that we can show it now.
Check if a given task is currently running.
Check if a link "clearCookies()" is there where expected
Check if key size equals cfList size.
Check if the app has the permission given.
Check if the current device language is RTL
Check if the device is currently running on an RTL locale.
Check if the parent of the view has to layout the view, or the child has to lay itself out.
Check if the spring is overshooting beyond its target.
Check if we are already handling this which may occur if this is called by both the touch up and a fling call
Check if we were waiting for onMeasure to attach the root view
Check iterator access
Check results contains the term we searched for
Check that it all matches
Check the number of windows
Check we are on the new window
Check whether the FrescoModule has already been initialized.
Check whether the app should display a message explaining why a certain permission is needed.
Checkpoints provide persistent snapshots of RocksDB databases.
Checks if any file needs to be extracted again, and if so, clears the destination directory and unpacks everything again.
Checksum types used in conjunction with BlockBasedTable.
Children is a view added from the adapter and always have a correct dimensions specified as they are calculated and set with NativeViewHierarchyManager
Chooses the image source with the size closest to the target image size.
ChromeDriver is fine instead.
Clamp the size to the min/max size, if specified, and make sure it doesn't go below the padding and border amount.
Clamp to the min/max size specified on the container.
Class corresponding to a JS VM that can call into native modules.
Class describing an image source (network URI or resource) and size.
Class providing children management API for view managers of classes extending ViewGroup.
Class providing helper methods for converting transformation list (as accepted by 'transform' view property) into a transformation matrix.
Class representing CSS spacing (padding, margin, and borders).
Class responsible for animation layout changes, if a valid layout animation config has been supplied.
Class responsible for default layout animation, i.e animation of view creation and deletion.
Class responsible for dispatching UI events to JS.
Class responsible for handling layout update animation, applied to view whenever a valid config was supplied for the layout animation of UPDATE type.
Class responsible for handling layout view creation animation, applied to view whenever a valid config was supplied for the layout animation of CREATE type.
Class responsible for handling layout view deletion animation, applied to view whenever a valid config was supplied for the layout animation of DELETE type.
Class responsible for knowing how to create and update catalyst Views of a given type.
Class responsible for optimizing the native view hierarchy while still respecting the final UI product specified by JS.
Class responsible to load and cache Typeface objects.
Class that contains the data needed for a text update.
Class that holds the various parameters needed to start a JS task.
Class that receives intents whenever the connection type changes.
Classes implementing this class will be notified whenever there's a result for a permission request.
Clean mUpdatedNodes queue
Cleanup finished animations.
Clear all updates buffered in this batch
Clear layout animation, as animation only apply to current UI operations batch.
Clear properties from previous rounds
Clearing the database has failed, delete it instead.
Clears the backing slice
Click first visible item
Click on link that will cause popup to be created
Click on the "close" link.
Click on the link in frame "#three"
Click on the link inside the page
Click on the link to kickstart the javascript that will attempt to load a page that is supposed to fail
Clients should call this method when they want the listener to begin recording data.
Clients should call this method when they want the listener to stop recording data.
Close 1 window and check that 1 is left
Close the remaining window and check now there are no windows available
Close this executor and cleanup any resources that it was using.
Coalescing move events should probably append historical move data like MotionEvent batching does.
Collect histogram data
ColumnFamilyHandle class to hold handles to underlying rocksdb ColumnFamily Pointers.
ColumnFamilyHandle must hold a reference to the related RocksDB instance to guarantee that while a GC cycle starts ColumnFamilyHandle instances are freed prior to RocksDB instances.
ColumnFamilyOptions to control the behavior of a database.
Compact all L0 files we just created
Compaction style for DB.
Compactions will continue to occur, but no obsolete files will be deleted.
Comparator instance can be re-used in multiple options instances.
Comparator should not be disposed before options instances using this comparator is disposed.
Comparators are used by RocksDB to determine the ordering of keys.
Compare source before and after the frame switch
Compress blocks using the specified compression algorithm.
Compress quality of the output file.
Compute X scale factor and normalize first row.
Compute XY shear factor and make 2nd row orthogonal to 1st.
Compute XZ and YZ shears, orthogonalize 3rd row
Compute the cross axis from the max cross dimension of the children.
Compute the flex basis and hypothetical main size (i.e. the clamped flex basis).
Computing momentum events is potentially expensive since we post a runnable on the UI thread to see when it is done.
Concurrent memtable writes are not compatible with inplace_update_support or filter_deletes.
Config for rate limiter, which is used to control write rate of flush and compaction.
Configure an animation to be used for the native layout changes, and native views creation.
Consequently, remainingFreeSpace is 0 - sizeConsumedOnCurrentLine.
Consider the following scenarios:  1.
Constants used by ReactMarker.
Construct ColumnFamilyOptions.
Construct WriteOptions instance.
Construct a new instance of FlushOptions.
Construct options for opening a RocksDB.
Construct path to the file
Constructor for StatsCollectorInput.
Constructor for statistics collector.
Constructs a WriteBatch instance with a given size.
Constructs a WriteBatch instance.
Constructs a slice where the data is taken from a String.
Consume 'Enter' key events: TextView tries to give focus to the next TextInput, but it can't since we only allow JS to change focus, which in turn causes TextView to crash.
Container and all of its children receive touch events (like pointerEvents is unspecified).
Container doesn't get events but all of its children do.
Container gets events but none of its children do.
Contains all information necessary to collect statistics from one instance of DB statistics.
Contains static helper methods for accessing props.
Content of extracted file is compared on each start with content of the same file bundled in apk.
Content of extracted file is not checked on each start against content of the file bundled in apk.
Control LogLevel for GhostDriver, via CLI arguments
Control locality of bloom filter probes to improve cache miss rate.
Controls an enclosing ProgressBar.
Controls the number of shards for the block cache.
Controls the number of shards for the block compressed cache.
Convert SeekBar's native progress value (e.g. 0..100) to a value passed to JS (e.g. -1.0..2.5).
Convert from DIP to PX
Convert from PX to DP
Convert from SP to PX
Converts JS resize modes into Android-specific scale type.
Cookie handler that forwards all cookies to the WebView CookieManager.
Coordinates in the ViewTag coordinate space
Could be used to test RTL layout with English Used for development and testing purpose
Crashy crashy exception handler.
Create Error object to be passed back to the JS callback.
Create a HeadlessJsTaskConfig.
Create a factory for disk-based file items
Create a new Fresco module with a given ImagePipelineConfig.
Create a new file upload handler
Create a temporary file in the cache directory on either internal or external storage, whichever is available and has more free space.
Create an animation object for the current animation type, based on the view and final screen coordinates.
Create an animation object to be used to animate the view, based on the animation config supplied at initialization time and the new view position and size.
Create an iterator of a column family.
Create an iterator of the default column family.
Create and/or open the database.
Create new logger with max log level passed by options
Create the test file for uploading
Create the view since it doesn't exist in the native hierarchy yet
Creates a Checkpoint object to be used for creating open-able snapshots.
Creates a ProgressRequestBody that can be used for showing uploading progress
Creates a RequestBody from a mediaType and gzip-ed body string
Creates a RequestBody from a mediaType and inputStream given.
Creates a UI in JS and verifies the onLayout handler is called.
Creates a WriteBatchWithIndex where no bytes are reserved up-front, bytewise comparison is used for fallback key comparisons, and duplicate keys operations are retained
Creates a empty RequestBody if required by the http method spec, otherwise use null
Creates a new column family with the name columnFamilyName and allocates a ColumnFamilyHandle within an internal structure.
Creates a new helper to work with either the FragmentManager or the legacy support FragmentManager transparently.
Creates a view and installs event emitters on it.
Creates and starts a new MessageQueueThreadImpl encapsulating a new Thread with a new Looper running on it.
Creates the next JSON message to send to remote JS executor, with request ID pre-filled in.
Currently ON_PROGRESS is not implemented, these can be added easily once support exists in fresco.
Currently only a linear interpolation is supported on an input range of an arbitrary size.
Currently supports only vertically positioned item.
Currently this class is only used to remove layout-only views, that is to say views that only affect the positions of their children but do not draw anything themselves.
Currently, RocksDB assigns low-pri to request from compaction and high-pri to request from flush.
Currently, RocksDB does not enforce rate limit for anything other than flush and compaction, e.g. write to WAL.
Custom Junit Runner to print also Test classes and executed methods to command prompt.
Custom type may be used when additional processing of the value needs to be done in JS before sending it over the bridge.
Custom type may be used when additional processing of the value needs to be done in JS before sending it over the brige.
CustomStyleSpan will try to load the fontFamily with the right style and weight from the assets.
DB implementations can export properties about their state via this method.
DB implements can export properties about their state via this method on a per column family level.
DBOptions to control the behavior of a database.
DO NOT HOLD LONG-LIVED REFERENCES TO THE OBJECT RETURNED BY THIS METHOD, AS THIS WILL CAUSE MEMORY LEAKS.
DO NOT WAIT when looking for an element
DO NOT WAIT while looking for an element
DO WAIT 0.5 SECONDS before giving up while looking for an element
DO WAIT 1 SECOND before giving up while looking for an element
DO WAIT 3 SEC when looking for an element
Data holder class holding native module specifications.
Data structure that couples view tag to it's index in parent view.
Database supplier of the database used by react native.
Database with TTL support.
Deals with unpacking files whose content is checked on each start and thus do not require fsync.
Deals with unpacking files whose content is not checked on each start and need to be fsynced after unpacking.
Debug object that listens to bridge busy/idle events and UiManagerModule dispatches and uses it to calculate whether JS was able to update the UI during a given frame.
Default HTTP GET request callback: returns files in "test/fixture"
Default capacity: for some reason they don't expose a (Comparator) constructor
Default is 4mb, which is reasonable to reduce random IO as well as prevent overallocation for mounts that preallocate large amounts of data (such as xfs's allocsize option).
Default load factor for HashMap is 0.75, so N * 1.5 will be at the load limit.
Default property values for Views to be shared between Views and ShadowViews.
Default root view for catalyst apps.
Default: BytewiseComparator.
Default: SNAPPY_COMPRESSION, which gives lightweight but fast compression.
Define HTTP response for test
Delete everything except the latest backup
Delete the database entry (if any) for "key".
Delete the first backup
Deletes underlying C++ compaction pointer.
Deletes underlying C++ comparator pointer.
Deletes underlying C++ filter pointer.
Deletes underlying C++ handler pointer.
Deletes underlying C++ object pointer.
Deletes underlying C++ slice pointer.
Denoting a finally situation
Description of what needs to be unpacked.
Destroy the current instance and release the internal reference to it, allowing it to be GCed.
Destroy this React instance and the attached JS context.
Destroy this instance, making it unusable.
Destroys this catalyst instance, waiting for any other threads in ReactQueueConfiguration (besides the UI thread) to finish running.
Details here: https://github.com/facebook/react-native/issues/7546
Details: This routine is called recursively to lay out subtrees of flexbox elements.
Determine part's content type.
Determine whether or not an installed app can handle a given URL.
Determine whether the results are already cached.
Determine which animation to use : if view is initially invisible, use create animation, otherwise use update animation.
Determines how the method is exported in JavaScript: METHOD_TYPE_ASYNC for regular methods METHOD_TYPE_PROMISE for methods that return a promise object to the caller.
Determines the URL used to fetch the JS bundle from the packager server.
Determines the location on screen, width, and height of the given view and returns the values via an async callback.
Determines the location on screen, width, and height of the given view relative to the device screen and returns the values via an async callback.
Determines the location on screen, width, and height of the given view relative to the root view and returns the values via an async callback.
Detour for System.currentTimeMillis and System.nanoTime calls so that they can be mocked out in tests.
Deviations from standard: Section 4.5 of the spec indicates that all flex items have a default minimum main size.
Dialog for displaying JS errors in an eye-catching form (red box).
DialogRootViewGroup is the ViewGroup which contains all the children of a Modal.
Didn't open any page yet: no Window Handles yet
Different max-size multipliers for different levels.
Disable automatic compactions.
Disable child process inherit open files.
Disable timeouts for read
Disables user interactions for a view and all it's subviews.
Disallow parent views to intercept touch events, until we can detect if we should be capturing these touches or not.
Dispatch this event to JS using the given event emitter.
Do not register default touch emitter and let WebView implementation handle touches
Do not shorten if one string is a prefix of the other
Do not throw an error in the case animation could not be found.
Do nothing as we are laid out by UIManager
Do same with second inner view
Do something to display or log the exception.
Do two passes over the flex items to figure out how to distribute the remaining space.
Does not support canceling.
Does the actual merge of the (key, value) pair with the value stored in the database.
Doesn't actually stop the task on the JS side, only removes it from the list of active tasks and notifies listeners.
Doesn't get updated during drag (slider is not a controlled component).
Doing so will prevent log files from being copied to the backup directory (since flush will delete them).
Don't apply background color to anchor TextView since it will be applied on the View directly
Don't bother sizing the text if both dimensions are already defined.
Don't bother sizing the text if there's no horizontal or vertical space.
Don't call setCurrentValue because that forces a call to onSpringUpdate
Don't intercept ACTION_UP events.
Don't send same text changes
Don't show the dialog if the host is paused.
Don't use this action identifier
Don't use webView.getUrl() here, the URL isn't updated to the new value yet in callbacks like onPageFinished
Dont release C++ Snapshot pointer.
Double click on the logo
Drop the instance if the host is destroyed which will dismiss the dialog
Drops the column family identified by columnFamilyName.
Dummy implementation of storage module, used for testing
END FB SCROLLVIEW CHANGE
END OF GENERATED CODE
Each block may be compressed before being stored in a file.
Each instruction starts with a type (see PATH_TYPE_*) followed by arguments for that instruction.
Each log message is checked against the set log level and if the log level is more verbose as the set log level, native allocations will be made and data structures are allocated.
Either this view or one of its children is the target
Else return an ok status.
Enable a total order seek regardless of index format (e.g. hash index) used in the table.
Enable the HMRClient so that the client will receive updates from the packager server.
Enable/Disable remote JS debugging.
Encapsulates a Thread that can accept Runnables.
End the spring immediately if it is overshooting and overshoot clamping is enabled.
Enforce that the iterator only iterates over the same prefix as the seek.
Enqueue it to UIThread not to block onMeasure waiting for the catalyst instance creation
Enqueues a UIOperation to be executed in UI thread.
Ensure clicking on the Button DIV wrapper DOESN'T expect a pageload
Ensure that it is so that this event gets delivered promptly.
Ensure we are where we think we are, then click on "windowOne" to open another window
Enum CompactionStyle  RocksDB supports different styles of compaction.
Enum representing the different animation type that can be specified in layout animation config.
Enum representing the different interpolators that can be used in layout animation configuration.
Enum representing the different view properties that can be used when animating layout for view creation.
Enumeration of Write Batch event actions
Enumeration of the Write operation that created the record in the Write Batch
Even if it's a bug in the framework/native code, it was triggered by JS and theoretically since we were able to set up the bridge, JS could change its logic, reload, and not trigger that crash.
Even the most complicated layouts should not require more than 16 entries to fit within the cache.
Even though we have exact dimensions, we still call measure because some platform views (e.g. Switch) assume that method will always be called before onLayout and onDraw.
Event can be null if it has been coalesced into another event.
Event dispatched when total width or height of a view's children changes
Event emitted by EditText native view when content size changes.
Event emitted by EditText native view when it loses focus.
Event emitted by EditText native view when it receives focus.
Event emitted by EditText native view when text changes.
Event emitted by EditText native view when text editing ends, because of the user leaving the text input.
Event emitted by EditText native view when the text selection changes.
Event emitted by EditText native view when the user submits the text.
Event emitted by a DrawerLayout as it is being moved open/closed.
Event emitted by a ReactSliderManager when user changes slider position.
Event emitted by a ReactSwitchManager once a switch is fully switched on/off
Event emitted when loading has started
Event emitted when loading is completed.
Event emitted when the user finishes dragging the slider.
Event emitted when there is an error in loading.
Event used to notify JS component about changes of its position or dimensions
Event used to trigger the idle callback.
Events that make JS do things.
Eventually, if necessary, it could contain something like:  BEFORE_CREATE, CREATED, VIEW_CREATED, STARTED, RESUMED
Everything else is a tradeoff between perf with no crashes situation and perf when user experiences crashes.
Everything failed, throw
Exactly one of the two is null
Exactly onw of the pointers goes up
Example where this can happen: HorizontalScrollView in a ScrollView.
Exceeding this val leads to a switch from LinkedList to SkipList.
Exception thrown when a class tries to access a native view by a tag that has no native view associated with it.
Exception thrown when a native module method call receives unexpected arguments from JS.
Exceptions thrown from native module calls end up wrapped in InvocationTargetException which just make traces harder to read and bump out useful information
Executes JS remotely via the react nodejs server as a proxy to a browser on the host machine.
Executing as multiple code blocks could allow the platform UI system to interrupt and render a partial UI state.
Existence of this file indicates that the last unpacking operation finished before the app was killed or crashed.
Exists only to defeat instantiation.
Exists so that the ProgressBar can be recreated if the style would change.
Expect no touch handlers to fire
Expect page to have loaded and title to be set correctly
Expect to receive at least 5 events (DOWN for each pointer, UP for each pointer and at least one MOVE event with both pointers down)
Explicitly override this to prevent accessibility events being passed down to children Those will be handled by the mHostView which lives in the dialog
Extracts the headers from the Array.
FB SCROLLVIEW CHANGE This is part two of the reimplementation of fling to fix the bounce-back bug.
FIFO compaction option.
Facebook is using an older version of the support lib internally that doesn't support setDrawerElevation so we invoke it using reflection.
Facebook reserves all rights not expressly granted.
Fall back to System.loadLibrary() instead.
Fallback gracefully for cross-platform compat instead of error
Fetch PhantomJS-specific configuration parameters
Fetch the width and height of the given image.
File with this name is created in the destination directory as the last one.
Fill database with some test values
Fill database with some test values.
Fill the cache when loading the block-based sst formated db.
Fill the cache when loading the block-based sst formatted db.
Filters are stored in rocksdb and are consulted automatically by rocksdb to decide whether or not to read some information from disk.
Find first character that can be incremented
Find length of common prefix
Find the iframe with class "gwt-RichTextArea"
Find the touch target child native view in  the supplied root view hierarchy, given a react target location.
Find visible item to be clicked
Finishes unpacking and unlocks the unpacker on a background thread.
First event for this gesture.
First pass: detect the flex items whose min/max constraints trigger
First, remove the node from its parent.
First, try to use the layout cache.
Fixes broken full-screen modals/galleries due to body height being 0.
Flush has higher priority than compaction.
Flushes to disk with a maximum delay of 30 seconds.
For 'text' responses we continuously send response data with progress info to JS below, so no need to do anything here.
For Callbacks, you don't have to do anything special -- the framework automatically tags them with the correct ExecutorToken when the are created.
For Java traces there is no difference.
For START and END events send only index of the pointer that is associated with that event For MOVE and CANCEL events 'changedIndices' array should contain all the pointers indices
For TextInlineImageSpan we need to update the Span to know that the window is attached and the TextView that we will set as the callback on the Drawable.
For ViewGroups, onLayout should be stubbed out to not recursively call layout on its children: React Native already handles doing that.
For a relative children, we're either using alignItems (parent) or alignSelf (child) in order to determine the position in the cross axis
For a small helper like this, copying is simpler than adding a dependency on com.facebook.fresco.drawee.
For an explanation of bubbling and capturing, see http://javascript.info/tutorial/bubbling-and-capturing#capturing
For consistency, we pretend in JS that the value is 0..1 but set the SeekBar value to 0..100.
For content (text) nodes, determine the dimensions based on the text contents.
For creating a wrapper from C++, or from a derived class.
For devices before Android M, this always returns false.
For devices before Android M, this instead checks if the user has the permission given or not.
For each animation frame JS provides a value from 0 to 1 that indicates a progress of the animation at that frame.
For each animation frame we visit animated nodes that might've been updated as well as their children that may use parent's values to update themselves.
For each font family the bold, italic and bold_italic variants are supported.
For example, if a JS application update changes the background of View A to blue and the width of View B to 100, both need to appear at once.
For example, if the URL is "https://www.facebook.com", the system browser will be opened, or the "choose application" dialog will be shown.
For example, if the host is already resumed at creation time, we wouldn't expect an onResume call until we get an onPause call.
For example, never store the value returned by this method in a member variable.
For example, to create a line the instruction will be 2 (PATH_LINE_TO), x, y.
For example, touch move events should only be coalesced within a single gesture so a coalescing key there would be the unique gesture id.
For example, when rate_bytes_per_sec is set to 10MB/s and refill_period_us is set to 100ms, then 1MB is refilled every 100ms internally.
For handling node removal from manageChildren.
For initialization and cleanup only.
For instance, animation does since it affects Dialog creation through the theme but transparency does not since we can access the window to update the property.
For most views, onMeasure can be stubbed out to only call setMeasuredDimensions.
For multiple sources, we first need the view's size in order to determine the best source to load.
For multiple updates on the same key, each update will be returned as a separate entry, in the order of update time.
For nodes with no children, use the available values if they were provided, or the minimum size as indicated by the padding and border sizes.
For rounded borders we use default "borderWidth" property.
For some examples please refer to ARTGroupCSSNode or ReactTextCSSNode.
For text blocks, for example, this is the width of the widest word.
For the other items, it sets their sizes by forcing their min/max constraints to trigger again.
For universal-style compaction, you can usually set it to -1.
For use by perf markers that need to happen immediately after draw
Forces animation to be playing 10x slower, used for debug purposes.
Formula from: http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm
Fortunately Unpackers corresponding to files whose content is not checked handle fsyncs themselves.
Frame should still be "classFrame"
Fresco currently sets drawables' intrinsic size to (-1, -1).
Fresco has a workaround for this, but it requires knowing the background color.
Fresh Driver (every test gets one)
From: http://www.opensource.apple.com/source/WebCore/WebCore-514/platform/graphics/transforms/TransformationMatrix.cpp
From: https://code.google.com/p/webgl-mjs/source/browse/mjs.js
General pause poshort
General resume poshort
Generates a hash code for the Write Entry.
Get InfoLogLevel by byte value.
Get ReadTier by byte value.
Get handle of the main html page
Get just the name of the file this frame points to.
Get native instance count.
Get new Snapshot of database
Get new Snapshot of database set snapshot in ReadOptions
Get permission to show redbox in dev builds.
Get rectangular bounds to which view is currently clipped to.
Get remote param before calling super which uses it
Get the C pointer (as a long) to the JavaScriptCore context associated with this instance.
Get the URI for this image - can be either a parsed network URI or a resource URI.
Get the URL where the last bundle was loaded from.
Get the area of this image.
Get the best result (closest in size to the view's size) that is also in cache.
Get the best result overall (closest in size to the view's size).
Get the current entry  The WriteEntry is only valid until the iterator is repositioned.
Get the current position.
Get the drawable that is span represents.
Get the file this stack frame points to.
Get the height of the span.
Get the name of the method this frame points to.
Get the new value for the node by looking into the event map using the provided event path.
Get the real display metrics if we are using API level 17 or higher.
Get the source of this image, as it was passed to the constructor.
Get the spacing for a direction.
Get the value associated with the specified key within column family.
Get the value associated with the specified key.
Get the width of the span.
Get this node's align items, as defined by style.
Get this node's border, as defined by style.
Get this node's direction, as defined in the style.
Get this node's flex direction, as defined by style.
Get this node's height, as defined in the style.
Get this node's justify content, as defined by style.
Get this node's margin, as defined by style + default margin.
Get this node's max height, as defined in the style
Get this node's max width, as defined in the style
Get this node's min height, as defined in the style
Get this node's min width, as defined in the style
Get this node's overflow property, as defined in the style
Get this node's padding, as defined by style + default padding.
Get this node's position type, as defined by style.
Get this node's position, as defined by style.
Get this node's width, as defined in the style.
Get updates since the beginning
Get whether there are any running JS tasks at the moment.
Get whether this image source represents an Android resource or a network URI.
Gets the coalescing key corresponding to the gesture with this down time.
Gets the opacity from a color.
Gets the view at given path in the UI hierarchy, ignoring modals.
Gets the view with a given react test ID in the UI hierarchy.
GhostDriver only has 3 log types...
Give it a name for easier debugging and optionally a suggested stack size.
Given a "family" font family the files in the assets/fonts folder need to be family.ttf(.otf) family_bold.ttf(.otf) family_italic.ttf(.otf) and family_bold_italic.ttf(.otf)
Given a "family" font family the files in the assets/fonts folder need to be family.ttf(.otf) family_bold.ttf(.otf) family_italic.ttf(.otf) and family_bold_italic.ttf(.otf).
Given a reactTag from a component, find its root node tag, if possible.
Given an array of (key, value) pairs, this will merge the given values with the stored values of the given keys, if they exist.
Given an array of keys, this returns a map of (key, value) pairs for the keys found, and (key, null) for the keys that haven't been found.
Given two events, coalesce them into a single event that will be sent to JS instead of two separate events.
Go to the "/404" sub-path (to find the cookie)
Going high to low makes sure we remove the correct index when there are multiple to remove.
Grab NEW set of session cookies
Grab set of session cookies
Handle enqueued request to re-initialize react context.
Handle the information from the redbox.
Handler callback for iterating over the contents of a batch.
Handler that can catch and dispatch Exceptions to an Exception handler.
Handles a createView call.
Handles a manageChildren call.
Handles a setChildren call.
Handles an updateLayout call.
Handles an updateView call.
Handles create and update animations.
Handles native children cleanup when css node is removed from hierarchy
Handles per-ReactContext active task tracking, starting / stopping tasks and notifying listeners.
Has same order of progressBars in ProgressBarTestModule
Has support for borders, but since borders aren't common, lazy initializes most of the storage needed for them.
Has to be called on the UI thread.
Has to be different than db name.
HashLinkedListMemTableConfig constructor
HashSkipListMemTableConfig constructor
Helper class containing logic for setting accessibility View properties.
Helper class for Modals.
Helper class for all things about the debug server running in the engineer's host machine.
Helper class for database errors.
Helper class for dealing with JS tasks.
Helper class for dealing with multisource images.
Helper class for obtaining information about local images.
Helper class that deals with emitting Scroll Events.
Helper class that provides the necessary methods for canceling queued and running OkHttp calls
Helper class that provides the necessary methods for creating the RequestBody from a file specification, such as a contentUri.
Helper class that provides the same OkHttpClient instance that will be used for all networking requests.
Helper class to get the appropriate Random class instance dependent on the current platform architecture (32bit vs 64bit)
Helper for database operations.
Helper for generating JSON for lists and maps.
Helper for view managers to handle commands like 'scrollTo'.
Helper method that should be called when a native view starts a native gesture (e.g. a native ScrollView takes control of a gesture stream and starts scrolling).
Helper to allow this module to work with both the standard FragmentManager and the Support FragmentManager (for apps that need to use it for legacy reasons).
Helpers for building measure output value.
Hold on the logo, then release
Holder to enable us to lazy create native modules.
Holds an instance of the current DisplayMetrics so we don't have to thread it through all the classes that need it.
Holds the current Application Object.
Hook for containers or fragments to get informed of the on touch events to perform actions.
However, chances are some of the backups are consistent.
However, if the mutex is hot, we could end up wasting spin time.
However, the spans on the current text need to be adapted to the new text.
However, there might be virtual children that can receive pointer events, in which case we still want to return this View and dispatch a pointer event to the virtual element.
However, we do not perform a layout() after a requestLayout(), so we need to override isLayoutRequested to force EditText to scroll to the end of the new text immediately.
I'm not sure how strict this format is for returned errors, or what other errors there can be, so this may end up being spammy.
IMPORTANT: Note that only modules that needs to be accessible from the native code should be listed here.
IMPORTANT: This class should be accessed only from the UI Thread
Ideally, we don't need this and JS is fast enough to process all the events each frame, but bad things happen, including load on CPUs from the system, and we should handle this case well.
Identify the last line of the header
If "property" is a valid property understood by this DB implementation, fills "*value" with its current value and returns true.
If 0 or negative, then go as fast as you can.
If 0, all logs will be written to one log file.
If 0, then block_cache_compressed is set to null.
If 0, then there is no limit.
If JS does not consume the event, mDefaultBackButtonImpl will be invoked at the end of the round trip to JS.
If JS doesn't want to handle the back press itself, it shall call back into native to invoke this function which should execute the default handler
If JS is listening for progress updates, install a ProgressResponseBody that intercepts the response and counts bytes received.
If JS wants progress updates during the download, and it requested a text response, periodically send response data updates to JS.
If LayoutParams sets size explicitly, we can use that.
If VARIABLE_LENGTH, then it indicates variable-length key.
If `cancelTag` would've been called again for the aborted call, we would have had `requests + 1` calls.
If a value has already been set, this method will return immediately.
If a view transitions from being layout-only to not (or vice-versa) this could result in some number of additional createView and manageChildren calls.
If all goes well, the success callback will be called with the file:// URI of the new image as the only argument.
If any of the  writes to the database fails (Put, Delete, Merge, Write), the database will switch to read-only mode and fail all other Write operations.
If cacheSize is non-positive, then cache will not be used.
If called from a separate thread, this will block until the thread can be quit and joined.
If called from this MessageQueueThread, this will be the last thing the thread runs.
If child has no defined size in the cross axis and is set to stretch, set the cross axis to be measured exactly with the available inner width
If dev server is down, disable the remote JS debugging.
If dispose() function is not called, then comparator object will be GC'd automatically.
If empty try to detect emulator type and use default hostname for those
If fails, crash, since the app is potentially in a bad state and could cause a privacy violation.
If it chooses to, it can just set visible to false on the Modal and the Modal will go away
If it has, it will not scroll the text to the end of the new text inserted, but wait for the next layout() to be called.
If it is empty, the log files will be in the same dir as data, dbname is used as the data dir by default If it is non empty, the log files will be in kept the specified dir.
If it is empty, the log files will be in the same dir as data.
If it is larger than 0.25, it is santinized to 0.25.
If it is non empty, the log files will be in the specified dir, and the db data dir's absolute path will be used as the log file name's prefix.
If it is present it means that all the files that needed to be fsynced were fsynced and their content is what it should be.
If it returns false, iteration is halted.
If it was intersecting before, should be attached to the parent
If it's not an array, the Array methods will throw IllegalArgumentException.
If it's set to 0, then each key will be indexed.
If level-styled compaction is used, then this number determines the total number of levels.
If need a resize and the size is not yet set, wait until the layout pass provides one
If no Snapshot is assigned null.
If no children are optimized away it'd look like this: (0) (1) (2) (3) ...
If no view was found, callback will be invoked with no data.
If not a Segmentation fault happens.
If not a exception must be thrown.
If not animation is available, layout change is applied immediately instead of performing an animation.
If not specified, defaults to false.
If not specified, each "table reader" object will pre-load index/filter block during table initialization.
If number of entries in one bucket exceeds that setting, log about it.
If one or more of the pairs cannot be inserted, this will return AsyncLocalStorageFailure, but all other pairs will have been inserted.
If proper prefix-extractor is not set, then RocksDB will use the default memtable representation (SkipList) instead and post a warning in the LOG.
If react context is being created in the background, JS application will be started automatically when creation completes, as root view is part of the attached root view list.
If remote JS debugging is enabled, load from dev server.
If set to 1, then all write buffers are flushed to L0 as individual files and this increases read amplification because a get request has to check in all of these files.
If set true, will hint the underlying file system that the file access pattern is random, when a sst file is opened.
If some custom handling of this method apply for the view, it should be called after the listener returns and only in a case when it returns false.
If specified with non-zero value, log file will be rolled if it has been active longer than `log_file_time_to_roll`.
If step is 0 (unset) we default to this total number of steps.
If that Looper was running on a different Thread than the current Thread, also waits for the last message being processed to finish and the Thread to die.
If that changes, then we need to set mAcceptCalls just after posting the task that will run the js bundle.
If the C++ instance is referenced after this is called, a NullPointerException will be thrown.
If the JS thread is busy for multiple frames we cancel any other pending runnable.
If the action is dismiss, year, month and date are undefined.
If the activity being destroyed is not the current activity, no modules are notified.
If the app uses additional views or modules besides the default ones, add more packages here.
If the application-supplied configuraiton does not specify an animation definition for this types, or if the animation definition is invalid, returns null.
If the child defines a definite size for its cross axis, there's no need to stretch.
If the child doesn't have a specified height, compute the height based on the top/bottom offsets if they're defined.
If the child doesn't have a specified width, compute the width based on the left/right offsets if they're defined.
If the child is absolutely positioned and has a top/left/bottom/right set, override all the previously computed positions to set it correctly.
If the child is position absolute (without top/left) or relative, we put it at the current accumulated offset.
If the child uses align stretch, we need to lay it out one more time, this time forcing the cross-axis size to be the computed cross size for the current line.
If the column family is not known removal will fail.
If the column is 0, don't show it in red box.
If the current log file is larger than `max_log_file_size`, a new info log file will be created.
If the current log file is larger than this size, a new info log file will be created.
If the current timeout does not equal the passed in timeout, we need to clone the existing client and set the timeout explicitly on the clone.
If the determinant is -1, then negate the matrix and the scaling factors.
If the event has a different name in native convert it to it's JS name.
If the event was handled by one of the event listener don't send it to JS.
If the existing Dialog is currently up, we may need to redraw it or we may be able to update the property without having to recreate the dialog
If the file name of a stack frame is numeric (+ ".js"), we assume it's a lazily injected module coming from a "random access bundle".
If the format is invalid, this method will return null.
If the host activity is paused, the frame callback may not be currently posted.
If the initial capacity was 1 we need to ensure it at least grows by 1.
If the input array is longer than output the remaining part of the input will not be converted.
If the key definitely does not exist in the database, then this method returns false, else true.
If the layout is null, the view hasn't been properly laid out yet.
If the main dimension size isn't known, it is computed based on the line length, so there's no more space left to distribute.
If the parent hasn't been attached to its native parent yet, don't issue commands to the native hierarchy.
If the path drawn previously is of the same color, there would be a slight white space between borders with anti-alias set to true.
If the reactTag belongs to a root node, this will return the same reactTag.
If the right font is not found in the assets folder CustomStyleSpan will fallback on the most appropriate default typeface depending on the style.
If the search does not backtrack, it is possible to follow a branch that cannot be a target (because of pointerEvents).
If the server error has the expected form, fail with more info.
If the status bar is translucent hook into the window insets calculations and consume all the top insets so no padding will be added under the status bar.
If the switch has a different value than the value sent by JS, we must change it.
If the times on the server and device have drifted throw an exception to warn the developer that things might not work or results may not be accurate.
If the touch was intercepted by a child, we've already sent a cancel event to JS for this gesture, so we shouldn't send any more touches related to it.
If the uri indicates an icon to be somewhere remote (http/https) or on the local filesystem, it uses fresco to load it.
If the user didn't specify a width or height for the node, set the dimensions based on the children.
If the view is layout only, no updateView call will be dispatched to the native hierarchy.
If there is a up-to-date bundle downloaded from server, with remote JS debugging disabled, always use that.
If there is any intersection we need to inform the child to update its clipping rect
If there is no currentActivity or we are launching to a different package we need to set the FLAG_ACTIVITY_NEW_TASK flag
If there's no flex wrap, the cross dimension is defined by the container.
If this flag is false, and the machine crashes, some recent writes may be lost.
If this flag is true, writes will be slower.
If this is a multi-line flow and this item pushes us over the available size, we've hit the end of the current line.
If this is specified, the cropped image will be resized to that size.
If this request can not be satisfied, the call is blocked.
If this value is set to zero, then hash table will not be used.
If true column families be created if missing.
If true the distrubition of number of entries will be logged.
If true the event won't be sent to JS.
If true, all data read from underlying storage will be verified against corresponding checksums.
If true, allow multi-writers to update mem tables in parallel.
If true, an error will be thrown during RocksDB.open() if the database already exists.
If true, place whole keys in the filter (not just prefixes).
If true, the database will be created if it is missing.
If true, the implementation will do aggressive checking of the data it is processing and will stop early if it detects any errors.
If true, the write will be flushed from the operating system buffer cache (by calling WritableFile::Sync()) before the write is considered complete.
If true, then the contents of data files are not synced to stable storage.
If true, writes will not first go to the write ahead log, and the write may got lost after a crash.
If user doesn't call options dispose explicitly, then this options instance will be GC'd automatically.
If we are here, all is happening as expected
If we are horizontal the width value comes from max width and height comes from min height
If we are using "at most" rules in the main axis, we won't distribute any remaining space at this point.
If we are vertical the width value comes from min width and height comes from max height
If we are watching and updating container height based on content size then we don't want to scroll right away.
If we aren't going to do anything (send events or snap to page), we can early out.
If we don't need to measure the cross axis, we can skip the entire flex step.
If we haven't been measured yet, return null and wait for onSizeChanged.
If we need to choose from multiple uris but the size is not yet set, wait for layout pass
If we return true here than UP event will not be delivered.
If we skipped the flex step, then we can't rely on the measuredDims because they weren't computed.
If we were already finished, ignore
If we're being asked to size the content with an at most constraint but there is no available width, the measurement will always be zero.
If we're being asked to use an exact width/height, there's no need to measure the children.
If we're downscaling, we can decode the bitmap more efficiently, using less memory
If we're in the middle of a batch, the change will automatically be dispatched at the end of the batch.
If we're not being asked to perform a full layout, we can handle a number of common cases here without incurring the cost of the remaining function.
If we're still missing one or the other dimension, measure the content.
If you add new data to the DB and try creating a new backup now, the database will diverge from backups 4 and 5 and the new backup will fail.
If you feel the need to copy this, we should refactor it into an FB-specific subclass of ExopackageApplication.
If you implement RootView you need to call handleTouchEvent from onTouchEvent and onInterceptTouchEvent.
If you manually call dispose on the Java object, the native object will be deleted synchronously on that thread.
If you manually call resetNative() on the Java object, the C++ object will be deleted synchronously on that thread.
If you need this use GuardedResultAsyncTask instead.
If you want to builder full filter, it needs to be set to false.
If you want to control the thread and timing of the destructor, you should call resetNative() explicitly.
If you want to create new backup, you will first have to delete backups 4 and 5.
If you want to override this method you should call super.onAfterUpdateTransaction from it as the parent class of the ViewManager may rely on callback being executed.
If you're increasing this, also consider increasing number of threads in HIGH priority thread pool.
If you're increasing this, also consider increasing number of threads in LOW priority thread pool.
If your app uses additional views or modules besides the default ones, you'll want to include more packages here.
If zero it's determined automatically.
Ignore this error and just fallback to downloading JS from devserver
Ignore this error and just fallback to loading JS from assets
Ignores duration and immediately jump to the end of animation.
Implement this interface to be informed of selection changes in the ReactTextEdit This is used by the ReactTextInputManager to forward events from the EditText to JS
Implement this method to provide application key to be launched.
Implementation note re rounded corners:  Fresco's built-in rounded corners only work for 'cover' resize mode - this is a limitation in Android itself.
Implementation of a NativeArray that allows read-only access to its members.
Implementation of a read-only map in native memory.
Implementation of a write-only array stored in native memory.
Implementation of a write-only map stored in native memory.
Implementation of javascript callback function that use Bridge to schedule method execution
Implementation of this method takes advantage of that fact by caching the value for the last index that this method has been called with.
Implementation of two javascript functions that can be used to resolve or reject a js promise.
Implements the XMLHttpRequest JavaScript interface.
Important: we compute the URI here so that we don't need to hold a reference to the context, potentially causing leaks.
In JS this is Image.props.loadingIndicatorSource.uri
In JS this is Image.props.source
In case of an error JS side expect to get a finish event first, and then get an error event Android WebView does it in the opposite way, so we need to simulate that behavior
In case of failure do yourself a favor and remove partially initialized state.
In case the child is position absolute and has left/top being defined, we override the position to whatever the user said (and margin/border).
In case when property has been removed from the corresponding react component annotated setter will be called and default value will be provided as a value parameter.
In case when someone schedule 2 subsequent reloads it may happen that JS thread will start reading first reload output while the second reload starts writing to the same file.
In case when there is no children interested in handling touch event, we return true from the root view in order to receive subsequent events related to that gesture
In debug mode, these exceptions are normally shown to developers in a redbox.
In many cases, a filter can cut down the number of disk seeks form a handful to a single disk seek per DB::Get() call.
In order to position the elements in the main axis, we have two controls.
In order to support web workers, a module must be aware that it can be invoked from multiple different JS VMs.
In particular, it will not be persisted to the SST files.
In practice, we will not be coalescing over a time range where the most significant bits of that time range matter.
In some hash-based memtable representation such as HashLinkedList and HashSkipList, prefixes are used to partition the keys into several buckets.
In that case animation engine should not attempt to call this method again.
In that case loader expect JS bundle to be prefetched and stored in local file.
In that case local JS executor should be used.
In that case the latter will win i.e. the latter will overwrite the former.
In that case there is no point in fetching the bundle from device as remote executor will have to do it anyway.
In that case, no TextChanged events should be triggered.
In that case, onLayout for this View type must *not* call layout on its children.
In that case, the backup will also include log files corresponding to live memtables.
In the case of removing a layout-only node, we need to instead recursively remove all its children from their native parents.
In the case of the Toolbar, we don't have access to the widget's internal ImageView, which has width/height set to WRAP_CONTENT, which relies on intrinsic size.
In the case where the frame callback isn't enqueued, the UI isn't being displayed or is being destroyed.
In the common case when this is called by Countable#finalize(), this will be called on the system finalizer thread.
In the common case when this is called by HybridData#finalize(), this will be called on the system finalizer thread.
In this case it's no longer important to align to frames, but it is imporant to make sure any late-arriving UI commands are executed.
In this case, Systrace will keep the registered listener around forever if the CatalystInstanceImpl is not explicitly destroyed.
In this case, any touch event dispatch will hit this codepath, and we simply queue them so that they are dispatched once ReactContext creation completes and JS app is running.
In this case, callback parameter will be false.
In this case, initialReactTag corresponds to a virtual/layout-only View, and we already have a parent of that View in reactTag, so we can use it.
In this case, the callback is held in C++ code, so the GC can't see it and determine there's an inaccessible cycle.
In this test case we send pre-recorded stream of pinch out gesture and verify that we have recorded important touch events in JS module
In this test scenario we render clipping view ("outer") with two subviews, one is outside and clipped and one is inside (absolutely positioned).
In this test we render clipping view ("outer") set to be 100x100dp with inner view that is absolutely positioned out of the clipping area of the parent view.
In which case we try to minimize the number of rows we will loop through.
Incoming charSequence gets mutated before onTextChanged() is invoked
Increasing this makes writer threads more likely to take CPU by spinning, which will show up as an increase in the number of involuntary context switches.
Increment the generation count.
Increments the coalescing key corresponding to the gesture with this down time.
Index sparseness determines the index interval for keys inside the same prefix.
IndexType used in conjunction with BlockBasedTable.
Indicates a module may contain sensitive user data and should be cleaned on logout.
Indicating if we'd like to pin L0 index/filter blocks to the block cache.
Indicating if we'd put index/filter blocks to the block cache.
Influence the behavior when kHashSearch is used.
Initialization currently always happens on the UI thread but this is due to change for performance reasons.
Initialize a dbOptions object from cf options and db options
Initialize all the native modules
Initiate timer that will finish with loading Google in the window
Input type password defaults to monospace font, so we need to re-apply the font
Insertion into a queue
Inserts multiple (key, value) pairs.
Inspired by Android ColorDrawable.
Instantiating CookieManager in KitKat+ will load the Chromium task taking a 100ish ms so we do it lazily to make sure it's done on a background thread as needed.
Instead it gets inflated using computed position and size values by CSSNodeDEPRECATED hierarchy.
Instead onLayout will be invoked as normal and it is the View instance's responsibility to properly call layout on its children.
Instead we use dimensions of the child view (dimensions has been set in layouting process) so that size of this view match the size of the view it wraps.
Instead, clicking on the actual Input element DOES
Instead, just call this method on-demand.
Instead, the drawing code should apply opacity recursively.
Integration test for horizontal ScrollView.
Integration test for vertical ScrollView.
Integration test to verify passing various types of parameters from JS to Java works
Intent action for reloading the JS
Intentionally casting mEventType because it is guaranteed to be small enough to fit into short.
Intentionally private as this will be called from JNI
Interface denoting that a class is the interface to a module with the same name in JS.
Interface for a class that knows how to handle an Exception thrown by a native module invoked from JS.
Interface for a map that allows typed access to its members.
Interface for a module that will be notified when JS executors have been unregistered from the bridge.
Interface for a mutable array.
Interface for a mutable map.
Interface for accessing and interacting with development features.
Interface for adding/removing/moving views within a parent view from JS.
Interface for an array that allows typed access to its members.
Interface for auto-generated class by ReactModuleSpecProcessor.
Interface for fast tracking the initial adding of views.
Interface for getting animation lifecycle updates.
Interface for receiving notification for bridge idle/busy events.
Interface for something that knows how to wait for bridge and UI idle.
Interface for static information about native modules.
Interface for the configuration object that is passed to JSC.
Interface for the root native view of a React native application.
Interface that represent javascript callback function which can be passed to the native module as a method parameter.
Interface that represents a JavaScript Promise which can be passed to the native module as a method parameter.
Interface to the JavaScript Systrace Module
Interface used by activities to delegate permission request results.
Interface used to update particular property types during animation.
Internal handles to this column family will be disposed.
Intersect the view with the parent's rectangle This will result in the overlap with coordinates in the parent space
Invalidate the cached results.
Invoke with no args to signal failure and to allow JS to clean up the callback handle.
Invoke without round trip to JS.
Invoked at the end of the transaction to commit any updates to the node hierarchy.
Invoked by React to create a new node with a given tag has its properties changed.
Invoked by React to create a new node with a given tag, class name and properties.
Invoked when native view that corresponds to a root node, or acts as a root view (ie.
Invoked when there is a mutation in a node tree.
Invokes the default back handler for the host of this catalyst instance.
Is used by unit test to setup mWasMeasured and mIsAttachedToWindow flags, that will let this view to be properly attached to catalyst instance by startReactApplication call
Is used for multiline, boring text and the width is known.
Is used for single-line, boring text when the width is either unknown or bigger than the width of the text.
Is used when the width is not known and the text is not boring, ie.
Issue one request for every bytes_per_sync written.
It accomplishes this by drawing its hierarchy into a software Canvas, saving the resulting Bitmap and then drawing that Bitmap to the actual Canvas provided by the system.
It also sets up connection between the instance and developers support functionality of the framework.
It computes its size based on the input size.
It controls the total write rate of compaction and flush in bytes per second.
It creates a DialogRootViewGroup.
It delegates handling touch events for itself and child views and sending those events to JS by using JSTouchDispatcher.
It determines whether the layout request is redundant and can be skipped.
It distributes the remaining space amongst the items whose min/max constraints didn't trigger in pass 1.
It does a number of things: 1.
It does not support vertical inline directions (top-to-bottom or bottom-to-top text).
It does not use a generic argument, since in C++, the types will be erased, anyway.
It does this the same way as ReactRootView.
It essentially limits the max number of cache lines each bloom filter check can touch.
It gets all child information forwarded from ReactModalHostView and uses that to create children.
It helps to handle convertion from animation progress to the actual value as well as the quite common case when no starting value is provided.
It helps to handle convertion from animation progress to the actual values as well as the quite common case when no starting value is provided.
It implements a management interface for animated nodes graph as well as implements a graph traversal algorithm that is run for each animation frame.
It includes the usual message, and the raw JS stack where the error occurred (which may be empty).
It is able to take instructions from UIManagerModule and output instructions to the native view hierarchy that achieve the same displayed UI but with fewer views.
It is also responsible for acting as a RootView and handling touch events.
It is also responsible for creating and updating CSSNodeDEPRECATED subclasses used for calculating position and size for the corresponding native view.
It is also smart during updates if the changed properties can be applied directly to the Dialog or require the recreation of a new Dialog.
It is called by the manager once all properties are set because we need to know all of them before creating the Dialog.
It is guaranteed that for a given animation, only one of onFinished and onCancel will be called, and it will be called exactly once.
It is important to visit nodes in that order as they may often use values of their predecessors in order to calculate "next state" of their own.
It is intended to be run after we are done scrolling, and handling any momentum scrolling.
It is not an error if "key" did not exist in the database.
It is not an error if the key did not exist in the database.
It is only crucial to fsync those files whose content is not verified on each start.
It is only used when dev support is enabled.
It is possible for this to be called after finish() and should handle that gracefully.
It is possible that the RootView can't be found because this view is no longer on the screen and has been removed by clipping
It is possible to expose all kind of information.
It is possible to get multiple broadcasts for the same connectivity change, so we only update and send an event when the connectivity has indeed changed.
It is public because it is built by XReactInstanceManager which is in a different package.
It is required for each memtable to have one such sub-class to allow Java developers to use it.
It is responsible for setting the layout.direction and layout.measured_dimensions fields for the input node as well as the layout.position and layout.line_index fields for its child nodes.
It is safe for concurrent access from multiple threads without any external synchronization.
It is suited for keeping event log data with very low overhead (query log for example).
It is up to the caller to ensure that SingleDelete is only used for a key that is not deleted using Delete() or written using Merge().
It is use by touch event emitter for determining the react tag of the inner-view element that was touched.
It is used to find the target View of a touch event.
It is usefull for detecting bundle/app changes.
It is written by RocksDB when BlockBasedTableOptions::checksum is something other than kCRC32c.
It manages the properties that can be set on the drawer and contains some ReactNative-specific functionality.
It may happen that a NativeModule or or a ViewManager exists in two or more ReactPackages.
It provides also a way to start activities using the viewContext to which RN native views belong.
It provides support for base view properties such as backgroundColor, opacity, etc.
It should be used for modules that require special integration with other framework parts (e.g. with the list of packages to load view managers from).
It should ideally use hardware texture to optimize rendering performances.
It should only be called after an initial call to createReactContextInBackground.
It supports drawing background color and borders (including rounded borders) by providing a react friendly API (setter for each of those properties).
It takes two or more value nodes as an input and outputs a sum of values outputted by those nodes.
It therefore can't be used safely until *after* an image has loaded, and must be replaced when the image is replaced.
It uses the event coordinates to traverse the view hierarchy and return a suitable view.
It uses the information in node.style, which is treated as a read-only input.
It will also move all log files from archive directory to wal_dir.
It will basically allow any/all keyboard input whether from physical keyboard or from soft input.
It will be available on the JS error instance.
It will be executed on a node only when all the node's parent has already been updated.
It will be submitted to the end of the event queue even if it is being submitted from the same queue Thread.
It will correctly find the right view to handle the touch and also dispatch the appropriate event to JS
It will ensure that any calls you dispatch to the returned object will go to the right VM.
It will return records that were inserted into the database after the creation of the iterator.
It works by storing all child views in an array within adapter and binding appropriate views to rows when requested.
It would be nice to fsync a few directories and files here.
It's important to repopulate DisplayMetrics and export them before emitting the orientation change event, so that the Dimensions object returns the correct new values.
It's made synchronous for simplicity, but should only be used if it's absolutely necessary.
It's possible that both callbacks can fire on an error so make sure we only dispatch results once to our callback.
It's safe for those objects to be static as we update properties in a single thread sequentially
It's save to set this here, though, since any work it gates will be queued on the JS thread behind the load.
It's simpler than exposing synchronosition mechanism to notify listener than react context creation has completed.
It's suppose to provide a default behavior since it would be triggered in the case when JS side doesn't want to handle back press events.
It's unfortunate that Instagram does the same thing.
It's used to get layout information passed to that view from css-layout and to update its layout to be enclosed in the wrapper view group.
Iterate over keys using a iterator
Iterate over the array of animations and override ones that has finished, then resize `mActiveAnimations`.
Iterators created with this handle will all observe a stable snapshot of the current DB state.
JELLY_BEAN is needed for TextView#getMaxLines(), which is OK, because in the actual code we only use TextView#setMaxLines() which exists since API Level 1.
JS Queue Thread: The thread and Looper that JS is executed on.
JS bundle will be read from assets in native code to save on passing large strings from java to native memory.
JS can use the returned tag with manageChildren to add/remove children to this view.
JS errors are reported here after source mapping.
JS module interface - main entry point for launching React application for a given key.
JS traces return the full path to the file here, while Java traces only return the file name (the path is not known).
JSBundleLoader capable of unpacking specified files necessary for executing JS bundle stored in optimized format.
JSTouchDispatcher handles dispatching touches to JS from RootViews.
JavaScript ListView implementation rely on getting correct scroll offset.
JavaScript executor that delegates JS calls processed by native code back to a java version of the native executor interface.
Just a Java wrapper around EmptyValueCompactionFilter implemented in C++
Just keep the messages from one thread
Keep in mind that all JS remote method calls and script load calls are asynchronous and you should not expect them to return results immediately.
Keep in sync with ReactIOSTagHandles JS module - see that file for an explanation on why the increment here is 10
KeyMayExist in CF1 must return false
Keys for props that need to be shared across multiple classes.
Keys will be iterated in the order given by index_comparator.
L0 will be directly merged into level b, instead of always into level 1.
Larger value can lead to burstier writes while smaller value introduces more CPU overhead.
Larger values increase performance, especially during bulk loads.
Last "special" elements of the the graph are "animation drivers".
Last, third argument represent the value that should be set.
Later, if Activity A is destroyed (e.g. because of resource contention), onHostDestroy is triggered.
Launch Driver against the above defined server
Launch other activities or open URLs.
Layout operations should also follow the native view hierarchy and go top to bottom for consistency with standard layout passes (some views may depend on this).
LayoutAnimation API on Android is currently experimental.
Lazily initialize as FrescoModule have not been initialized yet
Let's make the second elements 50px height instead of 10px
Level 1 to b-1 need to be empty.
Lifecycle state for an Activity.
Like the above, but takes a Bundle instead of a Map.
Like the view removal, iteration direction is important to preserve the correct index.
Limitations of this algorithm, compared to the full standard: Display property is always assumed to be 'flex' except for Text nodes, which are assumed to be 'inline-flex'.
List of available application is located in TestBundle.js file
List, Map, and Bundle objects, as well as arrays, containing values of the above types and/or null, or any recursive arrangement of these, are also supported.
Listener for receiving activity events.
Listener for receiving activity lifecycle events.
Listener interface for ReactPicker events.
Listener interface for memory pressure events.
Listener interface for react instance events.
Listener interface for task lifecycle events.
Listener invoked when a layout animation has completed.
Listener which overrides default functionality to print class and method to system out.
Listens for the user shaking their phone.
Load "outside.html" and check it's the right one
Loading is done using Fresco.
Loading large bitmaps efficiently: http://developer.android.com/training/displaying-bitmaps/load-bitmap.html Just decode the dimensions
Loading the bundle is queued on the JS thread, but may not have run yet.
Loads the necessary library files.
Locate the Search field on the Google page
Logs requests to Systrace
Low-pri requests can get blocked if flush requests come in continuously.
Main catalyst view is responsible for collecting and sending touch events to JS.
Maintain a linked list of the child nodes that can shrink and/or grow.
Make sure TextView has exactly one span and that span has given type.
Make sure explicit navigation still works.
Make sure it was really frame "classFrame" which was replaced: 1.
Make sure that public fields/methods from AbstractTwitterServer are available here
Make sure the SoLoaderShim is configured to use our loader for native libraries.
Make sure the span is removed from existing text, otherwise the spans we set will be ignored or it will cover text that has changed.
Make sure we do create one more L0 files.
Make sure you know what you're doing before calling this method :)
Makes sure replaceExistingNonRootView by replacing a view with a new view that has a background color set.
Making sure there are some L1 files.
Making sure there isn't any L0 files.
Manages Images embedded in Text nodes using Fresco.
Manages instances of ProgressBar.
Manages instances of ReactToolbar.
Manages instances of TextInput.
Manages raw text nodes.
Manifest file is rolled over on reaching this limit.
Manually quit the current Driver and create a new one
Maps its methods to method ids.
Marker interface to indicate a given animation type takes care of updating the view layout.
Marks a feature as experimental, meaning that it is likely to change or even be removed/re-engineered in the future
Matches ScrollViewListenerModule.js
Max main dimension of all the lines.
Maximum number of level-0 files.
Maximum number of successive merge operations on a key in the memtable.
May be called multiple times to set multiple save points.
May be different than the difference between start and end indicates because we skip over absolute-positioned items.
May be used to enqueue additional ui operations for the native view.
May or may not actually create a native view.
Measure the text under the current constraints.
Measures the view specified by tag relative to the given ancestorTag.
MemTableConfig is used to config the internal mem-table of a RocksDB.
Memtable format can be set using setTableFormatConfig.
MergeOperator holds an operator to be applied when compacting two merge operands held under the same key in order to obtain a single value.
Method SoLoader.init is idempotent, so if you wish to use native exopackage, just call SoLoader.init with appropriate args before initializing XReactInstanceManagerImpl
Method called by the activity with the result of the permission request.
Method called whenever there's a result to a permission request.
Method which takes a container tag and then releases all subviews for that container upon receipt.
Min/Max sizes in the main axis are not honored when resolving flexible lengths.
Mixing SingleDelete operations with Deletes and Merges can result in undefined behavior.
Mockito loads this with reflection, so this class might appear unused.
Modals) has its size changed.
Module that exposes Android Constants to JS.
Module that exposes interface for creating and managing animated nodes on the "native" side.
Module that exposes the Android M Permission system to JS.
Module that exposes the URL to the source code map (used for exception stack trace parsing) to JS
Module that handles global application events.
Module that monitors and provides information about the connectivity state of the device.
Module that records debug information during transitions (animated navigation events such as going from one screen to another).
Module to initialize the Fresco library.
Moreover, they are not consistent with what iOS returns.
Move mouse on a given element
Move mouse on a given element, by x,y relative coordinates
Moves the helper to the next entry in the map, if any.
Multiple implementations are provided by this library.
Multiple processes can be spawned off the same app and we need to guarantee that at most one unpacks files at any time.
Multiplies the color with the given alpha.
Multiplying by the inverse is used in matrix math instead of division.
Must be called from the UI thread so that we can fully shut down other threads.
Must be called from the UI thread.
NB: All native view management methods listed above must be called from the UI thread.
NB: For simplicity, we catch and wrap InterruptedException.
NB: If a font family is used that does not have a style in a certain Android version (ie.
NB: It is possible on some devices to receive certain connection type changes multiple times.
NB: JavaScriptModule does not allow method name overloading because JS does not allow method name overloading.
NB: Requires API 16 for use of FpsDebugFrameCallback.
NB: This call can only be called once for a given frame time range because it cleans up events it recorded for that frame.
NB: This modifies the eventCoords to always be relative to the current viewGroup.
NB: even though down time is a long, we cast as an int using the least significant bits as the identifier.
NB: for perf reasons this does not apply opacity, as that would mean creating a new canvas layer (which allocates an offscreen bitmap) and having it composited afterwards.
NB: if the font family is null / unsupported, the default one will be used
NB: if there was one enqueued that actually finished, we'd have case 1), so effectively we just look for whether one was enqueued.
NB: moveFrom and removeFrom are both relative to the starting state of the View's children.
NB: onTransitionToBridgeIdle and onTransitionToBridgeBusy may be called from different threads, and those threads may not be the same thread on which the listener was originally registered.
NB: the assumption for calling this method is that all corresponding ReactShadowNodes have been updated **but tagsToDelete have NOT been deleted yet**.
NB: this class should only be used from the UI thread.
NB: we assume two gestures cannot begin at the same time.
NB: while onViewHierarchyUpdateFinished will always be called from the UI thread, there are no guarantees what thread onViewHierarchyUpdateEnqueued is called on.
NOTE : This will cause the window currently in focus to close
NOTE: Accessor method with default value will throw an exception when the key is not present in the map.
NOTE: At the time of writing, this test doesn't pass with FirefoxDriver.
NOTE: If we haven't seen an exception or hung the test has passed
NOTE: The hash code is based on the string representation of the key, so it may not work correctly with exotic custom comparators.
NOTE: This drawing code is copied from DynamicDrawableSpan
NOTE: This getSize code is copied from DynamicDrawableSpan and modified to not use a Drawable
Name of the JS bundle file to be loaded from application's raw assets.
Name of the lock files.
Names starting with "rocksdb." are reserved and should not be used.
Native Modules Queue Thread: The thread and Looper that native modules are invoked on.
Native children are represented by (N) where N is the no-opt child they came from.
Native counterpart of style animated node (see AnimatedStyle class in AnimatedImplementation.js)
Native counterpart of transform animated node (see AnimatedTransform class in AnimatedImplementation.js)
Native module for JS timer execution.
Native module that can asynchronously request the owners hierarchy of a react tag.
Native module that exposes Geolocation to JS.
Native module that handles device hardware events like hardware back presses.
Native module that provides image cropping functionality.
NativeModule for tests that allows assertions from JS to propagate to Java.
Navigate after file upload to verify callbacks are properly released.
Navigate back and forward: should be a no-op, given we haven't loaded anything yet
Navigate to local server
Navigate to page and ensure we are on the Main Frame
Navigating back from Activity A to a non-React Activity or to the home screen will trigger two events: onHostPause and onHostDestroy.
Navigating back from Activity B to Activity A will trigger the same events: B#onHostPause and A#onHostResume.
Navigating from Activity A to B will trigger two events: A#onHostPause and B#onHostResume.
Navigating from Activity A to a non-React Activity B will trigger one event: onHostPause.
Need to hold a strong ref to the map so that our native references remain valid.
Need to reserve huge pages for it to be allocated.
Neither the container nor its children receive events.
New Session Cookies will be stored in here
New pointer goes down, this can only happen after ACTION_DOWN is sent for the first pointer
Next, get Z scale and normalize 3rd row.
No JS application has started yet, or resumed.
No background task to create react context is currently running, create and execute one.
No cookie of the new Session can be found in the cookies of the old Session
No cookie of the old Session can be found in the cookies of the new Session
No explicit check for objects's type here.
No further calls are expected after this.
No timeouts by default
No-op - override in order to still receive events to onInterceptTouchEvent even when some other view disallow that
No-op since UIManagerModule handles actually laying out children.
No-op, terminate `requestLayout` here, UIManagerModule handles laying out children and `layout` is called on all RN-managed views by `NativeViewHierarchyManager`
Nodes are stacked in document order.
Normally value will be from 0..1 range, but for spring animation it can slightly exceed that limit due to bounce effect at the start/end of animation.
Note that developers should call WriteOptions.dispose() to release the c++ side memory before a WriteOptions instance runs out of scope.
Note that dispose() must be called before an Options instance become out-of-scope to release the allocated memory in c++.
Note that dispose() must be called before this instance become out-of-scope to release the allocated memory in c++.
Note that since this mem-table representation relies on the key prefix, it is required to invoke one of the usePrefixExtractor functions to specify how to extract key prefix given a key.
Note that tasks run in the same JS thread as UI code, so doing expensive operations would degrade user experience.
Note that the block size specified here corresponds to uncompressed data.
Note that the slider is _not_ a controlled component (setValue isn't called during dragging).
Note that the slider is _not_ a controlled component.
Note that the sync() may not be required but is here of legacy reasons.
Note that there should be no managerNo2 returned.
Note that there should be no module2 returned.
Note that this currently only applies to Nodes/FlatViewGroup as it's the only class that is both a ViewGroup and ReactCompoundView (ReactTextView is a ReactCompoundView but not a ViewGroup).
Note that this function should be called only after all RocksDB instances referencing the compaction filter are closed.
Note that this function should be called only after all RocksDB instances referencing the comparator are closed.
Note that this function should be called only after all RocksDB instances referencing the filter are closed.
Note that this function should be called only after all RocksDB instances referencing the slice are closed.
Note that this must be called after getWidth()/getHeight() actually return something.
Note: Comparator can be set once upon database creation.
Note: If your application doesn't use web workers, it will only have a single ExecutorToken per instance of React Native.
Note: You should be aware that it is intentionally marked as package-private.
Note: even though calls can come from multiple JS VMs on multiple threads, calls to this module will still only occur on a single thread.
Note: this **DOES NOT** consume the source map
Note: this consumes the map so do not reuse it.
Nothing in data payload, at least nothing we could understand anyway.
Notice that yahoo and bing are the only left
Notify JS about layout event if requested and if the position or dimensions actually changed (consistent with iOS).
Notify react instance manager about new JS bundle version downloaded from the server.
Notify view that clipping area may have changed and it should recalculate the list of children that should be attached/detached.
Now get scale and shear.
Now if we keep level 4 to be the base level, its target size needs to be 10.1MB, which doesn't satisfy the target size range.
Now that we know the bounds of the container, perform layout again on the absolutely-positioned children.
Now that we placed the element, we need to update the variables.
Now we move the coordinates to the View's coordinate space
Now, compute Y scale and normalize 2nd row.
Now, get the rotations out
Now, if one of its ancestors sets requestDisallowInterceptTouchEvent to false, it unsets the setting for itself and all of its ancestors, which means that they can intercept events again.
Number keys updated, if inplace update is enabled
Number of Write calls that request WAL
Number of bytes to preallocate (via fallocate) the manifest files.
Number of bytes written to WAL Writes can be processed by requesting thread or by the thread at the head of the writers queue.
Number of deletes records that were not required to be written to storage because key does not exist
Number of files to trigger level-0 compaction.
Number of items on the currently line.
Number of keys written to the database via the Put and Write call's
Number of open files that can be used by the DB.
Number of shards used for table cache.
Number of times WAL sync is done
Number of times we had to reseek inside an iteration to skip over large number of keys with same userkey.
Number of writes ending up with timed-out.
Of these, we don't use "min content" because we don't support default minimum main sizes (see above for details).
On Android 4.1-4.4 (API level 16 to 19) TLS 1.1 and 1.2 are available but not enabled by default.
Once the bulk-loading is complete, please issue a sync to the OS to flush all dirty buffers to stable storage.
Once there is only one implementation of MessageQueueThread, this should move to that class.
One can use 'debug_http_host' shared preferences key to provide a host name for the debug server.
One way to make this lighter weight is to avoid doing any IOs.
Only 3 first views should be attached at the beginning
Only Events that have the same cookie can be coalesced.
Only SCROLL events can be coalesced, all others can not be
Only called for the last React activity to be destroyed.
Only if we have pagingEnabled and we have not snapped to the page do we need to continue checking for the scroll.
Only report native errors here.
Only set the text if it is up to date.
Only set this to true if you really need it.
Only show the first and most actionable one.
Only support events dispatched from the UI thread.
Open Google and count the Window Handles: there should be at least 1
Open a chooser dialog to send text content to other apps.
Open a new window and make sure the window handle is different
Open the database using a C++ Comparator
Open the database using a Java Comparator
Open the database using the C++ BytewiseComparatorImpl and test the results against our Java BytewiseComparator
Open the database using the C++ BytewiseComparatorImpl and test the results against our Java DirectBytewiseComparator
Open the database using the C++ ReverseBytewiseComparatorImpl and test the results against our Java ReverseBytewiseComparator
Open the database using the Java BytewiseComparator and test the results against another Java BytewiseComparator
Open the database using the Java DirectBytewiseComparator and test the results against another Java DirectBytewiseComparator
Open the database using the Java ReverseBytewiseComparator and test the results against another Java ReverseBytewiseComparator
Operates on the default column family.
Operation for updating native view's position and size.
Optimization: loop through the zIndexHash to test if there are any non-zero zIndexes If there aren't any, we can just return out
Optimize for the case where we have just one uri, case in which we don't need the sizes
Options instance *should* not be disposed before all DBs using this options instance have been closed.
Options that control write operations.
Options to control the behavior of a database.
Otherwise an undefined behavior will occur.
Otherwise get the size from the view.
Otherwise it loads the Drawable from the Resources and directly returns it via a callback
Otherwise returns false.
Otherwise send the data in one big chunk, in the format that JS requested.
Otherwise this method will return true
Otherwise use "AT_MOST" in the cross axis.
Otherwise, it continues iterating.
Otherwise, the given Fresco configuration will be ignored.
Otherwise, this will return 0.
Otherwise, when view gets re-attached again, i.e when it re-enters the viewport after scroll, it won't be size and located properly.
Override in order to still receive events to onInterceptTouchEvent even when some other views disallow that, but propagate it up the tree if possible.
Override this method if you want to use a custom UI implementation.
Override this method to provide extra native modules to be loaded before the app starts
Package defining basic modules and view managers.
Package defining core framework modules (e.g. UIManager).
Package-private class which provides java api to access c++ WriteBatchInternal.
Page size for huge page TLB for bloom in memtable.
Parameters: Input parameters are the same as layoutNodeImpl (see below) Return parameter is true if layout was performed, false if skipped
Parse a DebugServerException from the server json string.
Partial merge will not be called if the list of values to merge is less than min_partial_merge_operands.
Pass exception to onPostExecute() so it can be handled on the main thread
Path to the JS bundle file to be loaded from the file system.
Path to your app's main module on the packager server.
Plain-Table requires mmap read
Pointer for statistics object is managed by Options class.
PointerEvents.BOX_NONE means that this react element cannot receive pointer events.
Position is meaningful when the click happenned on a menu
Possible solution is to add another prop that determines whether we should scroll to end of text.
Possible values for pointer events that a view and its descendants should receive.
Potentially send events to JS when the node's value is updated
Practically, this means that all UI update code related to a single transaction must be executed as a single code block on the UI thread.
Prefetches the given image to the Fresco image disk cache.
Prefix extractor is used to specify how to extract the prefix given a key.
Prepare reload APP broadcast receiver (will be registered/unregistered from #reload)
Prepare shake gesture detector (will be started/stopped from #reload)
Pretend at least one op was done in case we are running a benchmark that does not call FinishedSingleOp().
Prevent the RocksDB object from attempting to delete the underly C++ DB object.
Prevents the ViewGroup from dispatching the pressed state to it's children.
Previsouly this text was measured with no width restriction, if width is now restricted but to a larger value than the previsouly measured width we can re-use the measurement as we know it will fit.
Private constructor to disallow instantiation
ProGuard is surprisingly smart in this case and will keep a class if it detects a call to Class.forName() with a static string.
Processes the shadow hierarchy to dispatch all necessary updateLayout calls to the native hierarchy.
Props that affect more than just layout
Provider for an already initialized and non-lazy NativeModule.
Provides Checkpoint functionality.
Provides a clearer exception message than the default one.
Provides access to React Native developers settings.
Provides helper methods for converting transform operations into a matrix and then into a list of translate, scale and rotate commands.
Provides methods for generating touch events and dispatching them directly to a given view.
Provides stub implementation of QPL
Provides the ability to listen for size changes so that a UI manager can re-layout its elements.
Pumps all the bytes (but no more that maxSize) from given input stream through ioBuffer to given output stream and returns number of moved bytes.
Purge duplicate/deleted keys when a memtable is flushed to storage.
Puts are delayed 0-1 ms when any level has a compaction score that exceeds soft_rate_limit.
Puts are delayed 1ms at a time when any level has a compaction score that exceeds hard_rate_limit.
Quit the driver, that will cause the process to close
Quits this MessageQueueThread.
Quits this queue's Looper.
Random walk and make sure iter and result_iter returns the same key and value
Rate is computed on actual elapsed time, not the sum of per-thread elapsed times.
Rate limiting is disabled if nullptr.
RateLimiter, which is used to control write rate of flush and compaction.
React package supporting lazy creation of native modules.
React test ID is currently propagated into view content description.
ReactEditTexts have setFocusableInTouchMode set to false automatically because touches on the EditText are managed on the JS side.
ReactImageViews only render a single image.
ReactModalHostView is a view that sits in the view hierarchy representing a Modal view.
ReactProgressBarViewManager manages how this style is applied to the ProgressBar.
Read LOG file contents into String.
Read and write to response
Reads all the bytes (but no more that maxSize) from given input stream through ioBuffer and returns byte array containing all the read bytes.
Reads and crops the bitmap.
Rearranging the text (i.e. changing between singleline and multiline attributes) can also trigger onTextChanged, call the event in JS only when the text actually changed
Record the number of calls to GetUpadtesSince.
Records the state of the batch for future calls to RollbackToSavePoint().
Recreate debug overlay controller with new CatalystInstance object
Recreate the react application and context.
Recursively call the layout algorithm for this child with the updated main size.
Recursively search class hierarchy
Reflection exceptions are rethrown at runtime.
Register a task lifecycle event listener.
Registers a new root view.
Registers a root node with a given tag, size and ThemedReactContext and adds it to a node registry.
Release a previously acquired snapshot.
Releases all references to given native View.
Remember the previous state in case we need to interpolate
Remove a listener from this EventDispatcher.
Remove all entries in this batch (Put, Merge, Delete, PutLogData) since the most recent call to SetSavePoint() and removes the most recent save point.
Remove all styling spans we might have previously set
Remove all the views from the adapter and de-parents them from the ViewPager After calling this, it is expected that notifyDataSetChanged should be called soon afterwards.
Remove once bridge is unforked.
Remove the content-type header because MultipartBuilder gets it explicitly as an argument and doesn't expect it in the headers array.
Remove the database entry (if any) for "key".
Removes all rows of the keys given.
Removes an existing Animation, canceling it if it was in progress.
Removes the *last* n items of the array all at once.
Renavigate to the page, and check we are back on the Main Frame
Replace a set of views to the ViewPager adapter and update the ViewPager
Replaces the View specified by oldTag with the View specified by newTag within oldTag's parent.
Report an error which wasn't caused by an exception.
Report an exception with a custom error message.
Report an exception, with default error code.
Report the information from the redbox and set up a callback listener.
Reports whether this listener is recording data.
Represents a click on the toolbar.
Represents a generic entry in a stack trace, be it originally from JS or Java.
Represents the status returned by a function call in RocksDB.
Request react instance recreation with JS debugging enabled.
Request the given permission.
Request to receive the component hierarchy for a particular tag.
Request to toggle the react element inspector.
Requires that the key exists and was not overwritten.
Reset the flag since we are going to create a new dialog
Reset variables for new line.
Reset view content as it's going to be populated by the application content from JS
Resets the spacing instance to its default state.
Resets this instance to its default state.
Resizing is inferior to scaling.
Resource to trigger garbage collection after each test run.
Responsible for flushing cookies to disk.
Restore the canvas after an element was drawn.
RestoreOptions to control the behavior of restore.
Results are stored in the given outputBuffer.
Retrieve and count the errors
Retrieve assigned options instance.
Retrieve name of column family.
Retrieve snapshot from read options
Return -1 if the input string is not a valid numeric fontWeight (100, 200, ..., 900), otherwise return the weight.
Return a boolean value indicating if index shall be stored in a file.
Return react tag for touched element.
Return size of write buffer size.
Return text alignment according to LTR or RTL style
Return the PointerEvents of the View.
Return the length (in bytes) of the data.
Return the loggers log level.
Return true if the create_if_missing flag is set to true.
Return true if the create_missing_column_families flag is set to true.
Return true if the length of the data is zero.
Return true if you intend to override some other native module that was registered e.g. as part of a different package (such as the core one).
Return true, since DrawerLayout will lay out it's own children.
Returns OK on success, and a non-OK status on error.
Returns a custom path of the bundle file.
Returns a line height which takes into account the requested line height and the height of the inline images.
Returns a map of config data passed to JS that defines eligible events that can be placed on native views.
Returns a map of keys for which values were found in DB.
Returns a map of view-specific constants that are injected to JavaScript.
Returns an array with all keys from the database.
Returns entries per bucket threshold before LinkedList is replaced by SkipList usage for that bucket.
Returns false for the default behavior of automatically laying out children without going through the ViewGroup's onLayout method.
Returns information about logging the distribution of number of entries on flush.
Returns iterators from a consistent database state across multiple column families.
Returns map containing a single entry.
Returns map containing the given entries.
Returns maximum number of write buffers.
Returns newly created array.
Returns null if the file has not been found or if an error as occurred.
Returns null if we're not attached to an Activity.
Returns the FpsInfo as if stop had been called at the given upToTimeMs.
Returns the current read tier.
Returns the currently assigned Snapshot instance.
Returns the currently set lookahead value.
Returns the data of the slice.
Returns the directory of info log.
Returns the empty map.
Returns the font family set for this StyleSpan.
Returns the initial size of the vector used by the memtable created based on this config.
Returns the input stream for a file given by its contentUri.
Returns the maximum number of concurrent background compaction jobs, submitted to the default LOW priority thread pool.
Returns the maximum number of concurrent background flush jobs.
Returns the maximum number of entries in one bucket before logging starts.
Returns the maximum number of info log files to be kept.
Returns the maximum size of a info log file.
Returns the name of the bundle in assets.
Returns the name of the current mem table representation.
Returns the name of the main component registered from JavaScript.
Returns the name of the main module.
Returns the number of buckets that will be used in the memtable created based on this config.
Returns the number of shard bits used in the block cache.
Returns the number of updates in the batch.
Returns the offset within the native children owned by all layout-only nodes in the subtree rooted at this node for the given child.
Returns the path to the write-ahead-logs (WAL) directory.
Returns the root view of a given view in a react application.
Returns the set RocksEnv instance.
Returns the size value of hugePageTlbSize.
Returns the time interval for the info log file to roll (in seconds).
Returns the touch target View of the event given, or null if neither the given View nor any of its descendants are the touch target.
Returns the touch target View that is either viewGroup or one if its descendants.
Returns the value of the given key, or null if not found.
Returns the view that will be the root view of the dialog.
Returns true for the layout to *not* be automatically invoked.
Returns true if react node responsible for the touch even is flattened into this ViewGroup.
Returns true iff there is an entry to read.
Returns true on success, false on failure.
Returns whether dev mode should be enabled.
Returns whether encode type indicates the body needs to be gzip-ed.
Returns whether managed iterators will be used.
Returns whether or not this View type should promote its grandchildren as Views.
Returns whether the activity was started, as this might fail if this was called before the context is in the right state.
Returns whether this View type needs to handle laying out its own children instead of deferring to the standard css-layout algorithm.
Reusing database options and column family options.
Right click on the logo (it will cause a "/moveto" before clicking
Right now, though, this is how iOS does it, and we should probably update the JS and native code and make this change at the same time.
RocksDB memory environment.
RocksDB.NOT_FOUND will be returned if the value not found.
RocksIterator must hold a reference to the related parent instance to guarantee that while a GC cycle starts RocksIterator instances are freed prior to parent instances.
Run main "update" loop
Runs the given Callable on this Thread.
Runs the given Runnable on this Thread.
SQL variable number limit, defined by SQLITE_LIMIT_VARIABLE_NUMBER: https://raw.githubusercontent.com/android/platform_external_sqlite/master/dist/sqlite3.c
START OF GENERATED CODE
STEP 10: SIZING AND POSITIONING ABSOLUTE CHILDREN
STEP 11: SETTING TRAILING POSITIONS FOR CHILDREN
STEP 1: CALCULATE VALUES FOR REMAINDER OF ALGORITHM
STEP 2: DETERMINE AVAILABLE SIZE IN MAIN AND CROSS DIRECTIONS
STEP 3: DETERMINE FLEX BASIS FOR EACH ITEM
STEP 4: COLLECT FLEX ITEMS INTO FLEX LINES Indexes of children that represent the first and last items in the line.
STEP 5: RESOLVING FLEXIBLE LENGTHS ON MAIN AXIS Calculate the remaining available space that needs to be allocated.
STEP 7: CROSS-AXIS ALIGNMENT We can skip child alignment if we're just measuring the container.
STEP 8: MULTI-LINE CONTENT ALIGNMENT
STEP 9: COMPUTING FINAL DIMENSIONS
Safe to acquire choreographer here, as initialize() is invoked from UI thread.
Same as fixed length prefix extractor, except that when slice is shorter than the fixed length, it will use the full key.
Sanitize content encoding header, supported only when request specify payload as string
Schedule a block to be executed on the UI thread.
Screen metrics returns the metrics of the entire screen, is consistent with iOS and should be used instead.
Scroll event types that JS module RCTEventEmitter can understand
Search cookie on the root-path and fail to find it
Second pass: resolve the sizes of the flexible items
See #fling() for more information.
See #onOverScrolled() to see the second part of this change which properly aborts the scroller animation when we get to the bottom of the ScrollView content.
See CatalystApplicationFragment as an example.
See ScrollViewListenerModule.js
See ScrollViewTestModule.js
See also ScrollViewTestModule.js
See comment above as to why this is not correct to use.
See http://frescolib.org/docs/resizing-rotating.html#_ We resize here only for images likely to be from the device's camera, where the app developer has no control over the original size
See https://developer.mozilla.org/en-US/docs/Web/CSS/pointer-events for more info.
See https://github.com/square/okhttp/wiki/Recipes#per-call-configuration for more information
See isNative in lodash
See renderApplication.js.
See that class for more details.
See the AUTHORS file for names of contributors.
See the documentation of needsOffscreenAlphaCompositing in View.js.
See: http://developer.android.com/reference/android/view/Display.html#getRealMetrics(android.util.DisplayMetrics)
See: http://stackoverflow.com/questions/14341041/how-to-get-real-screen-height-and-width/23861333#23861333
See: https://github.com/facebook/react-native/pull/7011
Semi-randomly return the next unique key.
Send property updates to native view manager
Sends an event to the JS instance that a new intent was received.
Sends an event to the JS instance that the hardware back has been pressed.
Sends the given Event to JS, coalescing eligible events if JS is backed up.
Set a table factory and check the names
Set and initialize CatalystInstance for this Context.
Set compaction style for DB.
Set cookie, without opening any page: should throw an exception
Set custom logger to options
Set if the flush operation shall block until it terminates.
Set inJustDecodeBounds to true so we don't actually load the Bitmap, but only get its dimensions instead.
Set maxDate to the end of the day, same reason as for minDate.
Set maximum number of entries in one bucket.
Set minDate to the beginning of the day.
Set the amount of cache in bytes that will be used by RocksDB.
Set the branching factor used in the hash skip-list memtable.
Set the config for mem-table.
Set the config for table format.
Set the database entry for "key" to "value" for the specified column family.
Set the database entry for "key" to "value" in the specified column family.
Set the database entry for "key" to "value".
Set the exception handler for all native module calls.
Set the height of the skip list.
Set the initial position (relative to the parent).
Set the initial size of the vector that will be used by the memtable created based on this config.
Set the number of bits per key used by the internal bloom filter in the plain table sst format.
Set the number of buckets in the fixed-size array used in the hash linked-list mem-table.
Set the number of hash buckets used in the hash skiplist memtable.
Set the number of levels for this database If level-styled compaction is used, then this number determines the total number of levels.
Set the resolved resolution in the node's layout.
Set the textview that will contain this span.
Set this flag to true if changing a particular property on the view requires a new Dialog to be created.
Set trailing position if necessary.
Sets an icon for a specific icon source.
Sets the checksum type to be used with this table.
Sets the correct password type, since numeric and text passwords have different types
Sets the encoding type.
Sets the index type to used with this table.
Sets the initial lifecycle state of the host.
Sets the maximum size the database will grow to.
Sets the properties of the drawer, after the navigationView has been set.
Sets the value for the key given, returns true if successful, false otherwise.
Sets up the transform matrix on the canvas before an element is drawn.
Sets whether this node only contributes to the layout of its children without doing any drawing or functionality itself.
Setting a generic Chrome UA to bypass some UA spoofing
Shadow node for ART virtual tree root - ARTSurfaceView
Shadow node for virtual ARTGroup view
Shadow node for virtual ARTShape view
Shadow node for virtual ARTText view
Shared utility for asserting on MeasureSpecs.
Shift focus to something else because send key doesn't make the focus leave
Should be added to the debug manifest of the app.
Should be called after all updateLayout calls for a batch have been handled.
Should be called from the child's onTouchIntercepted implementation.
Should be called only once
Should be either FLUSH_POOL or COMPACTION_POOL.
Should never reach here.
Should not affect application logic and should only be used for debug/monitoring/testing purposes.
Show a date picker dialog.
Show all ascent, and as much descent as possible
Show all ascent, descent, as much bottom as possible
Show all ascent, descent, bottom, as much top as possible
Show as much ascent as possible
Show proportionally additional ascent and top
Show the report button, hide the report textview and the loading indicator.
Shuts down statistics collector.
Simple Json generator that does no validation.
Simple class for asserting that operations only run on a single thread.
Simple native module that allows JS to notify native of having completed some task work, so that it can e.g. release any resources, stop timers etc.
Simple spec for modules with a constructor taking ReactApplicationContext.
Simple spec for modules with a default constructor.
Simple spring interpolator
Simple test case for passing initial props to the root React application.
Simple test to verify that layout events (onLayout) propagate to JS from native.
Simple type conversion methods for use in tests
Simple utility class for manipulating colors, based on Fresco's DrawableUtils (https://github.com/facebook/fresco).
Simplified version of constructManageChildrenErrorMessage that only deals with adding children views
Simplified version of manageChildren that only deals with adding children views
Since genymotion runs in vbox it use different hostname to refer to adb host.
Since native methods are invoked from a message queue executed on a single thread, it is save to allocate only one arguments object per method that can be reused across calls
Since react-native only supports API level 16+ we don't have to worry about other cases.
Since the two APIs don't share a common interface there's unfortunately some code duplication.
Since these Exceptions are triggered by JS calls (and can be fixed in JS), a common way to handle one is to show a error dialog and allow the developer to change and reload JS.
Since those children will then add their native children to this view, we now have ranges of native children that correspond to single unoptimized children.
Since we only show the first JS error in a succession of JS errors, make sure we only update the error message for that error message.
Since we override onLayout in our ViewGroups, a layout pass never happens after a call to requestLayout, so we simulate one here.
SingleDelete() only behaves correctly if there has been only one Put() for this key since the previous call to SingleDelete() for this key.
Size has to be positive
Size of compressed block cache.
Skip setting the selection if the text wasn't set because of an out of date value.
Skip this test if not using PhantomJS.
SkipListMemTableConfig constructor
Slices are used by RocksDB to provide efficient access to keys and values.
Slider that behaves more like the iOS one, for consistency.
Slowly drag the ScrollView to prevent fling
So for the other modes, we use a postprocessor.
So if you have a slow filesystem to backup (like HDFS) and you have a lot of backups then restoring can take some time.
So instead we generate a quasi-dynamic string to confuse it.
So we expect zero L2 files here.
Soft limit on number of level-0 files.
Soft limit on the number of level-0 files.
Solve the equation by inverting perspectiveMatrix and multiplying rightHandSide by the inverse.
Some (general) drawing action has completed
Some KeyListeners like DigitsKeyListener will display the keyboard but not accept all input from it
Some of these queues *may* be the same but should be coded against as if they are different.
Some table format (e.g. plain table) may not support this option.
Sometimes errors cause multiple errors to be thrown in JS in quick succession.
Sometimes retrieving the database fails.
Sort the views by zIndex
Space on the edges is half of the space between elements
Spaces and tabs are dropped by IntelliJ logcat integration, so rely on __ instead.
Spacing type that represents all directions (left, top, right, bottom).
Spacing type that represents end direction e.g. right in left-to-right, left in right-to-left.
Spacing type that represents horizontal direction (left and right).
Spacing type that represents start direction e.g. left in left-to-right, right in right-to-left.
Spacing type that represents the bottom direction.
Spacing type that represents the left direction.
Spacing type that represents the right direction.
Spacing type that represents the top direction.
Spacing type that represents vertical direction (top and bottom).
Spec for creating a MessageQueueThread.
Spec for creating a ReactQueueConfiguration.
Specifies the maximum number of concurrent background compaction jobs, submitted to the default LOW priority thread pool.
Specifies the maximum number of concurrent background flush jobs.
Specifies the maximum number of info log files to be kept.
Specifies the maximum size of a info log file.
Specifies the time interval for the info log file to roll (in seconds).
Specify if this read request should process data that ALREADY resides on a particular cache.
Specify to create a managed iterator -- a special iterator that uses less resources by having the ability to free its underlying resources on request.
Specify to create a tailing iterator -- a special iterator that has a view of the complete database (i.e. it can also be used to read newly added data) and is optimized for sequential reads.
Start animating for the first addition input node, will have 2 frames only
Start animating for the first addition input node, will have 6 frames
Start animating only the first addition input node
Start appropriate Driver
Start listening for location updates.
Start listening for shakes.
Starts a corresponding external activity for the given URL.
Starts at 1 since bridge starts idle.
Starts tracking a new coalescing key corresponding to the gesture with this down time.
Static class that allows markers to be placed in React code and responded to in a configurable way
Statistics to analyze the performance of a db.
Step 2 Scroll a little bit so that "complex" view is visible, but it's inner views are not
Step 3 Scroll even more so that first subview of "complex" view is visible, view 1 will get off screen
Step 4 Scroll even more to reveal second subview of "complex" view
Step 5 Scroll back to previous position (Step 3), second view should get detached
Step 6 Scroll back to Step 2, complex view should be visible but all subviews should be detached
Step 7 Scroll back to Step 1, complex view should be gone
Stop listening for location updates.
Stop listening for shakes.
Stops tracking a new coalescing key corresponding to the gesture with this down time.
Store a private linked list of absolutely positioned children so that we can efficiently traverse them later.
Store a private linked list of children that need to be layed out.
Store and use in the next loadApplicationScript() call.
Store eventCoords in array so that they are modified to be relative to the targetView found.
Store number of visited nodes in `activeNodesCount`.
Store the current operation queues to dispatch and create new empty ones to continue receiving new operations
Store the first window handle
StringAppendOperator is a merge operator that concatenates two strings.
Stub definition of identifier needed in react native open source code.
Stub implementation of Action Identifiers.
Stub implementation of QPL
Subclasses can override this method to install custom event emitters on the given View.
Subclasses can use this method to access catalyst context passed as a constructor
Subclasses should return a new View instance of the proper type.
Subsequent visits will be skipped if the input parameters don't change.
Successful termination of the marker
Successfully resolve the Promise.
Such mem-table representation contains a fix-sized array of buckets, where each bucket points to a skiplist (or null if the bucket is empty).
Suggested number of concurrent background compaction jobs, submitted to the default LOW priority thread pool.
Supply setters for base view layout properties such as width, height, flex properties, borders, etc.
Support for iterating over the contents of a batch.
Supports non-default checksum, like xxHash.
Switch again to the iframe, this time via it's "frame number" (i.e. 0 to n)
Switch again to the main frame
Switch back to the main frame and check it's the right one
Switch back to the main page using the original window handle:
Switch further down into frame "#three"
Switch that has its value controlled by JS.
Switch to a child frame
Switch to frame "#two"
Switch to google window and close it
Switch to google window and notice that only google and bing are left
Switch to that window
Switch to the iframe via WebElement and check it's the right one
Switch to the second frame via it's "frame number"
Switch to the yahoo window and check that the current window handle has changed
Synchronizes unpacking across multiple processes.
Synchronizes unpacking within this process.
Systrace stub that mostly does nothing but delegates to Trace for beginning/ending sections.
TIME SPENT IN IO DURING TABLE OPEN
TODO #11638796: convert the stack into something useful
TODO #6015104: rename to something less iOSish
TODO #7120264: cache this stuff better
TODO (t10707444): use NativeMap, which requires moving NativeMap out of OnLoad.
TODO (t11123799) - Should we do anything beyond linear accounting of the velocity
TODO mhorowitz: add mDestroyed checks to the next three methods
TODO mhorowitz: make this return NativeMap, which requires moving NativeMap out of OnLoad.
TODO(5195192) Investigate possible problems related to restarting all tasks at the same moment
TODO(5279396): Make JS UI library explicitly notify the native UI module of the end of a UI transaction using a standard native call
TODO(5483031): Only dispatch updates when shadow views have changed
TODO(5578671): Handle text direction (see View#getTextDirectionHeuristic)
TODO(5712813): cleanup callback in JS callbacks table in case of an error
TODO(5815532): Check if consumed on read
TODO(5966918): Consider extending touchable area for text spans by some DP constant
TODO(6242243): Make addMeasuredRootView thread safe NB: this method is horribly not-thread-safe.
TODO(6242243): This should be asserted...
TODO(6352048): Support gradients etc.
TODO(6418010): Fix readers-writers problem in debug reload from HTTP server
TODO(6788898): Refactor test code to use ReactPackage instead of SpecForTest
TODO(6818138): Solve use-case of native/js modules overriding
TODO(6845124): Create a test for this
TODO(7135923): Pooling of operation objects TODO(5694019): Consider a better data structure for operations queue to save on allocations
TODO(7247021): Replace updateExtraData with generic update props mechanism after D2086999
TODO(7323049): Remove this workaround once we figure out a way to re-layout some views on request
TODO(7613721) : callbacks are not supported, this feature will likely be killed.
TODO(7613721): Invoke success callback at the end of animation and when animation gets cancelled.
TODO(7613736): Improve spring interpolator with friction and damping variable support
TODO(7728005): Attach/detach views in batch - once per frame in case when multiple children update their layout.
TODO(7728153) : animating view deletion is currently not supported.
TODO(7854667): handle and test proper clipping
TODO(8624925): Implement removeClippedSubviews support for native ListView
TODO(8850038): add the stack trace info in, need to figure out way to serialize that
TODO(9139831) : remove this method once layout animation is fully stable.
TODO(9577825): This is a bad pattern, we should thread through an Environment object instead.
TODO(9577825): remove this
TODO(AR) consider throwing a checked exception, as if it's not direct this can SIGSEGV
TODO(AR) log a warning message...
TODO(AR) migrate to JDK8 java.util.Optional#empty()
TODO(AR) revisit here when implementing AutoCloseable
TODO(prenaux): Correctly set the height of items with indefinite (auto) crossAxis dimension.
TODO(t11394264): Use the native module thread here after the old bridge is gone
TODO(t11394819): Make this default and deprecate ReactPackage
TODO(t11394819): Make this final and use annotation
TODO(t11687218): Look over all threading Default priority is Process.THREAD_PRIORITY_BACKGROUND which means we'll be put in a cgroup that only has access to a small fraction of CPU time.
TODO(t9055065): Fix custom fonts getting applied to text children with different style
TODO(t9349129) Don't use timeout
TODO(yhchiang): this option seems to be block-based table only.
TODO(yhchiang): use (Integer)Flag.perf_level.
TODO(yhchiang): use the following arguments: (Long)Flag.stats_interval (Integer)Flag.stats_per_interval
TODO: Call the method directly when this is no longer needed.
TODO: Find a sample site that has hidden elements and use it to verify behavior of enabled and disabled elements.
TODO: Lower frame duration on devices that are too slow to run consistently at 60 fps.
TODO: Remove registered check when source of crash is found.
TODO: Reuse propsMap and stylesDiffMap objects - note that in subsequent animation steps for a given node most of the time we will be creating the same set of props (just with different values).
TODO: T7538544 Rename ThemedReactContext to be in alignment with name of ReactApplicationContext
TODO: T7538796 Check requirement for Override of getSystemService ReactContext
TODO: Would be great to avoid adding this callback in case there are no active animations and no outstanding tasks on the operations queue.
TODO: t6408636 verify if we should schedule a layout after a View does a requestLayout()
TODO: t7936714 merge these events
TODO: t9053573 is tracking that this code should be shared
TODO: tell all APIs to shut down
TableFormatConfig is used to config the internal Table format of a RocksDB.
Tag is 0 because JSResponderHandler doesn't need one in order to clear the responder.
Tag used for logging scroll performance on this scroll view.
Take the weighted sum of the 4 derivatives as the final output.
Takes care of initialising the Remote WebDriver
Target sizes of level 1 to 4 are not applicable because they will not be used.
TargetApi 16 for use of Choreographer.
Task class responsible for (re)creating react context in the background.
Temporary array used to dipatch idle callbacks on the JS thread.
Temporary map for constructing the individual arrays of timers per ExecutorToken
Termination of marker due to a cancellation
Termination of marker due to some failure
Test ACTION_DOWN event
Test HashSkipListMemTableConfig
Test Optimize for statements
Test also with createColumnFamily
Test case for verifying that multitouch events are directed to the React's view touch handlers properly
Test case to verify that JSResponder flow work correctly.
Test listColumnFamilies
Test locale-based functionality of JS VM
Test marshalling arguments from Java to JS to appropriate native classes.
Test open database with column family names
Test removal in same test, since it's costly to set up the test again.
Test that the actual height of the text input is not dependant on the font size of the text within.
Test that the colors are applied to new text
Test that the cursor moves to the end of the word.
Test that the mentions input has colors displayed correctly.
Test that the sizes of the progressBars are setup correctly
Test that user selection is propagated correctly to JS, to setState, and to Spinners.
Test to verify that Progress bar renders as a view of the right size
Test to verify that TextInput renders correctly
Test with column family
Test with column family and readOptions
Test with many keys, so that it's above the 999 limit per batch imposed by SQLite.
Test with parameter initialization
Test without column family
Test without column family but with readOptions
Tests basic properties, events and switching between spinner modes (which changes the used manager).
Tests that the 'testID' property can be set on various views.
Text input type is numbered password, remove text password variation, add numeric one
TextAlign + TextAlignVertical
That is after user starts the gesture from a touchable view with a given reactTag, or when user drag finger back into the press activation area of a touchable view that have been activated before.
That is because intercepted touch events are converted into CANCEL events and make all further events to be delivered to the view that intercepted the event.
That is, nodes that are not mapped into native views (e.g. nested text node).
That means, depending on when we get updates from JS and what else is happening on the UI thread, we can sometimes try to post this runnable after ViewRootImpl has posted a barrier.
That will fill the entire window of the application.
That's why it support only a set of properties of the same type.
That's why we recommend to limit the number of backups.
The ".js" suffix is kept to avoid ambiguities between "module-id:line" and "line:column".
The "tag" comes from iOS naming.
The 'baseline' value is not supported for alignItems and alignSelf properties.
The 'order' property is not supported.
The 'testID' property is used to locate views in UI tests.
The 'visibility' property is always assumed to be 'visible'.
The 'wrap' property supports only 'nowrap' (which is the default) or 'wrap'.
The 'zIndex' property (or any form of z ordering) is not supported.
The ColumnFamilyHandle is automatically disposed with DB disposal.
The JS Bundle file that this Instance Manager was constructed with.
The JavaScript side expects a map with at least the error message.
The Name() value of the prefix extractor will be stored in the file.
The ReactTextView that holds this ImageSpan is responsible for passing these methods on so that we can do proper lifetime management for Fresco
The Thread constructor interprets zero the same as not specifying a stack size
The W3C spec doesn't say anything about the 'overflow' property, but all major browsers appear to implement the following logic.
The acquisition of the geolocation failed because at least one internal source of position returned an internal error.
The acquisition of the geolocation information failed because the page didn't have the permission to do it.
The actual size of the unit read from disk may be smaller if compression is enabled.
The algorithm assumes that each node gets layed out a maximum of one time per tree layout, but multiple measurements may be required to resolve all of the flex dimensions.
The algorithm implemented here won't handle all cases but it was simpler to implement and it mitigates performance concerns because we know exactly how many passes it'll do.
The animation will only apply during the current batch operations.
The application root element is wrapped in a helper view in order to be able to display modals.
The available operators are "put", "uint64add", "stringappend" and "stringappendtest".
The backup will always be consistent with the current state of the database regardless of the flushBeforeBackup parameter.
The best way to think of this is a way to generate a Java representation of a json list, from Java types which have a natural representation in json.
The best way to think of this is a way to generate a Java representation of a json object, from Java types which have a natural representation in json.
The blob will NOT consume sequence number(s) and will NOT increase the count of the batch  Example application: add timestamps to the transaction log for use in replication.
The blob will be stored in the transaction log but not in any other file.
The bridge will not become busy again until a timer, touch event, etc.
The bundle will be read in native code to save on passing large strings from java to native memorory.
The caller must not use "snapshot" after this call.
The caller should include the animation stop time in ms (unix time) so that we know when the animation stopped from the JS perspective and we don't count time after as being part of the animation.
The class that controls the get behavior.
The command under test is only available when using PhantomJS
The config for hash linked list memtable representation Such memtable contains a fix-sized array of buckets, where each bucket points to a sorted singly-linked list (or null if the bucket is empty).
The config for hash skip-list mem-table representation.
The config for plain table sst format.
The config for skip-list memtable representation.
The config for vector memtable representation.
The constants map contains the following predefined fields for 'customBubblingEventTypes' and 'customDirectEventTypes'.
The crazy URL should have not been loaded
The cross dimension is the max of the elements dimension since there can only be one element in that cross dimension.
The current text gets replaced with the text received from JS.
The custom fonts will have to be located in the res/assets folder of the application.
The data types supported are boolean, int, float, double, and String.
The debug server returns errors as json objects.
The default implementation always returns true.
The default implementation uses the base context instead, so it couldn't be cast to ReactContext.
The default is 2, so that when 1 write buffer is being flushed to storage, new writes can continue to the other write buffer.
The default should work for most cases.
The default value is 6 hours.
The default value is MAX_INT so that roll-over does not take place.
The dot product of a and b, two 3-element vectors.
The event that contains the event counter and updates it must be sent first.
The eventTime for each event is still set correctly.
The examples provided by Facebook are for non-commercial testing and evaluation purposes only.
The factory constructor of RocksDB that opens a RocksDB instance given the path to the database using the default options w/ createIfMissing set to true.
The factory constructor of RocksDB that opens a RocksDB instance given the path to the database using the specified options and db path and a list of column family names.
The factory constructor of RocksDB that opens a RocksDB instance given the path to the database using the specified options and db path.
The factory constructor of RocksDB that opens a RocksDB instance in Read-Only mode given the path to the database using the default options.
The factory constructor of RocksDB that opens a RocksDB instance in Read-Only mode given the path to the database using the specified options and db path.
The first pass finds the items whose min/max constraints trigger, freezes them at those sizes, and excludes those sizes from the remaining space.
The first sequence number is 1
The following Object arrays are used to prevent extra allocations from varargs when we call Method.invoke.
The following `OnLayoutChangeListsner` is attached to the views stored in the adapter `mViews` array.
The following method enables it.
The general solution is that if there's not enough height to show the full line height, we will prioritize in this order: ascent, descent, bottom, top
The height is definite, so use that as the flex basis.
The host IP we use when connecting to the JS bundle server from the emulator is not the same as the one needed to connect to the same server from the JavaScript proxy running on the host itself.
The ideal ratio would be the number of prefixes / the number of hash buckets.
The implementation accounts for the cases when next index is not necessarily a subsequent number of the cached one.
The implementation should be passed by setRedBoxHandler in ReactInstanceManager.
The implementation tries to allocate as few objects as possible depending on which properties are set.
The initial derivative is based on the current velocity and the calculated acceleration
The insertion will replace conflicting (key, value) pairs.
The internal version of this file has not been opensourced yet.
The last spinner has the same selected value as the first one.
The latency in microseconds after which a std::this_thread::yield call (sched_yield on Linux) is considered to be a signal that other processes or threads would like to use the current core.
The latest backup must remain.
The layout.measured_dimensions field includes any border or padding for the node but does not include margins.
The listener should be purely passive and not affect application logic.
The listener will then report the data it collected.
The logic here is that the semaphore is only acquirable if the bridge is idle.
The main difference is that we enforce this is accessed from the UI thread: this is because this ordering cannot be guaranteed across multiple threads.
The main dimension is the sum of all the elements dimension plus the spacing.
The main purpose of this class is to act as an intermediary between UI code generating events and JS, making sure we don't send more events than JS can process.
The math is inlined inside the loop since it made a huge performance impact when there are several springs being advanced.
The maximum number of write buffers that are built up in memory.
The maximum size cannot be set below the current size.
The maximum time interval a put will be stalled when hard_rate_limit is enforced.
The memory for the corresponding views and data structures should be reclaimed.
The minimum number of write buffers that will be merged together before writing to storage.
The minimum time in milliseconds left in the frame to call idle callbacks.
The name of the comparator.
The number of files in level 0 to trigger compaction from level-0 to level-1.
The number of partial merge operands to accumulate before partial merge will be performed.
The number should never be greater than number of probes.
The older manifest file be deleted.
The oldest table file will be deleted once the sum of table files reaches this size.
The order in which packages are passed matters.
The order of flex items is always defined by document order.
The passed Activity is the current Activity being paused.
The periodicity when obsolete files get deleted.
The pointer to the snapshot is released by the database instance.
The priority will be reset after this task finishes: https://android.googlesource.com/platform/frameworks/base/+/d630f105e8bc0021541aacb4dc6498a49048ecea/core/java/android/os/AsyncTask.java#256
The private construct used by a set of public static factory method.
The purpose of this method is to return the index within the native children that corresponds to the **start** of the native children that belong to the given child.
The rarely-used 'wrap-reverse' is not supported.
The ratio between the total size of level-(L+1) files and the total size of level-L files for all L.
The real metrics include system decor elements (e.g. soft menu bar).
The reason that this is a function that returns "this" instead of a constructor is to enable chaining of multiple similar calls in the future.
The removeNodeFromParent call will cause all the view's children to be detached from their native parent.
The returned iterator should be closed before this db is closed.
The root view always assumes any view that was tapped wants the touch and sends the event to JS as such.
The second BFS runs in topological order over the sub-graph of *active* nodes.
The second backup must remain.
The second child that is added, is the navigationView, which gets panned from the side.
The second pass sets the size of each flexible item.
The set log level influences the underlying native code.
The shared library is extracted to a temp folder and loaded from there.
The simplified version of get which returns a new byte array storing the value associated with the specified input key if any.
The size of one block in arena memory allocation.
The space between the beginning and the first element and the space between each two elements.
The spec (https://www.w3.org/TR/css-flexbox-1/#resolve-flexible-lengths) describes a process that needs to be repeated a variable number of times.
The spec describes four different layout modes: "fill available", "max content", "min content", and "fit content".
The spec indicates that the default value for 'flexDirection' is 'row', but the algorithm below assumes a default of 'column'.
The spinner relies on a measure + layout pass happening after it calls requestLayout().
The state right after pause and right before resume are the basically the same so this enum is in terms of the forward lifecycle progression (onResume, etc).
The supported custom fonts extensions are .ttf and .otf.
The target file size for compaction.
The temporary file will be registered for deletion on exit.
The thing is, if we crash and lose some data then it should be noticed on the next prepare invocation and the directory will be reconstructed.
The time allowed to acquire the geolocation, defined by PositionOptions.timeout information was reached before the information was obtained.
The toolbar relies on a measure + layout pass happening after it calls requestLayout().
The total duration of a frame in milliseconds, this assumes that devices run at 60 fps.
The updates are applied in the order in which they are added to the WriteBatch.
The upper-bound of the total size of level-1 files in bytes.
The user probably didn't call SoLoader.init().
The value is actually handled in NativeViewHierarchyOptimizer
The view must be measured before calling `getProgressCircleDiameter` so don't do it before the initial layout.
The view will be removed and dropped by the 'delete' layout animation instead, so do nothing
The wait time for db mutex.
The way it's implemented is that we store an additional array of children in view node.
The width is definite, so use that as the flex basis.
The wrapper stops the EditText from triggering *TextChanged events, in the case where JS has called this explicitly.
Their contents remain in the OS buffers till the OS decides to flush them.
Their dimensions are also set in the cross axis with the exception of items that are aligned "stretch".
Then Wrapping lists into sets to be order-independent.
Then it is sufficient to add/subtract height of item at the "last index"
Then we resize parent view so that inner view should be visible.
Then we update top position of the second view so that is should go off screen.
Then wrapping lists into sets to be order-independent
There is a race condition in the ProgressBar constructor that may cause crashes when two ProgressBars are constructed at the same time on two different threads.
There is no support for calculation of dimensions based on intrinsic aspect ratios (e.g. images).
There is no support for forced breaks.
There is only one instance per context.
Therefore it can be used to calculate node's value.
Therefore we need to disable anti-alias, and after drawing is done, we will re-enable it.
Therefore, it needs to be enabled explicitly in order to avoid regression in existing application written for iOS using this API.
Therefore, we can't find the exact text tag that has been touched, and the correct tag to return is the default one.
Therefore, we forward all view changes around addition and removal of views to the DialogRootViewGroup.
These are merged back on the JS side into one React component.
These are multiplied by max_bytes_for_level_multiplier to arrive at the max-size of each level.
These instances can still leak, but they are at least small.
These specs allows the Threads to be created fully configured.
These timing contants should be kept in sync with the ones in `JSTimersExecution.js`.
They must be specified in terms of pixel values, and the default value is 0.
They use it to calculate and cache information used in the draw pass.
They will be updated and accessed only from JS thread.
This ExecutorToken internally maps to a specific JS VM and can be used by the framework to route calls appropriately.
This allows ProGuard to strip that class and its dependencies in release builds.
This allows to use the rocksjni default Options instead of the c++ one.
This also protects the database from filling up the disk cache and becoming malformed (endTransaction() calls will throw an exception, not rollback, and leave the db malformed).
This also removes the nasty side effect that EditTexts have, which is that focus is always maintained on one of the EditTexts.
This annotation is meant to be used for a group of similar properties.
This approach is easier than maintaining a list of tags for recently created views.
This assumes that updateJSError belongs to the most recent showNewJSError
This builder is reused
This callback then enqueues a runnable on the JS thread (if one is not already pending) that is responsible for actually dispatch events to JS.
This can also be used to stub out existing native modules by adding another module with the same name as a built-in module.
This can either happen when we're scrolling down or if the cached value has never been calculated
This can happen when a ReactRootView is added to view hierarchy, but ReactContext creation has not completed yet.
This can return almost immediately if the location is cached or request an update, which might take a while.
This can significantly reduce memory usage.
This can use a lot of memory
This can use significantly less memory than decoding the full-resolution bitmap
This causes the parent to update its native children count.
This check is potentially lighter-weight than invoking DB::Get().
This class contains methods to retrieve the name and type of all methods and a way to set these properties without reflection.
This class doesn't allow doInBackground to return a results.
This class is needed for TLS 1.2 support on Android 4.x  Source: http://blog.dev-area.net/2015/08/13/android-4-1-enable-tls-1-1-and-tls-1-2/
This class is responsible for holding view manager property setters and is used in a process of updating views with the new properties set in JS.
This class is used to load the RocksDB shared library from within the jar.
This class is used to verify that some JS integration tests have completed successfully.
This class mimics the db/write_batch_test.cc in the c++ rocksdb library.
This class relies on CookieManager to persist cookies to disk so cookies may be lost if the application is terminated before it syncs.
This class will redirect *TextChanged calls to the listeners only in the case where the text is changed by the user, and not explicitly set by JS.
This class will run all JNI call within separate android looper, thus you don't need to care about starting your own looper.
This class works around that issue.
This class works by installing a Choreographer frame callback on the main thread.
This code can be removed if using Fresco from Maven rather than from source
This code is duplicated in ReactTextInputManager TODO: Factor into a common place they can both use
This component is controlled, so we want it to get focused only when JS ask it to do so.
This copies the original file from wherever it may be to the external storage pictures directory, so that it can be scanned by the MediaScanner.
This could all be in C++, but it's android-specific initialization code, and writing it this way is easier to read and means fewer JNI calls.
This could reduce context switch when the mutex is not heavily contended.
This creates, opens and deletes the database as necessary.
This does nothing anymore.
This drawable uses the size of a loaded image to determine the intrinsic size.
This enables e.g. the dev menu.
This enables incremental backups and avoids unnecessary data copies.
This exception represents that error.
This exception type is used to describe an internal error from the c++ rocksdb library.
This exists so that we don't have to pay the cost for creation until/if the module is used.
This factor controls the probabilistic size ratio between adjacent links in the skip list.
This fairness parameter grants low-pri requests permission by fairness chance even though high-pri requests exist to avoid starvation.
This feature is currently an experimental performance optimization for a very specific workload.
This flag is set to true when we set the text of the EditText explicitly.
This function should only be called by Options.setMemTableConfig(), which will create a c++ shared-pointer to the c++ MemTableRepFactory that associated with the Java MemTableConfig.
This function will wait until all currently running background processes finish.
This handles any sort of scrolling that may occur after a touch is finished.
This has the pleasant side-effect of us not having to preface all Modals with "top: statusBarHeight", since that margin will be included in the FrameLayout.
This has to be done via reflection or we break open source.
This helper reduces it to one call and one field get per entry.
This helper reduces it to one call and two field gets per entry.
This input will ALSO submit the search form, causing a Page Load
This interface should be implemented be native ViewGroup subclasses that can represent more than a single react node.
This is a debug-only utility to allow fetching a file via packager.
This is a direct port of various C++ tests from db/comparator_db_test.cc and some code to adapt it to RocksJava
This is a noop if the listener was not yet registered.
This is a programmer error
This is a recursive DFS since view the entire tree must be parsed until the target is found.
This is a sane limit to protect the user from the app storing too much data in the database.
This is a simplification of handleManagerChildren that only adds children in index order of the childrenTags array
This is a temporal solution for the lack of real animation engines implemented.
This is a temporary file - consider using CameraRollManager.saveImageWithTag to save it in the gallery.
This is a temporary optimization/hack that is mainly applicable to the large list of images.
This is a terrible hack.
This is a wrapper around the layoutNodeImpl function.
This is an optimization for the access pattern including many seeks with consecutive keys.
This is applied only if blockCompressedCacheSize is set to non-negative.
This is applied only if cacheSize is set to non-negative.
This is because logout implies that the instance is destroyed.
This is because we need to use the metadata from those nodes to figure out the correct commands to dispatch.
This is called from java code, so it won't be stripped anyway, but proguard will rename it, which this prevents.
This is cheap as everything else is shared under the hood.
This is class represents java version of native js executor interface.
This is different from the FPS above since JS rendering is async.
This is done by adding node to the BFS queue only if all its "predecessors" have already been visited.
This is done through the UIManagerModule, and will then cause the children to layout as if they can fill the window.
This is handled automatically in js by checking if there is a listener on the momentum events.
This is just used for ThreadScope::withClassLoader to have a java function in the stack so that jni has access to the correct classloader.
This is left as an exercise for the reader.
This is less expensive than removing the text listeners and adding them back again after the text change is completed.
This is meant as a safeguard against accidentally keeping the device awake for long periods of time because JS crashed or some request timed out.
This is more complicated that I wanted it to be.
This is mostly necessary to properly implement interactions and updates for properties like margin, marginLeft, and marginHorizontal.
This is necessary for making layout thread-safe.
This is not expected to happen very often as it would mean some child View has decided to intercept the touch stream and start a native gesture only upon receiving the UP/CANCEL event.
This is only ever called with UIManagerModule or CurrentViewerModule.
This is only used by com.facebook.react.modules.common.ModuleDataCleaner
This is part of the glue which wraps a java BaseJavaModule in a C++ NativeModule.
This is possible since we don't inflate React views from layout xmls.
This is private, but accessed via JNI.
This is registered after JS starts since it makes a JS call
This is required only for developer builds.
This is run when the catalyst instance is being destroyed (i.e. app is shutting down) and when the module is instantiated, to handle the case where the app crashed.
This is so that developers cannot construct their own default DirectSlice objects (at present).
This is so that developers cannot construct their own default Slice objects (at present).
This is the absolute position including things like the status bar
This is the constant used in the support library for APIs that don't have Choreographer
This is the default as per web and iOS.
This is the default behavior on other platforms as well.
This is the main class that coordinates how native animated JS implementation drives UI changes.
This is the main routine that implements a subset of the flexbox layout algorithm described in the W3C CSS documentation: https://www.w3.org/TR/css3-flexbox/.
This is to guarantee that scaling is performed correctly.
This is to include all the setters from parent classes up to ReactShadowNode class
This is to include all the setters from parent classes.
This is to make sure that we execute all the JS operation coming from a single batch a single loop of the main (UI) android looper.
This is to make sure we execute enqueued operations in the order given by JS.
This is to work around a bug in DatePickerDialog where it doesn't display a title showing the date under certain conditions.
This is to work around a bug where CookieManager may fail to instantiate if CookieSyncManager has never been created.
This is unlike all other calls on this class where we assume all operations on the shadow hierarchy have already completed by the time a corresponding method here is called.
This is unsafe since we reuse the native memory so the underlying array/map is no longer valid.
This is used by android in certain places, such as text selection.
This is used by disposeInternal to avoid double-free issues with the underlying C++ object.
This is used in cases the bundle should be loaded from a custom path.
This is used privately by the layout engine as a more efficient way to fetch direction-aware values by avoid extra method invocations.
This is used so we don't get an event when changing the selection ourselves.
This is used to close a block before it reaches the configured 'block_size'.
This is used to schedule rendering of the component.
This is used when reloading JS during development.
This is useful e.g. when a user logs out from an app.
This is useful for methods called via reflection that could appear as unused to Proguard.
This isn't perfect -- you might want to limit the height the text input can grow to.
This isolates us from the problems that may be caused by concurrent updates of animated graph while UI thread is "executing" the animation loop.
This listener is called when the user presses KeyEvent.KEYCODE_BACK An event is then passed to JS which can either close or not close the Modal by setting the visible property
This listener should only be used for debug purposes and should not affect application state.
This listener will be set for child views when removeClippedSubview property is enabled.
This loader is recommended one for release version of your app.
This loader is used when bundle gets reloaded from dev server.
This loader is used when proxy debugging is enabled.
This loader loads bundle from file system.
This makes WRAP_CONTENT work in Toolbar's internals.
This makes sense because we never run the devserver in tests.
This math was inlined since it made for big performance improvements when advancing several springs in one pass of the BaseSpringSystem.
This may be momentum scrolling (fling) or because you have pagingEnabled on the scroll view.
This may happen when app has not been updated since the last time we fetched the bundle.
This may have unforeseen ramifications: for example, a corruption of one DB entry may cause a large number of entries to become unreadable or for the entire DB to become unopenable.
This may translate into multiple manageChildren calls for multiple other views.
This means that any component underneath SwipeRefreshLayout will now interact incorrectly with Views that are above SwipeRefreshLayout.
This means that during the next hierarchy traversal, new UI will be drawn if needed (good).
This means that horizontal scrolls will always be intercepted, even though they shouldn't, so we have to check for that manually here.
This means that the returned x, y are relative to the origin x, y of the ancestor view.
This means the gesture has already ended, via some other CANCEL or UP event.
This means we can't call getDimWithMargin.
This means we previously had another child start handling this native gesture and now a different native parent of that child has decided to intercept the touch stream and handle the gesture itself.
This message is only displayed if the user has revoked this permission once before, and if the permission dialog will be shown to the user (the user can choose to not be shown that dialog again).
This method "replay" multi-touch gesture recorded with modified TouchesHelper class that generated this piece of code (see https://phabricator.fb.com/P19756940).
This method also sets the child's mParent to null
This method converts a List into a NativeArray.
This method converts a Map into a NativeMap.
This method gets called in the main animation loop with a frame time passed down from the android choreographer callback.
This method handles starting a new React instance if required.
This method is called by the implementation of JS touchable interface (see Touchable.js for more details) at the moment of touch activation.
This method is currently used only by Element Inspector DevTool.
This method is frequently called from the "onScroll" handler of the "RecyclerView" with an index of first visible item of the view.
This method is overridden because of two reasons: 1.
This method isn't safe since it doesn't factor in layout-only view removal.
This method needs to be called before event is sent to event dispatcher.
This method retains an instance to provided mDefaultBackButtonImpl.
This method returns true if the iterator is valid.
This method runs automatically.
This method should be used when you need to stub out creating NativeArrays in unit tests.
This method should be used when you need to stub out creating NativeMaps in unit tests.
This method should only be used by a subclass to support UIOperations not provided by UIViewOperationQueue.
This method will be called at the end of animation.
This method will be called before animation starts.
This method will be run on each node at most once every repetition of the animation loop.
This method will directly update native views, which means that updates for layout-related propertied won't be handled properly.
This method will give JS the opportunity to consume the back button event.
This method will give JS the opportunity to receive intents via Linking.
This method will return false if the animation has been cancelled.
This method will write to the output array up to the number of items from the input array.
This must be used when another object takes over ownership of the native object or both will attempt to delete the underlying object when garbage collected.
This must generally be true for gets to be efficient.
This needs to be investigated.
This needs to fill the entire window.
This notifies any listening modules so they can do any necessary cleanup.
This number is equal to the maximum number of linear search required after hash and binary search.
This number specifies the number of keys (with the same userkey) that will be sequentially skipped before a reseek is issued.
This object holds a native C++ member for hybrid Java/C++ objects.
This occurs when the size of mEventsToDispatch is zero or one.
This only happens when the app: - is forcing RTL layout, regardless of the active language (for development purpose) - allows RTL layout when using RTL locale
This optimization is important for view hierarchy depth (which can cause stack overflows during view traversal for complex apps), memory usage, amount of time spent during GCs, and time-to-display.
This optimization is turned off when set to 0.
This option can be useful for backing up in-memory databases where log file are persisted, but table files are in memory.
This option can boost performance for in-memory workload but should use with care since it can cause higher false positive rate.
This option is good for bulk-loading of data.
This option only applies to memtable prefix bloom and plaintable prefix bloom.
This overload is like the above, but uses reflection to operate on any primitive or object type.
This parameter can be changed dynamically.
This prefix-extractor uses the first n bytes of a key as its prefix.
This provides an environment allowing the invocation of JavaScript methods and lets a set of Java APIs be invokable from JavaScript as well.
This provides an implementation of the public CatalystInstance instance.
This re-occurrence is detected by comparing a name of a module.
This represents an error evaluating JavaScript.
This second call to switch to window with empty string should fail.
This should be called exactly once.
This should be called if configuration has changed or the developer has requested the app to be reloaded.
This should be invoked if JS does not want to handle the back press itself.
This should be much faster than using regex to verify input and Integer.parseInt
This should cause a reload in the frame "classFrame"
This should only be called on the native modules/shadow nodes thread.
This should only be called the first time the application is set up, which is enforced to keep developers from accidentally creating their application multiple times without realizing it.
This should only be called when the module has not been initialized yet.
This should return bubbling directly-dispatched event types and specify what names should be used to subscribe to either form (bubbling/capturing).
This should return non-bubbling directly-dispatched event types.
This should throw a "NoSuchWindowException": the Driver is still running, but no Session/Window are left
This specifies the absolute dir path for write-ahead logs (WAL).
This specifies the info LOG dir.
This starts all markers
This static ctor wrapper protects against that.
This stops the Switch from changing its value multiple times, when those changes have not been processed by JS first.
This takes into account any default values that have been set.
This targetFileSizeBase determines a level-1 file size.
This test is to verify that touch events bubbles up to the right handler.
This test verifies that we update clipped subviews appropriately when some of them gets re-layouted.
This test verifies that we update clipping views appropriately when parent view layout changes in a way that affects clipping.
This then throws an element not found exception..
This two pass approach for resolving min/max constraints deviates from the spec.
This unfortunately leads to some code duplication.
This value represents the maximum number of threads that will concurrently perform a compaction job by breaking it into multiple, smaller ones that are run simultaneously.
This value was chosen based on empiracle data.
This value will be stored inside the SST file which will be used when reading from the file, which makes it possible for users to choose different encoding type when reopening a DB.
This view and its children can't be the target
This view can't be the target, but its children might
This view is the target, its children don't matter
This view is the view that is displayed by the Dialog.
This view will only have one child that is managed by the `NativeViewHierarchyManager` and its position and dimensions are set separately.
This view will then be tracked by this manager and in case of catalyst instance restart it will be re-attached.
This will allow the proper keyboard to be shown on screen but without the actual filtering done by other KeyListeners
This will be added to the TextView in place of this node.
This will be the last iteration.
This will be the name used to reference this view manager from JavaScript in createReactNativeComponentClass.
This will be used in order to either set the dimensions of the node if none already exist or to compute the remaining space left for the flexible children.
This will draw a line from the last draw point (or 0,0) to x,y.
This will ensure that there are never more than max_successive_merges merge operations in the memtable.
This will force the recursive routine to visit all dirty nodes at least once.
This will generally be constructed and filled in native code so you shouldn't construct one yourself.
This will handle dispatching the appropriate events to JS to make sure the gesture in JS is canceled.
This will not work correctly as the drawable callback logic is messed up in AOSP
This will smooth scroll us to the nearest page boundary It currently just looks at where the content is relative to the page and slides to the nearest page.
This will then cause the children of the Modal to layout as if they can fill the window.
This will trigger `layout` call on attached wrapper nodes and will let us update dimensions of them through overridden onMeasure method.
This works by taking a provider instead of an instance, when it is first required we'll create and initialize it.
Those are like "pulse generators" for the rest of the nodes graph.
Those are objects (represented as a graph nodes too) that based on some criteria updates attached values every frame (we have few types of those, e.g., spring, timing, decay).
Those pulses then propagate along the graph to the children nodes up to the special node type: AnimatedProps which then can be used to calculate property update map for a view.
Thread safety: StatisticsCollector doesn't make any guarantees about thread safety.
Throw 3 errors that are logged in the Browser's console
Throw otherwise as this would mean there is a cycle in animated node graph.
Throws "SessionNotFoundException", because no process is actually left to respond
Thus it is easier to just reuse that field instead of creating another (potentially much more expensive) mapping from view to React tag
Time system had to wait to do LO-L1 compactions
Time system had to wait to move memtable to L1.
Timer that runs every UPDATE_INTERVAL_MS ms and updates the currently displayed FPS.
Timers fire on frame boundaries.
Timing module needs to be created on the main thread so that it gets the correct Choreographer.
To achieve that we call `forceLayout()` on the view modified and on `RecyclerView` instance (which is accessible with `v.getParent().getParent()` if the view is attached).
To disable auto compaction
To display a view within a Dialog, that view must have its parent set to the window the Dialog creates.
To do that, we need to explicitly set the styleWidth and styleHeight on the LayoutShadowNode of the child of this node to be the window size.
To do that, we need to explicitly set the styleWidth and styleHeight on the LayoutShadowNode to be the window size.
To explicitly delete the instance, call resetNative().
To get layout to work properly, we need to layout all the elements within the Modal as if they can fill the entire window.
To get layout to work properly, we need to layout all the elements within the Modal's inner content view as if they can fill the entire window.
To get the size of the screen, we use information from the WindowManager and default Display.
To iterate over a Map from C++ requires four calls per entry: hasNext(), next(), getKey(), getValue().
To iterate over an Iterator from C++ requires two calls per entry: hasNext() and next().
To make a RocksDB to use a specific MemTable format, its associated MemTableConfig should be properly set and passed into Options via Options.setMemTableFactory() and open the db using that Options.
To make that work any process is required to hold file system lock on LOCK_FILE when checking whether files should be unpacked and unpacking them.
To map animated node values to view properties there is a special type of a node: AnimatedProps.
To match iOS behavior, we don't want the event emitter for onItemSelected to fire right after layout.
To retain that style, you have to add it to those nodes explicitly.
To work around this we have this class which just wraps another Drawable, but returns the correct dimensions in getIntrinsicWidth/Height.
Touch event can encode multiple concurrent touches (pointers).
Touch event types that JS module RCTEventEmitter can understand
TouchEvent coalescing can happen for move events if two move events have the same target view and coalescing key.
Tracks errors connecting to or received from the debug derver.
Translates and routes memory pressure events to the current catalyst instance.
Tries to load the necessary library files from the given list of directories.
Trigger failure callbacks
Trigger react context initialization asynchronously in a background async task.
Trigger shutdown of the dispatcher's executor so this process can exit cleanly
Trigger this by sending an intent to your activity with adb shell: am broadcast -a com.facebook.catalyst.ACTION_TRIM_MEMORY_MODERATE
True if you intend to override some other native module that was registered e.g. as part of a different package (such as the core one).
Try getting the title of the, now closed, google window and cause an Exception
Try to get start value and fallback to given type if not defined.
Try to use the measurement cache.
Trying to override without returning true from this method is considered an error and will throw an exception during initialization.
Trying to upload a file that doesn't exist
Turns columns into rows and rows into columns.
Two events will only ever try to be coalesced if they have the same event name, view id, and coalescing key.
Type of property that will be send to JS.
Types of data that should be cleaned: - Persistent data (disk) that may contain user information or content.
UI Queue Thread: The standard Android main UI thread and Looper.
Unfortunately we need to use timeouts here in order to wait for scroll animation to happen there is no better way (yet) for waiting for scroll animation to finish
Unlike the grow factor, the shrink factor is scaled relative to the child dimension.
Unmount the react application at this root view, reclaiming any JS memory associated with that application.
Unregister a task lifecycle event listener.
Unregisters a root node with a given tag.
Update `mIncomingNodes` attribute for each node during that BFS.
Update layout of given view, via immediate update or animation depending on the current batch layout animation configuration supplied during initialization.
Update layout to some values, this way we can verify it hasn't been updated, because the update process would normally reset it back to some non-negative value
Update layouts since the children of the node were offset by its x/y position previously.
Update pointer position for current gesture
Update the cached value to respect the new height restriction.
Update underlying native SeekBar's values.
Update value only (optimization in case only value is set).
Update values that must be set after initial layout.
Uploading files across a network may take a while, even if they're really small.
Use GPU-accelerated animation, however we loose the ability to resume interrupted animation where it was left off.
Use `webView.loadUrl("about:blank")` to reliably reset the view state and release page resources (including any running JavaScript).
Use adaptive mutex, which spins in the user space before resorting to kernel.
Use android View id field to store React tag.
Use instead size of text content within EditText when available
Use justifyContent to figure out how to allocate the remaining space available in the main axis.
Use reactTagForTouch() to get its tag.
Use the single layout cache entry.
Use the specified comparator for key ordering.
Use the specified filter policy to reduce disk reads.
Use the specified object to interact with the environment, e.g. to read/write files, schedule background work, etc.
Use this annotation to annotate group of properties of native views that should be exposed to JS.
Use this annotation to annotate properties of native views that should be exposed to JS.
Use this class for writing integration tests of catalyst.
Use this method when the activity resumes to enable invoking the back button directly from JS.
Use to control write rate of flush and compaction.
Use your own identifiers with your own QuickPerformanceLogger implementation
Use your own implementation with you own implementation of QuickPerformanceLogger
UseAdaptiveMutex test
Used as a default value for "customType" property as "null" is not allowed.
Used by all types of background and for drawing borders
Used by native animated module to bypass the process of updating the values through the shadow view hierarchy.
Used for managing children operation.
Used for rounded border and rounded background
Used to check for comparator mismatches (i.e., a DB created with one comparator is accessed using a different comparator).
Used to locate views in end-to-end (UI) tests.
Used to pass arguments from Java to JS.
Used to pass parameters from JS to Java.
Useful for testing only.
Useful if you need to execute view logic after all currently queued view updates have completed.
Useful in catch-all scenarios where it's unclear why the error occurred.
Useful to keep track of transaction log iterator refreshes
Usefull for injecting mocks.
Uses Java proxy objects to dispatch method calls on JavaScriptModules to the bridge using the corresponding module and method ids so the proper function is executed in JavaScript.
Uses default provider if null is passed.
Uses reflection to create DevSupportManagerImpl if it exists.
Uses this plus total elapsed time to determine FPS.
Using a Choreographer callback (which runs immediately before traversals), we guarantee we run before the next traversal.
Using this method will pass the error code "EUNSPECIFIED".
Usually, the first window of the Session.
Util methods to send network responses to JS.
Utilities for native Views that interpret native gestures (e.g. ScrollView, ViewPager, etc.).
Utility class constructor
Utility class for creating maps
Utility class for creating sets
Utility class that access default values from style
Utility for creating pre-configured instances of core react components for tests.
Utility for determining coalescing keys for TouchEvents.
Utility for interacting with the UI thread.
Value -1 means files opened are always kept open.
Value 0 will be sanitized.
Value at Spacing.ALL index used for rounded borders, whole array used by rectangular borders
Value sent from JS (setState).
Value types are supported as with makeNativeArray.
Value x means that (1 - x) fraction of the page at "position" index is visible, and x fraction of the next page is visible.
Values must have suffix V2 because of restoring latest backup.
Values of 'collapse' and 'hidden' are not supported.
Values of width, maxWidth, minWidth, height, maxHeight and minHeight must be specified as pixel values, not as percentages.
VectorMemTableConfig constructor
Verifies removeSubviewsFromContainerWithID works by adding subviews, removing them, and checking that the final number of children is correct.
Verify scheme is set, so that relative uri (used by static resources) are not handled.
Verify that 'scrollTo' command makes ScrollView start scrolling
Verify that a future navigation does not cause the driver to have problems.
Verify that backups exist
Verify that removing the root view from hierarchy will trigger subviews removal both on JS and native side
Verify that the element can be retrieved from the main page:
Verify that we've visited *all* active nodes.
Verify the database exists and is open.
Verify the database is open for reads and writes.
View manager for AndroidViews (plain React Views).
View manager for ReactRootView components.
View that automatically monitors and displays the current app frame rate.
ViewManager for ARTSurfaceView React views.
ViewManager for all shadowed ART views: Group, Shape and Text.
Views will not be automatically recycled but they will be detached from native view hierarchy when scrolled offscreen.
Wait before retrying.
Wait for a while and make sure the "upload_label" is still there: means that the file was not uploaded
Wait for collectStatistics runnable to finish so that disposal of statistics does not cause any exceptions to be thrown.
Wait for flush to finished.
Wait for new content to load in the frame.
Wait for the UI to settle.
Wait for the loading label to disappear.
Wait until we can switch to the new window
Wait up to the timeout time for another Thread to set a value on this future.
Waits for both the UI thread and bridge to be idle.
WalTtlSeconds() and walSizeLimitMB() affect how archived logs will be deleted.
Warning : This method will be removed in future version of React Native, and layout animation will be enabled by default, so always check for its existence before invoking it.
We "execute" active animations as a part of this step.
We add +1 for a buffer.
We add the root view by posting to the main thread so wait for that to complete so that the root view tag is added to the view
We allow ancestor view and measured view to be the same, in which case the position always will be (0, 0) and method will only measure the view dimensions.
We already have the value cached, let's use it and only add heights of the items starting at the index we have the cached value for
We also take advantage of the fact that all active nodes are visited in the step above so that all the nodes properties `mActiveIncomingNodes` are set to zero
We are currently not enabling translation GPU-accelerated animated, as it creates odd artifacts with native react scrollview.
We are still scrolling so we just post to check again a frame later
We are using special source maps for these bundles, so that we can symbolicate stack traces for multiple injected files with a single source map.
We are wrapping this in a FrameLayout because this is the system's way of notifying us that the dialog size has changed.
We assume that the instance manager blocks on running the JS bundle.
We avoid allocating an array and iterator, and "sorting" if we don't need to.
We can coalesce move events but not start/end events.
We can reuse cached sum and calculate the new sum by subtracting heights of the elements between "mLastRequestPosition" and "index"
We can take advantage on that and optimize the way we allocate property maps (we also know that updating view props doesn't retain a reference to the styles object).
We can try saving on invalidate call here as the view that we remove is out of visible area therefore invalidation is not necessary.
We can't easily verify if rounded corner was honored or not, this tests simply verifies we're not crashing..
We can't specify rounding in XML, so have to do so here
We can't use scaling as view content may not necessarily stretch.
We cannot scroll, let parent views take care of these touches.
We check for exopackage dir update time in that case.
We compensate for that here.
We create ProgressBars on both the UI and shadow threads.
We detect whether app runs on genymotion and replace js bundle server hostname accordingly
We dismiss the dialog and reconstitute it onHostResume
We do 2 retries: first without database deletion and then with deletion.
We do however want all of the layout magic to happen as if the DialogRootViewGroup were part of the hierarchy.
We do not accept the touch event if this view is not supposed to receive it.
We do not support method overloading since js sees a function as an object regardless of number of params.
We do that to avoid passing large strings between java and native code and avoid allocating memory in java to fit whole JS bundle in it.
We do this so the callback doesn't keep the CatalystInstanceImpl alive.
We don't care about calling this is the view is not currently attached as it would be laid out once added to the recycler.
We don't have to measure the text within the text input.
We don't need to do bubbling in native (it's already happening in JS).
We don't need to handle its layouting here
We don't use DisplayMetricsHolder, or Display#getSize() because they return values that include the status bar.
We don't use getRotation because the 'natural' rotation will be portrait on phones and landscape on tablets.
We don't want to miss any textinput event, as event data is incremental.
We expect no touch handler to fire
We expect that the output of the addition node will take the starting value of the second input node even though the node hasn't been connected to an active animation driver.
We fix that by transmitting the call to this View's parents.
We hack around that here by trying to detect that duplicate call and not dispatch it.
We handle nodes with measure functions specially here because they are the most expensive to measure, so it's worth avoiding redundant measurements if at all possible.
We have to include the module id in the stack for that, though.
We have to open the stream again, like in the example linked above.
We have to use AsyncTask since this might trigger a NetworkOnMainThreadException, this is an open issue on OkHttp: https://github.com/square/okhttp/issues/869
We implement the Modal by using an Android Dialog.
We intercept the touch event if the children are not supposed to receive it.
We just go for the option that require less calculations
We know this to be text so we can apply some more specialized heuristics.
We maintain a separate cache for layouts and measurements.
We make the image take up 1 character in the span and put a corresponding character into the text so that the image doesn't run over any following text.
We manually strip it here if necessary.
We mark virtual anchor node as dirty as updated text needs to be re-measured
We may be able to listen to animation interruption and set the layout manually in this case, so that next animation kicks off smoothly.
We may have already called/removed it
We need Intent.FLAG_ACTIVITY_NEW_TASK since getReactApplicationContext() returns the ApplicationContext instead of the Activity context.
We need this because of clowniness in datepicker that causes it to throw an exception if minDate is greater than the internal timestamp that it generates from the y/m/d passed in the constructor.
We need to compare using "equals" which means that this value needs to be unique.
We need to compute these stretch values and set the final positions.
We need to do that only for relative elements.
We need to do this here because internal apps use SoLoader, and Open Source Buck uses ExopackageSoLoader.
We need to get layout information from css-layout to set the size of the rows correctly.
We need to remove the mHostView from the parent It is possible we are dismissing this dialog and reattaching the hostView to another
We need to remove the status bar from the height.
We need to wait for the initial onMeasure, if this view has not yet been measured, we set which will make this view startReactApplication itself to instance manager once onMeasure is called.
We only want the values of what will actually be shown on screen.
We override measure spec and use dimensions of the children.
We override the KeyListener so that all keys on the soft input keyboard as well as hardware keyboards work.
We override the following method so that views inflated with the inflater obtained from this context return the ReactContext in #getContext().
We override this to allow developers to determine whether they need offscreen alpha compositing or not.
We redirect the rest of the key events to the current activity, since the activity expects to receive those events and react to them, ie.
We rely on NativeViewHierarchyManager to call `layout` on `RecyclerView` then, which will happen once all the children of `RecyclerView` have their layout updated.
We reset target tag to -1 and expect no further event associated with this gesture.
We scroll down such that first view get out of the bounds, we expect the first view to be detached and 4th view to get attached
We selectively remove some of the views (detach) from it while still storing them in that additional array.
We set the User-Agent header by default
We should be able to catch up in a subsequent advance if necessary.
We should only hit this slow path when we receive events while the host activity is paused.
We show the dialog again when the host resumes
We start slowing down writes at this point.
We stop writes at this point.
We store JS bundle loaded from dev server in a single destination in app's data dir.
We store number of visited nodes in this step in `updatedNodesCount`
We store timers sorted by finish time.
We treat moves as an add and a delete
We try to limit number of bytes in one compaction to be lower than this threshold.
We use Display#getSize() to determine if the screen is in portrait or landscape.
We use a limited amount of data over and over again and ensure that it is larger than the compression window (32KB), and also
We use a staging data structure so that all UI events generated in a single frame are dispatched at once.
We use this Dialog to actually display the Modal in the window.
We want custom min..max range.
We want to be consistent across platforms.
We want to support both android.app.Activity and the pre-Honeycomb FragmentActivity (for apps that use it for legacy reasons).
We'll automatically check and adjust the size number to make sure it conforms to the restrictions.
We'll do that when the parent node actually gets attached somewhere.
We're holding on to the ViewParent that blocked native responders so that we can clear it when we change or clear the current JS responder.
We're still not recovering from this well, but at least the error will be reported to the server.
WebSocket is already closed Don't do anything, mirror the behaviour on web
What we might want to try to do instead is use a combined ScaleAnimation and TranslateAnimation.
When calling layoutNodeImpl and layoutNodeInternal, if the caller passes an available size of undefined then it must also pass a measure mode of CSS_MEASURE_MODE_UNDEFINED in that dimension.
When extending JavaScriptModule and registering it with a CatalystInstance, all public methods are assumed to be implemented on a JS module with the same name as this class.
When false, the Backup Engine will not issue a flush before starting the backup.
When increasing this number, we may also want to consider increasing number of threads in LOW priority thread pool.
When it is time to draw, it will use the Fresco framework to get the right Drawable and let that draw.
When iterating over this WriteBatch, WriteBatch::Handler::LogData will be called with the contents of the blob as it is encountered.
When multiple activities share a react instance, only the most recent one's lifecycle events get forwarded to listeners.
When only background color is set we won't allocate any extra/unnecessary objects.
When reopening the file, the name of the options.prefix_extractor given will be bitwise compared to the prefix extractors stored in the file.
When scaling down the bitmap, decode only every n-th pixel in each dimension.
When set, fills the rest of the scrollview with a color to avoid setting a background and creating unnecessary overdraw.
When the method returns, it will contain the eventCoords relative to the targetView found.
When this method exits, the new MessageQueueThreadImpl is ready to receive events.
When using js proxy, there is no need to fetch JS bundle as proxy executor will do that anyway
Whenever android requests focus (which it does for random reasons), it will be ignored.
Whenever the value of the switch changes, we do not allow any other changes to that switch until JS sets a value explicitly.
Where all the files should go to.
Whether the report feature is enabled.
Whether this module needs to be loaded immediately.
While setting the Spans on the final text, we also check whether any of them are images
Width is the same and height is not restricted.
Width is the same and height restriction is greater than the cached height.
Width is the same but height restriction imposes smaller height than previously measured.
Will be abc3 because the next one after abc999 is abc3
Will be called from the same thread that the event is being dispatched from.
Will be invalid because abc is after abc1
Will force momentum events to be turned on (see setSendMomentumEvents).
Will return false after onDestroy until a new initial context has been created.
With proguard obfuscation turned on, proguard apparently (poorly) emulates inner classes or something because Class#getSimpleName() no longer strips the outer class name.
Without this, certain calls (e.g. setLogo) only take effect after a second invalidation.
Without this, the widget never actually changes the selection and doesn't call the appropriate listeners.
Wrapper class around Fresco's GenericDraweeView, enabling persisting props across multiple view update and consistent processing of both static and network images.
WriteBatch holds a collection of updates to apply atomically to a DB.
Writer has to wait for compaction or flush to finish.
You can find a good explanation of what the FontMetrics mean here: http://stackoverflow.com/questions/27631736.
You may need to increase this if your database has a large working set.
You might want to override this method if your view needs to emit events besides basic touch events to JS (e.g. scroll events).
You must call this each time the layout is generated if the node has a new layout.
You probably want to use that instead.
You should be good by leaving it at default 10.
`child` can't hold native children.
a slightly bigger write buffer than L0 file so that we can ensure manual flush always go before background flush happens.
accessed from any thread
add a deletion record
add new key/value pair
advance the physics simulation in SOLVER_TIMESTEP_SEC sized chunks to fulfill the required realTimeDelta.
all physics simulation objects are final and reused in each processing pass
and "har" is one of them
animation has completed, no more frames left
as long as the env is not freed.
as the scope of a static member equals to the scope of the problem, we let its c++ pointer to be disposed in its finalizer.
attempt to copy the library from the Jar file to the temp destination
attempt to read test data back from the WriteBatch by iterating with a handler
availableInnerMainDim is indefinite which means the node is being sized based on its content.
before: margin: 10, marginLeft: 20
bold) will not be inherited by nested Text nodes.
but UIManagerModule is thread-unsafe and calls this on the wrong thread.
by default 'maxBytesForLevelBase' is 10MB.
by default targetFileSizeBase is 2MB.
change log level to debug level
changing the spinner mode in JS actually creates a new component on the native side, as there's no way to change the mode once you have constructed a Spinner.
check if key is merged
check that we haven't been closed in the meantime
clamp the amount of realTime to simulate to avoid stuttering in the UI.
clear auto correct flags, set SUGGESTIONS or NO_SUGGESTIONS depending on value
color is not transparent
compare the results to the test data
compute the line's height and find the endIndex
copy listeners array to avoid ConcurrentModificationException if any of the listeners remove themselves in handleMemoryPressure()
correct for occasional, weird Euler synonyms for 2d rotation
create default UIImplementationProvider if the provided one is null.
create normalized, 2d array matrix and normalized 1d array perspectiveMatrix with redefined 4th column
default rocksenv will always return zero for compaction pool no matter what was set via setBackgroundThreads
default rocksenv will always return zero for flush pool no matter what was set via setBackgroundThreads
developer should have called close()
direct access - seek to key offsets
dismiss redbox if exists
do *not* call super.onStop() on KitKat on lower, as that would erroneously call the OnDateSetListener when the dialog is dismissed, or call it twice when "OK" is pressed.
do fast check whether intersect state changed
do not set state to destroyed, do not send an event.
does key already exist (avoid duplicates)
don't do anything, no need to allocate ReactBackgroundDrawable for transparent background
don't set keys that divide by this magical number, so that we can check that multiGet works, and returns null for missing keys
don't use Robolectric before initializing mocks
e.g. "file://sdcard/myapp_cache/index.android.bundle"
e.g. "index.android.bundle"
e.g. source is landscape, target is portrait
empty constructor that can be used by subclasses
fill database with key/value pairs
find nodes with zero "incoming nodes", those can be either nodes from `mUpdatedNodes` or ones connected to active animations
fixed timestep to use in the physics solver in seconds
flex: -1 (or any negative value) is equivalent to flex: 0 1 auto Margins cannot be specified as 'auto'.
folly::toJson default options don't support serialize NaN or Infinite value
forward iterative access
found value which fits in outValue
found value which fits partially
generate a different key
get first char in otherslice
getCurrentSizeRange will return the min and max width and height that the window can be
getInputType will return whatever value is passed in.
getLocationOnScreen will include the status bar.
getSize will return the dimensions of the screen in its current orientation
hashTableRatio is the desired utilization of the hash table used for prefix hashing.
have to open default column family
hide FPS debug overlay
hide dev options dialog
hit in the compressed block cache
http://developer.android.com/reference/android/view/ViewGroup.html#onInterceptTouchEvent(android.view.MotionEvent)
http://www.w3.org/TR/css3-transforms/#recomposing-to-a-2d-matrix
if both message and items are set, Android will only show the message and ignore the items argument entirely
if it contains unicode characters.
if prefix_extractor is set and memtable_prefix_bloom_size_ratio is not 0, create prefix bloom for memtable with the size of write_buffer_size * memtable_prefix_bloom_size_ratio.
if view parent is null, skip animation: view have been clipped, we don't want animation to resume when view is re-attached to parent, which is the standard android animation behavior.
if we've removed all views, we want to return POSITION_NONE intentionally
ignore HTTP call response - see above
ignore HTTP call response, this is just to open a debugger page and there is no reason to report failures from here
ignore callback if call was cancelled
ignore malformed uri, then attempt to extract resource ID.
in most of the cases there should never be more than a few active animations running at the same time.
in the case of the dev menu
index is "closer" to the last cached index than it is to 0.
index is relatively small, it's faster to calculate the sum starting from 0
insert 5 writes into a cf
iterate over current state of column family
iterate over current state of db
iterate over new_cf key/value pairs
iterate over the true time
iterate using a snapshot
iterate using a snapshot on default column family
key was written with a newer value.
keyboard is now hidden
keyboard is now showing, or the keyboard height has changed
large enough to serve all typical value sizes we want to write.
last argument is a time out boolean
lazy-initialized when a child is added
linear interpolation between the previous and current physics state based on the amount of timestep remaining after processing the rendering delta time in timestep sized chunks.
load test data to the write batch
loading possibly necessary libraries.
locationX,Y values are relative to the target view To compute the values for the view, we subtract that views location from the event X,Y
make sure the default rounding method is used.
make sure we exclude the View itself because of the PointerEvents.BOX_NONE
managerNo2 and managerNo3 will share same name, composite should return only the latter one
maxLines can only be set in master view (block), doesn't really make sense to set in a span
maximum amount of time to simulate per physics iteration in seconds (4 frames at 60 FPS)
measure only the main executor time
measure() should never be called before setThemedContext()
merge key1 with another value portion
merge on non existent key shall insert the value
merge yy under cfkey2
messages shall be received due to previous actions.
miss in the compressed block cache
module2 and module3 will share same name, composite should return only the latter one
monospace bold pre Android 5.0), that style (ie.
move to the other frame "packageFrame"
moveTo and addAt are both relative to the final state of the View's children.
multiple values for the same header
native view that wraps view added to adapter
negative will be mapped to 0
nested frame 3, nested inside frame 2
new context is the same as the old one - do nothing
no worth marking as dirty if it already rendered..
no-op: it's here only so that "collapsable" property is exported to JS.
node or animation not found TODO(5712813): cleanup callback in JS callbacks table in case of an error
noinspection unchecked
non-null only for group setters
note that calling value on a non-valid iterator from the Java API results in a SIGSEGV
null if it does not find the specified key.
null will be returned if the specified key is not found.
number of iterators currently open Number of MultiGet calls, keys read, and bytes read
number of times bloom was checked before creating iterator on a file, and the number of times the check was useful in avoiding iterator creation (and thus likely IOPs).
okhttp3 OkHttpClient is immutable This allows app to init an OkHttpClient with custom settings.
oldJSON will contain the result of this merge.
onItemSelected gets fired immediately after layout because checkSelectionChanged() in AdapterView updates the selection position from the default INVALID_POSITION.
only call reset context when the destroyed context matches the one that is currently set for this manager
only set up the canvas if we have something to draw
open DB with two column families
open the new one, too
pageX,Y values are relative to the RootReactView the motionEvent already contains coordinates in that view
parent must point to a valid RocksDB instance.
path to JS bundle on file system
path to JS bundle root on packager server
perform cache interrogation in async task as disk cache checks are expensive
polling already enabled
protect against int key calculation overflow
public access level is required by Mockito
put and get from non-default column family
put data to the write batch and make sure we can read it.
randomly pick one from the keyBuffer
re-open db and read from start to end integer keys should be in ascending order as defined by SimpleIntComparator
reached end of database
read for newkey using the snapshot must be null
read key/value pairs after flush using MemEnv
read key/value pairs using MemEnv
read with previously created snapshot will read previous version of key value pair
read() returns the number of bytes read, or -1 if this source is exhausted.
register it within NativeViewHierarchyManager
register reload app broadcast receiver
register standard options
reinsert k1 and make sure we see the new value
remove k1 and make sure we can read back the write
removing from parent should not remove child views, child views should be removed as an effect of native call to UIManager.removeRootView
repeat the test with WriteOptions
required so that drawable callback is cleared before we add the drawable back as a part of LayerDrawable
resetNative() may be called multiple times safely.
restore db from first backup
restore db from latest backup
results must be the same with new Snapshot instance using the same native pointer
retrieve key value pair
retrieve key value pair created before the snapshot was made
reverse iterative access
rightHandSide is a vector, or point in 3d space relative to the origin.
rightHandSide is the right hand side of the equation.
run 3 secs of animation
see reasoning for this check a few lines above
set LIMIT to first + 1 so that we know how to populate page_info
set or setException must only be called once.
set snapshot in ReadOptions
set this, so that when the next addViews is called, we return POSITION_NONE for every entry so we can remove whichever views we need to and add the ones that we need to.
setting null to snapshot in ReadOptions leads to no Snapshot being used.
setup sample properties
shall throw an exception because db dir does not exist.
should only be accessed from main thread (UI thread)
shouldContinue is called by the underlying iterator WriteBatch::Iterate.
showOrUpdate will display the Dialog.
since it may be optional, we ignore its loading failure here.
since they are optional, we ignore loading fails.
since this is the first animation step, consider the start to be on the previous frame
sizeConsumedOnCurrentLine is accumulation of the dimensions and margin of all the children on the current line.
sizeConsumedOnCurrentLine is negative which means the node will allocate 0 pixels for its content.
snapshopot was created before newkey
some keys have not been found - insert them with null into the final array
start shake gesture detector
stop shake gesture detector
storage for the current and prior physics state while integration is occurring
store 10,000 random integer keys
strip initial slash in path
successCallback is called with true if the app should display a message, false otherwise.
successCallback is called with true if the permission had been granted, false otherwise.
swallow the exception
swallow, no need to handle it here
switchview because switch is a keyword
taken from Libraries/Utilities/MessageQueue.js
targetFileSizeMultiplier defines the size ratio between a level-(L+1) file and level-L file.
targetFileSizeMultiplier defines the size ratio between a level-L file and level-(L+1) file.
technically, width should never be negative, but there is currently a bug in
test for singularity of upper 3x3 part of the perspective matrix
test replace one with another merge operator instance
test same call with readOptions
test same method with ReadOptions
test that put fails in readonly mode
test the round-tripability of keys written and read with the Comparator
test the round-tripability of keys written and read with the DirectComparator
text view should be centered
the latest sequence number is 10 because (5 + 5) puts were written beforehand
the latest sequence number is 5 because 5 puts were written beforehand
the link "clearCookies()" shouldn't be there anymore
the main page was not selected.
then it's not successful, the output will indicate this
there should be more than zero received log messages in debug level.
there should be zero messages using fatal level as log level.
there should be zero messages using warn level as log level.
this also closes baos
this is a 2d rotation on the z-axis
this runnable is used by onchange endpoint poller to delay subsequent requests in case of a failure, so that we don't flood network queue with frequent requests in case when dev server is down
this will happen more than once, let's just capture the last occurence
thread has been terminated.
thresholds for determining when the spring is at rest
throws MirroredTypesException
throws RocksDBException if something goes wrong
translation is simple
unfortunately Typeface.createFromAsset throws an exception instead of returning null if the typeface doesn't exist
unregister app reload broadcast receiver
update k2 in the write batch and check the value
update key value pair to newvalue
update visibility of FPS debug overlay depending on the settings
useIncrementalUpdates
user compaction function has dropped the key.
user must use builder pattern, or parser
using no snapshot the latest db entries will be taken into account
value "0" is used as an initial color for a new node, using it in BFS may cause some nodes to be skipped.
verify RequestBodyPart for image
verify correct size of view containing ProgressBar
verify key/value pairs after flush using MemEnv
verify monotonicity greater *or equal* because the animation stops during these 3 seconds
verify that X get updated when we update layout properties
verify that animation step is relatively small
verify that the layout doesn't get updated when we update style property not affecting the position (e.g., background-color)
verify that value has reached some maximum value that is greater than the final value (bounce)
verify that we've reach the final value at the end of animation
verify url, method, headers
verifyStatic actually does not clear all calls so far, so we have to check for all of them.
wait for tapped view measurements
we currently don't have an onCreate callback so we call onResume for both transitions
we need a bigger timeout for CI builds because they run on a slow emulator
we set the checked change listener to null and then restore it so that we don't fire an onChange event to JS when JS itself is updating the value of the switch
we skipped an image because we couldn't get its details (e.g. width/height), so we decrement i in order to correctly reach the limit, if the cursor has enough rows
we want to make sure we return POSITION_NONE for every view here, since this is only called after a removeAllViewsFromAdapter
when non-default Options is used, keeping an Options reference in RocksDB can prevent Java to GC during the life-time of the currently-created RocksDB.
when the iterator is deleted it will also delete the baseIterator
without previous corresponding setSavePoint
wrapper.getParent() points to the recycler if the view is currently attached (it could be in "scrape" state when it is attached to recyclable wrapper but not to the recycler)
write key/value pairs using MemEnv
write key/value pairs using MemEnv to db and to otherDb.
write throttle because of too many files in L0
writing xx under cfkey2
zIndex prop gets set BEFORE the view is added, so parent may be null.
